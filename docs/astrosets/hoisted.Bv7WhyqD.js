import"./hoisted.B1_uNwtp.js";const s=document.getElementById("list"),i=document.getElementById("done"),l=document.querySelector(".todo"),u=l.querySelector(".do");function a(e){const o=this.parentElement;if(o===l){console.log("ERRRRRR");return}if(s.contains(o)){const t=s.removeChild(o);t.classList.add("done"),i.appendChild(t)}else{const t=i.removeChild(o);t.classList.remove("done"),s.appendChild(t)}r()}u.addEventListener("change",()=>{if(u.checked=!1,l.querySelector(".edit").value==="")return;g();const o=s.lastElementChild,t=o.querySelector(".do");t.checked=!0,console.log("changing");const n=s.removeChild(o);n.classList.add("done"),i.appendChild(n),r()});function r(){const e=[];s.querySelectorAll(".edit").forEach(t=>{const n=t;e.push(n.value)}),localStorage.setItem("jdos_list",e.join(`
`));const o=[];i.querySelectorAll(".edit").forEach(t=>{const n=t;o.push(n.value)}),localStorage.setItem("done_list",o.join(`
`))}function v(){const e=localStorage.getItem("jdos_list");e&&e!==""&&(console.log(e),e.split(`
`).forEach(n=>{const c=l.cloneNode(!0);c.id="",c.querySelector(".do").addEventListener("change",a);const d=c.querySelector(".edit");d.value=n,s.appendChild(c)}));const o=localStorage.getItem("done_list");o&&o!==""&&(console.log(o),o.split(`
`).forEach(n=>{const c=l.cloneNode(!0);c.id="",c.querySelector(".do").addEventListener("change",a);const d=c.querySelector(".edit");d.value=n,c.classList.add("done"),i.appendChild(c)}))}v();function g(){const e=l.cloneNode(!0);e.id="",e.querySelector(".do").addEventListener("change",a),s.appendChild(e);const t=l.querySelector(".edit");t.value="",r()}const p=document.querySelector(".edit");p.addEventListener("change",g);const S=document.querySelector(".btn.sub");function f(){console.log("subbing"),i.innerHTML="",r()}S.addEventListener("click",f);const k=async()=>{if("serviceWorker"in navigator){console.log("Registering pwa sw");try{const e=await navigator.serviceWorker.register("/apps/jdo/sw.js",{scope:"/apps/jdo/"});e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active")}catch(e){console.error(`Registration failed with ${e}`)}}else console.log("Service worker not supported")};k();
