import"./hoisted.CmKvcf_A.js";const d=["♣","♦","♥","♠️"],l=["","A","2","3","4","5","6","7","8","9","10","J","Q","K"];class i{faceUp=!1;suit;rank;get score(){return l.indexOf(this.rank)}constructor(e,t){this.suit=d[e],this.rank=l[t]}toString(){return this.rank+this.suit}flip(){this.faceUp=!this.faceUp}show(){this.faceUp=!0}hide(){this.faceUp=!1}}class h{cards=[];constructor(){for(let e=0;e<4;e++)for(let t=1;t<=13;t++)this.cards.push(new i(e,t))}shuffle(e=1e3){const t=this.cards.length-1;for(let a=0;a<e;a++){const r=a%t,n=this.cards[r],c=Math.floor(Math.random()*t);this.cards[r]=this.cards[c],this.cards[c]=n}}draw(e=2){return this.cards.splice(0,e)}toString(){return this.cards.map(e=>e.toString()).join(" ")}}class o{chips;deck;player=[];dealer=[];constructor(e){this.chips=e,this.deck=new h}play_hand(){if(this.chips<1){alert("You're out of chips!");return}this.deck.shuffle(),this.player=this.deck.draw(2),this.dealer=this.deck.draw(2)}hit(){const e=this.deck.draw(1)[0];this.player.push(e),console.log("hit player:",this.player)}stand(){const e=o.count(this.dealer);console.log("dealer:",this.dealer,e);const t=o.count(this.player);console.log("player:",this.player,t)}static count(e){let t=0;for(let a=0;a<e.length;a++)t+=e[a].score;return t}}function m(){const s=document.getElementById("backPicker");localStorage.backTheme&&(s.value=localStorage.backTheme,document.documentElement.dataset.cardBack=localStorage.backTheme),s.addEventListener("change",()=>{const c=s.value;localStorage.backTheme=c,console.log("color theme saved.",c),document.documentElement.dataset.cardBack=c});const e=document.getElementById("facePicker");localStorage.faceTheme&&(e.value=localStorage.faceTheme,document.documentElement.dataset.cardFace=localStorage.backTheme),e.addEventListener("change",()=>{const c=e.value;localStorage.faceTheme=c,console.log("color theme saved.",c),document.documentElement.dataset.cardFace=c});let t=100;const a=new o(t);document.getElementById("hit").addEventListener("click",a.hit),document.getElementById("stand").addEventListener("click",a.stand),document.getElementById("player"),document.getElementById("dealer")}document.addEventListener("astro:page-load",m);
