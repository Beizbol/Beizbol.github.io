import{c as m}from"./confetti.module.BxKCmZ95.js";import"./hoisted.B1_uNwtp.js";const a=()=>{Array(9).fill("");const n=[...document.querySelectorAll(".tile")];o();function o(){n.forEach((t,e)=>{t.dataset.letter="",t.innerText="",t.onclick=()=>{l(e)}})}function l(t){if(n[t].dataset.letter!=="")return;if(i(n[t],"X"),u()){f();return}const e=[...document.querySelectorAll('[data-letter=""]')];if(e.length===0){d();return}const r=c(e);if(i(r,"O"),u()){s();return}}function c(t){return t[Math.floor(Math.random()*t.length)]}function i(t,e){t.dataset.letter=e,t.textContent=e}function u(){const t=n.flatMap(e=>e.textContent);for(let e=0;e<3;e++){const r=3*e;if(t[r]!==""&&t[r]===t[r+1]&&t[r]===t[r+2]||t[e]!==""&&t[e]===t[e+3]&&t[e]===t[e+6])return!0}return t[4]!=""&&(t[0]===t[4]&&t[4]===t[8]||t[2]===t[4]&&t[4]===t[6])}function f(){m().then(o)}function s(){setTimeout(()=>{alert("You lose. Better luck next time."),o()},50)}function d(){setTimeout(()=>{alert("It's a draw. Try again."),o()},50)}};a();document.addEventListener("astro:after-swap",a);
