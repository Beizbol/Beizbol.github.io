import"./hoisted.c32bbaa2.js";function d(){console.log("init");const t=document.getElementById("canvas"),a=t.getContext("2d"),i=document.getElementById("download");i.onclick=()=>{const e=document.createElement("a");e.download=c,e.href=t.toDataURL(),e.click()};const u=document.getElementById("pick"),n=new Image;let c="";u.addEventListener("change",e=>{const o=e.target;if(!o.files||o.files.length<1){alert("No image files selected.");return}if(o.files.length>1){alert("One image file at a time.");return}const l=o.files[0],f=URL.createObjectURL(l);n.src=f,n.onload=()=>{c=l.name.slice(0,-3)+"png",i.disabled=!1;const{width:s,height:r}=n;a.canvas.width=s,a.canvas.height=r,t.style.width=s+"px",t.style.height=r+"px",g()}});function g(){a.clearRect(0,0,t.width,t.height),n.src&&a.drawImage(n,0,0)}window.addEventListener("beforeunload",e=>{n.src===null&&(e.preventDefault(),e.returnValue="",alert("Are you sure you want to leave without converting?"))})}d();document.addEventListener("astro:after-swap",d);
