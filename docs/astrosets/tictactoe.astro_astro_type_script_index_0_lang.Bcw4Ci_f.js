import{c as m}from"./confetti.module.BxKCmZ95.js";const a=()=>{Array(9).fill("");const r=[...document.querySelectorAll(".tile")];o();function o(){r.forEach((t,e)=>{t.dataset.letter="",t.innerText="",t.onclick=()=>{c(e)}})}function c(t){if(r[t].dataset.letter!=="")return;if(i(r[t],"X"),u()){f();return}const e=[...document.querySelectorAll('[data-letter=""]')];if(e.length===0){d();return}const n=l(e);if(i(n,"O"),u()){s();return}}function l(t){return t[Math.floor(Math.random()*t.length)]}function i(t,e){t.dataset.letter=e,t.textContent=e}function u(){const t=r.flatMap(e=>e.textContent);for(let e=0;e<3;e++){const n=3*e;if(t[n]!==""&&t[n]===t[n+1]&&t[n]===t[n+2]||t[e]!==""&&t[e]===t[e+3]&&t[e]===t[e+6])return!0}return t[4]!=""&&(t[0]===t[4]&&t[4]===t[8]||t[2]===t[4]&&t[4]===t[6])}function f(){m().then(o)}function s(){setTimeout(()=>{alert("You lose. Better luck next time."),o()},50)}function d(){setTimeout(()=>{alert("It's a draw. Try again."),o()},50)}};a();document.addEventListener("astro:after-swap",a);
