!function(t,e){"use strict";t.openfl=t.openfl||{},t.lime=t.lime||{};function f(){return Jn.__string_rec(this,"")}var i={};function s(t,e){function i(){}i.prototype=t;var s=new i;for(var n in e)s[n]=e[n];return e.toString!==Object.prototype.toString&&(s.toString=e.toString),s}var r={};(i["_ASpriteBase.ASpriteBase_Impl_"]=r).__name__=["_ASpriteBase","ASpriteBase_Impl_"],r.getChild=function(t,e){return t[e]};function Zt(){}(i.ApplicationMain=Zt).__name__=["ApplicationMain"],Zt.config=null,Zt.preloader=null,Zt.create=function(){var t=new dh;t.create(Zt.config);var e=new E;Zt.preloader=new jh(e),t.setPreloader(Zt.preloader),Zt.preloader.onComplete.add(Zt.init),Zt.preloader.create(Zt.config);var i=[],s=[];if(i.push("assets/sounds/2.m4a"),s.push("SOUND"),i.push("assets/sounds/35.m4a"),s.push("SOUND"),i.push("assets/sounds/121.m4a"),s.push("SOUND"),i.push("assets/sounds/46.m4a"),s.push("SOUND"),i.push("assets/sounds/246.m4a"),s.push("SOUND"),i.push("assets/sounds/12.m4a"),s.push("SOUND"),i.push("assets/sounds/39.m4a"),s.push("SOUND"),i.push("assets/sounds/346.wav"),s.push("SOUND"),i.push("assets/fonts/348_Helvetica CE Condensed.svg"),s.push("TEXT"),i.push("assets/fonts/98_Arial.svg"),s.push("TEXT"),i.push("assets/fonts/243_Motor.eot"),s.push("BINARY"),i.push("assets/fonts/98_Arial.json"),s.push("TEXT"),i.push("assets/fonts/HelveticaNeueLT-BoldCond.json"),s.push("TEXT"),i.push("assets/fonts/HelveticaNeueLT-BoldCond.svg"),s.push("TEXT"),i.push("assets/fonts/HelveticaNeueLT-BoldCond.woff2"),s.push("BINARY"),i.push("assets/fonts/98_Arial.woff"),s.push("BINARY"),i.push("assets/fonts/243_Motor.json"),s.push("TEXT"),i.push("Arial"),s.push("FONT"),i.push("assets/fonts/98_Arial.eot"),s.push("BINARY"),i.push("0_HelveticaCECondense"),s.push("FONT"),i.push("assets/fonts/HelveticaNeueLT-BoldCond.woff"),s.push("BINARY"),i.push("assets/fonts/243_Motor.svg"),s.push("TEXT"),i.push("assets/fonts/98_Arial.woff2"),s.push("BINARY"),i.push("assets/fonts/HelveticaNeueLT-BoldCond.eot"),s.push("BINARY"),i.push("assets/fonts/348_Helvetica CE Condensed.woff"),s.push("BINARY"),i.push("assets/fonts/243_Motor.woff2"),s.push("BINARY"),i.push("Motor"),s.push("FONT"),i.push("assets/fonts/243_Motor.woff"),s.push("BINARY"),i.push("1_HelveticaLT77BoldCo"),s.push("FONT"),i.push("assets/fonts/348_Helvetica CE Condensed.json"),s.push("TEXT"),i.push("assets/fonts/348_Helvetica CE Condensed.eot"),s.push("BINARY"),i.push("assets/fonts/348_Helvetica CE Condensed.woff2"),s.push("BINARY"),i.push("lib/intro/intro.dat"),s.push("BINARY"),i.push("lib/intro.json"),s.push("TEXT"),i.push("lib/tanks/237.jpg"),s.push("IMAGE"),i.push("lib/tanks/318.jpg"),s.push("IMAGE"),i.push("lib/tanks/230.jpg"),s.push("IMAGE"),i.push("lib/tanks/tanks.dat"),s.push("BINARY"),i.push("lib/tanks.json"),s.push("TEXT"),null!=Zt.config.assetsPrefix)for(var n=0,a=i.length;n<a;){var r=n++;"FONT"!=s[r]&&(i[r]=Zt.config.assetsPrefix+i[r])}Zt.preloader.load(i,s);t.exec()},Zt.init=function(){var e=0,i=0;Zt.preloader=null,i+=1,ro.loadLibrary("tanks").onComplete(function(t){(e+=1)==i&&Zt.start()}),0==i&&Zt.start()},Zt.main=function(){Zt.config={build:"50",company:"Fire Falcom",file:"game",fps:60,name:"tanks",orientation:"",packageName:"com.firefal.tanks",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:400,parameters:"{}",resizable:!1,stencilBuffer:!0,title:"tanks",vsync:!1,width:550,x:null,y:null}]}},Zt.start=function(){for(var t=!1,e=mi.resolveClass("Main"),i=0,s=mi.getClassFields(e);i<s.length;){var n=s[i];if(++i,"main"==n){t=!0;break}}if(aa.initialize(),t)Dt.field(e,"main").apply(e,[]);else mi.createInstance(l,[]);lo.current.stage.window.__fullscreen&&lo.current.stage.dispatchEvent(new L_("fullScreen",!1,!1,!0,!0)),lo.current.stage.dispatchEvent(new Ne("resize",!1,!1))},Zt.resizeStatic=function(t){};function n(){}(i["openfl.events.IEventDispatcher"]=n).__name__=["openfl","events","IEventDispatcher"],n.prototype={__class__:n};function v(t){null!=t&&(this.__targetDispatcher=t)}(i["openfl.events.EventDispatcher"]=v).__name__=["openfl","events","EventDispatcher"],v.__interfaces__=[n],v.__dispatchEventStatic=function(t,e){if(e.acquire(),null==t.__eventMap||null==e)return e.release(),!1;var i,s=e.type,n=t.__dispatching;if(null!=Kf[s]?n.getReserved(s):n.h[s]){var a=t.__newEventMap;if(null==(i=null!=Kf[s]?a.getReserved(s):a.h[s])){var r=t.__eventMap;i=null!=Kf[s]?r.getReserved(s):r.h[s]}null!=i&&(i=i.slice())}else{var o=t.__eventMap;if(null!=(i=null!=Kf[s]?o.getReserved(s):o.h[s])){var h=t.__dispatching;null!=Kf[s]?h.setReserved(s,!0):h.h[s]=!0}}if(null==i)return e.release(),!1;var _=null;_=null==e.target?null!=t.__targetDispatcher?t.__targetDispatcher:t:e.target;for(var l,u,c=1==e.eventPhase,f=0;f<i.length&&(e.target=_,e.currentTarget=t,(l=i[f]).useCapture!=c||(l.callback.call(l,e),!e.__isCanceledNow));)l==i[f]&&++f;if(null!=t.__newEventMap){var d=t.__newEventMap;u=null!=Kf[s]?d.existsReserved(s):d.h.hasOwnProperty(s)}else u=!1;if(u){var p=t.__newEventMap,g=null!=Kf[s]?p.getReserved(s):p.h[s];if(0<g.length){var m=t.__eventMap;null!=Kf[s]?m.setReserved(s,g):m.h[s]=g}else t.__eventMap.remove(s);var v=t.__eventMap;new xn(v,v.arrayKeys()).hasNext()?t.__newEventMap.remove(s):(t.__eventMap=null,t.__newEventMap=null)}var b=e.type,y=t.__dispatching;return null!=Kf[b]?y.setReserved(b,!1):y.h[b]=!1,e.release(),!0},v.__sortByPriority=function(t,e){return t.priority==e.priority?0:t.priority>e.priority?-1:1},v.prototype={addEventListener:function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),null==this.__eventMap&&(this.__dispatching=new Tn,this.__eventMap=new Tn,this.__newEventMap=new Tn);var a=this.__eventMap;if(null!=Kf[t]?a.existsReserved(t):a.h.hasOwnProperty(t)){var r,o=this.__dispatching;if(1==(null!=Kf[t]?o.getReserved(t):o.h[t])){var h=this.__newEventMap;if(null!=Kf[t]?h.existsReserved(t):h.h.hasOwnProperty(t)){var _=this.__newEventMap;r=null!=Kf[t]?_.getReserved(t):_.h[t]}else{var l=this.__eventMap;r=(null!=Kf[t]?l.getReserved(t):l.h[t]).slice();var u=this.__newEventMap;null!=Kf[t]?u.setReserved(t,r):u.h[t]=r}}else{var c=this.__eventMap;r=null!=Kf[t]?c.getReserved(t):c.h[t]}for(var f=0,d=r.length;f<d;){var p=f++;if(Dt.compareMethods(r[p].callback,e))return}r.push(new F_(e,i,s)),r.sort(v.__sortByPriority)}else{var g=[];g.push(new F_(e,i,s));var m=this.__eventMap;null!=Kf[t]?m.setReserved(t,g):m.h[t]=g}this.onEventListenerAdded(t)},dispatchEvent:function(t){return null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this,this.__dispatchEvent(t)},hasEventListener:function(t){if(null==this.__eventMap)return!1;var e,i=this.__dispatching;if(1==(null!=Kf[t]?i.getReserved(t):i.h[t])){var s=this.__newEventMap;e=null!=Kf[t]?s.existsReserved(t):s.h.hasOwnProperty(t)}else e=!1;if(e){var n=this.__newEventMap;return 0<(null!=Kf[t]?n.getReserved(t):n.h[t]).length}var a=this.__eventMap;return null!=Kf[t]?a.existsReserved(t):a.h.hasOwnProperty(t)},removeEventListener:function(t,e,i){if(null==i&&(i=!1),null!=this.__eventMap){var s=this.__eventMap,n=null!=Kf[t]?s.getReserved(t):s.h[t];if(null!=n){var a=this.__dispatching,r=1==(null!=Kf[t]?a.getReserved(t):a.h[t]);if(r){var o=this.__newEventMap;if(null!=Kf[t]?o.existsReserved(t):o.h.hasOwnProperty(t)){var h=this.__newEventMap;n=null!=Kf[t]?h.getReserved(t):h.h[t]}else{var _=this.__eventMap;n=(null!=Kf[t]?_.getReserved(t):_.h[t]).slice();var l=this.__newEventMap;null!=Kf[t]?l.setReserved(t,n):l.h[t]=n}}for(var u=0,c=n.length;u<c;){var f=u++;if(n[f].match(e,i)){n.splice(f,1),this.onEventListenerRemoved(t);break}}if(!r){0==n.length&&this.__eventMap.remove(t);var d=this.__eventMap;new xn(d,d.arrayKeys()).hasNext()||(this.__eventMap=null,this.__newEventMap=null)}}}},onEventListenerAdded:function(t){},onEventListenerRemoved:function(t){},toString:function(){return"[object "+mi.getClassName(Jn.getClass(this)).split(".").pop()+"]"},willTrigger:function(t){return this.hasEventListener(t)},__dispatchEvent:function(t){if(t.acquire(),null==this.__eventMap||null==t)return t.release(),!1;var e,i=t.type;if(this.__dispatching.get(i)?(null==(e=this.__newEventMap.get(i))&&(e=this.__eventMap.get(i)),null!=e&&(e=e.slice())):null!=(e=this.__eventMap.get(i))&&this.__dispatching.set(i,!0),null==e)return t.release(),!1;var s=null;s=null==t.target?null!=this.__targetDispatcher?this.__targetDispatcher:this:t.target;for(var n,a=1==t.eventPhase,r=0;r<e.length&&(t.target=s,t.currentTarget=this,(n=e[r]).useCapture!=a||(n.callback.call(n,t),!t.__isCanceledNow));)n==e[r]&&++r;if(null!=this.__newEventMap&&this.__newEventMap.exists(i)){var o=this.__newEventMap.get(i);0<o.length?this.__eventMap.set(i,o):this.__eventMap.remove(i),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(i):(this.__eventMap=null,this.__newEventMap=null)}return this.__dispatching.set(t.type,!1),t.release(),!0},__class__:v};function a(){}(i["openfl.display.IBitmapDrawable"]=a).__name__=["openfl","display","IBitmapDrawable"],a.prototype={__class__:a};var W=function(){this.__transformDirty=!0,this.__recursiveMouseListenerCount=0,this.__mouseListenerCount=0,this.__useSeparateRenderScaleTransform=!0,this.__clippedAt=-1,this.__cacheAsBitmapSmooth=null,this.__isCachingAsBitmap=!1,this.__cacheAsBitmapFlag=!1,this.__resolvedCacheAsBitmap=!1,this.__name="",this.__maskCached=!1,this.delayScaleRotationGraphicsRefresh=!1,this.renderScaleY=1,this.renderScaleX=1,v.call(this),this.__colorTransform=new oo,this.__transform=new ho,this.__renderTransform=new ho,this.__cacheGLMatrix=new ho,this.__offset=new _o,this.__worldOffset=new _o,this.__worldColorTransform=new oo,this.__renderColorTransform=new oo,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__worldAlpha=1,this.__renderAlpha=1,this.__clipDepth=0,this.__cachedParent=null,W.__worldTransformDirty++};(i["openfl.display.DisplayObject"]=W).__name__=["openfl","display","DisplayObject"],W.__interfaces__=[a],W.__isCachingAsMask=null,W.__super__=v,W.prototype=s(v.prototype,{__reset:function(){this.__dispatching=null,this.__eventMap=null,(this.__newEventMap=null)!=this.__objectTransform&&(Il.pool.put(this.__objectTransform),this.__objectTransform=null),this.__colorTransform.reset()},resolve:function(t){return null},getSymbol:function(){return null},getBounds:function(t){var e=ho.pool.get();if(null!=t){e.copyFrom(this.__getWorldTransform());var i=ho.pool.get();i.copyFrom(t.__getWorldTransform()),i.invert(),e.concat(i),ho.pool.put(i)}else e.identity();var s=new El;return this.__getBounds(s),s.isEmpty()||s.transform(s,e),ho.pool.put(e),s},getRect:function(t){return this.getBounds(t)},globalToLocal:function(t){t=null!=this.stage?this.stage.__getWorldTransform().transformPoint(t):t.clone();var e=this.__getWorldTransform(),i=e.a*e.d-e.b*e.c;if(0==i)t.x=-e.tx,t.y=-e.ty;else{var s=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=s}return t},localToGlobal:function(t){if(t=this.__getWorldTransform().transformPoint(t),null==this.stage)throw new qn(":TODO:");var e=this.stage.__getWorldTransform(),i=e.a*e.d-e.b*e.c;if(0==i)t.x=-e.tx,t.y=-e.ty;else{var s=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=s}return t},convertToLocal:function(t){if(null!=this.stage){var e=this.stage.__getWorldTransform(),i=t.x,s=t.y;t.x=i*e.a+s*e.c+e.tx,t.y=i*e.b+s*e.d+e.ty}var n=this.__getWorldTransform(),a=n.a*n.d-n.b*n.c;if(0==a)t.x=-n.tx,t.y=-n.ty;else{var r=1/a*(n.c*(n.ty-t.y)+n.d*(t.x-n.tx));t.y=1/a*(n.a*(t.y-n.ty)+n.b*(n.tx-t.x)),t.x=r}},hitTestObject:function(t){if(null==t||null==t.parent||null==this.parent)return!1;var e=this.getBounds(this),i=t.getBounds(this);return e.intersects(i)},hitTestPoint:function(t,e,i){null==i&&(i=!1);var s=El.pool.get(),n=this.__getWorldTransform();this.__getBounds(s),s.isEmpty()||s.transform(s,n);var a=_o.pool.get();a.setTo(t*this.stage.get_scaleX(),e*this.stage.get_scaleY());var r=s.containsPoint(a);if(_o.pool.put(a),El.pool.put(s),!r||!i)return r;if(null!=this.__graphics){var o=this.getSymbol();if(i=!!i&&(null==o||o.pixelPerfectHitTest),this.__graphics.__hitTest(t*this.stage.get_scaleX(),e*this.stage.get_scaleY(),i,this.__getWorldTransform()))return!0}return!1},updateCachedParent:function(t){if(null==t){for(var e=this.parent;null!=e&&!e.__resolvedCacheAsBitmap;)e=e.parent;this.__cachedParent=e}else this.__cachedParent=t;return t=this.__resolvedCacheAsBitmap?this:this.__cachedParent},__broadcast:function(t,e){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var i=v.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||i}return!1},__dispatchEvent:function(t){t.acquire();var e=v.prototype.__dispatchEvent.call(this,t);return t.__isCanceled?(t.release(),!0):(t.bubbles&&null!=this.parent&&this.parent!=this&&(t.eventPhase=3,null==t.target&&(t.target=this),this.parent.__dispatchEvent(t)),t.release(),e)},__enterFrame:function(t){null!=this.__graphics&&this.__graphics.__enterFrame(),0<this.__cacheAsBitmapCounter&&--this.__cacheAsBitmapCounter<=0&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length)},__getBounds:function(t){null!=this.__graphics?this.__graphics.__getBounds(t):t.setEmpty()},__getTransformedBounds:function(t,e){this.__getBounds(t),t.isEmpty()||t.transform(t,e)},__getCursor:function(){return null},__getInteractive:function(t){return!1},getAssetPrefix:function(){return Object.prototype.hasOwnProperty.call(this,"assetPrefix")?Dt.field(this,"assetPrefix"):null!=this.parent?this.parent.getAssetPrefix():""},__getLocalBounds:function(t){var e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e)},__getRenderBounds:function(t){if(null==this.__scrollRect){var e=this.__renderTransform;this.__getBounds(t),t.isEmpty()||t.transform(t,e),this.__getChildrenRenderBounds(t),null==this.__filters||t.isEmpty()||W_.__expandBounds(this.__filters,t)}else t.copyFrom(this.__scrollRect)},__getChildrenRenderBounds:function(t){},__getWorldTransform:function(){if(this.__transformDirty||0<W.__worldTransformDirty){var t=W.__parentList,e=0,i=this,s=this.__transformDirty;if(null==this.parent)s&&this.__update(!0,!1);else for(;null!=i.parent;)(i=(t[e++]=i).parent).__transformDirty&&(s=!0);if(s)for(var n=e;0<=--n;)t[n].__update(!0,!1)}return this.__worldTransform},__hitTest:function(t,e,i,s,n,a){if(null!=this.__graphics){if(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!a.__visible)||this.__isMask)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;var r=this.getSymbol();if(i=!!i&&(null==r||r.pixelPerfectHitTest),this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null==s||n||(s._items[s._length++]=a),!0}return!1},__hitTestMask:function(t,e){return null!=this.__graphics&&!!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform())},__renderCanvas:function(t){throw new qn(":TODO: remove me")},__renderCanvasMask:function(t){throw new qn(":TODO: remove me")},__renderGL:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0))if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,s=this.__cacheGLMatrix,n=this.__worldColorTransform,a=this.__worldAlpha,r=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,s,n,a,r,o,2)}this.__isCachingAsBitmap=!1}else null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.__drawGraphicsGL(t),null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__drawGraphicsGL:function(t){if(null!=this.__graphics){var e=t.getRenderTargetBaseTransform(),i=ho.pool.get();i.copyFrom(this.__renderTransform),i.concat(e),zo.render(this.__graphics,t,i,this.__isMask||W.__isCachingAsMask),ho.pool.put(i),Wo.renderBitmap(this,t,0<this.__graphics.mustRefreshGraphicsCounter||this.forbidCachedBitmapUpdate)}},__preRenderGL:function(t){null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask))},__postRenderGL:function(t){null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__updateCachedBitmapFn:function(t,e,i){var s=this.getSymbol();null!=s&&s.useUniqueSharedBitmapCache&&null!=s.uniqueSharedCachedBitmap?(this.__cachedBitmap=s.uniqueSharedCachedBitmap,this.set_forbidCachedBitmapUpdate(!0)):(null==this.__cachedBitmap&&(this.__cachedBitmap=mh.__asRenderTexture()),this.__cacheBitmapFn(this.__cachedBitmap,t,e,i),this.__updateCachedBitmap=!1,this.__updateFilters=!1,null!=s&&s.useUniqueSharedBitmapCache&&(s.uniqueSharedCachedBitmap=this.__cachedBitmap))},__cacheBitmapFn:function(t,e,i,s){var n=W.__cachedBitmapPadding,a=El.pool.get();if(this.__getRenderBounds(a),a.width<=0||a.height<=0)return El.pool.put(a),void t.__resize(0,0,t.physicalWidth,t.physicalHeight);var r=El.pool.get();this.__getBounds(r);var o=Math.ceil(a.width)+2*n,h=Math.ceil(a.height)+2*n;t.__resize(r.width,r.height,o,h),El.pool.put(r);var _=ho.pool.get();_.copyFrom(this.__renderTransform),_.translate(n-Math.floor(a.x),n-Math.floor(a.y)),El.pool.put(a);var l=null;null!=s&&((l=ho.pool.get()).copyFrom(_),l.invert(),l.concat(this.__renderTransform),l.concat(s));var u=this.__shader;this.__shader=null,e.maskManager.pushMask(null),t.__pushFrameBuffer(e,!0,!0,!0),Yo.drawBitmapDrawable(e,null,this,_,null,i,l),Yo.popFramebuffer(e,null),t.__imageShouldBeSynced=!0;var c=t.__pingPongTexture,f=(c.__swapped?c.__texture1:c.__texture0).__uvData;t.__createUVs(f.x0,f.y0,f.x1,f.y1,f.x2,f.y2,f.x3,f.y3),t.__isValid=!0,t.__usingPingPongTexture=!0,e.maskManager.popMask(),null!=s&&ho.pool.put(l),this.__shader=u,this.__updateFilters?W_.__applyFilters(this.__filters,e,t):this.__cleanupIntermediateTextures();var d=ho.pool.get();d.copyFrom(_),d.invert(),t.__renderToLocalMatrix.copyFrom(d),ho.pool.put(d),ho.pool.put(_)},__cacheGL:function(t){if(!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,s=this.__cacheGLMatrix,n=this.__worldColorTransform,a=this.__worldAlpha,r=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,s,n,a,r,o,2)}},__cleanupIntermediateTextures:function(){this.__disposeGraphicsBitmap()},setStage:function(t){if(this.stage!=t){null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.__fireRemovedFromStageEvent(null),null==t&&this.__releaseResources()),this.__updateStageInternal(t),null!=t&&this.__fireAddedToStageEvent(null)}return t},__fireRemovedFromStageEvent:function(t){this.__dispatchEvent(Ne.__create("removedFromStage",!1,!1))},__fireAddedToStageEvent:function(t){this.__dispatchEvent(Ne.__create("addedToStage",!1,!1))},__releaseResources:function(){var t=this.getSymbol();if(null!=t&&t.poolable)return t.pool.put(this),!1;var e=!1;if(null!=this.__graphics&&(this.__graphics.dispose(),e=!0),null!=this.__cachedBitmap&&(null!=t&&t.useUniqueSharedBitmapCache||this.__cachedBitmap.dispose(),e=!(this.__cachedBitmap=null)),null!=this.__filters){for(var i=0,s=this.__filters;i<s.length;){var n=s[i];++i,n.dispose()}e=!0}return e&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),null!=this.__objectTransform&&(Il.pool.put(this.__objectTransform),this.__objectTransform=null),!0},__disposeGraphicsBitmap:function(){if(null!=this.__graphics){var t=this.__graphics;t.set___bitmap(null),t.__dirty=!0}},__setRenderDirty:function(){this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setRenderDirtyNoCachedBitmap:function(){this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)},__setUpdateDirty:function(){this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setBranchDirty:function(){this.__branchDirty=!0,W.__worldBranchDirty++},__updateColor:function(){null!=this.parent?this.mustResetRenderColorTransform()?(this.__renderAlpha=1,this.__worldAlpha=this.__colorTransform.alphaMultiplier*this.parent.__renderAlpha,this.__renderColorTransform.reset(),this.__worldColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__renderColorTransform)):(this.__renderAlpha=this.__colorTransform.alphaMultiplier*this.parent.__renderAlpha,this.__worldAlpha=this.__colorTransform.alphaMultiplier*this.parent.__worldAlpha,this.__renderColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__renderColorTransform),this.__worldColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__worldColorTransform)):(this.__worldColorTransform.copyFrom(this.get_transform().get_colorTransform()),this.__worldAlpha=this.__colorTransform.alphaMultiplier,this.mustResetRenderColorTransform()?(this.__renderAlpha=1,this.__renderColorTransform.reset()):(this.__renderAlpha=this.__colorTransform.alphaMultiplier,this.__renderColorTransform.copyFrom(this.get_transform().get_colorTransform())))},__update:function(t,e){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1)},isRenderable:function(){return!(!this.__visible||0==this.__transform.a&&0==this.__transform.b||0==this.__transform.c&&0==this.__transform.d)&&!this.__isMask},__inlineUpdate:function(t,e){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1)},__updateChildren:function(t){(this.isRenderable()||this.__isMask)&&(this.__worldAlpha=this.__colorTransform.alphaMultiplier,this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--))},__updateTransforms:function(){var t=this.__transform,e=ho.pool.get();if(null!=this.parent){var i,s=(i=null!=this.parent.__worldTransform?this.parent.__worldTransform:this.parent.__transform).a,n=i.b,a=i.c,r=i.d,o=t.a,h=t.b,_=t.c,l=t.d;e.a=o*s+h*a,e.b=o*n+h*r,e.c=_*s+l*a,e.d=_*n+l*r,e.tx=t.tx*s+t.ty*a+i.tx,e.ty=t.tx*n+t.ty*r+i.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset)}else e.copyFrom(t),this.__worldOffset.setTo(0,0);if(null!=this.__scrollRect?(this.__offset=e.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0),null!=this.__cacheAsBitmapMatrix?pn.trace(":TODO: fill renderScaleX, renderScaleY and use __cacheAsBitmapMatrix where appropriate",{fileName:"DisplayObject.hx",lineNumber:1224,className:"openfl.display.DisplayObject",methodName:"__updateTransforms"}):this.__useSeparateRenderScaleTransform&&(this.renderScaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.renderScaleY=Math.sqrt(e.c*e.c+e.d*e.d)),this.__renderTransform.copyFrom(e),this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y),null==this.__worldTransform)this.__worldTransform=new ho;else if(!this.__isCachingAsBitmap){var u=this.__worldTransform,c=u.tx!=e.tx||u.ty!=e.ty,f=u.a!=e.a||u.d!=e.d||u.b!=e.b||u.c!=e.c,d=!1;null!=this.__graphics&&(d=this.__graphics.__dirty),f&&this._onWorldTransformScaleRotationChanged(),d||this.delayGraphicsRefresh(c,f)}this.__worldTransform.copyFrom(e),ho.pool.put(e)},delayGraphicsRefresh:function(t,e){if(null!=this.__graphics)if(e)if(this.delayScaleRotationGraphicsRefresh){var i=this.__graphics;i.mustRefreshGraphicsCounter=Sh.__dirtyGraphicsDelay,i.set_dirty(!1)}else this.__graphics.set_dirty(!0);else if(t){var s=this.__graphics;s.mustRefreshGraphicsCounter=Sh.__dirtyGraphicsDelay,s.set_dirty(!1)}},_onWorldTransformScaleRotationChanged:function(){this.delayScaleRotationGraphicsRefresh?this.__cacheAsBitmapCounter=Sh.__dirtyGraphicsDelay:(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length)},__updateRecursiveMouseListenerCount:function(t){null==t&&(t=0);for(var e=this;null!=e;)e.__recursiveMouseListenerCount+=t,e=e.parent},onEventListenerAdded:function(t){G_.isMouseEvent(t)&&(++this.__mouseListenerCount,this.__updateRecursiveMouseListenerCount(1))},onEventListenerRemoved:function(t){G_.isMouseEvent(t)&&(--this.__mouseListenerCount,this.__updateRecursiveMouseListenerCount(-1))},__mustEvaluateHitTest:function(){return 0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth},__hasMouseListener:function(){return 0<this.__mouseListenerCount},get_alpha:function(){return this.__colorTransform.alphaMultiplier},set_alpha:function(t){return 1<t&&(t=1),t!=this.__colorTransform.alphaMultiplier&&(this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__colorTransform.alphaMultiplier=t},set_blendMode:function(t){return this.__blendMode!=t&&(this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__blendMode=t),this.blendMode=t},set_shader:function(t){return this.__shader!=t&&(this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__shader=t),this.shader=t},__updateStageInternal:function(t){this.stage=t,this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},get_cacheAsBitmap:function(){return this.__resolvedCacheAsBitmap},set_cacheAsBitmap:function(t){return t!=this.__cacheAsBitmapFlag&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__cacheAsBitmapFlag=t,this.__updateResolvedCacheAsBitmap(),t},__updateResolvedCacheAsBitmap:function(){var t=this.__resolvedCacheAsBitmap;this.__resolvedCacheAsBitmap=this.__cacheAsBitmapFlag||null!=this.get_filters()&&0<this.get_filters().length,t!=this.__resolvedCacheAsBitmap&&this.__onResolvedCacheAsBitmapChanged()},__onResolvedCacheAsBitmapChanged:function(){},set_forbidCachedBitmapUpdate:function(t){return this.forbidCachedBitmapUpdate=t},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(t){return this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),null!=this.__cacheAsBitmapMatrix?this.__cacheAsBitmapMatrix.copyFrom(t):this.__cacheAsBitmapMatrix=t.clone(),this.__cacheAsBitmapMatrix},get_cacheAsBitmapSmooth:function(){return this.__cacheAsBitmapSmooth},set_cacheAsBitmapSmooth:function(t){return this.__cacheAsBitmapSmooth=t},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){if(null!=this.__filters&&null!=t&&t.length==this.__filters.length){for(var e=!0,i=0,s=this.__filters.length;i<s;){var n=i++;if(!this.__filters[n].equals(t[n])){e=!1;break}}if(e)return t}if(null!=this.__filters)for(var a=0,r=this.__filters;a<r.length;){var o=r[a];++a,o.dispose()}return null!=t&&0<t.length?(this.__updateFilters=!0,this.__filters=t):(this.__updateFilters=!1,this.__filters=null),this.__updateResolvedCacheAsBitmap(),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),t},get_height:function(){var t=El.pool.get(),e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e);var i=t.height;return El.pool.put(t),i},set_height:function(t){var e=El.pool.get();return this.__getBounds(e),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),El.pool.put(e),t},get_loaderInfo:function(){return null==this.loaderInfo&&(this.loaderInfo=Vh.create(null)),this.loaderInfo},get_mask:function(){return this.__mask},set_mask:function(t){if(t==this.__mask)return t;if(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),null!=this.__mask){this.__mask.__isMask=!1,this.__mask.__maskCached=!1;var e=this.__mask;e.__transformDirty||(e.__transformDirty=!0,e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,W.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0),W.__worldTransformDirty++);var i=this.__mask;i.__updateCachedBitmap=!0,i.__updateFilters=null!=i.__filters&&0<i.__filters.length,i.__isMask&&(i.__maskCached=!1),i.__renderDirty||(i.__renderDirty=!0,W.__worldRenderDirty++,null!=i.__cachedParent&&i.__cachedParent.__setRenderDirty()),i.__updateDirty||null==i.stage||i==i.stage||(i.__updateDirty=!0)}return null!=t&&(t.__isMask=!0,t.__maskCached=!1,t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),W.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0)),this.__mask=t},get_mouseX:function(){var t=lo.current.stage.__mouseX,e=lo.current.stage.__mouseY,i=this.__getWorldTransform(),s=i.a*i.d-i.b*i.c;return 0==s?-i.tx:1/s*(i.c*(i.ty-e)+i.d*(t-i.tx))},get_mouseY:function(){var t=lo.current.stage.__mouseX,e=lo.current.stage.__mouseY,i=this.__getWorldTransform(),s=i.a*i.d-i.b*i.c;return 0==s?-i.ty:1/s*(i.a*(e-i.ty)+i.b*(i.tx-t))},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_root:function(){return null!=this.stage?lo.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e);var i=this.get_scaleX(),s=this.get_scaleY();this.__transform.a=this.__rotationCosine*i,this.__transform.b=this.__rotationSine*i,this.__transform.c=-this.__rotationSine*s,this.__transform.d=this.__rotationCosine*s,this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)}return t},hasZeroScale:function(){return 0==this.__transform.a&&0==this.__transform.b||0==this.__transform.c&&0==this.__transform.d},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(t){var e=this.__rotationCosine*t,i=this.__rotationSine*t;return this.__transform.a==e&&this.__transform.b==i||this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__transform.a=e,this.__transform.b=i,t},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(t){var e=-this.__rotationSine*t,i=this.__rotationCosine*t;return this.__transform.d==i&&this.__transform.c==e||this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__transform.c=e,this.__transform.d=i,t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return t!=this.__scrollRect&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)),this.__scrollRect=t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=Il.pool.get(),this.__objectTransform.reset(this)),this.__objectTransform},set_transform:function(t){if(null==t)throw new qn(new D_("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=Il.pool.get(),this.__objectTransform.reset(this)),this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__objectTransform.set_matrix(t.get_matrix()),this.__objectTransform.set_colorTransform(t.get_colorTransform().__clone()),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t!=this.__visible&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__visible=t},get_width:function(){var t=El.pool.get(),e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e);var i=t.width;return El.pool.put(t),i},set_width:function(t){var e=El.pool.get();return this.__getBounds(e),t!=e.width?this.set_scaleX(t/e.width):this.set_scaleX(1),El.pool.put(e),t},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++)),this.__transform.ty=t},mustResetRenderColorTransform:function(){return!!this.__resolvedCacheAsBitmap||this.__isMask},__class__:W,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_forbidCachedBitmapUpdate:"set_forbidCachedBitmapUpdate",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapSmooth:"set_cacheAsBitmapSmooth",get_cacheAsBitmapSmooth:"get_cacheAsBitmapSmooth",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});function we(){W.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=!1,this.set_tabIndex(-1)}(i["openfl.display.InteractiveObject"]=we).__name__=["openfl","display","InteractiveObject"],we.__super__=W,we.prototype=s(W.prototype,{get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(t){return this.__tabIndex=t},requestSoftKeyboard:function(){return lo.notImplemented("InteractiveObject.requestSoftKeyboard"),!1},__getInteractive:function(t){return null!=t&&null!=(t._items[t._length++]=this).parent&&this.parent.__getInteractive(t),!0},__hitTest:function(t,e,i,s,n,a){return!(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!a.__visible)||this.__isMask)||!!n&&!this.mouseEnabled)&&W.prototype.__hitTest.call(this,t,e,i,s,n,a)},get_tabEnabled:function(){return this.__tabEnabled},set_tabEnabled:function(t){return this.__tabEnabled=t},__class__:we,__properties__:s(W.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});function zt(){this._length=0}(i["openfl.utils.UnshrinkableArrayData"]=zt).__name__=["openfl","utils","UnshrinkableArrayData"],zt.prototype={__class__:zt};function j(){we.call(this),this.mouseChildren=!0;var t=new zt;t._items=[],t._length=t._items.length,this.__children=t}(i["openfl.display.DisplayObjectContainer"]=j).__name__=["openfl","display","DisplayObjectContainer"],j.__super__=we,j.prototype=s(we.prototype,{addChild:function(t){return this.addChildAt(t,this.__children._length)},addChildAt:function(t,e){if(e<0||e>this.__children._length)throw new qn("Invalid index position "+e);this.__useSeparateRenderScaleTransform||(t.__useSeparateRenderScaleTransform=!1);var i=-1;if(t.parent==this){var s=this.__children,n=s._items.indexOf(t,null);i=n>=s._length?-1:n;var a=this.__children;i>=a._length&&(a._length=i+1),a._items[i]=null;for(var r=this.__children,o=r._length-1;e<=o;)r._items[o+1]=r._items[o],--o;r._items[e]=t,r._length=e>r._length?e:r._length,++r._length}else{if(null!=t.parent){var h=t.stage;t.stage=null,t.parent.removeChild(t),t.stage=h}for(var _=this.__children,l=_._length-1;e<=l;)_._items[l+1]=_._items[l],--l;_._items[e]=t,_._length=e>_._length?e:_._length,++_._length,null!=t.__name&&""!=t.__name&&(this[t.__name]=t),this.initParent(t)}return this.__branchDirty=!0,W.__worldBranchDirty++,this.__updateRecursiveMouseListenerCount(t.__recursiveMouseListenerCount),-1<i&&this.removeChildAt(i<e?i:i+1),t},initParent:function(t){null!=(t.parent=this).stage&&t.setStage(this.stage),t.updateCachedParent(),t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),W.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),t.dispatchEvent(Ne.__create("added",!0))},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){for(;t!=this&&null!=t;)t=t.parent;return t==this},getChildAt:function(t){if(0<=t&&t<this.__children._length){var e=this.__children;return t>=e._length?null:e._items[t]}return null},getChildByName:function(t){for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];if(++e,s.__name==t)return s}return null},getChildIndex:function(t){var e=this.__children,i=e._items.indexOf(t,null);return i>=e._length?-1:i},hitTestPoint:function(t,e,i){null==i&&(i=!1);var s=we.prototype.hitTestPoint.call(this,t,e,i);if(s)return s;for(var n=0,a=this.__children;n<a._length;){var r=n>=a._length?null:a._items[n];if(++n,r.hitTestPoint(t,e,i))return!0}return!1},getObjectsUnderPoint:function(t){var e=new zt;e._items=[],e._length=e._items.length;var i=e;this.__hitTest(t.x,t.y,!1,i,!1,this);for(var s=0,n=i._length-1;s<n;){var a=i._items[s];i._items[s]=i._items[n],i._items[n]=a,++s,--n}return i},removeChild:function(t){return null!=t&&t.parent==this&&(t.dispatchEvent(Ne.__create("removed",!0)),null!=this.stage&&t.setStage(null),this.__branchDirty=!0,W.__worldBranchDirty++,this.__updateRecursiveMouseListenerCount(-t.__recursiveMouseListenerCount),(t.parent=null)!=t.__cachedParent&&t.updateCachedParent(),cu.remove(this.__children,t),t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),W.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,W.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),t},removeChildAt:function(t){if(0<=t&&t<this.__children._length){var e=this.__children,i=t>=e._length?null:e._items[t];if(null!=i)return this.removeChild(i);cu.splice(this.__children,t,1),this.__branchDirty=!0,W.__worldBranchDirty++}return null},removeChildren:function(t,e){if(null==e&&(e=2147483647),null==t&&(t=0),!(2147483647==e&&(e=this.__children._length-1)<0||t>this.__children._length-1)){if(e<t||t<0||e>this.__children._length)throw new qn(new k_("The supplied index is out of bounds."));for(var i=e-t;0<=i;)this.removeChildAt(t),--i}},resolve:function(t){var e=Dt.field(this,t);return null!=e?e:this.getChildByName(t)},setChildIndex:function(t,e){if(0<=e&&e<=this.__children._length&&t.parent==this){var i=this.__children;if(null==(e>=i._length?null:i._items[e])){var s=this.__children,n=s._items.indexOf(t,null),a=n>=s._length?-1:n,r=this.__children;a>=r._length&&(r._length=a+1),r._items[a]=null;var o=this.__children;e>=o._length&&(o._length=e+1),o._items[e]=t}else{cu.remove(this.__children,t);for(var h=this.__children,_=h._length-1;e<=_;)h._items[_+1]=h._items[_],--_;h._items[e]=t,h._length=e>h._length?e:h._length,++h._length}this.__branchDirty=!0,W.__worldBranchDirty++}},swapChildren:function(t,e){if(t.parent==this&&e.parent==this){var i=this.__children,s=i._items.indexOf(t,null),n=s>=i._length?-1:s,a=this.__children,r=a._items.indexOf(e,null),o=r>=a._length?-1:r;this.swapChildrenAt(n,o)}},swapChildrenAt:function(t,e){var i=this.__children,s=t>=i._length?null:i._items[t],n=this.__children,a=this.__children,r=e>=a._length?null:a._items[e];t>=n._length&&(n._length=t+1),n._items[t]=r;var o=this.__children;e>=o._length&&(o._length=e+1),o._items[e]=s,this.__branchDirty=!0,W.__worldBranchDirty++},updateCachedParent:function(t){if(t=we.prototype.updateCachedParent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.updateCachedParent(t)}return t},__broadcast:function(t,e){null==t.target&&(t.target=this);var i=we.prototype.__broadcast.call(this,t,e);if(!t.__isCanceled&&e)for(var s=0,n=this.__children;s<n._length;){var a=s>=n._length?null:n._items[s];if(++s,a.__broadcast(t,!0),t.__isCanceled)return!0}return i},__getBounds:function(t){if(we.prototype.__getBounds.call(this,t),0!=this.__children._length){for(var e=El.pool.get(),i=0,s=this.__children;i<s._length;){var n=i>=s._length?null:s._items[i];if(++i,n.isRenderable()){var a=n.__transform;n.__getBounds(e),e.isEmpty()||e.transform(e,a),t.__expand(e.x,e.y,e.width,e.height)}}El.pool.put(e)}},__getChildrenRenderBounds:function(t){if(0!=this.__children._length){for(var e=El.pool.get(),i=0,s=this.__children;i<s._length;){var n=i>=s._length?null:s._items[i];++i,n.isRenderable()&&(n.__getRenderBounds(e),t.__expand(e.x,e.y,e.width,e.height))}El.pool.put(e)}},__hitTest:function(t,e,i,s,n,a){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!a.__visible)||this.__isMask)||!(!n||this.mouseChildren)&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;var r=_o.pool.get();if(r.setTo(t,e),null!=this.__scrollRect&&!this.__scrollRect.containsPoint(this.globalToLocal(r)))return _o.pool.put(r),!1;_o.pool.put(r);var o=this.getSymbol();i=!!i&&(null==o||o.pixelPerfectHitTest);var h=0<this.__mouseListenerCount;if(h){var _=j.__mouseListenerBranchDepthStack;if(_._items[_._length++]=this.__branchDepth,null==this.__branchDepth){for(var l=0,u=this;null==u.__branchDepth;)u=u.parent,++l;this.__branchDepth=u.__branchDepth+l}W.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}var c=this.__children._length;if(n)if(null!=s&&this.mouseChildren){if(null!=s){for(var f=s._length,d=!1,p=!1;0<=--c;){var g=this.__children,m=c>=g._length?null:g._items[c],v=m.__clippedAt;if(-1!=v){var b,y=this.__children;if(null!=(v>=y._length?null:y._items[v])){var w=this.__children;b=!(v>=w._length?null:w._items[v]).__hitTestMask(t,e)}else b=!1;if(b){c=v;continue}}if(((d=m.__getInteractive(null))||this.mouseEnabled&&!p)&&m.__hitTest(t,e,i,s,!0,m)&&(this.mouseEnabled&&(p=!0),d)){if(p)break;if(h){var x=j.__mouseListenerBranchDepthStack;x._items[--x._length];x._items[x._length]=null;var T=j.__mouseListenerBranchDepthStack,S=T._items[T._length-1];W.__lastMouseListenerBranchDepth=0!=S?S:9999}return!0}}if(p){for(var C=s._length-1;f<=C;)s._items[C+1]=s._items[C],--C;if(s._items[f]=a,s._length=f>s._length?f:s._length,++s._length,h){var E=j.__mouseListenerBranchDepthStack;E._items[--E._length];E._items[E._length]=null;var I=j.__mouseListenerBranchDepthStack,P=I._items[I._length-1];W.__lastMouseListenerBranchDepth=0!=P?P:9999}return!0}}}else for(;0<=--c;){var k=this.__children,D=c>=k._length?null:k._items[c],A=D.__clippedAt;if(-1!=A){var M,R=this.__children;if(null!=(A>=R._length?null:R._items[A])){var F=this.__children;M=!(A>=F._length?null:F._items[A]).__hitTestMask(t,e)}else M=!1;if(M){c=A;continue}}if(null!=D&&D.__hitTest(t,e,i,null,this.mouseChildren,D)){if(null!=s&&(s._items[s._length++]=a),h){var B=j.__mouseListenerBranchDepthStack;B._items[--B._length];B._items[B._length]=null;var L=j.__mouseListenerBranchDepthStack,N=L._items[L._length-1];W.__lastMouseListenerBranchDepth=0!=N?N:9999}return!0}}else for(;0<=--c;){var O=this.__children,U=this.__children;if((c>=O._length?null:O._items[c]).__hitTest(t,e,i,s,!1,c>=U._length?null:U._items[c])){if(null!=s&&(s._items[s._length++]=a),h){var z=j.__mouseListenerBranchDepthStack;z._items[--z._length];z._items[z._length]=null;var G=j.__mouseListenerBranchDepthStack,X=G._items[G._length-1];W.__lastMouseListenerBranchDepth=0!=X?X:9999}return!0}}if(h){var V=j.__mouseListenerBranchDepthStack;V._items[--V._length];V._items[V._length]=null;var H=j.__mouseListenerBranchDepthStack,Y=H._items[H._length-1];W.__lastMouseListenerBranchDepth=0!=Y?Y:9999}return!1},__hitTestMask:function(t,e){for(var i=this.__children._length;0<=--i;){var s=this.__children;if(null!=(i>=s._length?null:s._items[i])){var n=this.__children;if((i>=n._length?null:n._items[i]).__hitTestMask(t,e))return!0}}return!1},__renderCanvas:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0)){we.prototype.__renderCanvas.call(this,t),null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.__renderCanvas(t)}null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__renderCanvasMask:function(t){throw new qn(":TODO: Remove")},__renderGL:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0))if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,s=this.__cacheGLMatrix,n=this.__worldColorTransform,a=this.__worldAlpha,r=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,s,n,a,r,o,2)}this.__isCachingAsBitmap=!1}else{null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.__drawGraphicsGL(t);for(var h=-1,_=0,l=this.__children;_<l._length;){var u=_>=l._length?null:l._items[_];++_,-1==--h&&t.maskManager.popMask(),0!=u.__clipDepth?(u.__maskCached||(null!=u.__cachedBitmap&&(u.__cachedBitmap.dispose(),u.__cachedBitmap=null),u.__isMask=!0,u.__update(!0,!0),u.__maskCached=!0),t.maskManager.pushMask(u),h=u.__clipDepth):u.__renderGL(t)}0<=h&&t.maskManager.popMask(),null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__fireRemovedFromStageEvent:function(t){if(we.prototype.__fireRemovedFromStageEvent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.__fireRemovedFromStageEvent(t)}},__updateStageInternal:function(t){if(we.prototype.__updateStageInternal.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.__updateStageInternal(t)}},__fireAddedToStageEvent:function(t){if(we.prototype.__fireAddedToStageEvent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.__fireAddedToStageEvent(t)}},__releaseResources:function(){if(we.prototype.__releaseResources.call(this)){if(null!=this.__children)for(var t=0,e=this.__children;t<e._length;){var i=t>=e._length?null:e._items[t];++t,i.__releaseResources()}return!0}return!1},__cleanupIntermediateTextures:function(){we.prototype.__cleanupIntermediateTextures.call(this);for(var t=0,e=this.__children;t<e._length;){var i=t>=e._length?null:e._items[t];++t,i.__cleanupIntermediateTextures()}},__update:function(t,e){if(we.prototype.__update.call(this,t,e),(this.isRenderable()||this.__isMask)&&e)for(var i=0,s=this.__children;i<s._length;){var n=i>=s._length?null:s._items[i];++i,n.__update(t,!0)}},__updateChildren:function(t){we.prototype.__updateChildren.call(this,t);for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.__update(t,!0)}},isRenderable:function(){return!!we.prototype.isRenderable.call(this)&&(null!=this.__graphics||null!=this.__children&&0<this.__children._length)},__pushHitTestLevel:function(t){if(t){var e=j.__mouseListenerBranchDepthStack;if(e._items[e._length++]=this.__branchDepth,null==this.__branchDepth){for(var i=0,s=this;null==s.__branchDepth;)s=s.parent,++i;this.__branchDepth=s.__branchDepth+i}W.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}},__popHitTestLevel:function(t){if(t){var e=j.__mouseListenerBranchDepthStack;e._items[--e._length];e._items[e._length]=null;var i=j.__mouseListenerBranchDepthStack,s=i._items[i._length-1];W.__lastMouseListenerBranchDepth=0!=s?s:9999}},get_numChildren:function(){return this.__children._length},__onResolvedCacheAsBitmapChanged:function(){for(var t=this.__resolvedCacheAsBitmap?this:null,e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.updateCachedParent(t)}},__class__:j,__properties__:s(we.prototype.__properties__,{get_numChildren:"get_numChildren"})});function o(){j.call(this),this.buttonMode=!1,this.useHandCursor=!0}(i["openfl.display.Sprite"]=o).__name__=["openfl","display","Sprite"],o.__super__=j,o.prototype=s(j.prototype,{startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?Yr.POINTER:null},__hitTest:function(t,e,i,s,n,a){var r=this.getSymbol();if(i=!!i&&(null==r||r.pixelPerfectHitTest),null!=this.hitArea){if(!this.hitArea.mouseEnabled){var o=0<this.__mouseListenerCount;if(o){var h=j.__mouseListenerBranchDepthStack;if(h._items[h._length++]=this.__branchDepth,null==this.__branchDepth){for(var _=0,l=this;null==l.__branchDepth;)l=l.parent,++_;this.__branchDepth=l.__branchDepth+_}W.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}this.hitArea.mouseEnabled=!0;var u=this.hitArea.__hitTest(t,e,i,null,!0,a);if(this.hitArea.mouseEnabled=!1,o){var c=j.__mouseListenerBranchDepthStack;c._items[--c._length];c._items[c._length]=null;var f=j.__mouseListenerBranchDepthStack,d=f._items[f._length-1];W.__lastMouseListenerBranchDepth=0!=d?d:9999}return u&&(s._items[s._length++]=a),u}}else{if(!a.__visible||this.__isMask||n&&!this.mouseChildren&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;if(j.prototype.__hitTest.call(this,t,e,i,s,n,a))return!0;if((!n||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null!=s&&(s._items[s._length++]=a),!0}return!1},__hitTestMask:function(t,e){return!!j.prototype.__hitTestMask.call(this,t,e)||!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new Sh,this.__graphics.__owner=this),this.__graphics},get_tabEnabled:function(){return!!this.__tabEnabled||this.buttonMode},__class__:o,__properties__:s(j.prototype.__properties__,{get_graphics:"get_graphics"})});function h(){o.call(this),this.__currentFrame=0,this.__currentLabels=[],this.__totalFrames=0}(i["openfl.display.MovieClip"]=h).__name__=["openfl","display","MovieClip"],h.__super__=o,h.prototype=s(o.prototype,{addFrameScript:function(t,e){null!=e?(null==this.__frameScripts&&(this.__frameScripts=new yn),this.__frameScripts.h[t]=e):null!=this.__frameScripts&&this.__frameScripts.remove(t)},addStaticFrameScript:function(t,e){null!=e?(null==this.__staticFrameScripts&&(this.__staticFrameScripts=new yn),this.__staticFrameScripts.h[t]=e):null!=this.__staticFrameScripts&&this.__staticFrameScripts.remove(t)},gotoAndPlay:function(t,e){},gotoAndStop:function(t,e){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_framesLoaded:function(){return this.__totalFrames},get_totalFrames:function(){return this.__totalFrames},__class__:h,__properties__:s(o.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});function M(t,e){if(this.__maskDataDirty=!1,this.__updating9SliceBitmap=!1,this.__9SliceBitmapScaleY=0,this.__9SliceBitmapScaleX=0,h.call(this),this.__swf=t,this.__symbol=e,this.__lastUpdate=1,this.__objects=new yn,this.__zeroSymbol=-1,this.__childrenHaveClippedAtProperty=!1,this.__currentFrame=1,null!=this.__symbol?(this.__totalFrames=this.__symbol.frames.length,this.set_cacheAsBitmap(this.__symbol.useUniqueSharedBitmapCache)):this.__totalFrames=0,this.__SWFDepthData=new wn,this.__maskData=new wn,this.__maskDataKeys=[],this.__currentLabels=[],null!=this.__symbol)for(var i=0,s=this.__symbol.frames.length;i<s;){var n=i++;null!=this.__symbol.frames[n].label&&this.__currentLabels.push(new wh(this.__symbol.frames[n].label,1+n))}this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),1<this.__totalFrames&&this.play(),this.__renderFrame(0)}(i["format.swf.lite.MovieClip"]=M).__name__=["format","swf","lite","MovieClip"],M.__properties__={set_processSoundCommandCallback:"set_processSoundCommandCallback",get_processSoundCommandCallback:"get_processSoundCommandCallback"},M._processSoundCommandCallback=null,M.get_processSoundCommandCallback=function(){return M._processSoundCommandCallback},M.set_processSoundCommandCallback=function(t){return ua.current.addModule(new ii),M._processSoundCommandCallback=t},M.__super__=h,M.prototype=s(h.prototype,{enableChildrenCache:function(){this.__childrenCache=new wn},getSymbol:function(){return this.__symbol},gotoAndPlay:function(t,e){this.__goto(t,e)&&this.play()},gotoAndStop:function(t,e){this.__goto(t,e)&&this.stop()},nextFrame:function(){var t=this.__currentFrame+1;t>this.__totalFrames&&(t=this.__totalFrames),this.__currentFrame=t,this.__updateFrame()},play:function(){!this.__playing&&1<this.__totalFrames&&(this.__playing=!0,this.__timeElapsed=0)},prevFrame:function(){var t=this.__currentFrame-1;t<1&&(t=1),this.gotoAndStop(t)},stop:function(){this.__playing&&(this.__playing=!1)},get_graphics:function(){if(null!=this.__graphics&&null==this.__graphics.__owner)throw new qn("Not allowed!");return h.prototype.get_graphics.call(this)},unflatten:function(){this.__lastUpdate=0,this.__updateFrame()},__applyTween:function(t,e,i){return t+(e-t)*i},__createObject:function(t){var e=null,i=!1;if(null!=this.__childrenCache&&null!=this.__childrenCache.h.__keys__[t.__id__])return this.__childrenCache.h[t.__id__];if(this.__swf.symbols.h.hasOwnProperty(t.symbol)){var s=this.__swf.symbols.h[t.symbol];if(s.poolable&&(i=!0,0<s.pool.size)){var n=s.pool.get();return n.__reset(),null!=t.name&&n.set_name(t.name),n}if(null==e&&null!=s.className){var a=s.className,r=this.__swf.classes,o=null!=Kf[a]?r.getReserved(a):r.h[a];null!=o&&(e=mi.createInstance(o,[this.__swf,s]))}if(null==e&&this.__swf.classes_id.h.hasOwnProperty(t.symbol)){var h=this.__swf.classes_id.h[t.symbol];null!=h&&(e=mi.createInstance(h,[this.__swf,s]))}null==e&&(e=Jn.__instanceof(s,bi)?new M(this.__swf,s):Jn.__instanceof(s,Pn)?this.__createShape(s):Jn.__instanceof(s,fi)?this.__createMorphShape(s):Jn.__instanceof(s,_i)?new ph(mh.getFromSymbol(s),1,!0):Jn.__instanceof(s,ui)?new Ze(this.__swf,s):Jn.__instanceof(s,yi)?new oi(this.__swf,s):Jn.__instanceof(s,li)?new d(this.__swf,s):Jn.__instanceof(s,gi)?new ri(this.__swf,s):new W).set_forbidCachedBitmapUpdate(s.forbidCachedBitmapUpdate),e.symbolId=s.id,null!=t.name&&e.set_name(t.name)}return null==this.__childrenCache||i||this.__childrenCache.set(t,e),e},__createShape:function(t){var e=new Qe,i=new Sh(!1);return(e.__graphics=i).copyFrom(t.graphics,!0),i.__owner=e},__createMorphShape:function(t){return new $e(this.__swf,t)},__getFrameTime:function(){var t=this.stage.frameTime;return null!=t?t:this.__swf.frameTime},__enterFrame:function(t){if(this.__playing){this.__timeElapsed+=t;var e=this.stage.frameTime,i=null!=e?e:this.__swf.frameTime,s=Math.floor(this.__timeElapsed/i);for(this.__timeElapsed%=i,this.__currentFrame+=s;this.__currentFrame>this.__totalFrames;)this.__currentFrame-=this.__totalFrames;this.__updateFrame()}h.prototype.__enterFrame.call(this,t)},__getFrame:function(t){var e=0;if("number"==typeof t&&(0|t)===t)e=t;else if("string"==typeof t){var i=t;if(null!=this.__symbol){for(var s=!1,n=0,a=this.__symbol.frames.length;n<a;){var r=n++;if(this.__symbol.frames[r].label==i){e=1+r,s=!0;break}}s||(e=this.__currentFrame)}}return e<1?e=1:e>this.__totalFrames&&(e=this.__totalFrames),e},__goto:function(t,e){if(null!=this.__targetFrame)return!1;var i=this.__getFrame(t);if(i==this.__currentFrame)return!0;for(this.__targetFrame=i,this.play();this.__playing=!0,this.__currentFrame=this.__targetFrame,this.__updateFrame(),this.__targetFrame!=this.__currentFrame;);return this.__targetFrame=null,this.__playing},__placeObject:function(t,e){var i;if(null!=e.matrix&&(t.get_transform().set_matrix(e.matrix),Jn.__instanceof(t,Ze))){i=t;var s=e.matrix,n=i.symbol.x,a=i.symbol.y;t.set_x(Math.round(t.__transform.tx+s.a*n+s.c*a)),t.set_y(Math.round(t.__transform.ty+s.b*n+s.d*a))}Jn.__instanceof(t,$e)&&null!=e.ratio&&t.set_ratio(e.ratio);if(null!=e.colorTransform&&t.get_transform().set_colorTransform(e.colorTransform),null!=e.blendMode&&t.set_blendMode(e.blendMode),t.set_cacheAsBitmap(t.__resolvedCacheAsBitmap||e.cacheAsBitmap),null!=e.filters){for(var r=[],o=0,h=e.filters;o<h.length;){var _=h[o];switch(++o,_[1]){case 0:var l=_[4],u=_[3],c=_[2];r.push(new Z_(c,u,l));break;case 1:var f,d=_[3],p=_[2].value;f=null!=p?new Zf(p):null;var g,m=d.value;g=null!=m?new Zf(m):null,r.push(new Q_(f,g));break;case 2:var v=_[12],b=_[11],y=_[10],w=_[9],x=_[8],T=_[7],S=_[6],C=_[5],E=_[4],I=_[3],P=_[2];r.push(new $_(P,I,E,C,S,T,x,w,y,b,v));break;case 3:var k=_[9],D=_[8],A=_[7],M=_[6],R=_[5],F=_[4],B=_[3],L=_[2];r.push(new tl(L,B,F,R,M,A,D,k));break;case 4:var N=_[12],O=_[11],U=_[10],z=_[9],G=_[8],X=_[7],V=_[6],H=_[5],Y=_[4],W=_[3],j=_[2];r.push(new el(j,W,Y,H,V,X,G,z,U,O,N));break;case 5:var K=_[13],q=_[12],J=_[11],Z=_[10],Q=_[9],$=_[8],tt=_[7],et=_[6],it=_[5],st=_[4],nt=_[3],at=_[2];r.push(new q_(at,nt,st,it,et,tt,$,Q,Z,J,q,K));break;case 6:var rt=_[12],ot=_[11],ht=_[10],_t=_[9],lt=_[8],ut=_[7],ct=_[6],ft=_[5],dt=_[4],pt=_[3],gt=_[2];r.push(new K_(gt,pt,dt,ft,ct,ut,lt,_t,ht,ot,rt))}}t.set_filters(r)}else t.set_filters(null);null!=t.__name&&(this[t.__name]=t)},__update9SliceBitmap:function(){var t=Math.max(1,this.renderScaleX),e=Math.max(1,this.renderScaleY);if(null!=this.__9SliceBitmap&&(1e-5<Math.abs(t-this.__9SliceBitmapScaleX)||1e-5<Math.abs(e-this.__9SliceBitmapScaleY))&&(this.__9SliceBitmap.dispose(),this.__9SliceBitmap=null),null==this.__9SliceBitmap){this.__9SliceBitmapScaleX=t,this.__9SliceBitmapScaleY=e,this.__updating9SliceBitmap=!0;var i=El.pool.get();if(this.__getBounds(i),i.width<=0&&i.height<=0)throw El.pool.put(i),new qn("Error creating a cached bitmap. The texture size is "+i.width+"x"+i.height);if(null==this.__scale9Rect?this.__scale9Rect=this.__symbol.scalingGridRect.clone():this.__scale9Rect.copyFrom(this.__symbol.scalingGridRect),!this.__scale9Rect.intersects(i))return this.__9SliceBitmap=null,this.__updating9SliceBitmap=!1,void El.pool.put(i);this.__scale9Rect.x-=i.x,this.__scale9Rect.y-=i.y;var s=this.renderScaleX,n=this.renderScaleY;this.renderScaleX=t,this.renderScaleY=e;for(var a=0,r=this.__children;a<r._length;){var o=a>=r._length?null:r._items[a];if(++a,o.renderScaleX!=s||o.renderScaleY!=n)throw new qn(":TODO: 9 sliced child has different render scale than parent");o.renderScaleX=t,o.renderScaleY=e}var h=lo.current.stage.__renderer.renderSession,_=mh.__asRenderTexture();_.__resize(i.width,i.height,Math.ceil(i.width*t),Math.ceil(i.height*e));var l=ho.pool.get();l.identity(),l.a=t,l.d=e,l.translate(-i.x*t,-i.y*e),h.maskManager.pushMask(null),_.__pushFrameBuffer(h,!1,!1,!0),Yo.drawBitmapDrawable(h,null,this,l,null,null,null),Yo.popFramebuffer(h,null),_.__imageShouldBeSynced=!0;var u=_.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;_.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),_.__isValid=!0,_.__usingPingPongTexture=!0,h.maskManager.popMask(),ho.pool.put(l),El.pool.put(i),this.__9SliceBitmap=_,this.__updating9SliceBitmap=!1,this.renderScaleX=s,this.renderScaleY=n;for(var f=0,d=this.__children;f<d._length;){var p=f>=d._length?null:d._items[f];++f,p.renderScaleX=s,p.renderScaleY=n}}},drawScale9Bitmap:function(t){if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,s=this.__cacheGLMatrix,n=this.__worldColorTransform,a=this.__worldAlpha,r=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,s,n,a,r,o,2)}this.__isCachingAsBitmap=!1}else{var h=El.pool.get();this.__getBounds(h);var _=this.__9SliceBitmap.width,l=this.__9SliceBitmap.height,u=_-this.__scale9Rect.width,c=l-this.__scale9Rect.height,f=1,d=1,p=this.get_width(),g=this.get_height();p<u&&(f=p/u),g<c&&(d=g/c);var m=new El;m.set_left(f*this.__scale9Rect.get_left()),m.set_right(Math.max(m.get_left(),p-f*(_-this.__scale9Rect.get_right()))),m.set_top(d*this.__scale9Rect.get_top()),m.set_bottom(Math.max(m.get_top(),g-d*(l-this.__scale9Rect.get_bottom())));for(var v=_/p,b=l/g,y=[0,m.get_left()*v,m.get_right()*v,_],w=[0,m.get_top()*b,m.get_bottom()*b,l],x=[0,this.__scale9Rect.get_left()/_,this.__scale9Rect.get_right()/_,1],T=[0,this.__scale9Rect.get_top()/l,this.__scale9Rect.get_bottom()/l,1],S=Bh.pool.get(),C=this.__9SliceBitmap.get_uvData(),E=C.x1-C.x0,I=C.y2-C.y0,P=new ho,k=0;k<3;)for(var D=k++,A=0;A<3;){var M=A++,R=y[M],F=w[D],B=y[1+M]-y[M],L=w[1+D]-w[D];P.identity(),P.translate(R+h.x,F+h.y),P.concat(this.__renderTransform),S.x0=S.x3=x[M]*E,S.x1=S.x2=x[1+M]*E,S.y0=S.y1=T[D]*I,S.y2=S.y3=T[1+D]*I,t.spriteBatch.renderBitmapDataEx(this.__9SliceBitmap,B,L,S,!0,P,this.__worldColorTransform,1,this.__blendMode,this.__shader,null)}Bh.pool.put(S),El.pool.put(h)}},__renderGL:function(t){!this.isRenderable()||this.__worldAlpha<=0||(this.__updating9SliceBitmap||null==this.__symbol||null==this.__symbol.scalingGridRect||this.__update9SliceBitmap(),this.__updateSwfMaskData(),null!=this.__symbol&&null!=this.__symbol.scalingGridRect&&null!=this.__9SliceBitmap?this.drawScale9Bitmap(t):h.prototype.__renderGL.call(this,t))},frame0ChildrenUpdate:function(){if(null!=this.__symbol)for(var t=this.__symbol.frames[0],e=this.__objects.keys();e.hasNext();){for(var i=e.next(),s=!0,n=!0,a=0,r=t.objects;a<r.length;){var o=r[a];if(++a,o.id==i){n=!(s=o.symbol!=Dt.field(this.__objects.h[i],"symbolId"))&&null==o.colorTransform;break}}if(s){var h=this.__objects.h[i];null!=h&&this.removeChild(h),this.__objects.remove(i)}else n&&this.__objects.h[i].__colorTransform.reset()}},__renderFrame:function(t){if(null==this.__symbol||0==this.__symbol.frames.length)return!1;var e,i;0==t&&this.frame0ChildrenUpdate(),null!=(e=this.__symbol.frames[t]).startSound&&null!=M._processSoundCommandCallback&&(null!=this.__targetFrame&&this.__targetFrame!=t+1||M.soundCommandTable.push({movieClip:this,frame:t,command:e.startSound})),this.__currentFrame=t+1,this.__lastUpdate=t+1;for(var s=0,n=e.objects;s<n.length;){var a=n[s];if(++s,a.type!=Si.DESTROY){if(this.__objects.h.hasOwnProperty(a.id)){if(i=this.__objects.h[a.id],a.type==Si.UPDATE_CHARACTER){var r=i,o=this.__maskData.h[i.__id__];this.removeChild(i),(i=this.__createObject(a)).set_name(r.__name),i.get_transform().set_matrix(r.get_transform().getMatrixNoClone()),i.get_transform().set_colorTransform(r.get_transform().get_colorTransform()),i.set_alpha(r.__colorTransform.alphaMultiplier),null!=r.__filters&&i.set_filters(r.__filters.map(function(t){return t.clone()})),null!=o&&(this.__maskDataKeys.push(i),this.__maskData.set(i,o),i.__isMask=!0),this.__addChildAtSwfDepth(i,a.depth),this.__objects.h[a.id]=i}}else null!=(i=this.__createObject(a))&&(this.__addChildAtSwfDepth(i,a.depth),this.__objects.h[a.id]=i);if(null!=i&&(this.__placeObject(i,a),0!=a.clipDepth)){i.set_visible(!1);var h=a.clipDepth;this.__maskDataKeys.push(i),this.__maskData.set(i,h),i.__isMask=!0}}else this.__objects.h.hasOwnProperty(a.id)&&(null!=(i=this.__objects.h[a.id])&&i.parent==this&&this.removeChild(i),this.__objects.remove(a.id))}0<e.objects.length&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__maskDataDirty=!0);var _=this.__symbol.frames[t].label;return null!=(this.__currentFrameLabel=_)&&(this.__currentLabel=_),this.__updateSwfMaskData(),!(null==this.__frameScripts||null!=this.__targetFrame&&this.__targetFrame!=t+1||!this.__frameScripts.h.hasOwnProperty(t)||(this.__frameScripts.h[t](),t+1==this.__currentFrame))||!(null==this.__staticFrameScripts||null!=this.__targetFrame&&this.__targetFrame!=t+1||!this.__staticFrameScripts.h.hasOwnProperty(t)||(this.__staticFrameScripts.h[t](this),t+1==this.__currentFrame))},__addObjectToMaskData:function(t,e){this.__maskDataKeys.push(t),this.__maskData.set(t,e),t.__isMask=!0},__updateFrame:function(){if(this.__currentFrame!=this.__lastUpdate){var t=!1;if(this.__currentFrame<this.__lastUpdate){var e,i,s,n,a=this.__currentFrame;if(null==this.__targetFrame)for(e=this.__lastUpdate,i=this.__totalFrames;e<i;){var r=e++;if(t=this.__renderFrame(r),!this.__playing||t)break}if(this.__playing&&!t)for(s=0,n=a;s<n;){var o=s++;if(t=this.__renderFrame(o),!this.__playing||t)break}}else{var h,_;for(h=this.__lastUpdate,_=this.__currentFrame;h<_;){var l=h++;if(t=this.__renderFrame(l),!this.__playing||t)break}}}},__updateSwfMaskData:function(){if(this.__maskDataDirty){var t=this.__children._length;if(this.__childrenHaveClippedAtProperty){for(var e=0,i=this.__children;e<i._length;){var s=e>=i._length?null:i._items[e];++e,s.__clippedAt=-1}this.__childrenHaveClippedAtProperty=!1}if(0<this.__maskDataKeys.length){this.__childrenHaveClippedAtProperty=!0;for(var n=0,a=this.__maskDataKeys;n<a.length;){var r=a[n];++n;for(var o=this.getChildIndex(r),h=this.__maskData.h[r.__id__],_=t,l=o+1,u=t;l<u;){var c=l++,f=this.getChildAt(c);if(null!=f){if(this.__SWFDepthData.h[f.__id__]>h){_=c;break}f.__clippedAt=o}}r.__clipDepth=_-o-1}}}this.__maskDataDirty=!1},getNextHighestDepthExternal:function(){if(0<this.__children._length){var t=this.__SWFDepthData,e=this.getChildAt(this.__children._length-1);return t.h[e.__id__]-16383+1}return 0},getDepth:function(){return Jn.__cast(this.parent,M).__SWFDepthData.h[this.__id__]},getDepthExternal:function(){return this.getDepth()-16383},addChildAtSwfDepthExternal:function(t,e){this.__addChildAtSwfDepth(t,e+16383),this.__maskDataDirty=!0},swapDepths:function(t){var e,i=null,s=Jn.__cast(this.parent,M);if("number"==typeof t&&(0|t)===t||"number"==typeof t){e=16383+(0|t);for(var n=0,a=s.__children._length;n<a;){var r=n++,o=s.__SWFDepthData,h=s.getChildAt(r);if(o.h[h.__id__]==e){i=this.getChildAt(r);break}}}else{if(!Jn.__instanceof(t,W))throw new qn("Trying to swap depths with unknown type.. "+mi.getClassName(t));i=t,e=s.__SWFDepthData.h[t.__id__]}var _=this.getDepth();null!=i&&s.__addChildAtSwfDepth(i,_),s.__addChildAtSwfDepth(this,e),s.__maskDataDirty=!0},__addChildAtSwfDepth:function(t,e){this.__SWFDepthData.set(t,e);for(var i=this.__children._length-1;0<=i;){var s=this.getChildAt(i);if(this.__SWFDepthData.h[s.__id__]<=e)return void this.addChildAt(t,i+1);--i}this.addChildAt(t,0)},removeChild:function(t){var e=h.prototype.removeChild.call(this,t);return null!=t&&(this.__SWFDepthData.remove(e),L.remove(this.__maskDataKeys,e),this.__maskData.remove(e),this.__maskDataDirty=!0),e},__releaseResources:function(){return!!h.prototype.__releaseResources.call(this)&&(null!=this.__9SliceBitmap&&(this.__9SliceBitmap.dispose(),this.__9SliceBitmap=null),!0)},__debugPrintChildren:function(t){if(null==t&&(t=-1),null!=this.__symbol){var e=!1;if((t<0||t==this.__symbol.id)&&(e=!0),e){for(var i=this.__objects.keys();i.hasNext();){var s=i.next(),n=this.__objects.h[s],a=n.__name,r=null!=this.__maskData.h.__keys__[n.__id__];if(a.length<20){var o=20-a.length;a+=ln.repeat(o," ")}switch(r){case!1:pn.trace("parent ("+this.__symbol.id+")\t\t\t | object \t "+a+"\t\t\t | depth = "+this.__SWFDepthData.get(n)+"\t |",{fileName:"MovieClip.hx",lineNumber:1277,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"});break;case!0:pn.trace("parent ("+this.__symbol.id+")\t\t\t | mask\t\t "+a+"\t\t\t | depth = "+this.__SWFDepthData.get(n)+"\t | mask = "+this.__maskData.get(n),{fileName:"MovieClip.hx",lineNumber:1275,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"})}}pn.trace("-",{fileName:"MovieClip.hx",lineNumber:1281,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"})}}},mustResetRenderColorTransform:function(){return!!h.prototype.mustResetRenderColorTransform.call(this)||null!=this.__symbol&&null!=this.__symbol.scalingGridRect},toString:function(){return null!=this.__symbol?"[MovieClip id: "+this.__symbol.id+"]":h.prototype.toString.call(this)},__class__:M});function _(t,e){M.call(this,t,e)}(i.SpriteBase=_).__name__=["SpriteBase"],_.__super__=M,_.prototype=s(M.prototype,{get__root:function(){return R.instance},get__name:function(){return this.__name},get__x:function(){return this.__transform.tx},set__x:function(t){return this.set_x(t)},get__y:function(){return this.__transform.ty},set__y:function(t){return this.set_y(t)},get__X:function(){return this.__transform.tx},set__X:function(t){return this.set_x(t)},get__Y:function(){return this.__transform.ty},set__Y:function(t){return this.set_y(t)},get__width:function(){return this.get_width()},set__width:function(t){return this.set_width(t)},get__height:function(){return this.get_height()},set__height:function(t){return this.set_height(t)},get__rotation:function(){return this.__rotation},set__rotation:function(t){return this.set_rotation(t)},get__parent:function(){return this.parent},get__visible:function(){return this.__visible},set__visible:function(t){return this.set_visible(t)},get__alpha:function(){return 100*this.__colorTransform.alphaMultiplier},set__alpha:function(t){return this.set_alpha(t/100),t},get__xscale:function(){return 100*this.get_scaleX()},set__xscale:function(t){return this.set_scaleX(t/100),t},get__yscale:function(){return 100*this.get_scaleY()},set__yscale:function(t){return this.set_scaleY(t/100),t},get_onEnterFrame:function(){return this.__onEnterFrame},set_onEnterFrame:function(t){return null!=this.__onEnterFrame&&(this.removeEventListener("enterFrame",this.__onEnterFrame),this.__onEnterFrame=null),null!=t&&(this.__onEnterFrame=t,this.addEventListener("enterFrame",t)),t},set_onPress:function(t){if(null==t)throw new qn("todo");return this.addEventListener("mouseDown",t),t},set_onRelease:function(t){if(this.addEventListener("mouseUp",t),null==t)throw new qn("todo");return t},set_onReleaseOutside:function(t){if(null==t)throw new qn("todo");return t},set_onRollOver:function(t){if(null==t)throw new qn("todo");return this.addEventListener("rollOver",t),t},set_onRollOut:function(t){if(null==t)throw new qn("todo");return this.addEventListener("rollOut",t),t},on:function(t,e,i){},getNextHighestDepth:function(){return this.getNextHighestDepthExternal()},attachMovie:function(t,e,i,s){var n=Dt.field(this,e);null!=n&&this.removeChild(n);var a=R.swfLite.createMovieClip(t);if(a.set_name(e),null!=s)for(var r=0,o=Dt.fields(s);r<o.length;){var h=o[r];++r,Dt.setProperty(a,h,Dt.field(s,h))}return this.addChildAtSwfDepthExternal(a,i),this[e]=a},unloadMovie:function(){this.parent.removeChild(this)},setPlaced:function(){throw new qn(":TODO: setPlaced")},removeMovieClip:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},removeMovieClipFromTarget:function(t){var e=this.getTarget(t);if(null!=e&&null!=e.parent){var i=e.parent;e.parent.removeChild(e),""!=e.__name&&Dt.deleteField(i,e.__name)}},duplicateMovieClip:function(t,e){var i=this.getSymbol(),s=mi.createInstance(Jn.getClass(this),[R.swfLite,i]);s.set_name(t),s.set_transform(this.get_transform()),Jn.__cast(this.parent,M).addChildAtSwfDepthExternal(s,e)},duplicateMovieClipFromTarget:function(t,e,i){var s=this.getTarget(t),n=s.getSymbol(),a=mi.createInstance(null==s?null:Jn.getClass(s),[R.swfLite,n]);a.set_name(e),a.set_transform(s.get_transform()),Jn.__cast(s.parent,M).addChildAtSwfDepthExternal(a,i)},createEmptyMovieClip:function(t,e){var i=new _(null,null);return i.set_name(t),this.addChildAtSwfDepthExternal(i,e),i},getTimer:function(){return Date.now()},get__xmouse:function(){return this.get_mouseX()},get__ymouse:function(){return this.get_mouseY()},getTarget:function(t){var e=t.split("."),i=null;i="_root"==e[0]?R.instance:(i=this,r.getChild(i,e[0]));for(var s=1,n=e.length;s<n;){var a=s++;if(null==(i=r.getChild(i,e[a])))return null}return i},set:function(t,e){for(var i=t.split("."),s=i[0],n=1,a=i.length-1;n<a;){s+=".",s+=i[n++]}var r=this.getTarget(s);Dt.setProperty(r,i[i.length-1],e)},setProperty:function(t,e,i){var s=this.getTarget(t);Dt.setProperty(s,e,i)},hitTest:function(t){var e=this.getTarget(t);return null!=e&&this.hitTestObject(e)},getChildSB:function(t){return this.getChildByName(t)},getChildWithId:function(t){for(var e=0,i=this.__children._length;e<i;){var s=e++,n=this.getChildAt(s);if(n.symbolId==t||null!=n.__symbol&&n.__symbol.id==t)return n}return null},getChildAtDepth:function(t){for(var e=0,i=this.__children._length;e<i;){var s=e++,n=this.getChildAt(s);if(this.__SWFDepthData.h[n.__id__]==t)return n}return null},setMask:function(t){this.set_mask(t)},get__currentframe:function(){return this.get_currentFrame()},get__totalframes:function(){return this.get_totalFrames()},random:function(t){return O.random(t)},addKeyDownListener:function(t,e){if(""!=t)throw new qn(":TODO:");X.addKeyDownListener(e),this.addEventListener("removedFromStage",function(){X.removeKeyDownListener(e)})},set_onKeyDown:function(t){return X.addKeyDownListener(t),t},__class__:_,__properties__:s(M.prototype.__properties__,{set_onKeyDown:"set_onKeyDown",get__totalframes:"get__totalframes",get__currentframe:"get__currentframe",get__ymouse:"get__ymouse",get__xmouse:"get__xmouse",set_onRollOut:"set_onRollOut",set_onRollOver:"set_onRollOver",set_onReleaseOutside:"set_onReleaseOutside",set_onRelease:"set_onRelease",set_onPress:"set_onPress",set_onEnterFrame:"set_onEnterFrame",get_onEnterFrame:"get_onEnterFrame",set__yscale:"set__yscale",get__yscale:"get__yscale",set__xscale:"set__xscale",get__xscale:"get__xscale",set__alpha:"set__alpha",get__alpha:"get__alpha",set__visible:"set__visible",get__visible:"get__visible",get__parent:"get__parent",set__rotation:"set__rotation",get__rotation:"get__rotation",set__height:"set__height",get__height:"get__height",set__width:"set__width",get__width:"get__width",set__Y:"set__Y",get__Y:"get__Y",set__X:"set__X",get__X:"get__X",set__y:"set__y",get__y:"get__y",set__x:"set__x",get__x:"get__x",get__name:"get__name",get__root:"get__root"})});var R=function(){this.rotace=0,this._t=[],this.tank_=[],this.col=3355443,this.highScoreButtonAdded=!1,A.registerVersions();var t=si.fontAliases;null!=Kf.Moto?t.setReserved("Moto","Motor"):t.h.Moto="Motor";var e=si.fontAliases;null!=Kf.Aria?e.setReserved("Aria","Arial"):e.h.Aria="Arial";var i=si.fontAliases;null!=Kf["Arial C"]?i.setReserved("Arial C","Arial"):i.h["Arial C"]="Arial",M.set_processSoundCommandCallback(P.process),R.instance=this;var s=si.instances;if(!(null!=Kf["lib/tanks/tanks.dat"]?s.existsReserved("lib/tanks/tanks.dat"):s.h.hasOwnProperty("lib/tanks/tanks.dat"))){var n=si.instances,a=si.unserializeLibrary(su.toBytes(ro.getBytes("lib/tanks/tanks.dat"))),r=n;null!=Kf["lib/tanks/tanks.dat"]?r.setReserved("lib/tanks/tanks.dat",a):r.h["lib/tanks/tanks.dat"]=a}var o=si.instances;R.swfLite=null!=Kf["lib/tanks/tanks.dat"]?o.getReserved("lib/tanks/tanks.dat"):o.h["lib/tanks/tanks.dat"];var h=R.swfLite.root;this.setupClasses(R.swfLite),this.setupFrameScripts(),this.krajina=0,this.pocet_hracu=2,_.call(this,R.swfLite,h),I.register(),this.name="",Of.initialize()};(i.Main=R).__name__=["Main"],R.instance=null,R.swfLite=null,R.__super__=_,R.prototype=s(_.prototype,{setupClasses:function(t){t.classes_id.h[2]=Mf,t.classes_id.h[4]=Af,t.classes_id.h[16]=mu,t.classes_id.h[19]=du,t.classes_id.h[22]=gu,t.classes_id.h[25]=pu,t.classes_id.h[28]=vu,t.classes_id.h[31]=fu,t.classes_id.h[37]=hf,t.classes_id.h[38]=Dc,t.classes_id.h[40]=ff,t.classes_id.h[41]=Su,t.classes_id.h[42]=mf,t.classes_id.h[43]=yc,t.classes_id.h[44]=vf,t.classes_id.h[45]=Ic,t.classes_id.h[47]=bf,t.classes_id.h[48]=wc,t.classes_id.h[49]=yf,t.classes_id.h[50]=Tu,t.classes_id.h[51]=wf,t.classes_id.h[52]=bu,t.classes_id.h[53]=xf,t.classes_id.h[54]=Pc,t.classes_id.h[55]=Tf,t.classes_id.h[56]=Tc,t.classes_id.h[57]=Sc,t.classes_id.h[58]=Sf,t.classes_id.h[59]=Mc,t.classes_id.h[60]=Rc,t.classes_id.h[61]=Cf,t.classes_id.h[62]=Cu,t.classes_id.h[63]=Eu,t.classes_id.h[64]=Ef,t.classes_id.h[65]=yu,t.classes_id.h[66]=If,t.classes_id.h[67]=kc,t.classes_id.h[68]=Pf,t.classes_id.h[69]=xu,t.classes_id.h[73]=kf,t.classes_id.h[82]=Df,t.classes_id.h[94]=Ec,t.classes_id.h[96]=xc,t.classes_id.h[122]=Iu,t.classes_id.h[123]=Pu,t.classes_id.h[126]=Lc,t.classes_id.h[129]=ku,t.classes_id.h[135]=Nc,t.classes_id.h[136]=Du,t.classes_id.h[137]=Au,t.classes_id.h[139]=Oc,t.classes_id.h[143]=Mu,t.classes_id.h[145]=Uc,t.classes_id.h[148]=Ru,t.classes_id.h[151]=zc,t.classes_id.h[153]=Fu,t.classes_id.h[154]=Bu,t.classes_id.h[155]=Lu,t.classes_id.h[166]=Nu,t.classes_id.h[168]=Gc,t.classes_id.h[173]=Ou,t.classes_id.h[176]=Uu,t.classes_id.h[177]=Xc,t.classes_id.h[182]=zu,t.classes_id.h[184]=Vc,t.classes_id.h[188]=Gu,t.classes_id.h[190]=Hc,t.classes_id.h[194]=Xu,t.classes_id.h[197]=Yc,t.classes_id.h[198]=Vu,t.classes_id.h[201]=Wc,t.classes_id.h[206]=Hu,t.classes_id.h[209]=jc,t.classes_id.h[213]=Yu,t.classes_id.h[215]=Kc,t.classes_id.h[219]=Wu,t.classes_id.h[220]=qc,t.classes_id.h[221]=Jc,t.classes_id.h[222]=Ac,t.classes_id.h[225]=wu,t.classes_id.h[232]=Zc,t.classes_id.h[234]=Qc,t.classes_id.h[236]=$c,t.classes_id.h[239]=tf,t.classes_id.h[242]=ju,t.classes_id.h[247]=bc,t.classes_id.h[250]=Ku,t.classes_id.h[256]=Bc,t.classes_id.h[258]=qu,t.classes_id.h[264]=Nf,t.classes_id.h[303]=ef,t.classes_id.h[305]=Bf,t.classes_id.h[311]=Lf,t.classes_id.h[313]=Fc,t.classes_id.h[315]=Rf,t.classes_id.h[317]=Ff,t.classes_id.h[327]=Ju,t.classes_id.h[328]=Zu,t.classes_id.h[329]=Qu,t.classes_id.h[330]=$u,t.classes_id.h[331]=sf,t.classes_id.h[335]=tc,t.classes_id.h[342]=ec,t.classes_id.h[343]=ic,t.classes_id.h[344]=nf,t.classes_id.h[347]=af,t.classes_id.h[352]=sc,t.classes_id.h[356]=nc,t.classes_id.h[360]=ac,t.classes_id.h[361]=rf,t.classes_id.h[365]=of,t.classes_id.h[366]=rc,t.classes_id.h[371]=oc,t.classes_id.h[372]=hc,t.classes_id.h[373]=_c,t.classes_id.h[374]=lc,t.classes_id.h[375]=uc,t.classes_id.h[376]=cc,t.classes_id.h[377]=_f,t.classes_id.h[379]=fc,t.classes_id.h[388]=dc,t.classes_id.h[389]=pc,t.classes_id.h[390]=gc,t.classes_id.h[391]=mc,t.classes_id.h[392]=vc,t.classes_id.h[393]=lf,t.classes_id.h[394]=uf,t.classes_id.h[399]=cf,t.classes_id.h[400]=df,t.classes_id.h[401]=pf,t.classes_id.h[402]=gf;for(var e=[5,6,8,32,72,76,95,165,223,299],i=0;i<e.length;){var s=e[i];++i;var n=t.symbols.h[s];n.set_cachePrecision(0),n.set_translationCachePrecision(0),n.set_useBitmapCache(!0)}for(var a=[1,33,36,142,304,310,312,314,316],r=0;r<a.length;){var o=a[r];++r;var h=t.symbols.h[o];h.set_cachePrecision(10),h.set_translationCachePrecision(0),h.set_useBitmapCache(!0)}},setupFrameScripts:function(){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(4,Gf(this,this.frame5)),this.addFrameScript(5,Gf(this,this.frame6))},addHighScoreButton:function(){if(!this.highScoreButtonAdded){var t=new Je;t.set_defaultTextFormat(new ql("1_HelveticaLT77BoldCo",12,16777215)),t.set_htmlText("High Scores"),t.set_width(250),t.set_height(30),t.set_x(9),t.set_y(380),this.addChildAt(t,this.__children._length-2),t.addEventListener("click",function(){Of.client.showDialog("scores")}),this.highScoreButton=t,this.highScoreButtonAdded=!0}},removeHighScoreButton:function(){this.highScoreButtonAdded&&(this.removeChild(this.highScoreButton),this.highScoreButtonAdded=!1)},frame1:function(){this.stop(),this.debugging=!1;var t=this.getChildWithId(352);null!=t&&this.removeChild(t),this.addHighScoreButton()},frame2:function(){var t=this.getChildWithId(369);t.set_selectable(!0),t.set_type(1),this.weapons=[],this.weapons[0]=["bmissile","Small missile",0,0,"bmissile_g"],this.weapons[1]=["missile","Missile",2e3,10,"missile_g"],this.weapons[2]=["bnuke","Small atom bomb",5e3,2,"bnuke_g"],this.weapons[3]=["nuke","Atom bomb",13e3,1,"nuke_g"],this.weapons[4]=["funky","Volcano bomb",8e3,2,"funky_g"],this.weapons[5]=["mirv","Shower",9e3,2,"mirv_g"],this.weapons[6]=["death","Hot shower",3e4,1,"death_g"],this.weapons[7]=["broller","Small ball",5e3,5,"broller_g"],this.weapons[8]=["roller","Ball",6e3,2,"roller_g"],this.weapons[9]=["hroller","Large ball",15e3,1,"hroller_g"],this.weapons[10]=["broller2","Small ball V2",6500,5,"broller2_g"],this.weapons[11]=["roller2","Ball V2",7500,2,"roller2_g"],this.weapons[12]=["hroller2","Large ball V2",18e3,1,"hroller2_g"],this.weapons[13]=["astrike","Air strike",25e3,1,"astrike_g"],this.specials=[],this.specials[0]=["par","Parachutes",5e3,5],this.specials[1]=["repair","Repair kit",4e3,5],this.specials[2]=["fuel","Fuel",3e3,50],this.specials[3]=["sshield","Weak shield",5e3,2,"weak_sh"],this.specials[4]=["shield","Shield",1e4,1,"shield_sh"],this.specials[5]=["stshield","Strong shield",15e3,1,"strong_sh"],this.specials[6]=["spshield","Super shield",2e4,1,"super_sh"],this.specials[7]=["teleport","Teleport",15e3,1],this.specials[8]=["upenergy","Upgrade energy",5e3,1],this.specials[9]=["uparmor","Upgrade armor",1e4,1],this.specials[10]=["upmove","Upgrade engine",7e3,1],this.specials[11]=["uphill","Upgrade hill move",5e3,1];for(var e=1;e<this.pocet_hracu+1;){var i=R.instance.tank_[e]=new k;i.guns=[],i.specials=[];for(var s=0;s<this.weapons.length;)i.guns[s]=0,++s;for(s=0;s<this.specials.length;)i.specials[s]=0,++s;i.guns[0]=99,i.guns[4]=100,i.t_num=e,i.cur_gun=0,i.energy=100,i.max_energy=100,i.shield=1,i.specials[0]=8,i.specials[1]=8,i.specials[3]=8,i.specials[4]=8,i.specials[5]=8,i.specials[6]=8,i.specials[2]=250,i.specials[7]=8,i.fuel=500,i.score=5e3,i.total_score=0,i.live=!0,i.kills=0,i.col=3355443,i.name="",++e}0==this.krajina&&(this.rand_krajina=!0),this.game=0,this.uk="Next player",this.set_name(""),this.cur=1,this.cislo="Player "+this.cur,this.firstgame=!0,this.type="tank",this.released=!1,this.dif="normal"},frame3:function(){null!=this.panel&&this.panel.set_visible(!1);for(var t=1;this.pocet_hracu>=t;){var e=R.instance.tank_[t];e.live=!0,e.max_energy=100+10*e.specials[8],e.energy=e.max_energy,e.fuel=e.specials[2],++t}this.game++},frame4:function(){this.stop(),this.removeHighScoreButton()},nextplayer:function(){this.na_rade=this.next,this.na_rade.tank_number<this.pocet_hracu&&1<this.hracu?this.next=Jn.__cast(this.resolve("tank"+(this.na_rade.tank_number+1)),fu):1<this.hracu&&(this.next=Jn.__cast(this.tank1,fu)),this.na_rade.playing=!0,0==R.instance.tank_[this.na_rade.tank_number].live&&1<this.hracu?this.nextplayer():1<this.hracu&&this.na_rade.blik(),this.vitr+=-O.random(this.vitrchange)+this.vitrchange/2,this.panel.player_changed(),this.na_rade.na_rade()},test:function(){for(var t=1;this.pocet_hracu>=t;)Jn.__cast(N.getChild(R.instance,"tank"+t),fu).playing=!1,Jn.__cast(N.getChild(R.instance,"tank"+t),fu).testing=!0,Jn.__cast(N.getChild(R.instance,"tank"+t),fu).na_zemi=!1,++t;this.testing=!0},frame5:function(){for(var t=1;t<this.pocet_hracu+1;){var e=R.instance.tank_[t],i={tank_number:t,type:e.type};if("tank"==e.type){var s=R.instance,n=e.type,a="tank"+t,r=Dt.field(s,a);null!=r&&s.removeChild(r);var o=R.swfLite.createMovieClip(n);if(o.set_name(a),null!=i)for(var h=0,_=Dt.fields(i);h<_.length;){var l=_[h];++h,Dt.setProperty(o,l,Dt.field(i,l))}s.addChildAtSwfDepthExternal(o,1e4+t),s[a]=o}else{var u=R.instance,c=O.string(e.type)+"_"+O.string(e.dif),f="tank"+t,d=Dt.field(u,f);null!=d&&u.removeChild(d);var p=R.swfLite.createMovieClip(c);if(p.set_name(f),null!=i)for(var g=0,m=Dt.fields(i);g<m.length;){var v=m[g];++g,Dt.setProperty(p,v,Dt.field(i,v))}u.addChildAtSwfDepthExternal(p,1e4+t),u[f]=p}for(this.tank=Jn.__cast(N.getChild(R.instance,"tank"+t),fu),new B(this.tank.col).setRGB(e.col),this.tank.set_x(O.random(500)+20);400<N.getChild(R.instance,"land"+this.tank.__transform.tx).__transform.ty-N.getChild(R.instance,"land"+this.tank.__transform.tx).get_height()/2;)this.tank.set_x(O.random(500)+20);for(var b=1;b<t;){if(this.tank.__transform.tx<N.getChild(R.instance,"tank"+b).__transform.tx+350/R.instance.pocet_hracu&&N.getChild(R.instance,"tank"+b).__transform.tx-350/R.instance.pocet_hracu<this.tank.__transform.tx){for(this.tank.set_x(O.random(500)+20);400<N.getChild(R.instance,"land"+this.tank.__transform.tx).__transform.ty-N.getChild(R.instance,"land"+this.tank.__transform.tx).get_height()/2;)this.tank.set_x(O.random(500)+20);b=0}++b}this.tank.playing=!1,++t}for(t=1;t<this.pocet_hracu+1;)N.getChild(R.instance,"tank"+t).init&&N.getChild(R.instance,"tank"+t).init(),++t;this.next=this.tank1,this.na_rade=this.next;var y=R.instance,w=Dt.field(y,"panel");null!=w&&y.removeChild(w);var x=R.swfLite.createMovieClip("panel");for(x.set_name("panel"),y.addChildAtSwfDepthExternal(x,1e6),y.panel=x,this.panel.set_x(442.6),this.panel.set_y(28.4),this.fired=!1,this.power=50,t=1;this.pocet_hracu>=t;)R.instance.tank_[t].total_score<R.instance.tank_[this.next.tank_number].total_score&&(this.next=Jn.__cast(N.getChild(R.instance,"tank"+t),fu)),++t;this.hracu=this.pocet_hracu,this.panel.set_visible(!0),this.end=!1,this.tank_number=1,this.fuel_c=1/(R.instance.tank_[this.tank_number].specials[10]+1)},frame6:function(){this.test(),this.stop()},__class__:R});var l=function(){var t=lo.current;t.addChildAt(this,t.__children._length),R.call(this),this.dispatchEvent(new Ne("addedToStage",!1,!1))};(i.DocumentClass=l).__name__=["DocumentClass"],l.__super__=R,l.prototype=s(R.prototype,{__class__:l});function F(){this.ct=new oo}(i.As2ColorTransform=F).__name__=["As2ColorTransform"],F.prototype={set_ra:function(t){return this.ct.redMultiplier=t/100},set_rb:function(t){return this.ct.redOffset=t},set_ga:function(t){return this.ct.greenMultiplier=t/100},set_gb:function(t){return this.ct.greenOffset=t},set_ba:function(t){return this.ct.blueMultiplier=t/100},set_bb:function(t){return this.ct.blueOffset=t},set_aa:function(t){return this.ct.alphaMultiplier=t/100},set_ab:function(t){return this.ct.alphaOffset=t},__class__:F,__properties__:{set_ab:"set_ab",set_aa:"set_aa",set_bb:"set_bb",set_ba:"set_ba",set_gb:"set_gb",set_ga:"set_ga",set_rb:"set_rb",set_ra:"set_ra"}};var u={};(i["_ButtonBase.AMain_Impl_"]=u).__name__=["_ButtonBase","AMain_Impl_"],u.getChild=function(t,e){return t[e]};function c(t,e,i,s){this.__childRect=new El,j.call(this),this.enabled=!0,this.trackAsMenu=!1,this.useHandCursor=!0,this.mouseChildren=!1,this.set_upState(null!=t?t:new W),this.set_overState(e),this.set_downState(i),this.set_hitTestState(null!=s?s:new W),this.addEventListener("mouseDown",Gf(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",Gf(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",Gf(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",Gf(this,this.__this_onMouseUp)),this.set___currentState(this.upState)}(i["openfl.display.SimpleButton"]=c).__name__=["openfl","display","SimpleButton"],c.__super__=j,c.prototype=s(j.prototype,{__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?Yr.POINTER:null},set_downState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.downState&&(this.removeChild(this.downState),this.__currentState==this.downState&&this.set___currentState(t))):null!=this.downState&&this.removeChild(this.downState),this.downState=t},set_hitTestState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_alpha(0),null!=this.hitTestState&&(this.removeChild(this.hitTestState),this.__currentState==this.hitTestState&&this.set___currentState(t))):null!=this.hitTestState&&this.removeChild(this.hitTestState),this.hitTestState=t},set_overState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.overState&&(this.removeChild(this.overState),this.__currentState==this.overState&&this.set___currentState(t))):null!=this.overState&&this.removeChild(this.overState),this.overState=t},get_soundTransform:function(){return null==this.__soundTransform&&(this.__soundTransform=new Rl),new Rl(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(t){return this.__soundTransform=new Rl(t.volume,t.pan),t},set_upState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.upState&&(this.removeChild(this.upState),this.__currentState==this.upState&&this.set___currentState(t))):null!=this.upState&&this.removeChild(this.upState),this.upState=t},set___currentState:function(t){return t==this.__currentState?t:(null!=this.__currentState&&this.__currentState.set_visible(!1),t.set_visible(!0),this.__currentState=t)},__this_onMouseDown:function(t){this.__stateChange("overup","down"),null!=this.downState&&this.set___currentState(this.downState)},__this_onMouseOut:function(t){this.__ignoreEvent=!1,this.upState!=this.__currentState&&(this.set___currentState(this.upState),this.__stateChange("overup","idle"))},__this_onMouseOver:function(t){t.buttonDown&&(this.__ignoreEvent=!0),this.overState==this.__currentState||null==this.overState||this.__ignoreEvent||(this.set___currentState(this.overState),this.__stateChange("idle","overup"))},__this_onMouseUp:function(t){this.__ignoreEvent=!1,this.__stateChange("down","overup"),null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__stateChange:function(t,e){},__class__:c,__properties__:s(j.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var d=function(t,e){c.call(this),null!=(this.symbol=e).downState&&this.set_downState(new M(t,e.downState)),null!=e.hitState&&this.set_hitTestState(new M(t,e.hitState)),null!=e.overState&&this.set_overState(new M(t,e.overState)),null!=e.upState&&this.set_upState(new M(t,e.upState))};(i["format.swf.lite.SimpleButton"]=d).__name__=["format","swf","lite","SimpleButton"],d.__super__=c,d.prototype=s(c.prototype,{__stateChange:function(t,e){switch(t){case"down":"overup"==e&&null!=this.symbol.onUpSound&&M._processSoundCommandCallback(this.symbol.onUpSound);break;case"idle":"overup"==e&&null!=this.symbol.onOverSound&&M._processSoundCommandCallback(this.symbol.onOverSound);break;case"overup":switch(e){case"down":null!=this.symbol.onDownSound&&M._processSoundCommandCallback(this.symbol.onDownSound);break;case"idle":null!=this.symbol.onIdleSound&&M._processSoundCommandCallback(this.symbol.onIdleSound)}}},__class__:d});function p(t,e){d.call(this,t,e)}(i.ButtonBase=p).__name__=["ButtonBase"],p.__onKey=function(){for(var t=0,e=p.keyCallbackTable;t<e.length;){var i=e[t];++t,X.getCode()==i.code&&i.f()}},p.__getCode=function(t){switch(t){case"Enter":return 13;case"Space":return 32;default:return L.cca(t,0)}},p.__super__=d,p.prototype=s(d.prototype,{get__root:function(){return R.instance},gotoAndPlay:function(t){Jn.__cast(this.parent,M).gotoAndPlay(t)},gotoAndStop:function(t){Jn.__cast(this.parent,M).gotoAndStop(t)},nextFrame:function(){Jn.__cast(this.parent,M).nextFrame()},prevFrame:function(){Jn.__cast(this.parent,M).prevFrame()},play:function(){Jn.__cast(this.parent,M).play()},getUrl:function(t,e){lo.getURL(new Ll(t),e)},resolve:function(t){return Jn.__cast(this.parent,M).resolve(t)},getTimer:function(){return Date.now()},get__visible:function(){return this.__visible},set__visible:function(t){return this.set_visible(t)},get__xscale:function(){return 100*this.get_scaleX()},set__xscale:function(t){return this.set_scaleX(t/100),t},get__yscale:function(){return 100*this.get_scaleY()},set__yscale:function(t){return this.set_scaleY(t/100),t},getDepth:function(){return Jn.__cast(this.parent,M).__SWFDepthData.h[this.__id__]},swapDepths:function(t){var e,i=null,s=Jn.__cast(this.parent,M);if("number"==typeof t&&(0|t)===t||"number"==typeof t){e=16383+(0|t);for(var n=0,a=s.__children._length;n<a;){var r=n++,o=s.__SWFDepthData,h=s.getChildAt(r);if(o.h[h.__id__]==e){i=this.getChildAt(r);break}}}else{if(!Jn.__instanceof(t,W))throw new qn("Trying to swap depths with unknown type.. "+mi.getClassName(t));i=t,e=s.__SWFDepthData.h[t.__id__]}var _=this.getDepth();null!=i&&(s.removeChild(i),s.__addChildAtSwfDepth(i,_)),s.removeChild(this),s.__addChildAtSwfDepth(this,e),s.__maskDataDirty=!0},get__parent:function(){return this.parent},startDrag:function(){},stopDrag:function(){this.stage.__stopDrag(null)},addKeyPressListener:function(t,e){p.keyCallbackTable.push({code:p.__getCode(t),f:e}),p.inserted||(X.addKeyDownListener(p.__onKey),p.inserted=!0)},removeKeyPressListener:function(t,e){for(var i=p.__getCode(t),s=0,n=p.keyCallbackTable.length;s<n;){var a=s++,r=p.keyCallbackTable[a];if(r.code==i&&Dt.compareMethods(r.f,e)){p.keyCallbackTable[a]=p.keyCallbackTable[p.keyCallbackTable.length-1],p.keyCallbackTable.pop();break}}},__class__:p,__properties__:s(d.prototype.__properties__,{get__parent:"get__parent",set__yscale:"set__yscale",get__yscale:"get__yscale",set__xscale:"set__xscale",get__xscale:"get__xscale",set__visible:"set__visible",get__visible:"get__visible",get__root:"get__root"})});var B=function(t){this.mc=t};(i.Color=B).__name__=["Color"],B.prototype={setRGB:function(t){var e=new oo;e.set_color(t),this.mc.get_transform().set_colorTransform(e)},setTransform:function(t){this.mc.get_transform().set_colorTransform(t.ct)},__class__:B};function Qt(){this.onChange=new na}(i["lime.AssetLibrary"]=Qt).__name__=["lime","AssetLibrary"],Qt.prototype={exists:function(t,e){return!1},getAudioBuffer:function(t){return null},getBytes:function(t){return null},getFont:function(t){return null},getImage:function(t){return null},getPath:function(t){return null},getPathMap:function(){return null},getExtraSoundOptions:function(t){return null},getText:function(t){var e=this.getBytes(t);return null==e?null:e.getString(0,e.length)},isLocal:function(t,e){return!0},list:function(t){return null},load:function(){var t=this;return new Da(function(){return t})},loadAudioBuffer:function(t){var e=this;return new Da(function(){return e.getAudioBuffer(t)})},loadBytes:function(t){var e=this;return new Da(function(){return e.getBytes(t)})},loadFont:function(t){var e=this;return new Da(function(){return e.getFont(t)})},loadImage:function(t){var e=this;return new Da(function(){return e.getImage(t)})},loadText:function(t){return this.loadBytes(t).then(function(t){return new Da(function(){return null==t?null:t.getString(0,t.length)})})},unload:function(){},__class__:Qt};function g(){this.extraSoundOptions=new Tn,this.fontData=new Tn,this.type=new Tn,this.path=new Tn,this.className=new Tn,Qt.call(this);var t=new Tn;se.registerFont(ne),se.registerFont(ae),se.registerFont(re),se.registerFont(oe);var e=this.fontData,i={ascent:.9052734375,descent:.2119140625};null!=Kf.Arial?e.setReserved("Arial",i):e.h.Arial=i;var s=this.fontData,n={ascent:.767578125,descent:.19921875};null!=Kf["0_HelveticaCECondense"]?s.setReserved("0_HelveticaCECondense",n):s.h["0_HelveticaCECondense"]=n;var a=this.fontData,r={ascent:.947265625,descent:.2744140625};null!=Kf.Motor?a.setReserved("Motor",r):a.h.Motor=r;var o=this.fontData,h={ascent:.961,descent:.224};null!=Kf["1_HelveticaLT77BoldCo"]?o.setReserved("1_HelveticaLT77BoldCo",h):o.h["1_HelveticaLT77BoldCo"]=h;var _="assets/sounds/2.m4a",l=this.path;null!=Kf[_]?l.setReserved(_,_):l.h[_]=_;var u=this.type;null!=Kf[_]?u.setReserved(_,"SOUND"):u.h[_]="SOUND",_="assets/sounds/35.m4a";var c=this.path;null!=Kf[_]?c.setReserved(_,_):c.h[_]=_;var f=this.type;null!=Kf[_]?f.setReserved(_,"SOUND"):f.h[_]="SOUND",_="assets/sounds/121.m4a";var d=this.path;null!=Kf[_]?d.setReserved(_,_):d.h[_]=_;var p=this.type;null!=Kf[_]?p.setReserved(_,"SOUND"):p.h[_]="SOUND",_="assets/sounds/46.m4a";var g=this.path;null!=Kf[_]?g.setReserved(_,_):g.h[_]=_;var m=this.type;null!=Kf[_]?m.setReserved(_,"SOUND"):m.h[_]="SOUND",_="assets/sounds/246.m4a";var v=this.path;null!=Kf[_]?v.setReserved(_,_):v.h[_]=_;var b=this.type;null!=Kf[_]?b.setReserved(_,"SOUND"):b.h[_]="SOUND",_="assets/sounds/12.m4a";var y=this.path;null!=Kf[_]?y.setReserved(_,_):y.h[_]=_;var w=this.type;null!=Kf[_]?w.setReserved(_,"SOUND"):w.h[_]="SOUND",_="assets/sounds/39.m4a";var x=this.path;null!=Kf[_]?x.setReserved(_,_):x.h[_]=_;var T=this.type;null!=Kf[_]?T.setReserved(_,"SOUND"):T.h[_]="SOUND",_="assets/sounds/346.wav";var S=this.path;null!=Kf[_]?S.setReserved(_,_):S.h[_]=_;var C=this.type;null!=Kf[_]?C.setReserved(_,"SOUND"):C.h[_]="SOUND",_="assets/fonts/348_Helvetica CE Condensed.svg";var E=this.path;null!=Kf[_]?E.setReserved(_,_):E.h[_]=_;var I=this.type;null!=Kf[_]?I.setReserved(_,"TEXT"):I.h[_]="TEXT",_="assets/fonts/98_Arial.svg";var P=this.path;null!=Kf[_]?P.setReserved(_,_):P.h[_]=_;var k=this.type;null!=Kf[_]?k.setReserved(_,"TEXT"):k.h[_]="TEXT",_="assets/fonts/243_Motor.eot";var D=this.path;null!=Kf[_]?D.setReserved(_,_):D.h[_]=_;var A=this.type;null!=Kf[_]?A.setReserved(_,"BINARY"):A.h[_]="BINARY",_="assets/fonts/98_Arial.json";var M=this.path;null!=Kf[_]?M.setReserved(_,_):M.h[_]=_;var R=this.type;null!=Kf[_]?R.setReserved(_,"TEXT"):R.h[_]="TEXT",_="assets/fonts/HelveticaNeueLT-BoldCond.json";var F=this.path;null!=Kf[_]?F.setReserved(_,_):F.h[_]=_;var B=this.type;null!=Kf[_]?B.setReserved(_,"TEXT"):B.h[_]="TEXT",_="assets/fonts/HelveticaNeueLT-BoldCond.svg";var L=this.path;null!=Kf[_]?L.setReserved(_,_):L.h[_]=_;var N=this.type;null!=Kf[_]?N.setReserved(_,"TEXT"):N.h[_]="TEXT",_="assets/fonts/HelveticaNeueLT-BoldCond.woff2";var O=this.path;null!=Kf[_]?O.setReserved(_,_):O.h[_]=_;var U=this.type;null!=Kf[_]?U.setReserved(_,"BINARY"):U.h[_]="BINARY",_="assets/fonts/98_Arial.woff";var z=this.path;null!=Kf[_]?z.setReserved(_,_):z.h[_]=_;var G=this.type;null!=Kf[_]?G.setReserved(_,"BINARY"):G.h[_]="BINARY",_="assets/fonts/243_Motor.json";var X=this.path;null!=Kf[_]?X.setReserved(_,_):X.h[_]=_;var V=this.type;null!=Kf[_]?V.setReserved(_,"TEXT"):V.h[_]="TEXT",_="assets/fonts/98_Arial.ttf";var H=this.className,Y=$t;null!=Kf[_]?H.setReserved(_,Y):H.h[_]=Y;var W=this.type;null!=Kf[_]?W.setReserved(_,"FONT"):W.h[_]="FONT",_="assets/fonts/98_Arial.eot";var j=this.path;null!=Kf[_]?j.setReserved(_,_):j.h[_]=_;var K=this.type;null!=Kf[_]?K.setReserved(_,"BINARY"):K.h[_]="BINARY",_="assets/fonts/348_Helvetica CE Condensed.ttf";var q=this.className,J=te;null!=Kf[_]?q.setReserved(_,J):q.h[_]=J;var Z=this.type;null!=Kf[_]?Z.setReserved(_,"FONT"):Z.h[_]="FONT",_="assets/fonts/HelveticaNeueLT-BoldCond.woff";var Q=this.path;null!=Kf[_]?Q.setReserved(_,_):Q.h[_]=_;var $=this.type;null!=Kf[_]?$.setReserved(_,"BINARY"):$.h[_]="BINARY",_="assets/fonts/243_Motor.svg";var tt=this.path;null!=Kf[_]?tt.setReserved(_,_):tt.h[_]=_;var et=this.type;null!=Kf[_]?et.setReserved(_,"TEXT"):et.h[_]="TEXT",_="assets/fonts/98_Arial.woff2";var it=this.path;null!=Kf[_]?it.setReserved(_,_):it.h[_]=_;var st=this.type;null!=Kf[_]?st.setReserved(_,"BINARY"):st.h[_]="BINARY",_="assets/fonts/HelveticaNeueLT-BoldCond.eot";var nt=this.path;null!=Kf[_]?nt.setReserved(_,_):nt.h[_]=_;var at=this.type;null!=Kf[_]?at.setReserved(_,"BINARY"):at.h[_]="BINARY",_="assets/fonts/348_Helvetica CE Condensed.woff";var rt=this.path;null!=Kf[_]?rt.setReserved(_,_):rt.h[_]=_;var ot=this.type;null!=Kf[_]?ot.setReserved(_,"BINARY"):ot.h[_]="BINARY",_="assets/fonts/243_Motor.woff2";var ht=this.path;null!=Kf[_]?ht.setReserved(_,_):ht.h[_]=_;var _t=this.type;null!=Kf[_]?_t.setReserved(_,"BINARY"):_t.h[_]="BINARY",_="assets/fonts/243_Motor.ttf";var lt=this.className,ut=ee;null!=Kf[_]?lt.setReserved(_,ut):lt.h[_]=ut;var ct=this.type;null!=Kf[_]?ct.setReserved(_,"FONT"):ct.h[_]="FONT",_="assets/fonts/243_Motor.woff";var ft=this.path;null!=Kf[_]?ft.setReserved(_,_):ft.h[_]=_;var dt=this.type;null!=Kf[_]?dt.setReserved(_,"BINARY"):dt.h[_]="BINARY",_="assets/fonts/HelveticaNeueLT-BoldCond.ttf";var pt=this.className,gt=ie;null!=Kf[_]?pt.setReserved(_,gt):pt.h[_]=gt;var mt=this.type;null!=Kf[_]?mt.setReserved(_,"FONT"):mt.h[_]="FONT",_="assets/fonts/348_Helvetica CE Condensed.json";var vt=this.path;null!=Kf[_]?vt.setReserved(_,_):vt.h[_]=_;var bt=this.type;null!=Kf[_]?bt.setReserved(_,"TEXT"):bt.h[_]="TEXT",_="assets/fonts/348_Helvetica CE Condensed.eot";var yt=this.path;null!=Kf[_]?yt.setReserved(_,_):yt.h[_]=_;var wt=this.type;null!=Kf[_]?wt.setReserved(_,"BINARY"):wt.h[_]="BINARY",_="assets/fonts/348_Helvetica CE Condensed.woff2";var xt=this.path;null!=Kf[_]?xt.setReserved(_,_):xt.h[_]=_;var Tt=this.type;null!=Kf[_]?Tt.setReserved(_,"BINARY"):Tt.h[_]="BINARY",_="lib/intro/intro.dat";var St=this.path;null!=Kf[_]?St.setReserved(_,_):St.h[_]=_;var Ct=this.type;null!=Kf[_]?Ct.setReserved(_,"BINARY"):Ct.h[_]="BINARY",_="libraries/intro.json";var Et=this.path;null!=Kf[_]?Et.setReserved(_,"lib/intro.json"):Et.h[_]="lib/intro.json";var It=this.type;null!=Kf[_]?It.setReserved(_,"TEXT"):It.h[_]="TEXT",_="lib/tanks/237.jpg";var Pt=this.path;null!=Kf[_]?Pt.setReserved(_,_):Pt.h[_]=_;var kt=this.type;null!=Kf[_]?kt.setReserved(_,"IMAGE"):kt.h[_]="IMAGE",_="lib/tanks/318.jpg";var Dt=this.path;null!=Kf[_]?Dt.setReserved(_,_):Dt.h[_]=_;var At=this.type;null!=Kf[_]?At.setReserved(_,"IMAGE"):At.h[_]="IMAGE",_="lib/tanks/230.jpg";var Mt=this.path;null!=Kf[_]?Mt.setReserved(_,_):Mt.h[_]=_;var Rt=this.type;null!=Kf[_]?Rt.setReserved(_,"IMAGE"):Rt.h[_]="IMAGE",_="lib/tanks/tanks.dat";var Ft=this.path;null!=Kf[_]?Ft.setReserved(_,_):Ft.h[_]=_;var Bt=this.type;null!=Kf[_]?Bt.setReserved(_,"BINARY"):Bt.h[_]="BINARY",_="libraries/tanks.json";var Lt=this.path;null!=Kf[_]?Lt.setReserved(_,"lib/tanks.json"):Lt.h[_]="lib/tanks.json";var Nt=this.type;null!=Kf[_]?Nt.setReserved(_,"TEXT"):Nt.h[_]="TEXT";var Ot=null;if(null!=Zt.config&&Object.prototype.hasOwnProperty.call(Zt.config,"assetsPrefix")&&(Ot=Zt.config.assetsPrefix),null!=Ot)for(var Ut=this.path.keys();Ut.hasNext();){var zt=Ut.next(),Gt=this.path,Xt=this.path,Vt=Ot+(null!=Kf[zt]?Xt.getReserved(zt):Xt.h[zt]),Ht=Gt;null!=Kf[zt]?Ht.setReserved(zt,Vt):Ht.h[zt]=Vt}var Yt=null;null!=Zt.config&&Object.prototype.hasOwnProperty.call(Zt.config,"remoteAssetPath")&&(Yt=Zt.config.remoteAssetPath);for(var Wt=t.keys();Wt.hasNext();){var jt=Wt.next(),Kt=this.path,qt=null!=Yt?Yt+(null!=Kf[jt]?t.getReserved(jt):t.h[jt]):null!=Kf[jt]?t.getReserved(jt):t.h[jt],Jt=Kt;null!=Kf[jt]?Jt.setReserved(jt,qt):Jt.h[jt]=qt}}(i.DefaultAssetLibrary=g).__name__=["DefaultAssetLibrary"],g.getStringFromBytes=function(t){for(var e=so.fromBytes(t),i=e.length,s="",n=65535,a=0;a<i;)i<a+n&&(n=i-a),s+=String.fromCharCode.apply(null,e.subarray(a,a+n)),a+=n;return s},g.__super__=Qt,g.prototype=s(Qt.prototype,{exists:function(t,e){var i=null!=e?Jn.__cast(e,String):null,s=this.type,n=null!=Kf[t]?s.getReserved(t):s.h[t];if(null!=n){if(n==i||("SOUND"==i||"MUSIC"==i)&&("MUSIC"==n||"SOUND"==n))return!0;if("BINARY"==i||null==i||"BINARY"==n&&"TEXT"==i)return!0}return!1},getAudioBuffer:function(t){return null},getBytes:function(t){var e=Aa.loaders,i=this.path,s=null!=Kf[t]?i.getReserved(t):i.h[t],n=e,a=null!=Kf[s]?n.getReserved(s):n.h[s];if(null==a)return null;var r=a.response.bytes;return null!=r?r:null},getFont:function(t){var e=this.className;return Jn.__cast(mi.createInstance(null!=Kf[t]?e.getReserved(t):e.h[t],[]),m)},getImage:function(t){var e=Aa.images,i=this.path,s=null!=Kf[t]?i.getReserved(t):i.h[t],n=e;return ja.fromImageElement(null!=Kf[s]?n.getReserved(s):n.h[s])},getPath:function(t){var e=this.path;return null!=Kf[t]?e.getReserved(t):e.h[t]},getPathMap:function(){return this.path},getExtraSoundOptions:function(t){var e=this.extraSoundOptions;return null!=Kf[t]?e.getReserved(t):e.h[t]},getText:function(t){var e=Aa.loaders,i=this.path,s=null!=Kf[t]?i.getReserved(t):i.h[t],n=e,a=null!=Kf[s]?n.getReserved(s):n.h[s];if(null==a)return null;if(null!=a.response.text)return a.response.text;var r=a.response.bytes;return null!=r?r.getString(0,r.length):null},isLocal:function(t,e){return!0},list:function(t){for(var e=null!=t?Jn.__cast(t,String):null,i=[],s=this.type.keys();s.hasNext();){var n=s.next();null!=e&&!this.exists(n,t)||i.push(n)}return i},loadAudioBuffer:function(t){var e=this,i=new Ma;return i.completeWith(new Da(function(){return e.getAudioBuffer(t)})),i.future},loadBytes:function(t){var e=new Ma,i=this.path;if(null!=Kf[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var s=new mr,n=this.path,a=s.load((null!=Kf[t]?n.getReserved(t):n.h[t])+"?"+aa.cache.version);a.onProgress(function(t){e.progress(t)}),a.onError(function(t){e.error(t)}),a.onComplete(function(t){e.complete(t.bytes)})}else{var r=this.getBytes(t);e.complete(r)}return e.future},loadImage:function(t){var i=new Ma,e=this.path;if(null!=Kf[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var s=new Image;s.crossOrigin="Anonymous",s.onload=function(t){var e=ja.fromImageElement(s);i.complete(e)},s.onerror=Gf(i,i.error);var n=this.path,a=null!=Kf[t]?n.getReserved(t):n.h[t];s.src=a+"?"+aa.cache.version}else{var r=this.getImage(t);i.complete(r)}return i.future},loadText:function(t){var e=new Ma,i=this.path;if(null!=Kf[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var s=new mr,n=this.path,a=s.load((null!=Kf[t]?n.getReserved(t):n.h[t])+"?"+aa.cache.version);a.onProgress(function(t){e.progress(t)}),a.onError(function(t){e.error(t)}),a.onComplete(function(t){e.complete(t.text)})}else{var r=this.getText(t);e.complete(r)}return e.future},__class__:g});var m=function(t){null!=t&&(this.name=t),null!=this.__fontPath&&this.__fromFile(this.__fontPath)};(i["lime.text.Font"]=m).__name__=["lime","text","Font"],m.fromBytes=function(t){var e=new m;return e.__fromBytes(t),e},m.fromFile=function(t){var e=new m;return e.__fromFile(t),e},m.prototype={decompose:function(){return null},getGlyph:function(t){return-1},getGlyphs:function(t){return null==t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^`'\"/\\&*()[]{}<>|:;_-+=?,. "),null},getGlyphMetrics:function(t){return null},renderGlyph:function(t,e){return null},renderGlyphs:function(t,e){return null},__fromBytes:function(t){this.__fontPath=null},__fromFile:function(t){this.__fontPath=t},get_ascender:function(){return 0},get_descender:function(){return 0},get_height:function(){return 0},get_numGlyphs:function(){return 0},get_underlinePosition:function(){return 0},get_underlineThickness:function(){return 0},get_unitsPerEM:function(){return 0},__class__:m,__properties__:{get_unitsPerEM:"get_unitsPerEM",get_underlineThickness:"get_underlineThickness",get_underlinePosition:"get_underlinePosition",get_numGlyphs:"get_numGlyphs",get_height:"get_height",get_descender:"get_descender",get_ascender:"get_ascender"}};var $t=function(){m.call(this),this.name="Arial"};(i.__ASSET__assets_fonts_98_arial_ttf=$t).__name__=["__ASSET__assets_fonts_98_arial_ttf"],$t.__super__=m,$t.prototype=s(m.prototype,{__class__:$t});var te=function(){m.call(this),this.name="0_HelveticaCECondense"};(i.__ASSET__assets_fonts_348_helvetica_ce_condensed_ttf=te).__name__=["__ASSET__assets_fonts_348_helvetica_ce_condensed_ttf"],te.__super__=m,te.prototype=s(m.prototype,{__class__:te});var ee=function(){m.call(this),this.name="Motor"};(i.__ASSET__assets_fonts_243_motor_ttf=ee).__name__=["__ASSET__assets_fonts_243_motor_ttf"],ee.__super__=m,ee.prototype=s(m.prototype,{__class__:ee});var ie=function(){m.call(this),this.name="1_HelveticaLT77BoldCo"};(i.__ASSET__assets_fonts_helveticaneuelt_boldcond_ttf=ie).__name__=["__ASSET__assets_fonts_helveticaneuelt_boldcond_ttf"],ie.__super__=m,ie.prototype=s(m.prototype,{__class__:ie});var se=function(t){m.call(this,t)};(i["openfl.text.Font"]=se).__name__=["openfl","text","Font"],se.enumerateFonts=function(t){return null==t&&(t=!1),se.__registeredFonts},se.fromBytes=function(t){var e=new se;return e.__fromBytes(su.toBytes(t)),e},se.fromFile=function(t){var e=new se;return e.__fromFile(t),e},se.registerFont=function(t){var e=Jn.__cast(mi.createInstance(t,[]),se);null!=e&&se.__registeredFonts.push(e)},se.__fromLimeFont=function(t){var e=new se;return e.name=t.name,e.src=t.src,e},se.__super__=m,se.prototype=s(m.prototype,{get_fontName:function(){return this.name},set_fontName:function(t){return this.name=t},__class__:se,__properties__:s(m.prototype.__properties__,{set_fontName:"set_fontName",get_fontName:"get_fontName"})});var ne=function(){var t=new $t;this.src=t.src,this.name=t.name,se.call(this)};(i.__ASSET__OPENFL__assets_fonts_98_arial_ttf=ne).__name__=["__ASSET__OPENFL__assets_fonts_98_arial_ttf"],ne.__super__=se,ne.prototype=s(se.prototype,{__class__:ne});var ae=function(){var t=new te;this.src=t.src,this.name=t.name,se.call(this)};(i.__ASSET__OPENFL__assets_fonts_348_helvetica_ce_condensed_ttf=ae).__name__=["__ASSET__OPENFL__assets_fonts_348_helvetica_ce_condensed_ttf"],ae.__super__=se,ae.prototype=s(se.prototype,{__class__:ae});var re=function(){var t=new ee;this.src=t.src,this.name=t.name,se.call(this)};(i.__ASSET__OPENFL__assets_fonts_243_motor_ttf=re).__name__=["__ASSET__OPENFL__assets_fonts_243_motor_ttf"],re.__super__=se,re.prototype=s(se.prototype,{__class__:re});var oe=function(){var t=new ie;this.src=t.src,this.name=t.name,se.call(this)};(i.__ASSET__OPENFL__assets_fonts_helveticaneuelt_boldcond_ttf=oe).__name__=["__ASSET__OPENFL__assets_fonts_helveticaneuelt_boldcond_ttf"],oe.__super__=se,oe.prototype=s(se.prototype,{__class__:oe});function b(t,e){this.r=new RegExp(t,e.split("u").join(""))}(i.EReg=b).__name__=["EReg"],b.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw new qn("EReg::matched")},__class__:b};function y(t,e){h.call(this)}(i.EmptyClip=y).__name__=["EmptyClip"],y.__super__=h,y.prototype=s(h.prototype,{__class__:y});var L=function(){};(i.HxOverrides=L).__name__=["HxOverrides"],L.dateStr=function(t){var e=t.getMonth()+1,i=t.getDate(),s=t.getHours(),n=t.getMinutes(),a=t.getSeconds();return t.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(i<10?"0"+i:""+i)+" "+(s<10?"0"+s:""+s)+":"+(n<10?"0"+n:""+n)+":"+(a<10?"0"+a:""+a)},L.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:var s=t.split("-");return new Date(s[0],s[1]-1,s[2],0,0,0);case 19:var n=t.split(" "),a=n[0].split("-"),r=n[1].split(":");return new Date(a[0],a[1]-1,a[2],r[0],r[1],r[2]);default:throw new qn("Invalid date format : "+t)}},L.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},L.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},L.remove=function(t,e){var i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)},L.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};function tt(){}(i.Lambda=tt).__name__=["Lambda"],tt.array=function(t){for(var e=[],i=function(t){return t instanceof Array?function(){return L.iter(t)}:"function"==typeof t.iterator?Gf(t,t.iterator):t.iterator}(t)();i.hasNext();){var s=i.next();e.push(s)}return e};function w(){this.length=0}(i.List=w).__name__=["List"],w.prototype={add:function(t){var e=new x(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},pop:function(){if(null==this.h)return null;var t=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,t},iterator:function(){return new T(this.h)},__class__:w};var x=function(t,e){this.item=t,this.next=e};(i["_List.ListNode"]=x).__name__=["_List","ListNode"],x.prototype={__class__:x};var T=function(t){this.head=t};(i["_List.ListIterator"]=T).__name__=["_List","ListIterator"],T.prototype={hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t},__class__:T};function S(){}(i.Macro=S).__name__=["Macro"],Math.__name__=["Math"];function C(){o.call(this);var t=this.getBackgroundColor(),e=0;.299*(t>>16&255)+.587*(t>>8&255)+.114*(255&t)<70&&(e=16777215);var i=this.getHeight()/2-3.5,s=this.getWidth()-60;this.outline=new o,this.outline.get_graphics().beginFill(e,.07),this.outline.get_graphics().drawRect(0,0,s,7),this.outline.set_x(30),this.outline.set_y(i),this.addChildAt(this.outline,this.__children._length),this.progress=new o,this.progress.get_graphics().beginFill(e,.35),this.progress.get_graphics().drawRect(0,0,s-4,3),this.progress.set_x(32),this.progress.set_y(2+i),this.progress.set_scaleX(0),this.addChildAt(this.progress,this.__children._length)}(i.NMEPreloader=C).__name__=["NMEPreloader"],C.__super__=o,C.prototype=s(o.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return 400},getWidth:function(){return 550},onInit:function(){},onLoaded:function(){this.dispatchEvent(new Ne("complete"))},onUpdate:function(t,e,i){var s=t/e;1<s&&(s=1),this.progress.set_scaleX(s)},__class__:C});var E=function(){this.dataLoaded=!0,this.swfLite=null,this.introLoaded=!1,this.time=0,this.loaded=!1;var e=this;A.isMobile()||M.set_processSoundCommandCallback(P.process),C.call(this),this.initialStageColor=lo.current.stage.get_color(),lo.current.stage.set_color(0);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&null!=i.status&&200<=i.status&&i.status<=400&&"arraybuffer"==i.responseType){var t=tn.ofData(i.response);e.swfLite=si.unserializeLibrary(t),e.attemptIntro()}},i.open("GET","./lib/intro/intro.dat",!0),i.responseType="arraybuffer",i.send(""),this.progress.set_y(this.getHeight()-32),this.outline.set_y(this.progress.__transform.ty-2),I.register()};(i.Preloader=E).__name__=["Preloader"],E.__super__=C,E.prototype=s(C.prototype,{onLoaded:function(){this.loaded=!0,this.attemptFinish()},onUpdate:function(t,e,i){C.prototype.onUpdate.call(this,t,e,i)},__enterFrame:function(t){C.prototype.__enterFrame.call(this,t),this.introLoaded&&(this.time+=t,this.time>E.minDuration&&this.attemptFinish())},attemptFinish:function(){1==this.loaded&&this.time>E.minDuration&&(lo.current.stage.set_color(this.initialStageColor),this.dispatchEvent(new Ne("complete")))},attemptIntro:function(){var t=this;if(null!=this.swfLite&&this.dataLoaded){var e=new M(this.swfLite,this.swfLite.root);this.addChildAt(e,0),this.introLoaded=!0;var i=1;this.getWidth()<500&&(i=.75,e.set_scaleX(i),e.set_scaleY(i)),e.set_x(this.getWidth()/2-E.introWidth*i/2),e.set_y(this.getHeight()/2-E.introHeight*i/2),this.addEventListener("click",function(){window.open("http://www.addictinggames.com","_blank")});var s=e.getChildAt(0);s.addFrameScript(131,function(){t.displayMessage(),s.stop()})}},getBackgroundColor:function(){return 0},displayMessage:function(){},__class__:E});var Dt=function(){};(i.Reflect=Dt).__name__=["Reflect"],Dt.field=function(t,e){try{return t[e]}catch(t){return cn.lastException=t,null}},Dt.getProperty=function(t,e){var i;return null==t?null:!!t.__properties__&&(i=t.__properties__["get_"+e])?t[i]():t[e]},Dt.setProperty=function(t,e,i){var s;!!t.__properties__&&(s=t.__properties__["set_"+e])?t[s](i):t[e]=i},Dt.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var s in t)"__id__"!=s&&"hx__closures__"!=s&&i.call(t,s)&&e.push(s)}return e},Dt.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},Dt.compareMethods=function(t,e){return t==e||!(!Dt.isFunction(t)||!Dt.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},Dt.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)},Dt.makeVarArgs=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e(t)}};var I=function(){};(i.ResizeHandler=I).__name__=["ResizeHandler"],I.register=function(){I.registered||(window.addEventListener("resize",I.handle),I.registered=!0),I.handle()},I.handle=function(){var o=Zt.config.windows[0].width,h=Zt.config.windows[0].height,_=window.document.getElementsByTagName("CANVAS")[0],t=window.devicePixelRatio,e=_.clientWidth*t|0,i=_.clientHeight*t|0;""==_.style.width&&(_.style.width=_.clientWidth+"px",_.style.height=_.clientHeight+"px"),lo.current.stage.window.onResize.dispatch(e,i),lo.current.stage.window.resize(e,i),gn.delay(function(){if(null!=_){var t=o,e=h,i=window.innerHeight,s=window.innerWidth,n=t/e,a=0,r=0;a=i*n<s?(r=i)*n:(r=s*(e/t),s),_.style.width=a+"px",_.style.height=r+"px"}},10)};var P=function(){};(i.SoundManager=P).__name__=["SoundManager"],P.process=function(t){var e=P.playingSoundTable.h[t.soundId];if(null==e||e.__isValid||(e=null),t.stop)null!=e&&(e.stop(),P.playingSoundTable.remove(t.soundId));else if(null==e||!t.noMultiple){var i;i=P.aliases.h.hasOwnProperty(t.soundId)?P.aliases.h[t.soundId]:""+t.soundId;var s=ro.getSound("assets/sounds/"+i+".m4a");if(null==s&&(s=ro.getSound("assets/sounds/"+i+".wav")),null!=s){var n=s.play(t.inPoint,t.loopCount);P.playingSoundTable.h[t.soundId]=n}}},P.stopSound=function(t){var e=P.playingSoundTable.h[t];null==e||e.__isValid||(e=null),null!=e&&(e.stop(),P.playingSoundTable.remove(t))},P.stopAllSounds=function(){};var N={};(i["_SpriteBase.AMain_Impl_"]=N).__name__=["_SpriteBase","AMain_Impl_"],N.getChild=function(t,e){return t[e]};var O=function(){};(i.Std=O).__name__=["Std"],O.string=function(t){return Jn.__string_rec(t,"")},O.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=L.cca(t,1)&&88!=L.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},O.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};function U(){this.b=""}(i.StringBuf=U).__name__=["StringBuf"],U.prototype={__class__:U};function In(){}(i.StringTools=In).__name__=["StringTools"],In.htmlEscape=function(t,e){return t=t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),e?t.split('"').join("&quot;").split("'").join("&#039;"):t},In.startsWith=function(t,e){return t.length>=e.length&&L.substr(t,0,e.length)==e},In.isSpace=function(t,e){var i=L.cca(t,e);return 8<i&&i<14||32==i},In.ltrim=function(t){for(var e=t.length,i=0;i<e&&In.isSpace(t,i);)++i;return 0<i?L.substr(t,i,e-i):t},In.rtrim=function(t){for(var e=t.length,i=0;i<e&&In.isSpace(t,e-i-1);)++i;return 0<i?L.substr(t,0,e-i):t},In.trim=function(t){return In.ltrim(In.rtrim(t))},In.replace=function(t,e,i){return t.split(e).join(i)},In.hex=function(t,e){for(var i="";i="0123456789ABCDEF".charAt(15&t)+i,0<(t>>>=4););if(null!=e)for(;i.length<e;)i="0"+i;return i};var k=function(){this.guns=[],this.specials=[]};(i.TankObject=k).__name__=["TankObject"],k.prototype={__class__:k};var D=i.ValueType={__ename__:!0,__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};D.TNull=["TNull",0],D.TNull.toString=f,(D.TNull.__enum__=D).TInt=["TInt",1],D.TInt.toString=f,(D.TInt.__enum__=D).TFloat=["TFloat",2],D.TFloat.toString=f,(D.TFloat.__enum__=D).TBool=["TBool",3],D.TBool.toString=f,(D.TBool.__enum__=D).TObject=["TObject",4],D.TObject.toString=f,(D.TObject.__enum__=D).TFunction=["TFunction",5],D.TFunction.toString=f,(D.TFunction.__enum__=D).TClass=function(t){var e=["TClass",6,t];return e.__enum__=D,e.toString=f,e},D.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=D,e.toString=f,e},D.TUnknown=["TUnknown",8],D.TUnknown.toString=f,D.TUnknown.__enum__=D;var mi=function(){};(i.Type=mi).__name__=["Type"],mi.getSuperClass=function(t){return t.__super__},mi.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},mi.resolveClass=function(t){var e=i[t];return null!=e&&e.__name__?e:null},mi.resolveEnum=function(t){var e=i[t];return null!=e&&e.__ename__?e:null},mi.createInstance=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);case 11:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);case 12:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11]);case 13:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]);case 14:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13]);default:throw new qn("Too many arguments")}},mi.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},mi.getClassFields=function(t){var e=Dt.fields(t);return L.remove(e,"__name__"),L.remove(e,"__interfaces__"),L.remove(e,"__properties__"),L.remove(e,"__super__"),L.remove(e,"__meta__"),L.remove(e,"prototype"),e},mi.typeof=function(t){switch(typeof t){case"boolean":return D.TBool;case"function":return t.__name__||t.__ename__?D.TObject:D.TFunction;case"number":return Math.ceil(t)==t%2147483648?D.TInt:D.TFloat;case"object":if(null==t)return D.TNull;var e=t.__enum__;if(null!=e)return D.TEnum(e);var i=Jn.getClass(t);return null!=i?D.TClass(i):D.TObject;case"string":return D.TClass(String);case"undefined":return D.TNull;default:return D.TUnknown}},mi.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var i=2,s=t.length;i<s;){var n=i++;if(!mi.enumEq(t[n],e[n]))return!1}var a=t.__enum__;if(a!=e.__enum__||null==a)return!1}catch(t){return cn.lastException=t,!1}return!0};var At={};(i["_UInt.UInt_Impl_"]=At).__name__=["_UInt","UInt_Impl_"],At.gt=function(t,e){var i=t<0;return i!=e<0?i:e<t},At.toFloat=function(t){return t<0?4294967296+t:t+0};var A=function(){};(i.Util=A).__name__=["Util"],A.isMobile=function(){return"ontouchstart"in window},A.registerVersions=function(){var t=new Tn;null!=Kf.project?t.setReserved("project","cc19a919c1127f07e77b29aec0674ba361d96084"):t.h.project="cc19a919c1127f07e77b29aec0674ba361d96084",null!=Kf.openfl?t.setReserved("openfl","bbcc00fb28046ed919f9fff1766e9096c4ad07b2"):t.h.openfl="bbcc00fb28046ed919f9fff1766e9096c4ad07b2",e.version=t};function z(){}(i.Version=z).__name__=["Version"];function G(t){this.nodeType=t,this.children=[],this.attributeMap=new Tn}(i.Xml=G).__name__=["Xml"],G.parse=function(t){return Nn.parse(t)},G.createElement=function(t){var e=new G(G.Element);if(e.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},G.createPCData=function(t){var e=new G(G.PCData);if(e.nodeType==G.Document||e.nodeType==G.Element)throw new qn("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},G.createCData=function(t){var e=new G(G.CData);if(e.nodeType==G.Document||e.nodeType==G.Element)throw new qn("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},G.createComment=function(t){var e=new G(G.Comment);if(e.nodeType==G.Document||e.nodeType==G.Element)throw new qn("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},G.createDocType=function(t){var e=new G(G.DocType);if(e.nodeType==G.Document||e.nodeType==G.Element)throw new qn("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},G.createProcessingInstruction=function(t){var e=new G(G.ProcessingInstruction);if(e.nodeType==G.Document||e.nodeType==G.Element)throw new qn("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},G.createDocument=function(){return new G(G.Document)},G.prototype={get:function(t){if(this.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Kf[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+this.nodeType);var i=this.attributeMap;null!=Kf[t]?i.setReserved(t,e):i.h[t]=e},exists:function(t){if(this.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=Kf[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},attributes:function(){if(this.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},addChild:function(t){if(this.nodeType!=G.Document&&this.nodeType!=G.Element)throw new qn("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=G.Document&&this.nodeType!=G.Element)throw new qn("Bad node type, expected Element or Document but found "+this.nodeType);return!!L.remove(this.children,t)&&!(t.parent=null)},__class__:G};var X=function(){};(i["adapters.Key"]=X).__name__=["adapters","Key"],X.create=function(){null==X.instance&&(X.instance=new V)},X.isDown=function(t){return null==X.instance&&(X.instance=new V),X.instance.keys[t]},X.getAscii=function(){return null==X.instance&&(X.instance=new V),X.instance.lastCharCode},X.getCode=function(){return null==X.instance&&(X.instance=new V),X.instance.lastKeyCode},X.addListener=function(t){null==X.instance&&(X.instance=new V)},X.removeListener=function(t){null==X.instance&&(X.instance=new V)},X.addKeyDownListener=function(t){null==X.instance&&(X.instance=new V),X.instance.keyDownListener.push(t)},X.removeKeyDownListener=function(t){null==X.instance&&(X.instance=new V),L.remove(X.instance.keyDownListener,t)};var V=function(){this.lastCharCode=0,this.lastKeyCode=0,this.keyDownListener=[],this.keys=[],v.call(this);var t=lo.current.stage;t.addEventListener("keyDown",Gf(this,this.keyPressed)),t.addEventListener("keyUp",Gf(this,this.keyReleased))};(i["adapters.KeyHandler"]=V).__name__=["adapters","KeyHandler"],V.__super__=v,V.prototype=s(v.prototype,{keyPressed:function(t){this.keys[t.keyCode]=!0,this.lastKeyCode=t.keyCode,this.lastCharCode=t.charCode;for(var e=0,i=this.keyDownListener;e<i.length;){var s=i[e];++e,s()}},keyReleased:function(t){this.keys[t.keyCode]=!1},forceKeyState:function(t,e){if(this.keys[t]=e,this.lastKeyCode=t,e)for(var i=0,s=this.keyDownListener;i<s.length;){var n=s[i];++i,n()}},__class__:V});function H(){}(i["adapters.Sound"]=H).__name__=["adapters","Sound"],H.stopAllSounds=function(){},H.prototype={start:function(t,e){null==e&&(e=1),null==t&&(t=0),null!=this.sound&&(this.channel=this.sound.play(t,e,this.transform))},stop:function(){null!=this.channel&&this.channel.stop()},attachSound:function(t,e){null==e&&(e="m4a"),this.sound=ro.getSound("assets/sounds/"+t+"."+e)},setVolume:function(t){null==this.transform&&(this.transform=new Rl),this.transform.volume=t/100,null!=this.channel&&this.channel.set_soundTransform(this.transform)},__class__:H};var Y={};(i["format.swf._SWFData.SWFData_Impl_"]=Y).__name__=["format","swf","_SWFData","SWFData_Impl_"],Y.__properties__={set_length:"set_length",get_length:"get_length"},Y._new=function(){var t=new an;return t.__endian=1,t},Y.readSI8=function(t){return t.resetBitsPending(),t.readByte()},Y.writeSI8=function(t,e){t.resetBitsPending(),t.writeByte(e)},Y.readSI16=function(t){return t.resetBitsPending(),t.readShort()},Y.writeSI16=function(t,e){t.resetBitsPending(),t.writeShort(e)},Y.readSI32=function(t){return t.resetBitsPending(),t.readInt()},Y.writeSI32=function(t,e){t.resetBitsPending(),t.writeInt(e)},Y.readUI8=function(t){return t.resetBitsPending(),t.readUnsignedByte()},Y.writeUI8=function(t,e){t.resetBitsPending(),t.writeByte(e)},Y.readUI16=function(t){return t.resetBitsPending(),t.readUnsignedShort()},Y.writeUI16=function(t,e){t.resetBitsPending(),t.writeShort(e)},Y.readUI24=function(t){t.resetBitsPending();var e=t.readUnsignedShort();return t.readUnsignedByte()<<16|e},Y.writeUI24=function(t,e){t.resetBitsPending(),t.writeShort(65535&e),t.writeByte(e>>16)},Y.readUI32=function(t){return t.resetBitsPending(),t.readUnsignedInt()},Y.writeUI32=function(t,e){t.resetBitsPending(),t.writeUnsignedInt(e)},Y.readFIXED=function(t){return t.resetBitsPending(),t.readInt()/65536},Y.writeFIXED=function(t,e){t.resetBitsPending(),t.writeInt(65536*e|0)},Y.readFIXED8=function(t){return t.resetBitsPending(),t.readShort()/256},Y.writeFIXED8=function(t,e){t.resetBitsPending(),t.writeShort(256*e|0)},Y.readFLOAT=function(t){return t.resetBitsPending(),t.readFloat()},Y.writeFLOAT=function(t,e){t.resetBitsPending(),t.writeFloat(e)},Y.readDOUBLE=function(t){return t.resetBitsPending(),t.readDouble()},Y.writeDOUBLE=function(t,e){t.resetBitsPending(),t.writeDouble(e)},Y.readFLOAT16=function(t){t.resetBitsPending();var e=t.readUnsignedShort(),i=0!=(32768&e)?-1:1,s=e>>10&31,n=1023&e;return 0==s?0==n?0:i*Math.pow(2,-14)*(n/1024):31==s?0==n?i<0?-1/0:1/0:NaN:i*Math.pow(2,s-15)*(1+n/1024)},Y.writeFLOAT16=function(t,e){on.write(e,t)},Y.readEncodedU32=function(t){t.resetBitsPending();var e=t.readUnsignedByte();return 0<(128&e)&&0<(16384&(e=127&e|t.readUnsignedByte()<<7))&&0<(2097152&(e=16383&e|t.readUnsignedByte()<<14))&&0<(268435456&(e=2097151&e|t.readUnsignedByte()<<21))&&(e=268435455&e|t.readUnsignedByte()<<28),e},Y.writeEncodedU32=function(t,e){var i=127&e;0!=(e>>=7)?Y.writeUI8(t,128|i):Y.writeUI8(t,i)},Y.readUB=function(t,e){return t.readBits(e)},Y.writeUB=function(t,e,i){t.writeBits(e,i)},Y.readSB=function(t,e){var i=32-e;return(t.readBits(e)<<i|0)>>i},Y.writeSB=function(t,e,i){t.writeBits(e,i)},Y.readFB=function(t,e){return Y.readSB(t,e)/65536},Y.writeFB=function(t,e,i){Y.writeSB(t,e,65536*i|0)},Y.readSTRING=function(t){for(var e=t.position;0<t.b[e++];);return t.resetBitsPending(),t.readUTFBytes(e-t.position)},Y.writeSTRING=function(t,e){null!=e&&0<e.length&&t.writeUTFBytes(e),t.writeByte(0)},Y.readLANGCODE=function(t){return t.resetBitsPending(),t.readUnsignedByte()},Y.writeLANGCODE=function(t,e){t.resetBitsPending(),t.writeByte(e)},Y.readRGB=function(t){return t.resetBitsPending(),-16777216|t.readUnsignedByte()<<16|t.readUnsignedByte()<<8|t.readUnsignedByte()},Y.writeRGB=function(t,e){t.resetBitsPending(),t.writeByte(e>>16&255),t.writeByte(e>>8&255),t.writeByte(255&e)},Y.readRGBA=function(t){t.resetBitsPending();var e=16777215&Y.readRGB(t);return t.readUnsignedByte()<<24|e},Y.writeRGBA=function(t,e){t.resetBitsPending(),Y.writeRGB(t,e),t.writeByte(e>>24&255)},Y.readARGB=function(t){return t.resetBitsPending(),t.readUnsignedByte()<<24|16777215&Y.readRGB(t)},Y.writeARGB=function(t,e){t.resetBitsPending(),t.writeByte(e>>24&255),Y.writeRGB(t,e)},Y.readRECT=function(t){return new St(t)},Y.writeRECT=function(t,e){e.publish(t)},Y.readMATRIX=function(t){return new pt(t)},Y.writeMATRIX=function(t,e){t.resetBitsPending();var i,s=1!=e.scaleX||1!=e.scaleY,n=0!=e.rotateSkew0||0!=e.rotateSkew1;t.writeBits(1,s?1:0),s&&(i=0==e.scaleX&&0==e.scaleY?1:t.calculateMaxBits(!0,[65536*e.scaleX|0,65536*e.scaleY|0]),Y.writeUB(t,5,i),Y.writeFB(t,i,e.scaleX),Y.writeFB(t,i,e.scaleY));if(t.writeBits(1,n?1:0),n){var a=t.calculateMaxBits(!0,[65536*e.rotateSkew0|0,65536*e.rotateSkew1|0]);Y.writeUB(t,5,a),Y.writeFB(t,a,e.rotateSkew0),Y.writeFB(t,a,e.rotateSkew1)}var r=t.calculateMaxBits(!0,[e.translateX,e.translateY]);Y.writeUB(t,5,r),Y.writeSB(t,r,e.translateX),Y.writeSB(t,r,e.translateY)},Y.readCXFORM=function(t){return new it(t)},Y.writeCXFORM=function(t,e){e.publish(t)},Y.readCXFORMWITHALPHA=function(t){return new st(t)},Y.writeCXFORMWITHALPHA=function(t,e){e.publish(t)},Y.readSHAPE=function(t,e){return null==e&&(e=20),new It(t,1,e)},Y.writeSHAPE=function(t,e){e.publish(t)},Y.readSHAPEWITHSTYLE=function(t,e,i){return null==i&&(i=20),null==e&&(e=1),new Bt(t,e,i)},Y.writeSHAPEWITHSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readSTRAIGHTEDGERECORD=function(t,e){return new Rt(t,e)},Y.writeSTRAIGHTEDGERECORD=function(t,e){e.publish(t)},Y.readCURVEDEDGERECORD=function(t,e){return new kt(t,e)},Y.writeCURVEDEDGERECORD=function(t,e){e.publish(t)},Y.readSTYLECHANGERECORD=function(t,e,i,s,n){return null==n&&(n=1),new Ft(t,e,i,s,n)},Y.writeSTYLECHANGERECORD=function(t,e,i,s,n){null==n&&(n=1),e.numFillBits=i,e.numLineBits=s,e.publish(t,n)},Y.readFILLSTYLE=function(t,e){return null==e&&(e=1),new rt(t,e)},Y.writeFILLSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readLINESTYLE=function(t,e){return null==e&&(e=1),new ft(t,e)},Y.writeLINESTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readLINESTYLE2=function(t,e){return null==e&&(e=1),new dt(t,e)},Y.writeLINESTYLE2=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readBUTTONRECORD=function(t,e){return null==e&&(e=1),0==Y.readUI8(t)?null:(t.position--,new Z(t,e))},Y.writeBUTTONRECORD=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readBUTTONCONDACTION=function(t){return new J(t)},Y.writeBUTTONCONDACTION=function(t,e){e.publish(t)},Y.readFILTER=function(t){var e=Y.readUI8(t),i=Ke.create(e);return i.parse(t),i},Y.writeFILTER=function(t,e){Y.writeUI8(t,e.id),e.publish(t)},Y.readTEXTRECORD=function(t,e,i,s,n){return null==n&&(n=1),0==Y.readUI8(t)?null:(t.position--,new Ut(t,e,i,s,n))},Y.writeTEXTRECORD=function(t,e,i,s,n,a){null==a&&(a=1),e.publish(t,i,s,n,a)},Y.readGLYPHENTRY=function(t,e,i){return new lt(t,e,i)},Y.writeGLYPHENTRY=function(t,e,i,s){e.publish(t,i,s)},Y.readZONERECORD=function(t){return new Xt(t)},Y.writeZONERECORD=function(t,e){e.publish(t)},Y.readZONEDATA=function(t){return new Gt(t)},Y.writeZONEDATA=function(t,e){e.publish(t)},Y.readKERNINGRECORD=function(t,e){return new ct(t,e)},Y.writeKERNINGRECORD=function(t,e,i){e.publish(t,i)},Y.readGRADIENT=function(t,e){return null==e&&(e=1),new ot(t,e)},Y.writeGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readFOCALGRADIENT=function(t,e){return null==e&&(e=1),new ht(t,e)},Y.writeFOCALGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readGRADIENTRECORD=function(t,e){return null==e&&(e=1),new ut(t,e)},Y.writeGRADIENTRECORD=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readMORPHFILLSTYLE=function(t,e){return null==e&&(e=1),new gt(t,e)},Y.writeMORPHFILLSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readMORPHLINESTYLE=function(t,e){return null==e&&(e=1),new yt(t,e)},Y.writeMORPHLINESTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readMORPHLINESTYLE2=function(t,e){return null==e&&(e=1),new wt(t,e)},Y.writeMORPHLINESTYLE2=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readMORPHGRADIENT=function(t,e){return null==e&&(e=1),new mt(t,e)},Y.writeMORPHGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readMORPHFOCALGRADIENT=function(t,e){return null==e&&(e=1),new vt(t,e)},Y.writeMORPHFOCALGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},Y.readMORPHGRADIENTRECORD=function(t){return new bt(t)},Y.writeMORPHGRADIENTRECORD=function(t,e){e.publish(t)},Y.readACTIONRECORD=function(t){var e=t.position,i=null,s=Y.readUI8(t);if(0!=s){var n=128<=s?Y.readUI16(t):0;(i=je.create(s,n,e)).parse(t)}return i},Y.writeACTIONRECORD=function(t,e){e.publish(t)},Y.readREGISTERPARAM=function(t){return new Ct(t)},Y.writeREGISTERPARAM=function(t,e){e.publish(t)},Y.readSYMBOL=function(t){return new Ot(t)},Y.writeSYMBOL=function(t,e){e.publish(t)},Y.readSOUNDINFO=function(t){return new Nt(t)},Y.writeSOUNDINFO=function(t,e){e.publish(t)},Y.readSOUNDENVELOPE=function(t){return new Lt(t)},Y.writeSOUNDENVELOPE=function(t,e){e.publish(t)},Y.readCLIPACTIONS=function(t,e){return new $(t,e)},Y.writeCLIPACTIONS=function(t,e,i){e.publish(t,i)},Y.readCLIPACTIONRECORD=function(t,e){var i=t.position;return 0==(6<=e?Y.readUI32(t):Y.readUI16(t))?null:(t.position=i,new Q(t,e))},Y.writeCLIPACTIONRECORD=function(t,e,i){e.publish(t,i)},Y.readCLIPEVENTFLAGS=function(t,e){return new et(t,e)},Y.writeCLIPEVENTFLAGS=function(t,e,i){e.publish(t,i)},Y.readTagHeader=function(t){var e=t.position,i=Y.readUI16(t),s=63&i;return 63==s&&(s=Y.readSI32(t)),new Tt(i>>6,s,t.position-e)},Y.writeTagHeader=function(t,e,i,s){null==s&&(s=!1),i<63&&!s?Y.writeUI16(t,e<<6|i):(Y.writeUI16(t,e<<6|63),Y.writeSI32(t,i))},Y.swfUncompress=function(t,e,i){null==i&&(i=0);var s=t.position,n=new nn(0);if(2==e)t.readBytes(n),n.position=0,n.uncompress();else{if(1!=e)throw new qn(new C_("Unknown compression method: "+nu.toString(e)));for(var a=0;a<5;){var r=a++;n.writeByte(t.b[12+r])}n.__endian=1,n.writeUnsignedInt(i-8),n.writeUnsignedInt(0),t.position=17,t.readBytes(n,13),n.position=0,n.uncompress(e)}Y.set_length(t,t.position=s),t.writeBytes(n),t.position=s},Y.swfCompress=function(t,e){var i=t.position,s=new nn(0);if(2!=e)throw new qn(new C_(1==e?"Can't publish LZMA compressed SWFs":"Unknown compression method: "+nu.toString(e)));t.readBytes(s),s.position=0,s.compress(),Y.set_length(t,t.position=i),t.writeBytes(s)},Y.readRawTag=function(t){return new xt(t)},Y.skipBytes=function(t,e){t.position+=e},Y.dump=function(t,e,i){null==i&&(i=0);for(var s=t.position,n=t.position=0|Math.min(Math.max(s+i,0),su.get_length(t)-e),a="[Dump] total length: "+su.get_length(t)+", original position: "+s,r=0,o=e;r<o;){var h=r++,_=In.hex(t.readUnsignedByte());if(1==_.length&&(_="0"+_),h%16==0){var l=In.hex(n+h);a+="\r"+(l=L.substr("00000000",0,8-l.length)+l)+": "}a+=_+=" "}t.position=s,pn.trace(a,{fileName:"SWFData.hx",lineNumber:959,className:"format.swf._SWFData.SWFData_Impl_",methodName:"dump"})},Y.get_length=function(t){return t.__length},Y.set_length=function(t,e){return 0<e&&t.__resize(e),t.__length=e};function K(){this.dispatcher=new v(this)}(i["format.swf.events.SWFEventDispatcher"]=K).__name__=["format","swf","events","SWFEventDispatcher"],K.__interfaces__=[n],K.prototype={addEventListener:function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),this.dispatcher.addEventListener(t,e,i,s,n)},removeEventListener:function(t,e,i){null==i&&(i=!1),this.dispatcher.removeEventListener(t,e,i)},dispatchEvent:function(t){return this.dispatcher.dispatchEvent(t)},hasEventListener:function(t){return this.dispatcher.hasEventListener(t)},willTrigger:function(t){return this.dispatcher.willTrigger(t)},__class__:K};function q(){this._tmpTagIterator=0,K.call(this),this.backgroundColor=16777215,this.tags=[],this.tagsRaw=[],this.dictionary=new yn,this.scenes=[],this.frames=[],this.layers=[],this.tagFactory=new qe,(this.rootTimelineContainer=this).enterFrameProvider=new o}(i["format.swf.SWFTimelineContainer"]=q).__name__=["format","swf","SWFTimelineContainer"],q.__super__=K,q.prototype=s(K.prototype,{getCharacter:function(t){var e=this.rootTimelineContainer.dictionary.h[t];return 0<=e&&e<this.rootTimelineContainer.tags.length?this.rootTimelineContainer.tags[e]:null},get_scalingGrids:function(){return this.rootTimelineContainer._scalingGrids},getScalingGrid:function(t){return this.get_scalingGrids().h.hasOwnProperty(t)?this.rootTimelineContainer.tags[this.get_scalingGrids().h[t]]:null},parseTags:function(t,e){var i;for(this.parseTagsInit(t,e);;){if(!(null!=(i=this.parseTag(t))&&0!=i.type))break}this.parseTagsFinalize()},parseTagsAsync:function(t,e){this.parseTagsInit(t,e),this.enterFrameProvider.addEventListener("enterFrame",Gf(this,this.parseTagsAsyncHandler))},parseTagsAsyncHandler:function(t){this.enterFrameProvider.removeEventListener("enterFrame",Gf(this,this.parseTagsAsyncHandler)),this.dispatchEvent(new Ue("progress",this._tmpData.position,Y.get_length(this._tmpData),!1,!0))&&this.parseTagsAsyncInternal()},parseTagsAsyncInternal:function(){for(var t,e=Date.now();;){if(!(null!=(t=this.parseTag(this._tmpData,!0))&&0!=t.type))break;var i=Date.now();if(q.TIMEOUT<i-e)return void this.enterFrameProvider.addEventListener("enterFrame",Gf(this,this.parseTagsAsyncHandler))}this.parseTagsFinalize(),this.eof?this.dispatchEvent(new Oe("error","eof")):(this.dispatchEvent(new Ue("progress",this._tmpData.position,Y.get_length(this._tmpData))),this.dispatchEvent(new Ue("complete",this._tmpData.position,Y.get_length(this._tmpData))))},parseTagsInit:function(t,e){this.tags=[],this.frames=[],this.layers=[],this.dictionary=new yn,this.currentFrame=new Ks,this.frameLabels=new yn,this.frameIndexes=new Tn,this.hasSoundStream=!1,this._tmpData=t,this._tmpVersion=e},parseTag:function(t,e){null==e&&(e=!1);var i=t.position;if(this.eof=i>=Y.get_length(t),this.eof)return pn.trace("WARNING: end of file encountered, no end tag.",{fileName:"SWFTimelineContainer.hx",lineNumber:191,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}),null;var s=Y.readRawTag(t),n=s.header,a=this.tagFactory.create(n.type);try{if(Jn.__instanceof(a,q)){var r=a;r.tagFactory=this.tagFactory,r.rootTimelineContainer=this}a.parse(t,n.contentLength,this._tmpVersion,e)}catch(t){throw(cn.lastException=t)instanceof qn&&(t=t.val),Jn.__instanceof(t,C_)?(pn.trace("WARNING: parse error: "+t.message+", Tag: "+a.name+", Index: "+this.tags.length,{fileName:"SWFTimelineContainer.hx",lineNumber:213,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}),new qn(t)):t}this.tags.push(a),this.tagsRaw.push(s),this.processTag(a);var o=i+n.get_tagLength();if(t.position!=o){var h=this.tags.length-1,_=t.position-(i+n.get_tagLength()),l=_<0?"underflow":"overflow",u={pos:i,bytes:_<0?-_:_};this.rootTimelineContainer==this?pn.trace("WARNING: excess bytes: "+_+", Tag: "+a.name+", Index: "+h,{fileName:"SWFTimelineContainer.hx",lineNumber:233,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}):(u.indexRoot=this.rootTimelineContainer.tags.length,pn.trace("WARNING: excess bytes: "+_+", Tag: "+a.name+", Index: "+h+", IndexRoot: "+O.string(u.indexRoot),{fileName:"SWFTimelineContainer.hx",lineNumber:239,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}));var c=new ze(l,h,u,!1,!0);this.dispatchEvent(c),t.position=i+n.get_tagLength()}return a},parseTagsFinalize:function(){null!=this.soundStream&&0==su.get_length(this.soundStream.data)&&(this.soundStream=null),q.AUTOBUILD_LAYERS&&this.buildLayers()},publishTags:function(t,e){for(var i,s,n=0,a=this.tags.length;n<a;){var r=n++;i=this.tags[r],s=r<this.tagsRaw.length?this.tagsRaw[r]:null,this.publishTag(t,i,s,e)}},publishTagsAsync:function(t,e){this._tmpData=t,this._tmpVersion=e,this._tmpTagIterator=0,this.enterFrameProvider.addEventListener("enterFrame",Gf(this,this.publishTagsAsyncHandler))},publishTagsAsyncHandler:function(t){this.enterFrameProvider.removeEventListener("enterFrame",Gf(this,this.publishTagsAsyncHandler)),this.dispatchEvent(new Ue("progress",this._tmpTagIterator,this.tags.length))&&this.publishTagsAsyncInternal()},publishTagsAsyncInternal:function(){for(var t,e,i=Date.now();;){t=this._tmpTagIterator<this.tags.length?this.tags[this._tmpTagIterator]:null,e=this._tmpTagIterator<this.tagsRaw.length?this.tagsRaw[this._tmpTagIterator]:null,this.publishTag(this._tmpData,t,e,this._tmpVersion),this._tmpTagIterator++;var s=Date.now();if(q.TIMEOUT<s-i)return void this.enterFrameProvider.addEventListener("enterFrame",Gf(this,this.publishTagsAsyncHandler));if(0==t.type)break}this.dispatchEvent(new Ue("progress",this._tmpTagIterator,this.tags.length)),this.dispatchEvent(new Ue("complete",this._tmpTagIterator,this.tags.length))},publishTag:function(e,i,s,t){try{i.publish(e,t)}catch(t){if((cn.lastException=t)instanceof qn&&(t=t.val),!Jn.__instanceof(t,C_))throw t;pn.trace("WARNING: publish error: "+t.message+" (tag: "+i.name+")",{fileName:"SWFTimelineContainer.hx",lineNumber:311,className:"format.swf.SWFTimelineContainer",methodName:"publishTag"}),null!=s?s.publish(e):pn.trace("FATAL: publish error: No raw tag fallback",{fileName:"SWFTimelineContainer.hx",lineNumber:315,className:"format.swf.SWFTimelineContainer",methodName:"publishTag"})}},processTag:function(t){var e=this.tags.length-1;if(Jn.__instanceof(t,Ei))this.processDefinitionTag(t,e);else if(Jn.__instanceof(t,Ii))this.processDisplayListTag(t,e);else switch(Jn.__cast(t.type,Xf)){case 8:this.processJPEGTablesTag(t,e);break;case 9:this.processBackgroundColorTag(t,e);break;case 15:this.processStartSound(t,e);break;case 18:case 19:case 45:q.EXTRACT_SOUND_STREAM&&this.processSoundStreamTag(t,e);break;case 78:this.processScalingGridTag(t,e);break;case 43:case 86:this.processFrameLabelTag(t,e)}},processStartSound:function(t,e){this.currentFrame.startSound=t},processDefinitionTag:function(t,e){if(17==Jn.__cast(t.type,Xf)){var i=this.dictionary.h[t.characterId],s=this.tags[i];return Jn.__instanceof(s,Ui)||pn.trace("Unable to find button associated with DefineButtonSound",{fileName:"SWFTimelineContainer.hx",lineNumber:368,className:"format.swf.SWFTimelineContainer",methodName:"processDefinitionTag"}),void(Jn.__cast(s,Ui).defineSound=Jn.__cast(t,Gi))}0<t.characterId&&(this.dictionary.h[t.characterId]=e,this.currentFrame.characters.push(t.characterId))},processDisplayListTag:function(t,e){switch(Jn.__cast(t.type,Xf)){case 1:if(this.currentFrame.tagIndexEnd=e,null==this.currentFrame.label&&this.frameLabels.exists(this.currentFrame.frameNumber)){var i=this.frameLabels.get(this.currentFrame.frameNumber);this.currentFrame.label=i}this.frames.push(this.currentFrame),this.currentFrame=this.currentFrame.clone(),this.currentFrame.frameNumber=this.frames.length,this.currentFrame.tagIndexStart=e+1;break;case 4:case 26:case 70:this.currentFrame.placeObject(e,t);break;case 5:case 28:this.currentFrame.removeObject(t)}},processFrameLabelTag:function(t,e){switch(Jn.__cast(t.type,Xf)){case 43:var i=t;this.currentFrame.label=i.frameName,this.frameLabels.set(this.currentFrame.frameNumber,i.frameName),this.frameIndexes.set(i.frameName,this.currentFrame.frameNumber+1);break;case 86:for(var s=t,n=0,a=s.frameLabels.length;n<a;){var r=n++,o=s.frameLabels[r];this.frameLabels.set(o.frameNumber,o.name),this.frameIndexes.set(o.name,o.frameNumber+1)}for(var h=0,_=s.scenes.length;h<_;){var l=h++,u=s.scenes[l];this.scenes.push(new Qs(u.offset,u.name))}}},processSoundStreamTag:function(t,e){switch(Jn.__cast(t.type,Xf)){case 18:case 45:var i=t;this.soundStream=new $s,this.soundStream.compression=i.streamSoundCompression,this.soundStream.rate=i.streamSoundRate,this.soundStream.size=i.streamSoundSize,this.soundStream.type=i.streamSoundType,this.soundStream.numFrames=0,this.soundStream.numSamples=0;break;case 19:if(null!=this.soundStream){this.hasSoundStream||(this.hasSoundStream=!0,this.soundStream.startFrame=this.currentFrame.frameNumber);var s=t.soundData;switch(s.__endian=1,s.position=0,this.soundStream.compression){case 1:break;case 2:var n=s.readUnsignedShort();s.readShort(),0<n&&(this.soundStream.numSamples+=n,this.soundStream.data.writeBytes(s,4))}this.soundStream.numFrames++}}},processBackgroundColorTag:function(t,e){this.backgroundColor=t.color},processJPEGTablesTag:function(t,e){this.jpegTablesTag=t},processScalingGridTag:function(t,e){this.get_scalingGrids().h[t.characterId]=e},buildLayers:function(){for(var t,e=new yn,i=[],s=0,n=this.frames.length;s<n;)for(var a=s++,r=this.frames[a],o=r.objects.keys();o.hasNext();){var h=o.next();t=0|h;for(var _=!1,l=0;l<i.length;){var u=i[l];++l,u==t&&(_=!0);break}_?e.h[h].push(r.frameNumber):(e.h[h]=[r.frameNumber],i.push(t))}i.sort(Gf(this,this.sortNumeric));for(var c=0,f=i.length;c<f;){var d=c++,p=new Js(i[d],this.frames.length),g=e.h[i[d]],m=g.length;if(0<m){for(var v=0,b=0|Y.MAX_FLOAT_VALUE,y=0|Y.MAX_FLOAT_VALUE,w=0,x=m;w<x;){var T=g[w++],S=this.frames[T].objects.h[p.depth];S.isKeyframe?(p.appendStrip(v,b,y),b=T,v=Jn.__instanceof(this.getCharacter(S.characterId),Zi)?4:2):2==v&&0<S.lastModifiedAtIndex&&(v=3),y=T}p.appendStrip(v,b,y)}this.layers.push(p)}for(var C=0,E=this.frames.length;C<E;)for(var I=C++,P=this.frames[I].objects,k=P.keys();k.hasNext();)for(var D=k.next(),A=0,M=i.length;A<M;){var R=A++;D==i[R]&&(P.h[D].layer=R)}},sortNumeric:function(t,e){return t-e},toString:function(t){null==t&&(t=0);var e="";if(0<this.tags.length){e+="\n"+ln.repeat(t+2)+"Tags:";for(var i=0,s=this.tags.length;i<s;){var n=i++;e+="\n"+this.tags[n].toString(t+4)}}if(0<this.scenes.length){e+="\n"+ln.repeat(t+2)+"Scenes:";for(var a=0,r=this.scenes.length;a<r;){var o=a++;e+="\n"+this.scenes[o].toString(t+4)}}if(0<this.frames.length){e+="\n"+ln.repeat(t+2)+"Frames:";for(var h=0,_=this.frames.length;h<_;){var l=h++;e+="\n"+this.frames[l].toString(t+4)}}if(0<this.layers.length){e+="\n"+ln.repeat(t+2)+"Layers:";for(var u=0,c=this.layers.length;u<c;){var f=u++;e+="\n"+ln.repeat(t+4)+"["+f+"] "+this.layers[f].toString(t+4)}}return e},__class__:q,__properties__:{get_scalingGrids:"get_scalingGrids"}});var J=function(t){var e=new Le,i=new Array(0);e.data=i,e.length=0,e.fixed=!1,this.actions=e,null!=t&&this.parse(t)};(i["format.swf.data.SWFButtonCondAction"]=J).__name__=["format","swf","data","SWFButtonCondAction"],J.prototype={parse:function(t){var e,i=Y.readUI8(t)<<8|Y.readUI8(t);for(this.condIdleToOverDown=0!=(32768&i),this.condOutDownToIdle=0!=(16384&i),this.condOutDownToOverDown=0!=(8192&i),this.condOverDownToOutDown=0!=(4096&i),this.condOverDownToOverUp=0!=(2048&i),this.condOverUpToOverDown=0!=(1024&i),this.condOverUpToIdle=0!=(512&i),this.condIdleToOverUp=0!=(256&i),this.condOverDownToIdle=0!=(1&i),this.condKeyPress=(255&i)>>1;null!=(e=Y.readACTIONRECORD(t));){var s=this.actions;if(!s.fixed){if(s.length++,s.data.length<s.length){var n=s.data.length+10,a=new Array(n);Sn.blit(s.data,0,a,0,s.data.length),s.data=a}s.data[s.length-1]=e}}Ht.resolveOffsets(this.actions)},publish:function(t){var e=0;this.condIdleToOverDown&&(e|=128),this.condOutDownToIdle&&(e|=64),this.condOutDownToOverDown&&(e|=32),this.condOverDownToOutDown&&(e|=16),this.condOverDownToOverUp&&(e|=8),this.condOverUpToOverDown&&(e|=4),this.condOverUpToIdle&&(e|=2),this.condIdleToOverUp&&(e|=1),Y.writeUI8(t,e);var i=this.condKeyPress<<1;this.condOverDownToIdle&&(i|=1),Y.writeUI8(t,i);for(var s=0,n=this.actions.length;s<n;){var a=s++;Y.writeACTIONRECORD(t,this.actions.data[a])}Y.writeUI8(t,0)},clone:function(){var t=new J;t.condActionSize=this.condActionSize,t.condIdleToOverDown=this.condIdleToOverDown,t.condOutDownToIdle=this.condOutDownToIdle,t.condOutDownToOverDown=this.condOutDownToOverDown,t.condOverDownToOutDown=this.condOverDownToOutDown,t.condOverDownToOverUp=this.condOverDownToOverUp,t.condOverUpToOverDown=this.condOverUpToOverDown,t.condOverUpToIdle=this.condOverUpToIdle,t.condIdleToOverUp=this.condIdleToOverUp,t.condOverDownToIdle=this.condOverDownToIdle,t.condKeyPress=this.condKeyPress;for(var e=0,i=this.actions.length;e<i;){var s=e++,n=t.actions,a=this.actions.data[s].clone();if(!n.fixed){if(n.length++,n.data.length<n.length){var r=n.data.length+10,o=new Array(r);Sn.blit(n.data,0,o,0,n.data.length),n.data=o}n.data[n.length-1]=a}}return t},toString:function(t){null==t&&(t=0);var e=[];this.condIdleToOverDown&&e.push("idleToOverDown"),this.condOutDownToIdle&&e.push("outDownToIdle"),this.condOutDownToOverDown&&e.push("outDownToOverDown"),this.condOverDownToOutDown&&e.push("overDownToOutDown"),this.condOverDownToOverUp&&e.push("overDownToOverUp"),this.condOverUpToOverDown&&e.push("overUpToOverDown"),this.condOverUpToIdle&&e.push("overUpToIdle"),this.condIdleToOverUp&&e.push("idleToOverUp"),this.condOverDownToIdle&&e.push("overDownToIdle");for(var i="Cond: ("+e.join(",")+"), KeyPress: "+this.condKeyPress,s=0,n=this.actions.length;s<n;){var a=s++;i+="\n"+ln.repeat(t+2)+"["+a+"] "+this.actions.data[a].toString(t+2)}return i},__class__:J};var Z=function(t,e){null==e&&(e=1),this.filterList=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFButtonRecord"]=Z).__name__=["format","swf","data","SWFButtonRecord"],Z.prototype={parse:function(t,e){null==e&&(e=1);var i=Y.readUI8(t);if(this.stateHitTest=0!=(8&i),this.stateDown=0!=(4&i),this.stateOver=0!=(2&i),this.stateUp=0!=(1&i),this.characterId=Y.readUI16(t),this.placeDepth=Y.readUI16(t),this.placeMatrix=Y.readMATRIX(t),2<=e){if(this.colorTransform=Y.readCXFORMWITHALPHA(t),this.hasFilterList=0!=(16&i),this.hasFilterList)for(var s=0,n=Y.readUI8(t);s<n;){s++;this.filterList.push(Y.readFILTER(t))}this.hasBlendMode=0!=(32&i),this.hasBlendMode&&(this.blendMode=Y.readUI8(t))}},publish:function(t,e){null==e&&(e=1);var i=0;if(2<=e&&this.hasBlendMode&&(i|=32),2<=e&&this.hasFilterList&&(i|=16),this.stateHitTest&&(i|=8),this.stateDown&&(i|=4),this.stateOver&&(i|=2),this.stateUp&&(i|=1),Y.writeUI8(t,i),Y.writeUI16(t,this.characterId),Y.writeUI16(t,this.placeDepth),Y.writeMATRIX(t,this.placeMatrix),2<=e){if(Y.writeCXFORMWITHALPHA(t,this.colorTransform),this.hasFilterList){var s=this.filterList.length;Y.writeUI8(t,s);for(var n=0,a=s;n<a;){var r=n++;Y.writeFILTER(t,this.filterList[r])}}this.hasBlendMode&&Y.writeUI8(t,this.blendMode)}},clone:function(){var t=new Z;t.hasBlendMode=this.hasBlendMode,t.hasFilterList=this.hasFilterList,t.stateHitTest=this.stateHitTest,t.stateDown=this.stateDown,t.stateOver=this.stateOver,t.stateUp=this.stateUp,t.characterId=this.characterId,t.placeDepth=this.placeDepth,t.placeMatrix=this.placeMatrix.clone(),null!=this.colorTransform&&(t.colorTransform=Jn.__cast(this.colorTransform.clone(),st));for(var e=0,i=this.filterList.length;e<i;){var s=e++;t.filterList.push(this.filterList[s].clone())}return t.blendMode=this.blendMode,t},toString:function(t){null==t&&(t=0);var e="Depth: "+this.placeDepth+", CharacterID: "+this.characterId+", States: ",i=[];if(this.stateUp&&i.push("up"),this.stateOver&&i.push("over"),this.stateDown&&i.push("down"),this.stateHitTest&&i.push("hit"),e+=i.join(","),this.hasBlendMode&&(e+=", BlendMode: "+Jt.toString(this.blendMode)),null==this.placeMatrix||this.placeMatrix.isIdentity()||(e+="\n"+ln.repeat(t+2)+"Matrix: "+O.string(this.placeMatrix)),null==this.colorTransform||this.colorTransform.isIdentity()||(e+="\n"+ln.repeat(t+2)+"ColorTransform: "+O.string(this.colorTransform)),this.hasFilterList){e+="\n"+ln.repeat(t+2)+"Filters:";for(var s=0,n=this.filterList.length;s<n;){var a=s++;e+="\n"+ln.repeat(t+4)+"["+a+"] "+this.filterList[a].toString(t+4)}}return e},__class__:Z};var Q=function(t,e){null==e&&(e=0);var i=new Le,s=new Array(0);i.data=s,i.length=0,i.fixed=!1,this.actions=i,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipActionRecord"]=Q).__name__=["format","swf","data","SWFClipActionRecord"],Q.prototype={parse:function(t,e){this.eventFlags=Y.readCLIPEVENTFLAGS(t,e);var i,s=Y.readUI32(t),n=t.position;for(this.eventFlags.keyPressEvent&&(this.keyCode=Y.readUI8(t));null!=(i=Y.readACTIONRECORD(t));){var a=this.actions;if(!a.fixed){if(a.length++,a.data.length<a.length){var r=a.data.length+10,o=new Array(r);Sn.blit(a.data,0,o,0,a.data.length),a.data=o}a.data[a.length-1]=i}}Ht.resolveOffsets(this.actions),t.position=n+s},publish:function(t,e){Y.writeCLIPEVENTFLAGS(t,this.eventFlags,e);var i=Y._new();this.eventFlags.keyPressEvent&&Y.writeUI8(i,this.keyCode);for(var s=0,n=this.actions.length;s<n;){var a=s++;Y.writeACTIONRECORD(i,this.actions.data[a])}Y.writeUI8(i,0),Y.writeUI32(t,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e="ClipActionRecords ("+this.eventFlags.toString()+"):";0<this.keyCode&&(e+=", KeyCode: "+this.keyCode),e+=":";for(var i=0,s=this.actions.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+n+"] "+this.actions.data[n].toString(t+2)}return e},__class__:Q};var $=function(t,e){null==e&&(e=0),this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipActions"]=$).__name__=["format","swf","data","SWFClipActions"],$.prototype={parse:function(t,e){var i;for(Y.readUI16(t),this.eventFlags=Y.readCLIPEVENTFLAGS(t,e);null!=(i=Y.readCLIPACTIONRECORD(t,e));)this.records.push(i)},publish:function(t,e){Y.writeUI16(t,0),Y.writeCLIPEVENTFLAGS(t,this.eventFlags,e);for(var i=0,s=this.records.length;i<s;){var n=i++;Y.writeCLIPACTIONRECORD(t,this.records[n],e)}6<=e?Y.writeUI32(t,0):Y.writeUI16(t,0)},toString:function(t){null==t&&(t=0);for(var e="ClipActions ("+this.eventFlags.toString()+"):",i=0,s=this.records.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+n+"] "+this.records[n].toString(t+2)}return e},__class__:$};var et=function(t,e){null==e&&(e=0),null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipEventFlags"]=et).__name__=["format","swf","data","SWFClipEventFlags"],et.prototype={parse:function(t,e){var i=Y.readUI8(t);this.keyUpEvent=0!=(128&i),this.keyDownEvent=0!=(64&i),this.mouseUpEvent=0!=(32&i),this.mouseDownEvent=0!=(16&i),this.mouseMoveEvent=0!=(8&i),this.unloadEvent=0!=(4&i),this.enterFrameEvent=0!=(2&i),this.loadEvent=0!=(1&i);var s=Y.readUI8(t);if(this.dragOverEvent=0!=(128&s),this.rollOutEvent=0!=(64&s),this.rollOverEvent=0!=(32&s),this.releaseOutsideEvent=0!=(16&s),this.releaseEvent=0!=(8&s),this.pressEvent=0!=(4&s),this.initializeEvent=0!=(2&s),this.dataEvent=0!=(1&s),6<=e){var n=Y.readUI8(t);this.constructEvent=0!=(4&n),this.keyPressEvent=0!=(2&n),this.dragOutEvent=0!=(1&n),Y.readUI8(t)}},publish:function(t,e){var i=0;this.keyUpEvent&&(i|=128),this.keyDownEvent&&(i|=64),this.mouseUpEvent&&(i|=32),this.mouseDownEvent&&(i|=16),this.mouseMoveEvent&&(i|=8),this.unloadEvent&&(i|=4),this.enterFrameEvent&&(i|=2),this.loadEvent&&(i|=1),Y.writeUI8(t,i);var s=0;if(this.dragOverEvent&&(s|=128),this.rollOutEvent&&(s|=64),this.rollOverEvent&&(s|=32),this.releaseOutsideEvent&&(s|=16),this.releaseEvent&&(s|=8),this.pressEvent&&(s|=4),this.initializeEvent&&(s|=2),this.dataEvent&&(s|=1),Y.writeUI8(t,s),6<=e){var n=0;this.constructEvent&&(n|=4),this.keyPressEvent&&(n|=2),this.dragOutEvent&&(n|=1),Y.writeUI8(t,n),Y.writeUI8(t,0)}},toString:function(){var t=[];return this.keyUpEvent&&t.push("keyup"),this.keyDownEvent&&t.push("keydown"),this.mouseUpEvent&&t.push("mouseup"),this.mouseDownEvent&&t.push("mousedown"),this.mouseMoveEvent&&t.push("mousemove"),this.unloadEvent&&t.push("unload"),this.enterFrameEvent&&t.push("enterframe"),this.loadEvent&&t.push("load"),this.dragOverEvent&&t.push("dragover"),this.rollOutEvent&&t.push("rollout"),this.rollOverEvent&&t.push("rollover"),this.releaseOutsideEvent&&t.push("releaseoutside"),this.releaseEvent&&t.push("release"),this.pressEvent&&t.push("press"),this.initializeEvent&&t.push("initialize"),this.dataEvent&&t.push("data"),this.constructEvent&&t.push("construct"),this.keyPressEvent&&t.push("keypress"),this.dragOutEvent&&t.push("dragout"),t.join(",")},__class__:et};var it=function(t){this.aAdd=0,this.aMult=256,this.bAdd=0,this.gAdd=0,this.rAdd=0,this.bMult=256,this.gMult=256,this.rMult=256,null!=t&&this.parse(t)};(i["format.swf.data.SWFColorTransform"]=it).__name__=["format","swf","data","SWFColorTransform"],it.prototype={get_colorTransform:function(){return new oo(this.rMult/256,this.gMult/256,this.bMult/256,this.aMult/256,this.rAdd,this.gAdd,this.bAdd,this.aAdd)},parse:function(t){t.resetBitsPending(),this.hasAddTerms=1==Y.readUB(t,1),this.hasMultTerms=1==Y.readUB(t,1);var e=Y.readUB(t,4);this.rMult=256,this.gMult=256,this.bMult=256,this.hasMultTerms&&(this.rMult=Y.readSB(t,e),this.gMult=Y.readSB(t,e),this.bMult=Y.readSB(t,e)),this.rAdd=0,this.gAdd=0,this.bAdd=0,this.hasAddTerms&&(this.rAdd=Y.readSB(t,e),this.gAdd=Y.readSB(t,e),this.bAdd=Y.readSB(t,e))},publish:function(t){t.resetBitsPending(),Y.writeUB(t,1,this.hasAddTerms?1:0),Y.writeUB(t,1,this.hasMultTerms?1:0);var e=[];this.hasMultTerms&&(e.push(this.rMult),e.push(this.gMult),e.push(this.bMult)),this.hasAddTerms&&(e.push(this.rAdd),e.push(this.gAdd),e.push(this.bAdd));var i=t.calculateMaxBits(!0,e);Y.writeUB(t,4,i),this.hasMultTerms&&(Y.writeSB(t,i,this.rMult),Y.writeSB(t,i,this.gMult),Y.writeSB(t,i,this.bMult)),this.hasAddTerms&&(Y.writeSB(t,i,this.rAdd),Y.writeSB(t,i,this.gAdd),Y.writeSB(t,i,this.bAdd))},clone:function(){var t=new it;return t.hasAddTerms=this.hasAddTerms,t.hasMultTerms=this.hasMultTerms,t.rMult=this.rMult,t.gMult=this.gMult,t.bMult=this.bMult,t.rAdd=this.rAdd,t.gAdd=this.gAdd,t.bAdd=this.bAdd,t},isIdentity:function(){return 1==this.rMult&&1==this.gMult&&1==this.bMult&&1==this.aMult&&(0==this.rAdd&&0==this.gAdd&&0==this.bAdd&&0==this.aAdd)},toString:function(){return"(redMultiplier="+this.rMult+", greenMultiplier="+this.gMult+", blueMultiplier="+this.bMult+", alphaMultiplier="+this.aMult+", redOffset="+this.rAdd+", greenOffset="+this.gAdd+", blueOffset="+this.bAdd+", alphaOffset="+this.aAdd+")"},__class__:it,__properties__:{get_colorTransform:"get_colorTransform"}};var st=function(t){it.call(this,t)};(i["format.swf.data.SWFColorTransformWithAlpha"]=st).__name__=["format","swf","data","SWFColorTransformWithAlpha"],st.__super__=it,st.prototype=s(it.prototype,{parse:function(t){t.resetBitsPending(),this.hasAddTerms=1==Y.readUB(t,1),this.hasMultTerms=1==Y.readUB(t,1);var e=Y.readUB(t,4);this.rMult=256,this.gMult=256,this.bMult=256,this.aMult=256,this.hasMultTerms&&(this.rMult=Y.readSB(t,e),this.gMult=Y.readSB(t,e),this.bMult=Y.readSB(t,e),this.aMult=Y.readSB(t,e)),this.rAdd=0,this.gAdd=0,this.bAdd=0,this.aAdd=0,this.hasAddTerms&&(this.rAdd=Y.readSB(t,e),this.gAdd=Y.readSB(t,e),this.bAdd=Y.readSB(t,e),this.aAdd=Y.readSB(t,e))},publish:function(t){t.resetBitsPending(),Y.writeUB(t,1,this.hasAddTerms?1:0),Y.writeUB(t,1,this.hasMultTerms?1:0);var e=[];this.hasMultTerms&&(e.push(this.rMult),e.push(this.gMult),e.push(this.bMult),e.push(this.aMult)),this.hasAddTerms&&(e.push(this.rAdd),e.push(this.gAdd),e.push(this.bAdd),e.push(this.aAdd));var i=this.hasMultTerms||this.hasAddTerms?t.calculateMaxBits(!0,e):1;Y.writeUB(t,4,i),this.hasMultTerms&&(Y.writeSB(t,i,this.rMult),Y.writeSB(t,i,this.gMult),Y.writeSB(t,i,this.bMult),Y.writeSB(t,i,this.aMult)),this.hasAddTerms&&(Y.writeSB(t,i,this.rAdd),Y.writeSB(t,i,this.gAdd),Y.writeSB(t,i,this.bAdd),Y.writeSB(t,i,this.aAdd))},clone:function(){var t=new st;return t.hasAddTerms=this.hasAddTerms,t.hasMultTerms=this.hasMultTerms,t.rMult=this.rMult,t.gMult=this.gMult,t.bMult=this.bMult,t.aMult=this.aMult,t.rAdd=this.rAdd,t.gAdd=this.gAdd,t.bAdd=this.bAdd,t.aAdd=this.aAdd,t},toString:function(){return"(redMultiplier="+this.rMult+", greenMultiplier="+this.gMult+", blueMultiplier="+this.bMult+", alphaMultiplier="+this.aMult+", redOffset="+this.rAdd+", greenOffset="+this.gAdd+", blueOffset="+this.bAdd+", alphaOffset="+this.aAdd+")"},__class__:st});function nt(){}(i["hxbit.Serializable"]=nt).__name__=["hxbit","Serializable"],nt.prototype={__class__:nt};var at=function(){this.usedClasses=[],null==at.CLIDS&&at.initClassIDS()};(i["hxbit.Serializer"]=at).__name__=["hxbit","Serializer"],at.resetCounters=function(){at.UID=0,at.SEQ=0},at.allocUID=function(){return at.SEQ<<24|++at.UID},at.registerClass=function(t){if(null!=at.CLIDS)throw new qn("Too late to register class");var e=at.CLASSES.length;return at.CLASSES.push(t),e},at.hash=function(t){for(var e=1,i=0,s=t.length;i<s;){var n=i++;e=223*e+t.charCodeAt(n)|0}return e=1+(1073741823&e)%65423},at.initClassIDS=function(){for(var t=at.CLASSES,e=[],i=0;i<t.length;){t[i];++i,e.push([])}for(var s=e,n=[],a=0,r=t.length;a<r;)for(var o=a++,h=t[o];null!=(h=mi.getSuperClass(h));){var _=t.indexOf(h);if(_<0)break;s[_].push(o),n[o]=!0}for(var l=[],u=0,c=at.CLASSES.length;u<c;){var f,d=u++;if(0!=s[d].length||n[d]){for(var p=mi.getClassName(t[d]),g=1,m=0,v=p.length;m<v;){var b=m++;g=223*g+p.charCodeAt(b)|0}f=g=1+(1073741823&g)%65423}else f=0;l.push(f)}at.CLIDS=l,at.CL_BYID=[];for(var y=0,w=at.CLIDS.length;y<w;){var x=y++,T=at.CLIDS[x];if(0!=T){if(null!=at.CL_BYID[T])throw new qn("Conflicting CLID between "+mi.getClassName(at.CL_BYID[T])+" and "+mi.getClassName(t[x]));at.CL_BYID[T]=t[x]}}},at.isClassFinal=function(t){return 0==at.CLIDS[t]},at.prototype={set_remapIds:function(t){return this.remapObjs=t?new wn:null,t},get_remapIds:function(){return null!=this.remapObjs},remap:function(t){null==this.remapObjs.h.__keys__[t.__id__]&&(this.remapObjs.set(t,t.__uid),t.__uid=at.SEQ<<24|++at.UID)},begin:function(){this.out=new Cn,this.refs=new yn},end:function(){var t=this.out.getBytes();return this.out=null,this.refs=null,t},setInput:function(t,e){this.input=t,this.inPos=e,null==this.refs&&(this.refs=new yn)},serialize:function(t){return this.begin(),this.addKnownRef(t),this.out.getBytes()},unserialize:function(t,e,i){return null==i&&(i=0),this.refs=new yn,this.setInput(t,i),this.getRef(e,e.__clid)},getByte:function(){return this.input.b[this.inPos++]},addByte:function(t){this.out.b.push(t)},addInt:function(t){0<=t&&t<128?this.out.b.push(t):(this.out.b.push(128),this.out.addInt32(t))},addInt32:function(t){this.out.addInt32(t)},addInt64:function(t){this.out.addInt64(t)},addFloat:function(t){this.out.addInt32(Dn.floatToI32(t))},addDouble:function(t){this.out.addInt64(Dn.doubleToI64(t))},addBool:function(t){this.out.b.push(t?1:0)},addArray:function(t,e){if(null!=t){var i=t.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var s=0;s<t.length;){var n=t[s];++s,e(n)}}else this.out.b.push(0)},addVector:function(t,e){if(null!=t){var i=t.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var s=0;s<t.length;){var n=t[s];++s,e(n)}}else this.out.b.push(0)},getArray:function(t){var e=this.input.b[this.inPos++];128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4);var i=e;if(0==i)return null;for(var s=[],n=0,a=--i;n<a;){s[n++]=t()}return s},getVector:function(t){var e=this.input.b[this.inPos++];128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4);var i=e;if(0==i)return null;--i;for(var s=new Array(i),n=0,a=i;n<a;){s[n++]=t()}return s},addMap:function(t,e,i){if(null!=t){var s=t,n=tt.array({iterator:function(){return s.keys()}}),a=n.length+1;0<=a&&a<128?this.out.b.push(a):(this.out.b.push(128),this.out.addInt32(a));for(var r=0;r<n.length;){var o=n[r];++r,e(o),i(t.get(o))}}else this.out.b.push(0)},getBool:function(){return 0!=this.input.b[this.inPos++]},getInt:function(){var t=this.input.b[this.inPos++];return 128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4),t},skip:function(t){this.inPos+=t},getInt32:function(){var t=this.input.getInt32(this.inPos);return this.inPos+=4,t},getInt64:function(){var t=this.input.getInt64(this.inPos);return this.inPos+=8,t},getDouble:function(){var t=this.input.getDouble(this.inPos);return this.inPos+=8,t},getFloat:function(){var t=this.input.getFloat(this.inPos);return this.inPos+=4,t},addString:function(t){if(null==t)this.out.b.push(0);else{var e=tn.ofString(t),i=e.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var s=this.out,n=(s.b,e.b),a=0,r=e.length;a<r;){var o=a++;s.b.push(n[o])}}},addBytes:function(t){if(null==t)this.out.b.push(0);else{var e=t.length+1;0<=e&&e<128?this.out.b.push(e):(this.out.b.push(128),this.out.addInt32(e));for(var i=this.out,s=(i.b,t.b),n=0,a=t.length;n<a;){var r=n++;i.b.push(s[r])}}},getString:function(){var t=this.input.b[this.inPos++];128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4);var e=t;if(0==e)return null;--e;var i=this.input.getString(this.inPos,e);return this.inPos+=e,i},getBytes:function(){var t=this.input.b[this.inPos++];128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4);var e=t;if(0==e)return null;--e;var i=this.input.sub(this.inPos,e);return this.inPos+=e,i},getDynamic:function(){var t=this.input.b[this.inPos++];switch(t){case 0:return null;case 1:return!1;case 2:return!0;case 3:var e=this.input.b[this.inPos++];return 128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4),e;case 4:var i=this.input.getFloat(this.inPos);return this.inPos+=4,i;case 5:var s={},n=0,a=this.input.b[this.inPos++];128==a&&(a=this.input.getInt32(this.inPos),this.inPos+=4);for(var r=a;n<r;){n++;var o=this.input.b[this.inPos++];128==o&&(o=this.input.getInt32(this.inPos),this.inPos+=4);var h,_=o;if(0==_)h=null;else{--_;var l=this.input.getString(this.inPos,_);this.inPos+=_,h=l}s[h]=this.getDynamic()}return s;case 6:var u=this.input.b[this.inPos++];128==u&&(u=this.input.getInt32(this.inPos),this.inPos+=4);var c=u;if(0==c)return null;--c;var f=this.input.getString(this.inPos,c);return this.inPos+=c,f;case 7:var d=[],p=0,g=this.input.b[this.inPos++];128==g&&(g=this.input.getInt32(this.inPos),this.inPos+=4);for(var m=g;p<m;){p++;d.push(this.getDynamic())}return d;case 8:var v=this.input.b[this.inPos++];128==v&&(v=this.input.getInt32(this.inPos),this.inPos+=4);var b=v;if(0==b)return null;--b;var y=this.input.sub(this.inPos,b);return this.inPos+=b,y;default:throw new qn("Invalid dynamic prefix "+t)}},addDynamic:function(t){if(null!=t){var e=mi.typeof(t);switch(e[1]){case 1:this.out.b.push(3);var i=t;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));break;case 2:this.out.b.push(4),this.out.addInt32(Dn.floatToI32(t));break;case 3:this.out.b.push(t?2:1);break;case 4:var s=Dt.fields(t);this.out.b.push(5);var n=s.length;0<=n&&n<128?this.out.b.push(n):(this.out.b.push(128),this.out.addInt32(n));for(var a=0;a<s.length;){var r=s[a];if(++a,null==r)this.out.b.push(0);else{var o=tn.ofString(r),h=o.length+1;0<=h&&h<128?this.out.b.push(h):(this.out.b.push(128),this.out.addInt32(h));for(var _=this.out,l=(_.b,o.b),u=0,c=o.length;u<c;){var f=u++;_.b.push(l[f])}}this.addDynamic(Dt.field(t,r))}break;case 6:var d=e[2];switch(d){case Array:this.out.b.push(7);var p=t,g=p.length;0<=g&&g<128?this.out.b.push(g):(this.out.b.push(128),this.out.addInt32(g));for(var m=0;m<p.length;){var v=p[m];++m,this.addDynamic(v)}break;case String:this.out.b.push(6);var b=t;if(null==b)this.out.b.push(0);else{var y=tn.ofString(b),w=y.length+1;0<=w&&w<128?this.out.b.push(w):(this.out.b.push(128),this.out.addInt32(w));for(var x=this.out,T=(x.b,y.b),S=0,C=y.length;S<C;){var E=S++;x.b.push(T[E])}}break;case tn:this.out.b.push(8);var I=t;if(null==I)this.out.b.push(0);else{var P=I.length+1;0<=P&&P<128?this.out.b.push(P):(this.out.b.push(128),this.out.addInt32(P));for(var k=this.out,D=(k.b,I.b),A=0,M=I.length;A<M;){var R=A++;k.b.push(D[R])}}break;default:throw new qn("Unsupported dynamic "+O.string(d))}break;default:var F=e;throw new qn("Unsupported dynamic "+O.string(F))}}else this.out.b.push(0)},addCLID:function(t){this.out.b.push(t>>8),this.out.b.push(255&t)},getCLID:function(){return this.input.b[this.inPos++]<<8|this.input.b[this.inPos++]},addObjRef:function(t){var e=t.__uid;0<=e&&e<128?this.out.b.push(e):(this.out.b.push(128),this.out.addInt32(e))},getObjRef:function(){var t=this.input.b[this.inPos++];return 128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4),t},addAnyRef:function(t){if(null!=t){if(null!=this.remapObjs&&this.remap(t),this.addObjRef(t),null==this.refs.h[t.__uid]){var e=(this.refs.h[t.__uid]=t).getCLID();this.usedClasses[e]=!0,this.out.b.push(e>>8),this.out.b.push(255&e),t.serialize(this)}}else this.out.b.push(0)},addKnownRef:function(t){if(null!=t){if(null!=this.remapObjs&&this.remap(t),this.addObjRef(t),null==this.refs.h[t.__uid]){var e=(this.refs.h[t.__uid]=t).getCLID();this.usedClasses[e]=!0;var i=at.CLIDS[e];0!=i&&(this.out.b.push(i>>8),this.out.b.push(255&i)),t.serialize(this)}}else this.out.b.push(0)},getAnyRef:function(){var t=this.getObjRef();if(0==t)return null;if(null!=this.refs.h[t])return this.refs.h[t];var e=16777215&t;at.UID<e&&(at.UID=e);var i=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++];null!=this.mapIndexes&&(i=this.mapIndexes[i]);var s=mi.createEmptyInstance(at.CLASSES[i]);return null!=this.newObjects&&this.newObjects.push(s),s.__uid=t,s.unserializeInit(),this.refs.h[t]=s,null!=this.convert&&null!=this.convert[i]?this.convertRef(s,this.convert[i]):s.unserialize(this),s},getRef:function(t,e){var i=this.getObjRef();if(0==i)return null;if(null!=this.refs.h[i])return this.refs.h[i];var s=16777215&i;if(at.UID<s&&(at.UID=s),0!=at.CLIDS[e]){var n=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++];t=at.CL_BYID[n],null!=this.convert&&(e=t.__clid)}var a=mi.createEmptyInstance(t);return null!=this.newObjects&&this.newObjects.push(a),a.__uid=i,a.unserializeInit(),this.refs.h[i]=a,null!=this.convert&&null!=this.convert[e]?this.convertRef(a,this.convert[e]):a.unserialize(this),a},getKnownRef:function(t){return this.getRef(t,t.__clid)},beginSave:function(){this.begin(),this.usedClasses=[]},endSave:function(){var t=this.end();this.begin();for(var e=[],i=[],s=at.CLASSES.indexOf(Hn),n=0,a=this.usedClasses.length;n<a;){var r=n++;if(this.usedClasses[r]&&r!=s){var o=at.CLASSES[r],h=mi.createEmptyInstance(o).getSerializeSchema();i.push(h),e.push(r),this.addKnownRef(h),this.refs.remove(h.__uid)}}var _=this.end();this.begin();var l=tn.ofString("HXS"),u=l.length+1;0<=u&&u<128?this.out.b.push(u):(this.out.b.push(128),this.out.addInt32(u));for(var c=this.out,f=(c.b,l.b),d=0,p=l.length;d<p;){var g=d++;c.b.push(f[g])}this.out.b.push(1);for(var m=0,v=e.length;m<v;){var b=m++,y=e[b],w=mi.getClassName(at.CLASSES[y]);if(null==w)this.out.b.push(0);else{var x=tn.ofString(w),T=x.length+1;0<=T&&T<128?this.out.b.push(T):(this.out.b.push(128),this.out.addInt32(T));for(var S=this.out,C=(S.b,x.b),E=0,I=x.length;E<I;){var P=E++;S.b.push(C[P])}}this.out.b.push(y>>8),this.out.b.push(255&y);var k=i[b].get_checkSum();this.out.addInt32(k)}this.out.b.push(0);var D=_.length;0<=D&&D<128?this.out.b.push(D):(this.out.b.push(128),this.out.addInt32(D));for(var A=this.out,M=(A.b,_.b),R=0,F=_.length;R<F;){var B=R++;A.b.push(M[B])}for(var L=this.out,N=(L.b,t.b),O=0,U=t.length;O<U;){var z=O++;L.b.push(N[z])}return this.end()},beginLoad:function(t,e){null==e&&(e=0),this.setInput(t,e);for(var i=new Tn,s=[],n=[],a=[],r=!1,o=!1,h=0,_=at.CLASSES.length;h<_;){var l=h++,u=mi.getClassName(at.CLASSES[l]);null!=Kf[u]?i.setReserved(u,l):i.h[u]=l,n[l]=l}var c=this.input.b[this.inPos++];128==c&&(c=this.input.getInt32(this.inPos),this.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=this.input.getString(this.inPos,d);this.inPos+=d,f=p}if("HXS"!=f)throw new qn("Invalid HXS data");var g=this.input.b[this.inPos++];if(1!=g)throw new qn("Unsupported HXS version "+g);for(;;){var m=this.input.b[this.inPos++];128==m&&(m=this.input.getInt32(this.inPos),this.inPos+=4);var v,b=m;if(0==b)v=null;else{--b;var y=this.input.getString(this.inPos,b);this.inPos+=b,v=y}if(null==v)break;var w=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++],x=this.input.getInt32(this.inPos);this.inPos+=4;var T=x,S=null!=Kf[v]?i.getReserved(v):i.h[v];if(null==S)throw new qn("Missing class "+v+" found in HXS data");var C=mi.createEmptyInstance(at.CLASSES[S]).getSerializeSchema();C.get_checkSum()!=T&&(r=!0,s[w]=C),w!=S&&(o=!0,n[w]=S),a.push(w)}var E=this.input.b[this.inPos++];128==E&&(E=this.input.getInt32(this.inPos),this.inPos+=4);var I=E;if(r){this.convert=[];for(var P=0;P<a.length;){var k=a[P];++P;var D=s[k],A=Hn,M=this.getRef(A,A.__clid);this.refs.remove(M.__uid),null!=D&&(this.convert[n[k]]=new zn(D,M))}}else this.inPos+=I;o&&(this.mapIndexes=n)},endLoad:function(){this.convert=null,this.mapIndexes=null,this.setInput(null,0)},convertRef:function(t,e){for(var i=e.read.length,s=new Array(i),n=0,a=e.read;n<a.length;){var r=a[n];++n,s[r.index]=this.readValue(r.from)}var o=this.out;this.out=new Cn;for(var h=0,_=e.write;h<_.length;){var l,u=_[h];++h,null==u.from?l=u.defaultValue:(l=s[u.index],u.same||(l=null==l?u.defaultValue:this.convertValue(l,u.from,u.to))),this.writeValue(l,u.to)}var c=this.out.getBytes();this.out=o;var f=this.input,d=this.inPos;this.setInput(c,0),t.unserialize(this),this.setInput(f,d)},isNullable:function(t){switch(t[1]){case 0:case 1:case 2:return!1;default:return!0}},convertValue:function(t,e,i){if(null==t&&this.isNullable(i))return null;if(zn.sameType(e,i))return t;if(9!=e[1]||9!=i[1])throw new qn("Cannot convert "+O.string(t)+" from "+O.string(e)+" to "+O.string(i));for(var s=e[2],n=i[2],a={},r=0;r<n.length;){var o=n[r];++r;for(var h=!1,_=null,l=0;l<s.length;){var u=s[l];if(++l,u.name==o.name){h=!0,_=this.convertValue(Dt.field(t,u.name),u.type,o.type);break}}if(h){if(null==_&&o.opt)continue}else{if(o.opt)continue;_=zn.getDefault(o.type)}a[o.name]=_}return a},readValue:function(t){var e=this;switch(t[1]){case 0:var i=this.input.b[this.inPos++];return 128==i&&(i=this.input.getInt32(this.inPos),this.inPos+=4),i;case 1:var s=this.input.getFloat(this.inPos);return this.inPos+=4,s;case 2:return 0!=this.input.b[this.inPos++];case 3:var n=this.input.b[this.inPos++];128==n&&(n=this.input.getInt32(this.inPos),this.inPos+=4);var a=n;if(0==a)return null;--a;var r=this.input.getString(this.inPos,a);return this.inPos+=a,r;case 4:var o=this.input.b[this.inPos++];128==o&&(o=this.input.getInt32(this.inPos),this.inPos+=4);var h=o;if(0==h)return null;--h;var _=this.input.sub(this.inPos,h);return this.inPos+=h,_;case 5:var l=t[2];return this.getKnownRef(mi.resolveClass(l));case 6:var u=t[2],c=mi.resolveClass("hxbit.enumSer."+u.split(".").join("_"));if(null!=c)return c.doUnserialize(this);var f,d=mi.resolveEnum(u);if(null!=d){var p=Bn.getType(d);f=Object.prototype.hasOwnProperty.call(p,"skipSerialize")}else f=!1;if(f){var g=this.input.b[this.inPos++];return 128==g&&(g=this.input.getInt32(this.inPos),this.inPos+=4),null}throw new qn("No enum unserializer found for "+u);case 7:var m=t[3],v=t[2];switch(v[1]){case 0:var b=this.input.b[this.inPos++];128==b&&(b=this.input.getInt32(this.inPos),this.inPos+=4);var y,w=b;if(0==w)y=null;else{for(var x=new yn;0<--w;){var T=e.readValue(v),S=e.readValue(m);x.h[T]=S}y=x}return y;case 3:var C=this.input.b[this.inPos++];128==C&&(C=this.input.getInt32(this.inPos),this.inPos+=4);var E,I=C;if(0==I)E=null;else{for(var P=new Tn;0<--I;){var k=e.readValue(v),D=e.readValue(m);null!=Kf[k]?P.setReserved(k,D):P.h[k]=D}E=P}return E;default:var A=this.input.b[this.inPos++];128==A&&(A=this.input.getInt32(this.inPos),this.inPos+=4);var M,R=A;if(0==R)M=null;else{for(var F=new wn;0<--R;){var B=e.readValue(v),L=e.readValue(m);F.set(B,L)}M=F}return M}break;case 8:var N=t[2],O=this.input.b[this.inPos++];128==O&&(O=this.input.getInt32(this.inPos),this.inPos+=4);var U=O;if(0==U)return null;for(var z=[],G=0,X=--U;G<X;){z[G++]=e.readValue(N)}return z;case 9:var V=t[2],H=this.input.b[this.inPos++];128==H&&(H=this.input.getInt32(this.inPos),this.inPos+=4);var Y=H;if(0==Y)return null;var W={};--Y;for(var j=[],K=0;K<V.length;){var q=V[K];++K,this.isNullable(q.type)&&j.push(q)}for(var J=j,Z=0;Z<V.length;){var Q=V[Z];++Z;var $=J.indexOf(Q);0<=$&&0==(Y&1<<$)||(W[Q.name]=this.readValue(Q.type))}return W;case 10:var tt=t[2];return this.readValue(tt);case 11:var et=t[2],it=this.input.b[this.inPos++];128==it&&(it=this.input.getInt32(this.inPos),this.inPos+=4);var st=it;if(0==st)return null;--st;for(var nt=new Array(st),at=0,rt=st;at<rt;){nt[at++]=e.readValue(et)}return nt;case 12:var ot=t[2];return 0==this.input.b[this.inPos++]?null:this.readValue(ot);case 13:throw new qn("assert");case 14:return this.getDynamic();case 15:var ht=this.input.getInt64(this.inPos);return this.inPos+=8,ht;case 16:var _t=this.input.b[this.inPos++];return 128==_t&&(_t=this.input.getInt32(this.inPos),this.inPos+=4),_t}},writeValue:function(t,e){switch(e[1]){case 0:var i=t;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));break;case 1:this.out.addInt32(Dn.floatToI32(t));break;case 2:this.out.b.push(t?1:0);break;case 3:var s=t;if(null==s)this.out.b.push(0);else{var n=tn.ofString(s),a=n.length+1;0<=a&&a<128?this.out.b.push(a):(this.out.b.push(128),this.out.addInt32(a));for(var r=this.out,o=(r.b,n.b),h=0,_=n.length;h<_;){var l=h++;r.b.push(o[l])}}break;case 4:var u=t;if(null==u)this.out.b.push(0);else{var c=u.length+1;0<=c&&c<128?this.out.b.push(c):(this.out.b.push(128),this.out.addInt32(c));for(var f=this.out,d=(f.b,u.b),p=0,g=u.length;p<g;){var m=p++;f.b.push(d[m])}}break;case 5:this.addKnownRef(t);break;case 6:var v=e[2],b="hxbit.enumSer."+v.split(".").join("_");if(null==b)throw new qn("No enum unserializer found for "+v);mi.resolveClass(b).doSerialize(this,t);break;case 7:var y=e[3],w=e[2],x=t;if(null==x)this.out.b.push(0);else{var T=x,S=tt.array({iterator:function(){return T.keys()}}),C=S.length+1;0<=C&&C<128?this.out.b.push(C):(this.out.b.push(128),this.out.addInt32(C));for(var E=0;E<S.length;){var I=S[E];++E,this.writeValue(I,w),this.writeValue(x.get(I),y)}}break;case 8:var P=e[2],k=t;if(null==k)this.out.b.push(0);else{var D=k.length+1;0<=D&&D<128?this.out.b.push(D):(this.out.b.push(128),this.out.addInt32(D));for(var A=0;A<k.length;){var M=k[A];++A,this.writeValue(M,P)}}break;case 9:var R=e[2];if(null==t)this.out.b.push(0);else{for(var F=0,B=[],L=0;L<R.length;){var N=R[L];++L,this.isNullable(N.type)&&B.push(N)}for(var O=B,U=0,z=O.length;U<z;){var G=U++;null!=Dt.field(t,O[G].name)&&(F|=1<<G)}var X=F+1;0<=X&&X<128?this.out.b.push(X):(this.out.b.push(128),this.out.addInt32(X));for(var V=0;V<R.length;){var H=R[V];++V;var Y=O.indexOf(H);H.name;0<=Y&&0==(F&1<<Y)||this.writeValue(Dt.field(t,H.name),H.type)}}break;case 10:var W=e[2];this.writeValue(t,W);break;case 11:var j=e[2],K=t;if(null==K)this.out.b.push(0);else{var q=K.length+1;0<=q&&q<128?this.out.b.push(q):(this.out.b.push(128),this.out.addInt32(q));for(var J=0;J<K.length;){var Z=K[J];++J,this.writeValue(Z,j)}}break;case 12:var Q=e[2];null==t?this.out.b.push(0):(this.out.b.push(1),this.writeValue(t,Q));break;case 13:throw new qn("assert");case 14:this.addDynamic(t);break;case 15:this.out.addInt64(t);break;case 16:var $=t;0<=$&&$<128?this.out.b.push($):(this.out.b.push(128),this.out.addInt32($))}},__class__:at,__properties__:{set_remapIds:"set_remapIds",get_remapIds:"get_remapIds"}};var rt=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFFillStyle"]=rt).__name__=["format","swf","data","SWFFillStyle"],rt.__interfaces__=[nt],rt.prototype={parse:function(t,e){switch(null==e&&(e=1),this._level=e,this.type=Y.readUI8(t),this.type){case 0:this.rgb=e<=2?Y.readRGB(t):Y.readRGBA(t);break;case 16:case 18:case 19:this.gradientMatrix=Y.readMATRIX(t),this.gradient=19==this.type?Y.readFOCALGRADIENT(t,e):Y.readGRADIENT(t,e);break;case 64:case 65:case 66:case 67:this.bitmapId=Y.readUI16(t),this.bitmapMatrix=Y.readMATRIX(t);break;default:throw new qn(new C_("Unknown fill style type: 0x"+In.hex(this.type)))}},publish:function(t,e){switch(null==e&&(e=1),Y.writeUI8(t,this.type),this.type){case 0:e<=2?Y.writeRGB(t,this.rgb):Y.writeRGBA(t,this.rgb);break;case 16:case 18:Y.writeMATRIX(t,this.gradientMatrix),Y.writeGRADIENT(t,this.gradient,e);break;case 19:Y.writeMATRIX(t,this.gradientMatrix),Y.writeFOCALGRADIENT(t,Jn.__cast(this.gradient,ht),e);break;case 64:case 65:case 66:case 67:Y.writeUI16(t,this.bitmapId),Y.writeMATRIX(t,this.bitmapMatrix);break;default:throw new qn(new C_("Unknown fill style type: 0x"+In.hex(this.type)))}},clone:function(){var t=new rt;return t.type=this.type,t.rgb=this.rgb,t.gradient=this.gradient.clone(),t.gradientMatrix=this.gradientMatrix.clone(),t.bitmapId=this.bitmapId,t.bitmapMatrix=this.bitmapMatrix.clone(),t},toString:function(){var t="[SWFFillStyle] Type: "+ln.printf("%02x",[this.type]);switch(this.type){case 0:t+=" (solid), Color: "+(this._level<=2?rn.rgbToString(this.rgb):rn.rgbaToString(this.rgb));break;case 16:t+=" (linear gradient), Gradient: "+O.string(this.gradient)+", Matrix: "+O.string(this.gradientMatrix);break;case 18:t+=" (radial gradient), Gradient: "+O.string(this.gradient)+", Matrix: "+O.string(this.gradientMatrix);break;case 19:t+=" (focal radial gradient), Gradient: "+O.string(this.gradient)+", Matrix: "+O.string(this.gradientMatrix)+", FocalPoint: "+this.gradient.focalPoint;break;case 64:t+=" (repeating bitmap), BitmapID: "+this.bitmapId;break;case 65:t+=" (clipped bitmap), BitmapID: "+this.bitmapId;break;case 66:t+=" (non-smoothed repeating bitmap), BitmapID: "+this.bitmapId;break;case 67:t+=" (non-smoothed clipped bitmap), BitmapID: "+this.bitmapId}return t},is_transparent:function(){return!(this._level<=2)&&(null==this.rgb||0==rn.alpha(this.rgb))},getCLID:function(){return rt.__clid},serialize:function(t){var e=this.type;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.rgb;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.addKnownRef(this.gradient),t.addKnownRef(this.gradientMatrix);var s=this.bitmapId;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s)),t.addKnownRef(this.bitmapMatrix);var n=this._level;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("type"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("rgb"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("gradient"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFGradient")),t.fieldsNames.push("gradientMatrix"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("bitmapId"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("bitmapMatrix"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("_level"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(rt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.type=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.rgb=i,this.gradient=t.getRef(ot,ot.__clid),this.gradientMatrix=t.getRef(pt,pt.__clid);var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapId=s,this.bitmapMatrix=t.getRef(pt,pt.__clid);var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this._level=n},__class__:rt};var ot=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,this.focalPoint=0,this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFGradient"]=ot).__name__=["format","swf","data","SWFGradient"],ot.__interfaces__=[nt],ot.prototype={parse:function(t,e){t.resetBitsPending(),this.spreadMode=Y.readUB(t,2),this.interpolationMode=Y.readUB(t,2);for(var i=0,s=Y.readUB(t,4);i<s;){i++;this.records.push(Y.readGRADIENTRECORD(t,e))}},publish:function(t,e){null==e&&(e=1);var i=this.records.length;t.resetBitsPending(),Y.writeUB(t,2,this.spreadMode),Y.writeUB(t,2,this.interpolationMode),Y.writeUB(t,4,i);for(var s=0,n=i;s<n;){var a=s++;Y.writeGRADIENTRECORD(t,this.records[a],e)}},clone:function(){var t=new ot;t.spreadMode=this.spreadMode,t.interpolationMode=this.interpolationMode,t.focalPoint=this.focalPoint;for(var e=0,i=this.records.length;e<i;){var s=e++;t.records.push(this.records[s].clone())}return t},toString:function(){return"("+this.records.join(",")+"), SpreadMode: "+this.spreadMode+", InterpolationMode: "+this.interpolationMode},getCLID:function(){return ot.__clid},serialize:function(t){var e=this.spreadMode;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.interpolationMode;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.out.addInt32(Dn.floatToI32(this.focalPoint));var s=this.records;if(null==s)t.out.b.push(0);else{var n=s.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var a=0;a<s.length;){var r=s[a];++a,t.addKnownRef(r)}}},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("spreadMode"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("interpolationMode"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("focalPoint"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("records"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.data.SWFGradientRecord"))),t.isFinal=at.isClassFinal(ot.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.spreadMode=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.interpolationMode=i;var s,n=t.input.getFloat(t.inPos);t.inPos+=4,this.focalPoint=n;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4);var r,o=a;if(0==o)r=null;else{for(var h=[],_=0,l=--o;_<l;){var u=_++;s=t.getRef(ut,ut.__clid),h[u]=s}r=h}this.records=r},__class__:ot};var ht=function(t,e){null==e&&(e=1),ot.call(this,t,e)};(i["format.swf.data.SWFFocalGradient"]=ht).__name__=["format","swf","data","SWFFocalGradient"],ht.__super__=ot,ht.prototype=s(ot.prototype,{parse:function(t,e){ot.prototype.parse.call(this,t,e),this.focalPoint=Y.readFIXED8(t)},publish:function(t,e){null==e&&(e=1),ot.prototype.publish.call(this,t,e),Y.writeFIXED8(t,this.focalPoint)},toString:function(){return"("+this.records.join(",")+")"},getCLID:function(){return ht.__clid},__class__:ht});function _t(t,e){this.frameNumber=t,this.name=e}(i["format.swf.data.SWFFrameLabel"]=_t).__name__=["format","swf","data","SWFFrameLabel"],_t.prototype={toString:function(){return"Frame: "+this.frameNumber+", Name: "+this.name},__class__:_t};var lt=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null!=t&&this.parse(t,e,i)};(i["format.swf.data.SWFGlyphEntry"]=lt).__name__=["format","swf","data","SWFGlyphEntry"],lt.prototype={parse:function(t,e,i){this.index=Y.readUB(t,e),this.advance=Y.readSB(t,i)},publish:function(t,e,i){Y.writeUB(t,e,this.index),Y.writeSB(t,i,this.advance)},clone:function(){var t=new lt;return t.index=this.index,t.advance=this.advance,t},toString:function(){return"[SWFGlyphEntry] Index: "+O.string(this.index)+", Advance: "+O.string(this.advance)},__class__:lt};var ut=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFGradientRecord"]=ut).__name__=["format","swf","data","SWFGradientRecord"],ut.__interfaces__=[nt],ut.prototype={parse:function(t,e){this._level=e,this.ratio=Y.readUI8(t),this.color=e<=2?Y.readRGB(t):Y.readRGBA(t)},publish:function(t,e){Y.writeUI8(t,this.ratio),e<=2?Y.writeRGB(t,this.color):Y.writeRGBA(t,this.color)},clone:function(){var t=new ut;return t.ratio=this.ratio,t.color=this.color,t},toString:function(){return"["+this.ratio+","+(this._level<=2?rn.rgbToString(this.color):rn.rgbaToString(this.color))+"]"},getCLID:function(){return ut.__clid},serialize:function(t){var e=this.ratio;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.color;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var s=this._level;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("ratio"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("color"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("_level"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(ut.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.ratio=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.color=i;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this._level=s},__class__:ut};var ct=function(t,e){null==e&&(e=!1),null!=t&&this.parse(t,e)};(i["format.swf.data.SWFKerningRecord"]=ct).__name__=["format","swf","data","SWFKerningRecord"],ct.prototype={parse:function(t,e){this.code1=e?Y.readUI16(t):Y.readUI8(t),this.code2=e?Y.readUI16(t):Y.readUI8(t),this.adjustment=Y.readSI16(t)},publish:function(t,e){e?Y.writeUI16(t,this.code1):Y.writeUI8(t,this.code1),e?Y.writeUI16(t,this.code2):Y.writeUI8(t,this.code2),Y.writeSI16(t,this.adjustment)},toString:function(t){return null==t&&(t=0),"Code1: "+this.code1+", Code2: "+this.code2+", Adjustment: "+this.adjustment},__class__:ct};var ft=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,this.startCapsStyle=0,this.endCapsStyle=0,this.jointStyle=0,this.hasFillFlag=!1,this.noHScaleFlag=!1,this.noVScaleFlag=!1,this.pixelHintingFlag=!1,this.noClose=!1,this.miterLimitFactor=3,this.color=0,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFLineStyle"]=ft).__name__=["format","swf","data","SWFLineStyle"],ft.__interfaces__=[nt],ft.prototype={parse:function(t,e){null==e&&(e=1),this._level=e,this.width=Y.readUI16(t),this.color=e<=2?Y.readRGB(t):Y.readRGBA(t)},publish:function(t,e){null==e&&(e=1),Y.writeUI16(t,this.width),e<=2?Y.writeRGB(t,this.color):Y.writeRGBA(t,this.color)},clone:function(){var t=new ft;return t.width=this.width,t.color=this.color,t.startCapsStyle=this.startCapsStyle,t.endCapsStyle=this.endCapsStyle,t.jointStyle=this.jointStyle,t.hasFillFlag=this.hasFillFlag,t.noHScaleFlag=this.noHScaleFlag,t.noVScaleFlag=this.noVScaleFlag,t.pixelHintingFlag=this.pixelHintingFlag,t.noClose=this.noClose,t.miterLimitFactor=this.miterLimitFactor,t.fillType=this.fillType.clone(),t},toString:function(){return"[SWFLineStyle] Width: "+this.width+" Color: "+(this._level<=2?rn.rgbToString(this.color):rn.rgbaToString(this.color))},getCLID:function(){return ft.__clid},serialize:function(t){var e=this.width;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.color;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var s=this._level;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var n=this.startCapsStyle;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var a=this.endCapsStyle;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));var r=this.jointStyle;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r)),t.out.b.push(this.hasFillFlag?1:0),t.out.b.push(this.noHScaleFlag?1:0),t.out.b.push(this.noVScaleFlag?1:0),t.out.b.push(this.pixelHintingFlag?1:0),t.out.b.push(this.noClose?1:0),t.out.addInt32(Dn.floatToI32(this.miterLimitFactor)),t.addKnownRef(this.fillType)},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("width"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("color"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("_level"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("startCapsStyle"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("endCapsStyle"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("jointStyle"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("hasFillFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("noHScaleFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("noVScaleFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("pixelHintingFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("noClose"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("miterLimitFactor"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("fillType"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFFillStyle")),t.isFinal=at.isClassFinal(ft.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.width=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.color=i;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this._level=s;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.startCapsStyle=n;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.endCapsStyle=a;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.jointStyle=r,this.hasFillFlag=0!=t.input.b[t.inPos++],this.noHScaleFlag=0!=t.input.b[t.inPos++],this.noVScaleFlag=0!=t.input.b[t.inPos++],this.pixelHintingFlag=0!=t.input.b[t.inPos++],this.noClose=0!=t.input.b[t.inPos++];var o=t.input.getFloat(t.inPos);t.inPos+=4,this.miterLimitFactor=o,this.fillType=t.getRef(rt,rt.__clid)},__class__:ft};var dt=function(t,e){null==e&&(e=1),ft.call(this,t,e)};(i["format.swf.data.SWFLineStyle2"]=dt).__name__=["format","swf","data","SWFLineStyle2"],dt.__super__=ft,dt.prototype=s(ft.prototype,{parse:function(t,e){null==e&&(e=1),this.width=Y.readUI16(t),this.startCapsStyle=Y.readUB(t,2),this.jointStyle=Y.readUB(t,2),this.hasFillFlag=1==Y.readUB(t,1),this.noHScaleFlag=1==Y.readUB(t,1),this.noVScaleFlag=1==Y.readUB(t,1),this.pixelHintingFlag=1==Y.readUB(t,1),Y.readUB(t,5),this.noClose=1==Y.readUB(t,1),this.endCapsStyle=Y.readUB(t,2),2==this.jointStyle&&(this.miterLimitFactor=Y.readFIXED8(t)),this.hasFillFlag?this.fillType=Y.readFILLSTYLE(t,e):this.color=Y.readRGBA(t)},publish:function(t,e){null==e&&(e=1),Y.writeUI16(t,this.width),Y.writeUB(t,2,this.startCapsStyle),Y.writeUB(t,2,this.jointStyle),Y.writeUB(t,1,this.hasFillFlag?1:0),Y.writeUB(t,1,this.noHScaleFlag?1:0),Y.writeUB(t,1,this.noVScaleFlag?1:0),Y.writeUB(t,1,this.pixelHintingFlag?1:0),Y.writeUB(t,5,0),Y.writeUB(t,1,this.noClose?1:0),Y.writeUB(t,2,this.endCapsStyle),2==this.jointStyle&&Y.writeFIXED8(t,this.miterLimitFactor),this.hasFillFlag?Y.writeFILLSTYLE(t,this.fillType,e):Y.writeRGBA(t,this.color)},toString:function(){var t="[SWFLineStyle2] Width: "+this.width+", StartCaps: "+ue.toString(this.startCapsStyle)+", EndCaps: "+ue.toString(this.endCapsStyle)+", Joint: "+ce.toString(this.jointStyle)+", ";return this.noClose&&(t+="NoClose, "),this.noHScaleFlag&&(t+="NoHScale, "),this.noVScaleFlag&&(t+="NoVScale, "),this.pixelHintingFlag&&(t+="PixelHinting, "),this.hasFillFlag?t+="Fill: "+this.fillType.toString():t+="Color: "+rn.rgbaToString(this.color),t},getCLID:function(){return dt.__clid},__class__:dt});var pt=function(t){this.__uid=at.SEQ<<24|++at.UID,this.translateY=0,this.translateX=0,this.rotateSkew1=0,this.rotateSkew0=0,this.scaleY=1,this.scaleX=1,null!=t&&this.parse(t)};(i["format.swf.data.SWFMatrix"]=pt).__name__=["format","swf","data","SWFMatrix"],pt.__interfaces__=[nt],pt.prototype={get_matrix:function(){return new ho(this.scaleX,this.rotateSkew0,this.rotateSkew1,this.scaleY,this.translateX,this.translateY)},parse:function(t){if(t.resetBitsPending(),this.scaleX=1,(this.scaleY=1)==Y.readUB(t,1)){var e=Y.readUB(t,5);this.scaleX=Y.readFB(t,e),this.scaleY=Y.readFB(t,e)}if(this.rotateSkew0=0,this.rotateSkew1=0,1==Y.readUB(t,1)){var i=Y.readUB(t,5);this.rotateSkew0=Y.readFB(t,i),this.rotateSkew1=Y.readFB(t,i)}var s=Y.readUB(t,5);this.translateX=Y.readSB(t,s),this.translateY=Y.readSB(t,s);var n=this.get_matrix().deltaTransformPoint(new _o(0,1));this.rotation=180/Math.PI*Math.atan2(n.y,n.x)-90,this.rotation<0&&(this.rotation=360+this.rotation),this.xscale=Math.sqrt(this.scaleX*this.scaleX+this.rotateSkew0*this.rotateSkew0)*(this.scaleX<0?-1:1),this.yscale=Math.sqrt(this.rotateSkew1*this.rotateSkew1+this.scaleY*this.scaleY)*(this.scaleY<0?-1:1)},clone:function(){var t=new pt;return t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotateSkew0=this.rotateSkew0,t.rotateSkew1=this.rotateSkew1,t.translateX=this.translateX,t.translateY=this.translateY,t},isIdentity:function(){return 1==this.scaleX&&1==this.scaleY&&0==this.rotateSkew0&&0==this.rotateSkew1&&0==this.translateX&&0==this.translateY},toString:function(){return"("+this.scaleX+","+this.rotateSkew0+","+this.rotateSkew1+","+this.scaleY+","+this.translateX+","+this.translateY+")"},getCLID:function(){return pt.__clid},serialize:function(t){t.out.addInt32(Dn.floatToI32(this.scaleX)),t.out.addInt32(Dn.floatToI32(this.scaleY)),t.out.addInt32(Dn.floatToI32(this.rotateSkew0)),t.out.addInt32(Dn.floatToI32(this.rotateSkew1));var e=this.translateX;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.translateY;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.out.addInt32(Dn.floatToI32(this.xscale)),t.out.addInt32(Dn.floatToI32(this.yscale)),t.out.addInt32(Dn.floatToI32(this.rotation))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("scaleX"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("scaleY"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("rotateSkew0"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("rotateSkew1"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("translateX"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("translateY"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("xscale"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("yscale"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("rotation"),t.fieldsTypes.push(Xn.PFloat),t.isFinal=at.isClassFinal(pt.__clid),t},unserializeInit:function(){this.scaleX=1,this.scaleY=1,this.rotateSkew0=0,this.rotateSkew1=0,this.translateX=0,this.translateY=0},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.scaleX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.scaleY=i;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.rotateSkew0=s;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.rotateSkew1=n;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.translateX=a;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.translateY=r;var o=t.input.getFloat(t.inPos);t.inPos+=4,this.xscale=o;var h=t.input.getFloat(t.inPos);t.inPos+=4,this.yscale=h;var _=t.input.getFloat(t.inPos);t.inPos+=4,this.rotation=_},__class__:pt,__properties__:{get_matrix:"get_matrix"}};var gt=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphFillStyle"]=gt).__name__=["format","swf","data","SWFMorphFillStyle"],gt.__interfaces__=[nt],gt.prototype={parse:function(t,e){switch(null==e&&(e=1),this.type=Y.readUI8(t),this.type){case 0:this.startColor=Y.readRGBA(t),this.endColor=Y.readRGBA(t);break;case 16:case 18:case 19:this.startGradientMatrix=Y.readMATRIX(t),this.endGradientMatrix=Y.readMATRIX(t),this.gradient=19==this.type?Y.readMORPHFOCALGRADIENT(t,e):Y.readMORPHGRADIENT(t,e);break;case 64:case 65:case 66:case 67:this.bitmapId=Y.readUI16(t),this.startBitmapMatrix=Y.readMATRIX(t),this.endBitmapMatrix=Y.readMATRIX(t);break;default:throw new qn(new C_("Unknown fill style type: 0x"+In.hex(this.type)))}},publish:function(t,e){switch(null==e&&(e=1),Y.writeUI8(t,this.type),this.type){case 0:Y.writeRGBA(t,this.startColor),Y.writeRGBA(t,this.endColor);break;case 16:case 18:case 19:Y.writeMATRIX(t,this.startGradientMatrix),Y.writeMATRIX(t,this.endGradientMatrix),19==this.type?Y.writeMORPHFOCALGRADIENT(t,Jn.__cast(this.gradient,vt),e):Y.writeMORPHGRADIENT(t,this.gradient,e);break;case 64:case 65:case 66:case 67:Y.writeUI16(t,this.bitmapId),Y.writeMATRIX(t,this.startBitmapMatrix),Y.writeMATRIX(t,this.endBitmapMatrix);break;default:throw new qn(new C_("Unknown fill style type: 0x"+In.hex(this.type)))}},getMorphedFillStyle:function(t){null==t&&(t=0);var e=new rt;switch(e.type=this.type,this.type){case 0:e.rgb=rn.interpolate(this.startColor,this.endColor,t);break;case 16:case 18:e.gradientMatrix=hn.interpolate(this.startGradientMatrix,this.endGradientMatrix,t),e.gradient=this.gradient.getMorphedGradient(t);break;case 64:case 65:case 66:case 67:e.bitmapId=this.bitmapId,e.bitmapMatrix=hn.interpolate(this.startBitmapMatrix,this.endBitmapMatrix,t)}return e},toString:function(){var t="[SWFMorphFillStyle] Type: "+In.hex(this.type);switch(this.type){case 0:t+=" (solid), StartColor: "+rn.rgbaToString(this.startColor)+", EndColor: "+rn.rgbaToString(this.endColor);break;case 16:t+=" (linear gradient), Gradient: "+O.string(this.gradient);break;case 18:t+=" (radial gradient), Gradient: "+O.string(this.gradient);break;case 19:t+=" (focal radial gradient), Gradient: "+O.string(this.gradient);break;case 64:t+=" (repeating bitmap), BitmapID: "+this.bitmapId;break;case 65:t+=" (clipped bitmap), BitmapID: "+this.bitmapId;break;case 66:t+=" (non-smoothed repeating bitmap), BitmapID: "+this.bitmapId;break;case 67:t+=" (non-smoothed clipped bitmap), BitmapID: "+this.bitmapId}return t},getCLID:function(){return gt.__clid},serialize:function(t){var e=this.type;if(0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),null==this.startColor)t.out.b.push(0);else{t.out.b.push(1);var i=this.startColor;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}if(null==this.endColor)t.out.b.push(0);else{t.out.b.push(1);var s=this.endColor;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))}if(t.addKnownRef(this.startGradientMatrix),t.addKnownRef(this.endGradientMatrix),t.addKnownRef(this.gradient),null==this.bitmapId)t.out.b.push(0);else{t.out.b.push(1);var n=this.bitmapId;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))}t.addKnownRef(this.startBitmapMatrix),t.addKnownRef(this.endBitmapMatrix)},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("type"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("endColor"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("startGradientMatrix"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("endGradientMatrix"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("gradient"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMorphGradient")),t.fieldsNames.push("bitmapId"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("startBitmapMatrix"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("endBitmapMatrix"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMatrix")),t.isFinal=at.isClassFinal(gt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];if(128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.type=e,0==t.input.b[t.inPos++])this.startColor=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=i}if(0==t.input.b[t.inPos++])this.endColor=null;else{var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=s}if(this.startGradientMatrix=t.getRef(pt,pt.__clid),this.endGradientMatrix=t.getRef(pt,pt.__clid),this.gradient=t.getRef(mt,mt.__clid),0==t.input.b[t.inPos++])this.bitmapId=null;else{var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapId=n}this.startBitmapMatrix=t.getRef(pt,pt.__clid),this.endBitmapMatrix=t.getRef(pt,pt.__clid)},__class__:gt};var mt=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphGradient"]=mt).__name__=["format","swf","data","SWFMorphGradient"],mt.__interfaces__=[nt],mt.prototype={parse:function(t,e){t.resetBitsPending(),this.spreadMode=Y.readUB(t,2),this.interpolationMode=Y.readUB(t,2);for(var i=0,s=Y.readUB(t,4);i<s;){i++;this.records.push(Y.readMORPHGRADIENTRECORD(t))}},publish:function(t,e){var i=this.records.length;t.resetBitsPending(),Y.writeUB(t,2,this.spreadMode),Y.writeUB(t,2,this.interpolationMode),Y.writeUB(t,4,i);for(var s=0,n=i;s<n;){var a=s++;Y.writeMORPHGRADIENTRECORD(t,this.records[a])}},getMorphedGradient:function(t){null==t&&(t=0);for(var e=new ot,i=0,s=this.records.length;i<s;){var n=i++;e.records.push(this.records[n].getMorphedGradientRecord(t))}return e},toString:function(){return"("+this.records.join(",")+"), spread:"+this.spreadMode+", interpolation:"+this.interpolationMode},getCLID:function(){return mt.__clid},serialize:function(t){var e=this.spreadMode;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.interpolationMode;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var s=this.records;if(null==s)t.out.b.push(0);else{var n=s.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var a=0;a<s.length;){var r=s[a];++a,t.addKnownRef(r)}}},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("spreadMode"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("interpolationMode"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("records"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.data.SWFMorphGradientRecord"))),t.isFinal=at.isClassFinal(mt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.spreadMode=e;var i,s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.interpolationMode=s;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4);var a,r=n;if(0==r)a=null;else{for(var o=[],h=0,_=--r;h<_;){var l=h++;i=t.getRef(bt,bt.__clid),o[l]=i}a=o}this.records=a},__class__:mt};var vt=function(t,e){null==e&&(e=1),mt.call(this,t,e)};(i["format.swf.data.SWFMorphFocalGradient"]=vt).__name__=["format","swf","data","SWFMorphFocalGradient"],vt.__super__=mt,vt.prototype=s(mt.prototype,{parse:function(t,e){mt.prototype.parse.call(this,t,e),this.startFocalPoint=Y.readFIXED8(t),this.endFocalPoint=Y.readFIXED8(t)},publish:function(t,e){mt.prototype.publish.call(this,t,e),Y.writeFIXED8(t,this.startFocalPoint),Y.writeFIXED8(t,this.endFocalPoint)},getMorphedGradient:function(t){null==t&&(t=0);for(var e=new ot,i=0,s=this.records.length;i<s;){var n=i++;e.records.push(this.records[n].getMorphedGradientRecord(t))}return e},toString:function(){return"FocalPoint: "+this.startFocalPoint+","+this.endFocalPoint+" ("+this.records.join(",")+")"},getCLID:function(){return vt.__clid},serialize:function(t){mt.prototype.serialize.call(this,t),t.out.addInt32(Dn.floatToI32(this.startFocalPoint)),t.out.addInt32(Dn.floatToI32(this.endFocalPoint))},getSerializeSchema:function(){var t=mt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("startFocalPoint"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("endFocalPoint"),t.fieldsTypes.push(Xn.PFloat),t.isFinal=at.isClassFinal(vt.__clid),t},unserialize:function(t){mt.prototype.unserialize.call(this,t);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.startFocalPoint=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.endFocalPoint=i},__class__:vt});var bt=function(t){this.__uid=at.SEQ<<24|++at.UID,null!=t&&this.parse(t)};(i["format.swf.data.SWFMorphGradientRecord"]=bt).__name__=["format","swf","data","SWFMorphGradientRecord"],bt.__interfaces__=[nt],bt.prototype={parse:function(t){this.startRatio=Y.readUI8(t),this.startColor=Y.readRGBA(t),this.endRatio=Y.readUI8(t),this.endColor=Y.readRGBA(t)},publish:function(t){Y.writeUI8(t,this.startRatio),Y.writeRGBA(t,this.startColor),Y.writeUI8(t,this.endRatio),Y.writeRGBA(t,this.endColor)},getMorphedGradientRecord:function(t){null==t&&(t=0);var e=new ut;return e.color=rn.interpolate(this.startColor,this.endColor,t),e.ratio=this.startRatio+(this.endRatio-this.startRatio)*t|0,e},toString:function(){return"["+this.startRatio+","+rn.rgbaToString(this.startColor)+","+this.endRatio+","+rn.rgbaToString(this.endColor)+"]"},getCLID:function(){return bt.__clid},serialize:function(t){var e=this.startRatio;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.startColor;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var s=this.endRatio;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var n=this.endColor;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("startRatio"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("endRatio"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("endColor"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(bt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.startRatio=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=i;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.endRatio=s;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=n},__class__:bt};var yt=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,this.startCapsStyle=0,this.endCapsStyle=0,this.jointStyle=0,this.miterLimitFactor=3,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphLineStyle"]=yt).__name__=["format","swf","data","SWFMorphLineStyle"],yt.__interfaces__=[nt],yt.prototype={parse:function(t,e){null==e&&(e=1),this.startWidth=Y.readUI16(t),this.endWidth=Y.readUI16(t),this.startColor=Y.readRGBA(t),this.endColor=Y.readRGBA(t)},publish:function(t,e){null==e&&(e=1),Y.writeUI16(t,this.startWidth),Y.writeUI16(t,this.endWidth),Y.writeRGBA(t,this.startColor),Y.writeRGBA(t,this.endColor)},getMorphedLineStyle:function(t){null==t&&(t=0);var e=new ft;return this.hasFillFlag?e.fillType=this.fillType.getMorphedFillStyle(t):(e.color=rn.interpolate(this.startColor,this.endColor,t),e.width=this.startWidth+(this.endWidth-this.startWidth)*t|0),e.startCapsStyle=this.startCapsStyle,e.endCapsStyle=this.endCapsStyle,e.jointStyle=this.jointStyle,e.hasFillFlag=this.hasFillFlag,e.noHScaleFlag=this.noHScaleFlag,e.noVScaleFlag=this.noVScaleFlag,e.pixelHintingFlag=this.pixelHintingFlag,e.noClose=this.noClose,e.miterLimitFactor=this.miterLimitFactor,e},toString:function(){return"[SWFMorphLineStyle] StartWidth: "+this.startWidth+", EndWidth: "+this.endWidth+", StartColor: "+rn.rgbaToString(this.startColor)+", EndColor: "+rn.rgbaToString(this.endColor)},getCLID:function(){return yt.__clid},serialize:function(t){var e=this.startWidth;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.endWidth;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var s=this.startColor;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var n=this.endColor;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var a=this.startCapsStyle;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));var r=this.endCapsStyle;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));var o=this.jointStyle;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o)),t.out.b.push(this.hasFillFlag?1:0),t.out.b.push(this.noHScaleFlag?1:0),t.out.b.push(this.noVScaleFlag?1:0),t.out.b.push(this.pixelHintingFlag?1:0),t.out.b.push(this.noClose?1:0),t.out.addInt32(Dn.floatToI32(this.miterLimitFactor)),t.addKnownRef(this.fillType)},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("startWidth"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("endWidth"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("endColor"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("startCapsStyle"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("endCapsStyle"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("jointStyle"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("hasFillFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("noHScaleFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("noVScaleFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("pixelHintingFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("noClose"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("miterLimitFactor"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("fillType"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFMorphFillStyle")),t.isFinal=at.isClassFinal(yt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.startWidth=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.endWidth=i;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=s;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=n;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.startCapsStyle=a;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.endCapsStyle=r;var o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4),this.jointStyle=o,this.hasFillFlag=0!=t.input.b[t.inPos++],this.noHScaleFlag=0!=t.input.b[t.inPos++],this.noVScaleFlag=0!=t.input.b[t.inPos++],this.pixelHintingFlag=0!=t.input.b[t.inPos++],this.noClose=0!=t.input.b[t.inPos++];var h=t.input.getFloat(t.inPos);t.inPos+=4,this.miterLimitFactor=h,this.fillType=t.getRef(gt,gt.__clid)},__class__:yt};var wt=function(t,e){null==e&&(e=1),yt.call(this,t,e)};(i["format.swf.data.SWFMorphLineStyle2"]=wt).__name__=["format","swf","data","SWFMorphLineStyle2"],wt.__super__=yt,wt.prototype=s(yt.prototype,{parse:function(t,e){null==e&&(e=1),this.startWidth=Y.readUI16(t),this.endWidth=Y.readUI16(t),this.startCapsStyle=Y.readUB(t,2),this.jointStyle=Y.readUB(t,2),this.hasFillFlag=1==Y.readUB(t,1),this.noHScaleFlag=1==Y.readUB(t,1),this.noVScaleFlag=1==Y.readUB(t,1),this.pixelHintingFlag=1==Y.readUB(t,1),Y.readUB(t,5),this.noClose=1==Y.readUB(t,1),this.endCapsStyle=Y.readUB(t,2),2==this.jointStyle&&(this.miterLimitFactor=Y.readFIXED8(t)),this.hasFillFlag?this.fillType=Y.readMORPHFILLSTYLE(t,e):(this.startColor=Y.readRGBA(t),this.endColor=Y.readRGBA(t))},publish:function(t,e){null==e&&(e=1),Y.writeUI16(t,this.startWidth),Y.writeUI16(t,this.endWidth),Y.writeUB(t,2,this.startCapsStyle),Y.writeUB(t,2,this.jointStyle),Y.writeUB(t,1,this.hasFillFlag?1:0),Y.writeUB(t,1,this.noHScaleFlag?1:0),Y.writeUB(t,1,this.noVScaleFlag?1:0),Y.writeUB(t,1,this.pixelHintingFlag?1:0),Y.writeUB(t,5,0),Y.writeUB(t,1,this.noClose?1:0),Y.writeUB(t,2,this.endCapsStyle),2==this.jointStyle&&Y.writeFIXED8(t,this.miterLimitFactor),this.hasFillFlag?Y.writeMORPHFILLSTYLE(t,this.fillType,e):(Y.writeRGBA(t,this.startColor),Y.writeRGBA(t,this.endColor))},toString:function(){var t="[SWFMorphLineStyle2] StartWidth: "+this.startWidth+", EndWidth: "+this.endWidth+", StartCaps: "+ue.toString(this.startCapsStyle)+", EndCaps: "+ue.toString(this.endCapsStyle)+", Joint: "+ce.toString(this.jointStyle);return this.hasFillFlag?t+=", Fill: "+this.fillType.toString():(t+=", StartColor: "+rn.rgbaToString(this.startColor),t+=", EndColor: "+rn.rgbaToString(this.endColor)),t},getCLID:function(){return wt.__clid},__class__:wt});var xt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFRawTag"]=xt).__name__=["format","swf","data","SWFRawTag"],xt.prototype={parse:function(t){var e=t.position;this.header=Y.readTagHeader(t),this.bytes=Y._new();var i=t.position;t.position=e,t.readBytes(su.fromBytes(this.bytes),0,this.header.get_tagLength()),t.position=i},publish:function(t){t.writeBytes(su.fromBytes(this.bytes))},__class__:xt};var Tt=function(t,e,i){this.type=t,this.contentLength=e,this.headerLength=i};(i["format.swf.data.SWFRecordHeader"]=Tt).__name__=["format","swf","data","SWFRecordHeader"],Tt.prototype={get_tagLength:function(){return this.headerLength+this.contentLength},toString:function(){return"[SWFRecordHeader] type: "+this.type+", headerLength: "+this.headerLength+", contentlength: "+this.contentLength},__class__:Tt,__properties__:{get_tagLength:"get_tagLength"}};var St=function(t){this.xmax=11e3,this.ymax=8e3,this._rectangle=new El,null!=t&&this.parse(t)};(i["format.swf.data.SWFRectangle"]=St).__name__=["format","swf","data","SWFRectangle"],St.prototype={parse:function(t){t.resetBitsPending();var e=Y.readUB(t,5);this.xmin=Y.readSB(t,e),this.xmax=Y.readSB(t,e),this.ymin=Y.readSB(t,e),this.ymax=Y.readSB(t,e)},publish:function(t){var e=t.calculateMaxBits(!0,[this.xmin,this.xmax,this.ymin,this.ymax]);t.resetBitsPending(),Y.writeUB(t,5,e),Y.writeSB(t,e,this.xmin),Y.writeSB(t,e,this.xmax),Y.writeSB(t,e,this.ymin),Y.writeSB(t,e,this.ymax)},clone:function(){var t=new St;return t.xmin=this.xmin,t.xmax=this.xmax,t.ymin=this.ymin,t.ymax=this.ymax,t},get_rect:function(){return this._rectangle.set_left(_n.roundPixels20(this.xmin/20)),this._rectangle.set_right(_n.roundPixels20(this.xmax/20)),this._rectangle.set_top(_n.roundPixels20(this.ymin/20)),this._rectangle.set_bottom(_n.roundPixels20(this.ymax/20)),this._rectangle},toString:function(){return"("+this.xmin+","+this.xmax+","+this.ymin+","+this.ymax+")"},toStringSize:function(){return"("+(this.xmax/20-this.xmin/20)+","+(this.ymax/20-this.ymin/20)+")"},__class__:St,__properties__:{get_rect:"get_rect"}};var Ct=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFRegisterParam"]=Ct).__name__=["format","swf","data","SWFRegisterParam"],Ct.prototype={parse:function(t){this.register=Y.readUI8(t),this.name=Y.readSTRING(t)},publish:function(t){Y.writeUI8(t,this.register),Y.writeSTRING(t,this.name)},toString:function(){return this.register+":"+this.name},__class__:Ct};function Et(t,e){this.offset=t,this.name=e}(i["format.swf.data.SWFScene"]=Et).__name__=["format","swf","data","SWFScene"],Et.prototype={toString:function(){return"Frame: "+this.offset+", Name: "+this.name},__class__:Et};var It=function(t,e,i){null==i&&(i=20),null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,this.edgeMapsCreated=!1,this.records=[],this.fillStyles=[],this.lineStyles=[],this.subLineStyles=[],this.unitDivisor=i,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFShape"]=It).__name__=["format","swf","data","SWFShape"],It.__interfaces__=[nt],It.getCoordMapKey=function(t){return t.x+"_"+t.y},It.prototype={getMaxFillStyleIndex:function(){for(var t=0,e=0,i=this.records.length;e<i;){var s=e++,n=this.records[s];if(2==n.get_type()){var a=Jn.__cast(n,Ft);if(a.fillStyle0>t&&(t=a.fillStyle0),a.fillStyle1>t&&(t=a.fillStyle1),a.stateNewStyles)break}}return t},getMaxLineStyleIndex:function(){for(var t=0,e=0,i=this.records.length;e<i;){var s=e++,n=this.records[s];if(2==n.get_type()){var a=Jn.__cast(n,Ft);if(a.lineStyle>t&&(t=a.lineStyle),a.stateNewStyles)break}}return t},parse:function(t,e){null==e&&(e=1),t.resetBitsPending();var i=Y.readUB(t,4),s=Y.readUB(t,4);this.readShapeRecords(t,i,s,e)},publish:function(t,e){null==e&&(e=1);var i=t.calculateMaxBits(!1,[this.getMaxFillStyleIndex()]),s=t.calculateMaxBits(!1,[this.getMaxLineStyleIndex()]);t.resetBitsPending(),Y.writeUB(t,4,i),Y.writeUB(t,4,s),this.writeShapeRecords(t,i,s,e)},readShapeRecords:function(t,e,i,s){null==s&&(s=1);for(var n=null;!Jn.__instanceof(n,Mt);){if(1==Y.readUB(t,1)){var a=1==Y.readUB(t,1),r=Y.readUB(t,4)+2;n=a?Y.readSTRAIGHTEDGERECORD(t,r):Y.readCURVEDEDGERECORD(t,r)}else{var o=Y.readUB(t,5);if(0==o)n=new Mt;else{var h=Y.readSTYLECHANGERECORD(t,o,e,i,s);h.stateNewStyles&&(e=h.numFillBits,i=h.numLineBits),n=h}}this.records.push(n)}},writeShapeRecords:function(t,e,i,s){null==s&&(s=1),0!=this.records.length&&Jn.__instanceof(this.records[this.records.length-1],Mt)||this.records.push(new Mt);for(var n=0,a=this.records.length;n<a;){var r=n++,o=this.records[r];if(o.get_isEdgeRecord())Y.writeUB(t,1,1),3==o.get_type()?(Y.writeUB(t,1,1),Y.writeSTRAIGHTEDGERECORD(t,Jn.__cast(o,Rt))):(Y.writeUB(t,1,0),Y.writeCURVEDEDGERECORD(t,Jn.__cast(o,kt)));else if(Y.writeUB(t,1,0),1==o.get_type())Y.writeUB(t,5,0);else{var h=0,_=Jn.__cast(o,Ft);_.stateNewStyles&&(h|=16),_.stateLineStyle&&(h|=8),_.stateFillStyle1&&(h|=4),_.stateFillStyle0&&(h|=2),_.stateMoveTo&&(h|=1),Y.writeUB(t,5,h),Y.writeSTYLECHANGERECORD(t,_,e,i,s),_.stateNewStyles&&(e=_.numFillBits,i=_.numLineBits)}}},export:function(t){this.edgeMapsCreated=!1,this.createEdgeMaps(),null==t&&(t=new Xe),t.beginShape();for(var e=0,i=this.numGroups;e<i;){var s=e++;this.exportSubLinePath(t,s),this.exportFillPath(t,s),this.exportLinePath(t,s)}t.endShape()},createEdgeMaps:function(){if(!this.edgeMapsCreated){var t,e,i,s=0,n=0,a=0,r=0,o=0,h=0,_=0,l=[];this.numGroups=0,this.fillEdgeMaps=[],this.lineEdgeMaps=[],this.subLineEdgeMaps=[],this.currentFillEdgeMap=new yn,this.currentLineEdgeMap=new yn,this.currentSubLineEdgeMap=new yn;for(var u=0,c=this.records.length;u<c;){var f=u++,d=this.records[f];switch(d.get_type()){case 1:this.processSubPath(l,_,o,h),this.cleanEdgeMap(this.currentFillEdgeMap),this.cleanEdgeMap(this.currentLineEdgeMap),this.cleanEdgeMap(this.currentSubLineEdgeMap),this.fillEdgeMaps.push(this.currentFillEdgeMap),this.lineEdgeMaps.push(this.currentLineEdgeMap),this.subLineEdgeMaps.push(this.currentSubLineEdgeMap),this.numGroups++;break;case 2:var p=Jn.__cast(d,Ft);(p.stateLineStyle||p.stateFillStyle0||p.stateFillStyle1)&&(this.processSubPath(l,_,o,h),l=[]),p.stateNewStyles&&(a=this.fillStyles.length,r=this.lineStyles.length,this.appendFillStyles(this.fillStyles,p.fillStyles),this.appendLineStyles(this.lineStyles,p.lineStyles)),p.stateLineStyle&&0==p.lineStyle&&p.stateFillStyle0&&0==p.fillStyle0&&p.stateFillStyle1&&0==p.fillStyle1?(this.cleanEdgeMap(this.currentFillEdgeMap),this.cleanEdgeMap(this.currentLineEdgeMap),this.cleanEdgeMap(this.currentSubLineEdgeMap),this.fillEdgeMaps.push(this.currentFillEdgeMap),this.lineEdgeMaps.push(this.currentLineEdgeMap),this.subLineEdgeMaps.push(this.currentSubLineEdgeMap),this.currentFillEdgeMap=new yn,this.currentLineEdgeMap=new yn,this.currentSubLineEdgeMap=new yn,h=o=_=0,this.numGroups++):(p.stateLineStyle&&0<(_=p.lineStyle)&&(_+=r),p.stateFillStyle0&&0<(o=p.fillStyle0)&&(o+=a),p.stateFillStyle1&&0<(h=p.fillStyle1)&&(h+=a)),p.stateMoveTo&&(s=p.moveDeltaX/this.unitDivisor,n=p.moveDeltaY/this.unitDivisor);break;case 3:var g=Jn.__cast(d,Rt);t=new _o(_n.roundPixels400(s),_n.roundPixels400(n)),g.generalLineFlag?(s+=g.deltaX/this.unitDivisor,n+=g.deltaY/this.unitDivisor):g.vertLineFlag?n+=g.deltaY/this.unitDivisor:s+=g.deltaX/this.unitDivisor,e=new _o(_n.roundPixels400(s),_n.roundPixels400(n)),l.push(new xe(t,e,_,h));break;case 4:var m=Jn.__cast(d,kt);t=new _o(_n.roundPixels400(s),_n.roundPixels400(n));var v=s+m.controlDeltaX/this.unitDivisor,b=n+m.controlDeltaY/this.unitDivisor;s=v+m.anchorDeltaX/this.unitDivisor,n=b+m.anchorDeltaY/this.unitDivisor,i=new _o(v,b),e=new _o(_n.roundPixels400(s),_n.roundPixels400(n)),l.push(new Te(t,i,e,_,h))}}this.edgeMapsCreated=!0}},processSubPath:function(t,e,i,s){var n=[];if(0!=i&&null!=this.fillStyles[i-1]&&!this.fillStyles[i-1].is_transparent()&&0!=s&&null!=this.fillStyles[s-1]&&!this.fillStyles[s-1].is_transparent()){var a=this.subLineStyles.length+1;this.currentSubLineEdgeMap.h[a]=n;var r=this.fillStyles[s-1];if(0==r.type){var o=new ft;o.hasFillFlag=!0,o.fillType=r,o.noClose=!0,o.width=1,this.subLineStyles.push(o);for(var h=[],_=0;_<t.length;){var l=t[_];++_;var u=l.clone();u.subLineStyleIdx=a,h.push(u)}this.appendEdges(n,h)}}if(0!=i){if(null==(n=this.currentFillEdgeMap.h[i])){this.currentFillEdgeMap.h[i]=[],n=this.currentFillEdgeMap.h[i]}for(var c=t.length-1;0<=c;)n.push(t[c].reverseWithNewFillStyle(i)),--c}if(0!=s){if(null==(n=this.currentFillEdgeMap.h[s])){this.currentFillEdgeMap.h[s]=[],n=this.currentFillEdgeMap.h[s]}this.appendEdges(n,t)}if(0!=e){if(null==(n=this.currentLineEdgeMap.h[e])){this.currentLineEdgeMap.h[e]=[],n=this.currentLineEdgeMap.h[e]}this.appendEdges(n,t)}},exportFillPath:function(e,t){var i=this.createPathFromEdgeMap(this.fillEdgeMaps[t]),s=new _o(Y.MAX_FLOAT_VALUE,Y.MAX_FLOAT_VALUE),n=0|Y.MAX_FLOAT_VALUE;if(0<i.length){e.beginFills();for(var a=0,r=i.length;a<r;){var o=i[a++];if(n!=o.fillStyleIdx){n!=Y.MAX_FLOAT_VALUE&&e.endFill(),n=o.fillStyleIdx,s=new _o(Y.MAX_FLOAT_VALUE,Y.MAX_FLOAT_VALUE);try{var h,_=this.fillStyles[n-1];if(null!=_)switch(_.type){case 0:e.beginFill(rn.rgb(_.rgb),rn.alpha(_.rgb));break;case 16:case 18:case 19:var l,u=[],c=[],f=[];(h=_.gradientMatrix.get_matrix().clone()).tx/=20,h.ty/=20;for(var d=0,p=_.gradient.records.length;d<p;){var g=d++;l=_.gradient.records[g],u.push(rn.rgb(l.color)),c.push(rn.alpha(l.color)),f.push(l.ratio)}e.beginGradientFill(16==_.type?0:1,u,c,f,h,le.toEnum(_.gradient.spreadMode),_e.toEnum(_.gradient.interpolationMode),_.gradient.focalPoint);break;case 64:case 65:case 66:case 67:var m=_.bitmapMatrix;h=new ho(m.scaleX/20,m.rotateSkew0/20,m.rotateSkew1/20,m.scaleY/20,m.translateX/20,m.translateY/20),e.beginBitmapFill(_.bitmapId,h,64==_.type||66==_.type,64==_.type||65==_.type)}else e.beginFill(16777215)}catch(t){if((cn.lastException=t)instanceof qn&&(t=t.val),!Jn.__instanceof(t,C_))throw t;e.beginFill(0)}}if(s.equals(o.from)||e.moveTo(o.from.x,o.from.y),Jn.__instanceof(o,Te)){var v=o;e.curveTo(v.control.x,v.control.y,v.to.x,v.to.y)}else e.lineTo(o.to.x,o.to.y);s=o.to}n!=Y.MAX_FLOAT_VALUE&&e.endFill(),e.endFills()}},exportSubLinePath:function(t,e){var i,s=this.createPathFromEdgeMap(this.subLineEdgeMaps[e]),n=new _o(Y.MAX_FLOAT_VALUE,Y.MAX_FLOAT_VALUE),a=0|Y.MAX_FLOAT_VALUE;if(0<s.length){t.beginLines();for(var r=0,o=s.length;r<o;){var h=s[r++];if(a!=h.subLineStyleIdx&&(a=h.subLineStyleIdx,n=new _o(Y.MAX_FLOAT_VALUE,Y.MAX_FLOAT_VALUE),i=this.subLineStyles.length>a-1?this.subLineStyles[a-1]:null,this.addLineStyleToHandler(t,i)),h.from.equals(n)||t.moveTo(h.from.x,h.from.y),Jn.__instanceof(h,Te)){var _=h;t.curveTo(_.control.x,_.control.y,_.to.x,_.to.y)}else t.lineTo(h.to.x,h.to.y);n=h.to}t.endLines()}},exportLinePath:function(t,e){var i,s=this.createPathFromEdgeMap(this.lineEdgeMaps[e]),n=new _o(Y.MAX_FLOAT_VALUE,Y.MAX_FLOAT_VALUE),a=0|Y.MAX_FLOAT_VALUE;if(0<s.length){t.beginLines();for(var r=0,o=s.length;r<o;){var h=s[r++];if(a!=h.lineStyleIdx&&(a=h.lineStyleIdx,n=new _o(Y.MAX_FLOAT_VALUE,Y.MAX_FLOAT_VALUE),i=this.lineStyles.length>a-1?this.lineStyles[a-1]:null,this.addLineStyleToHandler(t,i)),h.from.equals(n)||t.moveTo(h.from.x,h.from.y),Jn.__instanceof(h,Te)){var _=h;t.curveTo(_.control.x,_.control.y,_.to.x,_.to.y)}else t.lineTo(h.to.x,h.to.y);n=h.to}t.endLines()}},addLineStyleToHandler:function(t,e){if(null!=e){var i=2;if(e.noHScaleFlag&&e.noVScaleFlag?i=1:e.noHScaleFlag?i=0:e.noVScaleFlag&&(i=3),e.hasFillFlag){var s=e.fillType;switch(s.type){case 0:t.lineStyle(e.width/20,rn.rgb(s.rgb),rn.alpha(s.rgb),e.pixelHintingFlag,i,ue.toEnum(e.startCapsStyle),ue.toEnum(e.endCapsStyle),ce.toEnum(e.jointStyle),e.miterLimitFactor);break;case 16:case 18:case 19:var n,a=s.gradient,r=[],o=[],h=[],_=s.gradientMatrix.get_matrix().clone();_.tx/=20,_.ty/=20;for(var l=0,u=s.gradient.records.length;l<u;){var c=l++;n=s.gradient.records[c],r.push(rn.rgb(n.color)),o.push(rn.alpha(n.color)),h.push(n.ratio)}t.lineGradientStyle(16==s.type?0:1,r,o,h,_,le.toEnum(a.spreadMode),_e.toEnum(a.interpolationMode),a.focalPoint);break;case 64:case 65:case 66:case 67:var f=s.bitmapMatrix,d=new ho(f.scaleX/20,f.rotateSkew0/20,f.rotateSkew1/20,f.scaleY/20,f.translateX/20,f.translateY/20);t.lineBitmapStyle(s.bitmapId,d,64==s.type||66==s.type,64==s.type||65==s.type)}}else t.lineStyle(e.width/20,rn.rgb(e.color),rn.alpha(e.color),e.pixelHintingFlag,i,ue.toEnum(e.startCapsStyle),ue.toEnum(e.endCapsStyle),ce.toEnum(e.jointStyle),e.miterLimitFactor);if(e.hasFillFlag){var p=e.fillType;switch(p.type){case 16:case 18:case 19:var g,m=[],v=[],b=[],y=p.gradientMatrix.get_matrix().clone();y.tx/=20,y.ty/=20;for(var w=0,x=p.gradient.records.length;w<x;){var T=w++;g=p.gradient.records[T],m.push(rn.rgb(g.color)),v.push(rn.alpha(g.color)),b.push(g.ratio)}t.lineGradientStyle(16==p.type?0:1,m,v,b,y,le.toEnum(p.gradient.spreadMode),_e.toEnum(p.gradient.interpolationMode),p.gradient.focalPoint)}}}else t.lineStyle(0)},createPathFromEdgeMap:function(t){for(var e=[],i=[],s=t.keys();s.hasNext();){var n=s.next();i.push(0|n)}i.sort(function(t,e){return t-e});for(var a=0,r=i.length;a<r;){var o=a++;this.appendEdges(e,t.h[i[o]])}return e},cleanEdgeMap:function(t){for(var e=t.keys();e.hasNext();){var i=e.next(),s=t.h[i];if(null!=s&&0<s.length){var n,a=null,r=[];for(this.createCoordMap(s);0<s.length;)for(n=0;n<s.length;)if(null==a||a.to.equals(s[n].from)){var o=s.splice(n,1)[0];r.push(o),this.removeEdgeFromCoordMap(o),a=o}else{var h=this.findNextEdgeInCoordMap(a);if(null!=h){for(var _=s.length;0<=--_;)if(s[_]==h){n=_;break}}else n=0,a=null}t.h[i]=r}}},createCoordMap:function(t){this.coordMap=new Tn;for(var e=0,i=t.length;e<i;){var s=e++,n=t[s].from,a=It.getCoordMapKey(n),r=this.coordMap,o=null!=Kf[a]?r.getReserved(a):r.h[a];if(null==o){var h=this.coordMap,_=[t[s]];null!=Kf[a]?h.setReserved(a,_):h.h[a]=_}else o.push(t[s])}},removeEdgeFromCoordMap:function(t){var e=It.getCoordMapKey(t.from),i=this.coordMap,s=null!=Kf[e]?i.getReserved(e):i.h[e];if(null!=s)if(1==s.length)this.coordMap.remove(e);else for(var n=s.length;0<=--n;)if(s[n]==t){s.splice(n,1);break}},findNextEdgeInCoordMap:function(t){var e=It.getCoordMapKey(t.to),i=this.coordMap,s=null!=Kf[e]?i.getReserved(e):i.h[e];return null!=s&&0<s.length?s[0]:null},appendFillStyles:function(t,e){for(var i=0,s=e.length;i<s;){var n=i++;t.push(e[n])}},appendLineStyles:function(t,e){for(var i=0,s=e.length;i<s;){var n=i++;t.push(e[n])}},appendEdges:function(t,e){for(var i=0,s=e.length;i<s;){var n=i++;t.push(e[n])}},toString:function(t){null==t&&(t=0);for(var e="\n"+ln.repeat(t)+"ShapeRecords:",i=0,s=this.records.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+n+"] "+this.records[n].toString(t+2)}return e},getCLID:function(){return It.__clid},serialize:function(t){var e=this.records;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=0;s<e.length;){var n=e[s];++s,t.addKnownRef(n)}}t.out.addInt32(Dn.floatToI32(this.unitDivisor))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("records"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.data.SWFShapeRecord"))),t.fieldsNames.push("unitDivisor"),t.fieldsTypes.push(Xn.PFloat),t.isFinal=at.isClassFinal(It.__clid),t},unserializeInit:function(){this.edgeMapsCreated=!1},unserialize:function(t){var e,i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n=i;if(0==n)s=null;else{for(var a=[],r=0,o=--n;r<o;){var h=r++;e=t.getRef(Pt,Pt.__clid),a[h]=e}s=a}this.records=s;var _=t.input.getFloat(t.inPos);t.inPos+=4,this.unitDivisor=_},__class__:It};var Pt=function(t,e){null==e&&(e=1),this.__uid=at.SEQ<<24|++at.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFShapeRecord"]=Pt).__name__=["format","swf","data","SWFShapeRecord"],Pt.__interfaces__=[nt],Pt.prototype={get_type:function(){return 0},get_isEdgeRecord:function(){return 3==this.get_type()||4==this.get_type()},parse:function(t,e){null==e&&(e=1)},publish:function(t,e){null==e&&(e=1)},clone:function(){return null},toString:function(t){return null==t&&(t=0),"[SWFShapeRecord]"},getCLID:function(){return Pt.__clid},serialize:function(t){},getSerializeSchema:function(){var t=new Hn;return t.isFinal=at.isClassFinal(Pt.__clid),t},unserializeInit:function(){},unserialize:function(t){},__class__:Pt,__properties__:{get_isEdgeRecord:"get_isEdgeRecord",get_type:"get_type"}};var kt=function(t,e,i){null==i&&(i=1),null==e&&(e=0),this.numBits=e,Pt.call(this,t,i)};(i["format.swf.data.SWFShapeRecordCurvedEdge"]=kt).__name__=["format","swf","data","SWFShapeRecordCurvedEdge"],kt.__super__=Pt,kt.prototype=s(Pt.prototype,{parse:function(t,e){null==e&&(e=1),this.controlDeltaX=Y.readSB(t,this.numBits),this.controlDeltaY=Y.readSB(t,this.numBits),this.anchorDeltaX=Y.readSB(t,this.numBits),this.anchorDeltaY=Y.readSB(t,this.numBits)},publish:function(t,e){throw null==e&&(e=1),new qn(":TODO:")},clone:function(){var t=new kt;return t.anchorDeltaX=this.anchorDeltaX,t.anchorDeltaY=this.anchorDeltaY,t.controlDeltaX=this.controlDeltaX,t.controlDeltaY=this.controlDeltaY,t.numBits=this.numBits,t},get_type:function(){return 4},toString:function(t){return null==t&&(t=0),"[SWFShapeRecordCurvedEdge] ControlDelta: "+this.controlDeltaX+","+this.controlDeltaY+", AnchorDelta: "+this.anchorDeltaX+","+this.anchorDeltaY},getCLID:function(){return kt.__clid},serialize:function(t){Pt.prototype.serialize.call(this,t),t.out.addInt32(Dn.floatToI32(this.controlDeltaX)),t.out.addInt32(Dn.floatToI32(this.controlDeltaY)),t.out.addInt32(Dn.floatToI32(this.anchorDeltaX)),t.out.addInt32(Dn.floatToI32(this.anchorDeltaY));var e=this.numBits;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))},getSerializeSchema:function(){var t=Pt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("controlDeltaX"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("controlDeltaY"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("anchorDeltaX"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("anchorDeltaY"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("numBits"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(kt.__clid),t},unserialize:function(t){Pt.prototype.unserialize.call(this,t);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.controlDeltaX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.controlDeltaY=i;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.anchorDeltaX=s;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.anchorDeltaY=n;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.numBits=a},__class__:kt});var Mt=function(){Pt.call(this)};(i["format.swf.data.SWFShapeRecordEnd"]=Mt).__name__=["format","swf","data","SWFShapeRecordEnd"],Mt.__super__=Pt,Mt.prototype=s(Pt.prototype,{clone:function(){return new Mt},get_type:function(){return 1},toString:function(t){return null==t&&(t=0),"[SWFShapeRecordEnd]"},getCLID:function(){return Mt.__clid},__class__:Mt});var Rt=function(t,e,i){null==i&&(i=1),null==e&&(e=0),this.numBits=e,Pt.call(this,t,i)};(i["format.swf.data.SWFShapeRecordStraightEdge"]=Rt).__name__=["format","swf","data","SWFShapeRecordStraightEdge"],Rt.__super__=Pt,Rt.prototype=s(Pt.prototype,{parse:function(t,e){null==e&&(e=1),this.generalLineFlag=1==Y.readUB(t,1),this.vertLineFlag=!this.generalLineFlag&&1==Y.readUB(t,1),this.deltaX=this.generalLineFlag||!this.vertLineFlag?Y.readSB(t,this.numBits):0,this.deltaY=this.generalLineFlag||this.vertLineFlag?Y.readSB(t,this.numBits):0},publish:function(t,e){throw null==e&&(e=1),new qn(":TODO:")},clone:function(){var t=new Rt;return t.deltaX=this.deltaX,t.deltaY=this.deltaY,t.generalLineFlag=this.generalLineFlag,t.vertLineFlag=this.vertLineFlag,t.numBits=this.numBits,t},get_type:function(){return 3},toString:function(t){null==t&&(t=0);var e="[SWFShapeRecordStraightEdge] ";return this.generalLineFlag?e+="General: "+this.deltaX+","+this.deltaY:this.vertLineFlag?e+="Vertical: "+this.deltaY:e+="Horizontal: "+this.deltaX,e},getCLID:function(){return Rt.__clid},serialize:function(t){Pt.prototype.serialize.call(this,t),t.out.b.push(this.generalLineFlag?1:0),t.out.b.push(this.vertLineFlag?1:0),t.out.addInt32(Dn.floatToI32(this.deltaY)),t.out.addInt32(Dn.floatToI32(this.deltaX));var e=this.numBits;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))},getSerializeSchema:function(){var t=Pt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("generalLineFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("vertLineFlag"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("deltaY"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("deltaX"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("numBits"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(Rt.__clid),t},unserialize:function(t){Pt.prototype.unserialize.call(this,t),this.generalLineFlag=0!=t.input.b[t.inPos++],this.vertLineFlag=0!=t.input.b[t.inPos++];var e=t.input.getFloat(t.inPos);t.inPos+=4,this.deltaY=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.deltaX=i;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.numBits=s},__class__:Rt});var Ft=function(t,e,i,s,n){null==n&&(n=1),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),this.numLineBits=0,this.numFillBits=0,this.lineStyle=0,this.fillStyle1=0,this.fillStyle0=0,this.moveDeltaY=0,this.moveDeltaX=0,this.fillStyles=[],this.lineStyles=[],this.stateNewStyles=0!=(16&e),this.stateLineStyle=0!=(8&e),this.stateFillStyle1=0!=(4&e),this.stateFillStyle0=0!=(2&e),this.stateMoveTo=0!=(1&e),this.numFillBits=i,this.numLineBits=s,Pt.call(this,t,n)};(i["format.swf.data.SWFShapeRecordStyleChange"]=Ft).__name__=["format","swf","data","SWFShapeRecordStyleChange"],Ft.__super__=Pt,Ft.prototype=s(Pt.prototype,{get_type:function(){return 2},parse:function(t,e){if(null==e&&(e=1),this.stateMoveTo){var i=Y.readUB(t,5);this.moveDeltaX=Y.readSB(t,i),this.moveDeltaY=Y.readSB(t,i)}if(this.fillStyle0=this.stateFillStyle0?Y.readUB(t,this.numFillBits):0,this.fillStyle1=this.stateFillStyle1?Y.readUB(t,this.numFillBits):0,this.lineStyle=this.stateLineStyle?Y.readUB(t,this.numLineBits):0,this.stateNewStyles){t.resetBitsPending();for(var s=0,n=this.readStyleArrayLength(t,e);s<n;){s++;this.fillStyles.push(Y.readFILLSTYLE(t,e))}for(var a=0,r=this.readStyleArrayLength(t,e);a<r;){a++;this.lineStyles.push(e<=3?Y.readLINESTYLE(t,e):Y.readLINESTYLE2(t,e))}t.resetBitsPending(),this.numFillBits=Y.readUB(t,4),this.numLineBits=Y.readUB(t,4)}},publish:function(t,e){throw null==e&&(e=1),new qn(":TODO:")},readStyleArrayLength:function(t,e){null==e&&(e=1);var i=Y.readUI8(t);return 2<=e&&255==i&&(i=Y.readUI16(t)),i},writeStyleArrayLength:function(t,e,i){null==i&&(i=1),2<=i&&254<e?(Y.writeUI8(t,255),Y.writeUI16(t,e)):Y.writeUI8(t,e)},clone:function(){var t=new Ft;t.stateNewStyles=this.stateNewStyles,t.stateLineStyle=this.stateLineStyle,t.stateFillStyle1=this.stateFillStyle1,t.stateFillStyle0=this.stateFillStyle0,t.stateMoveTo=this.stateMoveTo,t.moveDeltaX=this.moveDeltaX,t.moveDeltaY=this.moveDeltaY,t.fillStyle0=this.fillStyle0,t.fillStyle1=this.fillStyle1,t.lineStyle=this.lineStyle,t.numFillBits=this.numFillBits,t.numLineBits=this.numLineBits;for(var e=0,i=this.fillStyles.length;e<i;){var s=e++;t.fillStyles.push(this.fillStyles[s].clone())}for(var n=0,a=this.lineStyles.length;n<a;){var r=n++;t.lineStyles.push(this.lineStyles[r].clone())}return t},toString:function(t){null==t&&(t=0);var e="[SWFShapeRecordStyleChange] ",i=[];if(this.stateMoveTo&&i.push("MoveTo: "+this.moveDeltaX+","+this.moveDeltaY),this.stateFillStyle0&&i.push("FillStyle0: "+this.fillStyle0),this.stateFillStyle1&&i.push("FillStyle1: "+this.fillStyle1),this.stateLineStyle&&i.push("LineStyle: "+this.lineStyle),0<i.length&&(e+=i.join(", ")),this.stateNewStyles){if(0<this.fillStyles.length){e+="\n"+ln.repeat(t+2)+"New FillStyles:";for(var s=0,n=this.fillStyles.length;s<n;){var a=s++;e+="\n"+ln.repeat(t+4)+"["+(1+a)+"] "+this.fillStyles[a].toString()}}if(0<this.lineStyles.length){e+="\n"+ln.repeat(t+2)+"New LineStyles:";for(var r=0,o=this.lineStyles.length;r<o;){var h=r++;e+="\n"+ln.repeat(t+4)+"["+(1+h)+"] "+this.lineStyles[h].toString()}}}return e},getCLID:function(){return Ft.__clid},serialize:function(t){Pt.prototype.serialize.call(this,t),t.out.b.push(this.stateNewStyles?1:0),t.out.b.push(this.stateLineStyle?1:0),t.out.b.push(this.stateFillStyle1?1:0),t.out.b.push(this.stateFillStyle0?1:0),t.out.b.push(this.stateMoveTo?1:0),t.out.addInt32(Dn.floatToI32(this.moveDeltaX)),t.out.addInt32(Dn.floatToI32(this.moveDeltaY));var e=this.fillStyle0;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.fillStyle1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var s=this.lineStyle;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var n=this.numFillBits;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var a=this.numLineBits;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));var r=this.fillStyles;if(null==r)t.out.b.push(0);else{var o=r.length+1;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o));for(var h=0;h<r.length;){var _=r[h];++h,t.addKnownRef(_)}}var l=this.lineStyles;if(null==l)t.out.b.push(0);else{var u=l.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=0;c<l.length;){var f=l[c];++c,t.addKnownRef(f)}}},getSerializeSchema:function(){var t=Pt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("stateNewStyles"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("stateLineStyle"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("stateFillStyle1"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("stateFillStyle0"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("stateMoveTo"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("moveDeltaX"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("moveDeltaY"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("fillStyle0"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("fillStyle1"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("lineStyle"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("numFillBits"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("numLineBits"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("fillStyles"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.data.SWFFillStyle"))),t.fieldsNames.push("lineStyles"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.data.SWFLineStyle"))),t.isFinal=at.isClassFinal(Ft.__clid),t},unserializeInit:function(){Pt.prototype.unserializeInit.call(this),this.moveDeltaX=0,this.moveDeltaY=0,this.fillStyle0=0,this.fillStyle1=0,this.lineStyle=0,this.numFillBits=0,this.numLineBits=0},unserialize:function(t){Pt.prototype.unserialize.call(this,t),this.stateNewStyles=0!=t.input.b[t.inPos++],this.stateLineStyle=0!=t.input.b[t.inPos++],this.stateFillStyle1=0!=t.input.b[t.inPos++],this.stateFillStyle0=0!=t.input.b[t.inPos++],this.stateMoveTo=0!=t.input.b[t.inPos++];var e=t.input.getFloat(t.inPos);t.inPos+=4,this.moveDeltaX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.moveDeltaY=i;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyle0=s;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyle1=n;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.lineStyle=a;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.numFillBits=r;var o,h=t.input.b[t.inPos++];128==h&&(h=t.input.getInt32(t.inPos),t.inPos+=4),this.numLineBits=h;var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4);var l,u,c=_;if(0==c)l=null;else{for(var f=[],d=0,p=--c;d<p;){var g=d++;o=t.getRef(rt,rt.__clid),f[g]=o}l=f}this.fillStyles=l;var m=t.input.b[t.inPos++];128==m&&(m=t.input.getInt32(t.inPos),t.inPos+=4);var v,b=m;if(0==b)v=null;else{for(var y=[],w=0,x=--b;w<x;){var T=w++;u=t.getRef(ft,ft.__clid),y[T]=u}v=y}this.lineStyles=v},__class__:Ft});var Bt=function(t,e,i){null==i&&(i=20),null==e&&(e=1),this.initialFillStyles=[],this.initialLineStyles=[],It.call(this,t,e,i)};(i["format.swf.data.SWFShapeWithStyle"]=Bt).__name__=["format","swf","data","SWFShapeWithStyle"],Bt.__super__=It,Bt.prototype=s(It.prototype,{parse:function(t,e){null==e&&(e=1),t.resetBitsPending();for(var i=0,s=this.readStyleArrayLength(t,e);i<s;){i++;this.initialFillStyles.push(Y.readFILLSTYLE(t,e))}for(var n=0,a=this.readStyleArrayLength(t,e);n<a;){n++;this.initialLineStyles.push(e<=3?Y.readLINESTYLE(t,e):Y.readLINESTYLE2(t,e))}t.resetBitsPending();var r=Y.readUB(t,4),o=Y.readUB(t,4);this.readShapeRecords(t,r,o,e)},publish:function(t,e){null==e&&(e=1),t.resetBitsPending();var i=this.initialFillStyles.length;this.writeStyleArrayLength(t,i,e);for(var s=0,n=i;s<n;){var a=s++;this.initialFillStyles[a].publish(t,e)}var r=this.initialLineStyles.length;this.writeStyleArrayLength(t,r,e);for(var o=0,h=r;o<h;){var _=o++;this.initialLineStyles[_].publish(t,e)}var l=t.calculateMaxBits(!1,[this.getMaxFillStyleIndex()]),u=t.calculateMaxBits(!1,[this.getMaxLineStyleIndex()]);t.resetBitsPending(),Y.writeUB(t,4,l),Y.writeUB(t,4,u),this.writeShapeRecords(t,l,u,e)},export:function(t){this.fillStyles=this.initialFillStyles.slice(),this.lineStyles=this.initialLineStyles.slice(),It.prototype.export.call(this,t)},toString:function(t){null==t&&(t=0);var e="";if(0<this.initialFillStyles.length){e+="\n"+ln.repeat(t)+"FillStyles:";for(var i=0,s=this.initialFillStyles.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+(1+n)+"] "+this.initialFillStyles[n].toString()}}if(0<this.initialLineStyles.length){e+="\n"+ln.repeat(t)+"LineStyles:";for(var a=0,r=this.initialLineStyles.length;a<r;){var o=a++;e+="\n"+ln.repeat(t+2)+"["+(1+o)+"] "+this.initialLineStyles[o].toString()}}return e+It.prototype.toString.call(this,t)},readStyleArrayLength:function(t,e){null==e&&(e=1);var i=Y.readUI8(t);return 2<=e&&255==i&&(i=Y.readUI16(t)),i},writeStyleArrayLength:function(t,e,i){null==i&&(i=1),2<=i&&254<e?(Y.writeUI8(t,255),Y.writeUI16(t,e)):Y.writeUI8(t,e)},getCLID:function(){return Bt.__clid},__class__:Bt});var Lt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFSoundEnvelope"]=Lt).__name__=["format","swf","data","SWFSoundEnvelope"],Lt.prototype={parse:function(t){this.pos44=Y.readUI32(t),this.leftLevel=Y.readUI16(t),this.rightLevel=Y.readUI16(t)},publish:function(t){Y.writeUI32(t,this.pos44),Y.writeUI16(t,this.leftLevel),Y.writeUI16(t,this.rightLevel)},clone:function(){var t=new Lt;return t.pos44=this.pos44,t.leftLevel=this.leftLevel,t.rightLevel=this.rightLevel,t},toString:function(){return"[SWFSoundEnvelope]"},__class__:Lt};var Nt=function(t){this.envelopeRecords=[],null!=t&&this.parse(t)};(i["format.swf.data.SWFSoundInfo"]=Nt).__name__=["format","swf","data","SWFSoundInfo"],Nt.prototype={parse:function(t){var e=Y.readUI8(t);if(this.syncStop=0!=(32&e),this.syncNoMultiple=0!=(16&e),this.hasEnvelope=0!=(8&e),this.hasLoops=0!=(4&e),this.hasOutPoint=0!=(2&e),this.hasInPoint=0!=(1&e),this.hasInPoint&&(this.inPoint=Y.readUI32(t)),this.hasOutPoint&&(this.outPoint=Y.readUI32(t)),this.hasLoops&&(this.loopCount=Y.readUI16(t)),this.hasEnvelope)for(var i=0,s=Y.readUI8(t);i<s;){i++;this.envelopeRecords.push(Y.readSOUNDENVELOPE(t))}},publish:function(t){var e=0;if(this.syncStop&&(e|=32),this.syncNoMultiple&&(e|=16),this.hasEnvelope&&(e|=8),this.hasLoops&&(e|=4),this.hasOutPoint&&(e|=2),this.hasInPoint&&(e|=1),Y.writeUI8(t,e),this.hasInPoint&&Y.writeUI32(t,this.inPoint),this.hasOutPoint&&Y.writeUI32(t,this.outPoint),this.hasLoops&&Y.writeUI16(t,this.loopCount),this.hasEnvelope){var i=this.envelopeRecords.length;Y.writeUI8(t,i);for(var s=0,n=i;s<n;){var a=s++;Y.writeSOUNDENVELOPE(t,this.envelopeRecords[a])}}},clone:function(){var t=new Nt;t.syncStop=this.syncStop,t.syncNoMultiple=this.syncNoMultiple,t.hasEnvelope=this.hasEnvelope,t.hasLoops=this.hasLoops,t.hasOutPoint=this.hasOutPoint,t.hasInPoint=this.hasInPoint,t.outPoint=this.outPoint,t.inPoint=this.inPoint,t.loopCount=this.loopCount;for(var e=0,i=this.envelopeRecords.length;e<i;){var s=e++;t.envelopeRecords.push(this.envelopeRecords[s].clone())}return t},toString:function(){return"[SWFSoundInfo]"},__class__:Nt};var Ot=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFSymbol"]=Ot).__name__=["format","swf","data","SWFSymbol"],Ot.create=function(t,e){var i=new Ot;return i.tagId=t,i.name=e,i},Ot.prototype={parse:function(t){this.tagId=Y.readUI16(t),this.name=Y.readSTRING(t)},publish:function(t){Y.writeUI16(t,this.tagId),Y.writeSTRING(t,this.name)},toString:function(){return"TagID: "+this.tagId+", Name: "+this.name},__class__:Ot};var Ut=function(t,e,i,s,n){null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),this.glyphEntries=[],null!=t&&this.parse(t,e,i,s,n)};(i["format.swf.data.SWFTextRecord"]=Ut).__name__=["format","swf","data","SWFTextRecord"],Ut.prototype={parse:function(t,e,i,s,n){null==n&&(n=1),this._level=n;var a=Y.readUI8(t);this.type=a>>7,this.hasFont=0!=(8&a),this.hasColor=0!=(4&a),this.hasYOffset=0!=(2&a),this.hasXOffset=0!=(1&a),this.hasFont?this.fontId=Y.readUI16(t):null!=s&&(this.fontId=s.fontId),this.hasColor?this.textColor=n<2?Y.readRGB(t):Y.readRGBA(t):null!=s&&(this.textColor=s.textColor),this.hasXOffset?this.xOffset=Y.readSI16(t):null!=s&&(this.xOffset=s.xOffset),this.hasYOffset?this.yOffset=Y.readSI16(t):null!=s&&(this.yOffset=s.yOffset),this.hasFont?this.textHeight=Y.readUI16(t):null!=s&&(this.textHeight=s.textHeight);for(var r=0,o=Y.readUI8(t);r<o;){r++;this.glyphEntries.push(Y.readGLYPHENTRY(t,e,i))}},publish:function(t,e,i,s,n){null==n&&(n=1);var a=this.type<<7;this.hasFont=null==s||s.fontId!=this.fontId||s.textHeight!=this.textHeight,this.hasColor=null==s||s.textColor!=this.textColor,this.hasXOffset=null==s||s.xOffset!=this.xOffset,this.hasYOffset=null==s||s.yOffset!=this.yOffset,this.hasFont&&(a|=8),this.hasColor&&(a|=4),this.hasYOffset&&(a|=2),this.hasXOffset&&(a|=1),Y.writeUI8(t,a),this.hasFont&&Y.writeUI16(t,this.fontId),this.hasColor&&(2<=n?Y.writeRGBA(t,this.textColor):Y.writeRGB(t,this.textColor)),this.hasXOffset&&Y.writeSI16(t,this.xOffset),this.hasYOffset&&Y.writeSI16(t,this.yOffset),this.hasFont&&Y.writeUI16(t,this.textHeight);var r=this.glyphEntries.length;Y.writeUI8(t,r);for(var o=0,h=r;o<h;){var _=o++;Y.writeGLYPHENTRY(t,this.glyphEntries[_],e,i)}},clone:function(){var t=new Ut;t.type=this.type,t.hasFont=this.hasFont,t.hasColor=this.hasColor,t.hasXOffset=this.hasXOffset,t.hasYOffset=this.hasYOffset,t.fontId=this.fontId,t.textColor=this.textColor,t.textHeight=this.textHeight,t.xOffset=this.xOffset,t.yOffset=this.yOffset;for(var e=0,i=this.glyphEntries.length;e<i;){var s=e++;t.glyphEntries.push(this.glyphEntries[s].clone())}return t},toString:function(t){null==t&&(t=0);var e=["Glyphs: "+O.string(this.glyphEntries.length)];this.hasFont&&(e.push("FontID: "+this.fontId),e.push("Height: "+this.textHeight)),this.hasColor&&e.push("Color: "+(this._level<=2?rn.rgbToString(this.textColor):rn.rgbaToString(this.textColor))),this.hasXOffset&&e.push("XOffset: "+this.xOffset),this.hasYOffset&&e.push("YOffset: "+this.yOffset);for(var i=e.join(", "),s=0,n=this.glyphEntries.length;s<n;){var a=s++;i+="\n"+ln.repeat(t+2)+"["+a+"] "+this.glyphEntries[a].toString()}return i},__class__:Ut};var Gt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFZoneData"]=Gt).__name__=["format","swf","data","SWFZoneData"],Gt.prototype={parse:function(t){this.alignmentCoordinate=Y.readFLOAT16(t),this.range=Y.readFLOAT16(t)},publish:function(t){Y.writeFLOAT16(t,this.alignmentCoordinate),Y.writeFLOAT16(t,this.range)},toString:function(){return"("+this.alignmentCoordinate+","+this.range+")"},__class__:Gt};var Xt=function(t){this.zoneData=[],null!=t&&this.parse(t)};(i["format.swf.data.SWFZoneRecord"]=Xt).__name__=["format","swf","data","SWFZoneRecord"],Xt.prototype={parse:function(t){for(var e=0,i=Y.readUI8(t);e<i;){e++;this.zoneData.push(Y.readZONEDATA(t))}var s=Y.readUI8(t);this.maskX=0!=(1&s),this.maskY=0!=(2&s)},publish:function(t){var e=this.zoneData.length;Y.writeUI8(t,e);for(var i=0,s=e;i<s;){var n=i++;Y.writeZONEDATA(t,this.zoneData[n])}var a=0;this.maskX&&(a|=1),this.maskY&&(a|=2),Y.writeUI8(t,a)},toString:function(t){null==t&&(t=0);for(var e="MaskY: "+O.string(this.maskY)+", MaskX: "+O.string(this.maskX),i=0,s=this.zoneData.length;i<s;){var n=i++;e+=", "+n+": "+this.zoneData[n].toString()}return e},__class__:Xt};function Vt(){}(i["format.swf.data.actions.IAction"]=Vt).__name__=["format","swf","data","actions","IAction"],Vt.prototype={__class__:Vt,__properties__:{get_lengthWithHeader:"get_lengthWithHeader"}};var Ht=function(t,e,i){this.code=t,this.length=e,this.pos=i};(i["format.swf.data.actions.Action"]=Ht).__name__=["format","swf","data","actions","Action"],Ht.__interfaces__=[Vt],Ht.resolveOffsets=function(t){for(var e,i=t.length,s=0,n=i;s<n;){var a=s++;if(e=t.data[a],Jn.__instanceof(e,Wt)){var r=0,o=!1,h=e,_=h.pos+h.get_lengthWithHeader()+h.branchOffset;if(_<=h.pos)for(r=a;0<=r;){if(_==t.data[r].pos){o=!0;break}--r}else{for(;r<i;){if(_==t.data[r].pos){o=!0;break}++r}o||_==(e=t.data[r-1]).pos+e.get_lengthWithHeader()&&(r=-1,o=!0)}h.branchIndex=o?r:-2}}},Ht.prototype={get_lengthWithHeader:function(){return this.length+(128<=this.code?3:1)},parse:function(t){},publish:function(t){this.write(t)},clone:function(){return new Ht(this.code,this.length,this.pos)},write:function(t,e){if(Y.writeUI8(t,this.code),128<=this.code){if(!(null!=e&&0<Y.get_length(e)))throw this.length=0,new qn(new C_("Action body null or empty."));this.length=Y.get_length(e),Y.writeUI16(t,this.length),t.writeBytes(su.fromBytes(e))}else this.length=0},toString:function(t){return null==t&&(t=0),"[Action] Code: "+In.hex(this.code)+", Length: "+this.length},__class__:Ht,__properties__:{get_lengthWithHeader:"get_lengthWithHeader"}};function Yt(t,e,i){Ht.call(this,t,e,i)}(i["format.swf.data.actions.ActionUnknown"]=Yt).__name__=["format","swf","data","actions","ActionUnknown"],Yt.__interfaces__=[Vt],Yt.__super__=Ht,Yt.prototype=s(Ht.prototype,{parse:function(t){0<this.length&&Y.skipBytes(t,this.length)},toString:function(t){return null==t&&(t=0),"[????] Code: "+In.hex(this.code)+", Length: "+this.length},__class__:Yt});var Wt=function(){};(i["format.swf.data.actions.IActionBranch"]=Wt).__name__=["format","swf","data","actions","IActionBranch"],Wt.__interfaces__=[Vt],Wt.prototype={__class__:Wt};function jt(t,e,i){Ht.call(this,t,e,i)}(i["format.swf.data.actions.swf3.ActionStop"]=jt).__name__=["format","swf","data","actions","swf3","ActionStop"],jt.__interfaces__=[Vt],jt.__super__=Ht,jt.prototype=s(Ht.prototype,{toString:function(t){return null==t&&(t=0),"[ActionStop]"},__class__:jt});function Kt(){}(i["format.swf.data.consts.BitmapFormat"]=Kt).__name__=["format","swf","data","consts","BitmapFormat"],Kt.toString=function(t){switch(t){case 3:return"8 BPP";case 4:return"15 BPP";case 5:return"24 BPP";default:return"unknown"}};function qt(){}(i["format.swf.data.consts.BitmapType"]=qt).__name__=["format","swf","data","consts","BitmapType"],qt.toString=function(t){switch(t){case 1:return"JPEG";case 2:return"GIF89a";case 3:return"PNG";default:return"unknown"}};var Jt=function(){};(i["format.swf.data.consts.BlendMode"]=Jt).__name__=["format","swf","data","consts","BlendMode"],Jt.toString=function(t){switch(t){case 0:case 1:return"normal";case 2:return"layer";case 3:return"multiply";case 4:return"screen";case 5:return"lighten";case 6:return"darken";case 7:return"difference";case 8:return"add";case 9:return"subtract";case 10:return"invert";case 11:return"alpha";case 12:return"erase";case 13:return"overlay";case 14:return"hardlight";default:return"unknown"}};function he(){}(i["format.swf.data.consts.CSMTableHint"]=he).__name__=["format","swf","data","consts","CSMTableHint"],he.toString=function(t){switch(t){case 0:return"thin";case 1:return"medium";case 2:return"thick";default:return"unknown"}};var _e=function(){};(i["format.swf.data.consts.GradientInterpolationMode"]=_e).__name__=["format","swf","data","consts","GradientInterpolationMode"],_e.toEnum=function(t){switch(t){case 0:return 1;case 1:return 0;default:return 1}},_e.toString=function(t){switch(t){case 0:return Oh.toString(1).toLowerCase();case 1:return Oh.toString(0).toLowerCase();default:return Oh.toString(1).toLowerCase()}};var le=function(){};(i["format.swf.data.consts.GradientSpreadMode"]=le).__name__=["format","swf","data","consts","GradientSpreadMode"],le.toEnum=function(t){switch(t){case 0:return 0;case 1:return 1;case 2:return 2;default:return 0}},le.toString=function(t){switch(t){case 0:return Jh.toString(0).toLowerCase();case 1:return Jh.toString(1).toLowerCase();case 2:return Jh.toString(2).toLowerCase();default:return"unknown"}};var ue=function(){};(i["format.swf.data.consts.LineCapsStyle"]=ue).__name__=["format","swf","data","consts","LineCapsStyle"],ue.toEnum=function(t){return 1},ue.toString=function(t){switch(t){case 0:return bh.toString(1).toLowerCase();case 1:return bh.toString(0).toLowerCase();case 2:return bh.toString(2).toLowerCase();default:return"unknown"}};var ce=function(){};(i["format.swf.data.consts.LineJointStyle"]=ce).__name__=["format","swf","data","consts","LineJointStyle"],ce.toEnum=function(t){switch(t){case 0:return 2;case 1:return 0;case 2:return 1;default:return 2}},ce.toString=function(t){switch(t){case 0:return zh.toString(2).toLowerCase();case 1:return zh.toString(0).toLowerCase();case 2:return zh.toString(1).toLowerCase();default:return"null"}};function fe(){}(i["format.swf.data.consts.SoundCompression"]=fe).__name__=["format","swf","data","consts","SoundCompression"],fe.toString=function(t){switch(t){case 0:return"Uncompressed Native Endian";case 1:return"ADPCM";case 2:return"MP3";case 3:return"Uncompressed Little Endian";case 4:return"Nellymoser 16kHz";case 5:return"Nellymoser 8kHz";case 6:return"Nellymoser";case 11:return"Speex";default:return"unknown"}};function de(){}(i["format.swf.data.consts.SoundRate"]=de).__name__=["format","swf","data","consts","SoundRate"],de.toString=function(t){switch(t){case 0:return"5.5kHz";case 1:return"11kHz";case 2:return"22kHz";case 3:return"44kHz";default:return"unknown"}};function pe(){}(i["format.swf.data.consts.SoundSize"]=pe).__name__=["format","swf","data","consts","SoundSize"],pe.toString=function(t){switch(t){case 0:return"8bit";case 1:return"16bit";default:return"unknown"}};function ge(){}(i["format.swf.data.consts.SoundType"]=ge).__name__=["format","swf","data","consts","SoundType"],ge.toString=function(t){switch(t){case 0:return"mono";case 1:return"stereo";default:return"unknown"}};function me(){}(i["format.swf.data.consts.VideoCodecID"]=me).__name__=["format","swf","data","consts","VideoCodecID"],me.toString=function(t){switch(t){case 2:return"H.263";case 3:return"Screen Video";case 4:return"VP6";case 5:return"VP6 With Alpha";case 6:return"Screen Video V2";default:return"unknown"}};function ve(){}(i["format.swf.data.consts.VideoDeblockingType"]=ve).__name__=["format","swf","data","consts","VideoDeblockingType"],ve.toString=function(t){switch(t){case 0:return"videopacket";case 1:return"off";case 2:return"level 1";case 3:return"level 2";case 4:return"level 3";case 5:return"level 4";default:return"unknown"}};function be(){}(i["format.swf.data.etc.IEdge"]=be).__name__=["format","swf","data","etc","IEdge"],be.prototype={__class__:be};function ye(){this.__uid=at.SEQ<<24|++at.UID}(i["format.swf.data.etc.Edge"]=ye).__name__=["format","swf","data","etc","Edge"],ye.__interfaces__=[nt,be],ye.prototype={reverseWithNewFillStyle:function(t){throw new qn("Pure virtual baseclass. Should not be instantiated or called.")},clone:function(){throw new qn("Pure virtual baseclass. Should not be instantiated or called.")},getCLID:function(){return ye.__clid},serialize:function(t){t.addKnownRef(this.from),t.addKnownRef(this.to);var e=this.lineStyleIdx;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.fillStyleIdx;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var s=this.subLineStyleIdx;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("from"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Point")),t.fieldsNames.push("to"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Point")),t.fieldsNames.push("lineStyleIdx"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("fillStyleIdx"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("subLineStyleIdx"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(ye.__clid),t},unserializeInit:function(){},unserialize:function(t){this.from=t.getRef(_o,_o.__clid),this.to=t.getRef(_o,_o.__clid);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.lineStyleIdx=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyleIdx=i;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.subLineStyleIdx=s},__class__:ye};var xe=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),ye.call(this),this.from=t,this.to=e,this.lineStyleIdx=i,this.fillStyleIdx=s};(i["format.swf.data.etc.StraightEdge"]=xe).__name__=["format","swf","data","etc","StraightEdge"],xe.__super__=ye,xe.prototype=s(ye.prototype,{reverseWithNewFillStyle:function(t){return new xe(this.to,this.from,this.lineStyleIdx,t)},clone:function(){return new xe(this.from,this.to,this.lineStyleIdx,this.fillStyleIdx)},toString:function(){return"stroke:"+this.lineStyleIdx+", fill:"+this.fillStyleIdx+", start:"+this.from.toString()+", end:"+this.to.toString()},getCLID:function(){return xe.__clid},__class__:xe});var Te=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=0),xe.call(this,t,i,s,n),this.control=e};(i["format.swf.data.etc.CurvedEdge"]=Te).__name__=["format","swf","data","etc","CurvedEdge"],Te.__super__=xe,Te.prototype=s(xe.prototype,{reverseWithNewFillStyle:function(t){return new Te(this.to,this.control,this.from,this.lineStyleIdx,t)},clone:function(){return new Te(this.from,this.control,this.to,this.lineStyleIdx,this.fillStyleIdx)},toString:function(){return"stroke:"+this.lineStyleIdx+", fill:"+this.fillStyleIdx+", start:"+this.from.toString()+", control:"+this.control.toString()+", end:"+this.to.toString()},getCLID:function(){return Te.__clid},serialize:function(t){xe.prototype.serialize.call(this,t),t.addKnownRef(this.control)},getSerializeSchema:function(){var t=xe.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("control"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Point")),t.isFinal=at.isClassFinal(Te.__clid),t},unserialize:function(t){xe.prototype.unserialize.call(this,t),this.control=t.getRef(_o,_o.__clid)},__class__:Te});function Se(){this.samples=1152,this.init()}(i["format.swf.data.etc.MPEGFrame"]=Se).__name__=["format","swf","data","etc","MPEGFrame"],Se.prototype={get_crc:function(){return this._crc.position=0,this._crc.readUnsignedShort()},get_size:function(){var t=0;return 0==this.layer?(t=Math.floor(12e3*this.bitrate/this.samplingrate),this.padding&&++t,t<<=2):(t=Math.floor((0==this.version?144e3:72e3)*this.bitrate/this.samplingrate),this.padding&&++t),t-4-(this.hasCRC?2:0)},setHeaderByteAt:function(t,e){switch(t){case 0:if(255!=e)throw new qn(new C_("Not a MPEG header."));break;case 1:if(224!=(224&e))throw new qn(new C_("Not a MPEG header."));switch((24&e)>>3){case 2:this.version=1;break;case 3:this.version=0;break;default:throw new qn(new C_("Unsupported MPEG version."))}if(1!=(6&e)>>1)throw new qn(new C_("Unsupported MPEG layer."));this.layer=2,this.hasCRC=0==(1&e);break;case 2:var i=(240&e)>>4;if(0==i||15==i)throw new qn(new C_("Unsupported bitrate index."));this.bitrate=Se.mpegBitrates[this.version][this.layer][i];var s=(12&e)>>2;if(3==s)throw new qn(new C_("Unsupported samplingrate index."));this.samplingrate=Se.mpegsamplingrates[this.version][s],this.padding=2==(2&e);break;case 3:this.channelMode=(192&e)>>6,this.channelModeExt=(48&e)>>4,this.copyright=8==(8&e),this.original=4==(4&e),this.emphasis=2&e;break;default:throw new qn(new C_("Index out of bounds."))}this._header.b[t]=255&e},setCRCByteAt:function(t,e){if(1<t)throw new qn(new C_("Index out of bounds."));this._crc.b[t]=255&e},init:function(){var t=new nn(0);this._header=t,this._header.writeByte(0),this._header.writeByte(0),this._header.writeByte(0),this._header.writeByte(0);var e=new nn(0);this._crc=e,this._crc.writeByte(0),this._crc.writeByte(0)},getFrame:function(){var t=new nn(0);return t.writeBytes(this._header,0,4),this.hasCRC&&t.writeBytes(this._crc,0,2),t.writeBytes(this.data),t},toString:function(){var t="MPEG ";switch(this.version){case 0:t+="1.0 ";break;case 1:t+="2.0 ";break;case 2:t+="2.5 ";break;default:t+="?.? "}switch(this.layer){case 0:t+="Layer I";break;case 1:t+="Layer II";break;case 2:t+="Layer III";break;default:t+="Layer ?"}var e="unknown";switch(this.channelMode){case 0:e="Stereo";break;case 1:e="Joint stereo";break;case 2:e="Dual channel";break;case 3:e="Mono"}return t+", "+this.bitrate+" kbit/s, "+this.samplingrate+" Hz, "+e+", "+this.get_size()+" bytes"},__class__:Se,__properties__:{get_size:"get_size",get_crc:"get_crc"}};function Ce(){}(i["format.swf.data.filters.IFilter"]=Ce).__name__=["format","swf","data","filters","IFilter"],Ce.prototype={__class__:Ce,__properties__:{get_type:"get_type",get_filter:"get_filter"}};function Ee(t){this.id=t}(i["format.swf.data.filters.Filter"]=Ee).__name__=["format","swf","data","filters","Filter"],Ee.__interfaces__=[Ce],Ee.prototype={get_filter:function(){throw new qn(new C_("Implement in subclasses!"))},get_type:function(){return null},parse:function(t){throw new qn(new C_("Implement in subclasses!"))},publish:function(t){throw new qn(new C_("Implement in subclasses!"))},clone:function(){throw new qn(new C_("Implement in subclasses!"))},toString:function(t){return null==t&&(t=0),"[Filter]"},__class__:Ee,__properties__:{get_type:"get_type",get_filter:"get_filter"}};function Ie(t){Ee.call(this,t)}(i["format.swf.data.filters.FilterBevel"]=Ie).__name__=["format","swf","data","filters","FilterBevel"],Ie.__interfaces__=[Ce],Ie.__super__=Ee,Ie.prototype=s(Ee.prototype,{get_type:function(){var t;return t=this.onTop?0:this.innerShadow?1:2,Ye.BevelFilter(this.distance,180*this.angle/Math.PI,rn.rgb(this.highlightColor),rn.alpha(this.highlightColor),rn.rgb(this.shadowColor),rn.alpha(this.shadowColor),this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},get_filter:function(){var t;return t=this.onTop?0:this.innerShadow?1:2,new q_(this.distance,180*this.angle/Math.PI,rn.rgb(this.highlightColor),rn.alpha(this.highlightColor),rn.rgb(this.shadowColor),rn.alpha(this.shadowColor),this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.highlightColor=Y.readRGBA(t),this.shadowColor=Y.readRGBA(t),this.blurX=Y.readFIXED(t),this.blurY=Y.readFIXED(t),this.angle=Y.readFIXED(t),this.distance=Y.readFIXED(t),this.strength=Y.readFIXED8(t);var e=Y.readUI8(t);this.innerShadow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.onTop=0!=(16&e),this.passes=15&e},publish:function(t){Y.writeRGBA(t,this.shadowColor),Y.writeRGBA(t,this.highlightColor),Y.writeFIXED(t,this.blurX),Y.writeFIXED(t,this.blurY),Y.writeFIXED(t,this.angle),Y.writeFIXED(t,this.distance),Y.writeFIXED8(t,this.strength);var e=15&this.passes;this.innerShadow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),this.onTop&&(e|=16),Y.writeUI8(t,e)},clone:function(){var t=new Ie(this.id);return t.shadowColor=this.shadowColor,t.highlightColor=this.highlightColor,t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[BevelFilter] ShadowColor: "+rn.rgbToString(this.shadowColor)+", HighlightColor: "+rn.rgbToString(this.highlightColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:Ie});function Pe(t){Ee.call(this,t)}(i["format.swf.data.filters.FilterBlur"]=Pe).__name__=["format","swf","data","filters","FilterBlur"],Pe.__interfaces__=[Ce],Pe.__super__=Ee,Pe.prototype=s(Ee.prototype,{get_filter:function(){return new Z_(this.blurX,this.blurY,this.passes)},get_type:function(){return Ye.BlurFilter(this.blurX,this.blurY,this.passes)},parse:function(t){this.blurX=Y.readFIXED(t),this.blurY=Y.readFIXED(t),this.passes=Y.readUI8(t)>>3},publish:function(t){Y.writeFIXED(t,this.blurX),Y.writeFIXED(t,this.blurY),Y.writeUI8(t,this.passes<<3)},clone:function(){var t=new Pe(this.id);return t.blurX=this.blurX,t.blurY=this.blurY,t.passes=this.passes,t},toString:function(t){return null==t&&(t=0),"[BlurFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Passes: "+this.passes},__class__:Pe});function ke(t){Ee.call(this,t),this.colorMatrix=[]}(i["format.swf.data.filters.FilterColorMatrix"]=ke).__name__=["format","swf","data","filters","FilterColorMatrix"],ke.__interfaces__=[Ce],ke.__super__=Ee,ke.prototype=s(Ee.prototype,{get_filter:function(){return new Q_(this.multipliers.value,this.offsets.value)},get_type:function(){return Ye.ColorMatrixFilter(this.multipliers,this.offsets)},parse:function(t){for(var e=0;e<20;){e++;this.colorMatrix.push(Y.readFLOAT(t))}var i,s=[this.colorMatrix[0],this.colorMatrix[1],this.colorMatrix[2],this.colorMatrix[3],this.colorMatrix[5],this.colorMatrix[6],this.colorMatrix[7],this.colorMatrix[8],this.colorMatrix[10],this.colorMatrix[11],this.colorMatrix[12],this.colorMatrix[13],this.colorMatrix[15],this.colorMatrix[16],this.colorMatrix[17],this.colorMatrix[18]];i=null!=s?new Zf(s):null,this.multipliers=new ru(i);var n,a=[this.colorMatrix[4]/255,this.colorMatrix[9]/255,this.colorMatrix[14]/255,this.colorMatrix[19]/255];n=null!=a?new Zf(a):null,this.offsets=new ru(n)},publish:function(t){for(var e=0;e<20;){var i=e++;Y.writeFLOAT(t,this.colorMatrix[i])}},clone:function(){for(var t=new ke(this.id),e=0;e<20;){var i=e++;t.colorMatrix.push(this.colorMatrix[i])}return t},toString:function(t){null==t&&(t=0);var e=ln.repeat(t+2);return"[ColorMatrixFilter]\n"+e+"[R] "+this.colorMatrix[0]+", "+this.colorMatrix[1]+", "+this.colorMatrix[2]+", "+this.colorMatrix[3]+", "+this.colorMatrix[4]+"\n"+e+"[G] "+this.colorMatrix[5]+", "+this.colorMatrix[6]+", "+this.colorMatrix[7]+", "+this.colorMatrix[8]+", "+this.colorMatrix[9]+"\n"+e+"[B] "+this.colorMatrix[10]+", "+this.colorMatrix[11]+", "+this.colorMatrix[12]+", "+this.colorMatrix[13]+", "+this.colorMatrix[14]+"\n"+e+"[A] "+this.colorMatrix[15]+", "+this.colorMatrix[16]+", "+this.colorMatrix[17]+", "+this.colorMatrix[18]+", "+this.colorMatrix[19]},__class__:ke});function De(t){Ee.call(this,t),this.matrix=[]}(i["format.swf.data.filters.FilterConvolution"]=De).__name__=["format","swf","data","filters","FilterConvolution"],De.__interfaces__=[Ce],De.__super__=Ee,De.prototype=s(Ee.prototype,{get_filter:function(){for(var t=[],e=0,i=this.matrix.length;e<i;){var s=e++;t.push(this.matrix[s])}return new W_},parse:function(t){this.matrixX=Y.readUI8(t),this.matrixY=Y.readUI8(t),this.divisor=Y.readFLOAT(t),this.bias=Y.readFLOAT(t);for(var e=0,i=this.matrixX*this.matrixY;e<i;){e++;this.matrix.push(Y.readFLOAT(t))}this.defaultColor=Y.readRGBA(t);var s=Y.readUI8(t);this.clamp=0!=(2&s),this.preserveAlpha=0!=(1&s)},publish:function(t){Y.writeUI8(t,this.matrixX),Y.writeUI8(t,this.matrixY),Y.writeFLOAT(t,this.divisor),Y.writeFLOAT(t,this.bias);for(var e=0,i=this.matrixX*this.matrixY;e<i;){var s=e++;Y.writeFLOAT(t,this.matrix[s])}Y.writeRGBA(t,this.defaultColor);var n=0;this.clamp&&(n|=2),this.preserveAlpha&&(n|=1),Y.writeUI8(t,n)},clone:function(){var t=new De(this.id);t.matrixX=this.matrixX,t.matrixY=this.matrixY,t.divisor=this.divisor,t.bias=this.bias;for(var e=0,i=this.matrixX*this.matrixY;e<i;){var s=e++;t.matrix.push(this.matrix[s])}return t.defaultColor=this.defaultColor,t.clamp=this.clamp,t.preserveAlpha=this.preserveAlpha,t},toString:function(t){null==t&&(t=0);var e="[ConvolutionFilter] DefaultColor: "+rn.rgbToString(this.defaultColor)+", Divisor: "+this.divisor+", Bias: "+this.bias,i=[];if(this.clamp&&i.push("Clamp"),this.preserveAlpha&&i.push("PreserveAlpha"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.matrix.length){e+="\n"+ln.repeat(t+2)+"Matrix:";for(var s=0,n=this.matrixY;s<n;){var a=s++;e+="\n"+ln.repeat(t+4)+"["+a+"]";for(var r=0,o=this.matrixX;r<o;){var h=r++;e+=(0<h?", ":" ")+this.matrix[this.matrixX*a+h]}}}return e},__class__:De});function Ae(t){Ee.call(this,t)}(i["format.swf.data.filters.FilterDropShadow"]=Ae).__name__=["format","swf","data","filters","FilterDropShadow"],Ae.__interfaces__=[Ce],Ae.__super__=Ee,Ae.prototype=s(Ee.prototype,{get_filter:function(){return new $_(this.distance,180*this.angle/Math.PI,rn.rgb(this.dropShadowColor),rn.alpha(this.dropShadowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerShadow,this.knockout,!this.compositeSource)},get_type:function(){return Ye.DropShadowFilter(this.distance,180*this.angle/Math.PI,rn.rgb(this.dropShadowColor),rn.alpha(this.dropShadowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerShadow,this.knockout,!this.compositeSource)},parse:function(t){this.dropShadowColor=Y.readRGBA(t),this.blurX=Y.readFIXED(t),this.blurY=Y.readFIXED(t),this.angle=Y.readFIXED(t),this.distance=Y.readFIXED(t),this.strength=Y.readFIXED8(t);var e=Y.readUI8(t);this.innerShadow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.passes=31&e},publish:function(t){Y.writeRGBA(t,this.dropShadowColor),Y.writeFIXED(t,this.blurX),Y.writeFIXED(t,this.blurY),Y.writeFIXED(t,this.angle),Y.writeFIXED(t,this.distance),Y.writeFIXED8(t,this.strength);var e=31&this.passes;this.innerShadow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),Y.writeUI8(t,e)},clone:function(){var t=new Ae(this.id);return t.dropShadowColor=this.dropShadowColor,t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t},toString:function(t){null==t&&(t=0);var e="[DropShadowFilter] DropShadowColor: "+rn.rgbToString(this.dropShadowColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:Ae});function Me(t){Ee.call(this,t)}(i["format.swf.data.filters.FilterGlow"]=Me).__name__=["format","swf","data","filters","FilterGlow"],Me.__interfaces__=[Ce],Me.__super__=Ee,Me.prototype=s(Ee.prototype,{get_filter:function(){return new tl(rn.rgb(this.glowColor),rn.alpha(this.glowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerGlow,this.knockout)},get_type:function(){return Ye.GlowFilter(rn.rgb(this.glowColor),rn.alpha(this.glowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerGlow,this.knockout)},parse:function(t){this.glowColor=Y.readRGBA(t),this.blurX=Y.readFIXED(t),this.blurY=Y.readFIXED(t),this.strength=Y.readFIXED8(t);var e=Y.readUI8(t);this.innerGlow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.passes=31&e},publish:function(t){Y.writeRGBA(t,this.glowColor),Y.writeFIXED(t,this.blurX),Y.writeFIXED(t,this.blurY),Y.writeFIXED8(t,this.strength);var e=31&this.passes;this.innerGlow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),Y.writeUI8(t,e)},clone:function(){var t=new Me(this.id);return t.glowColor=this.glowColor,t.blurX=this.blurX,t.blurY=this.blurY,t.strength=this.strength,t.passes=this.passes,t.innerGlow=this.innerGlow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t},toString:function(t){null==t&&(t=0);var e="[GlowFilter] GlowColor: "+rn.rgbToString(this.glowColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerGlow&&i.push("InnerGlow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:Me});function Re(t){Ee.call(this,t),this.gradientColors=[],this.gradientRatios=[]}(i["format.swf.data.filters.FilterGradientBevel"]=Re).__name__=["format","swf","data","filters","FilterGradientBevel"],Re.__interfaces__=[Ce],Re.__super__=Ee,Re.prototype=s(Ee.prototype,{get_filter:function(){for(var t,e=[],i=[],s=[],n=0,a=this.numColors;n<a;){var r=n++;e.push(rn.rgb(this.gradientColors[r])),i.push(rn.alpha(this.gradientColors[r])),s.push(this.gradientRatios[r])}return t=this.onTop?0:this.innerShadow?1:2,new K_(this.distance,this.angle,e,i,s,this.blurX,this.blurY,this.strength,this.passes,J_.fromString(J_.toString(t)),this.knockout)},get_type:function(){for(var t,e=[],i=[],s=[],n=0,a=this.numColors;n<a;){var r=n++;e.push(rn.rgb(this.gradientColors[r])),i.push(rn.alpha(this.gradientColors[r])),s.push(this.gradientRatios[r])}return t=this.onTop?0:this.innerShadow?1:2,Ye.GradientBevelFilter(this.distance,180*this.angle/Math.PI,e,i,s,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.numColors=Y.readUI8(t);for(var e=0,i=this.numColors;e<i;){e++;this.gradientColors.push(Y.readRGBA(t))}for(var s=0,n=this.numColors;s<n;){s++;this.gradientRatios.push(Y.readUI8(t))}this.blurX=Y.readFIXED(t),this.blurY=Y.readFIXED(t),this.angle=Y.readFIXED(t),this.distance=Y.readFIXED(t),this.strength=Y.readFIXED8(t);var a=Y.readUI8(t);this.innerShadow=0!=(128&a),this.knockout=0!=(64&a),this.compositeSource=0!=(32&a),this.onTop=0!=(16&a),this.passes=15&a},publish:function(t){Y.writeUI8(t,this.numColors);for(var e=0,i=this.numColors;e<i;){var s=e++;Y.writeRGBA(t,this.gradientColors[s])}for(var n=0,a=this.numColors;n<a;){var r=n++;Y.writeUI8(t,this.gradientRatios[r])}Y.writeFIXED(t,this.blurX),Y.writeFIXED(t,this.blurY),Y.writeFIXED(t,this.angle),Y.writeFIXED(t,this.distance),Y.writeFIXED8(t,this.strength);var o=15&this.passes;this.innerShadow&&(o|=128),this.knockout&&(o|=64),this.compositeSource&&(o|=32),this.onTop&&(o|=16),Y.writeUI8(t,o)},clone:function(){var t=new Re(this.id);t.numColors=this.numColors;for(var e=0,i=this.numColors;e<i;){var s=e++;t.gradientColors.push(this.gradientColors[s])}for(var n=0,a=this.numColors;n<a;){var r=n++;t.gradientRatios.push(this.gradientRatios[r])}return t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[GradientBevelFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];if(this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.gradientColors.length){e+="\n"+ln.repeat(t+2)+"GradientColors:";for(var s=0,n=this.gradientColors.length;s<n;){var a=s++;e+=(0<a?", ":" ")+rn.rgbToString(this.gradientColors[a])}}if(0<this.gradientRatios.length){e+="\n"+ln.repeat(t+2)+"GradientRatios:";for(var r=0,o=this.gradientRatios.length;r<o;){var h=r++;e+=(0<h?", ":" ")+this.gradientRatios[h]}}return e},__class__:Re});function Fe(t){Ee.call(this,t),this.gradientColors=[],this.gradientRatios=[]}(i["format.swf.data.filters.FilterGradientGlow"]=Fe).__name__=["format","swf","data","filters","FilterGradientGlow"],Fe.__interfaces__=[Ce],Fe.__super__=Ee,Fe.prototype=s(Ee.prototype,{get_filter:function(){for(var t,e=[],i=[],s=[],n=0,a=this.numColors;n<a;){var r=n++;e.push(rn.rgb(this.gradientColors[r])),i.push(rn.alpha(this.gradientColors[r])),s.push(this.gradientRatios[r])}return t=this.onTop?0:this.innerShadow?1:2,new el(this.distance,180*this.angle/Math.PI,e,i,s,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},get_type:function(){for(var t,e=[],i=[],s=[],n=0,a=this.numColors;n<a;){var r=n++;e.push(rn.rgb(this.gradientColors[r])),i.push(rn.alpha(this.gradientColors[r])),s.push(this.gradientRatios[r])}return t=this.onTop?0:this.innerShadow?1:2,Ye.GradientGlowFilter(this.distance,180*this.angle/Math.PI,e,i,s,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.numColors=Y.readUI8(t);for(var e=0,i=this.numColors;e<i;){e++;this.gradientColors.push(Y.readRGBA(t))}for(var s=0,n=this.numColors;s<n;){s++;this.gradientRatios.push(Y.readUI8(t))}this.blurX=Y.readFIXED(t),this.blurY=Y.readFIXED(t),this.angle=Y.readFIXED(t),this.distance=Y.readFIXED(t),this.strength=Y.readFIXED8(t);var a=Y.readUI8(t);this.innerShadow=0!=(128&a),this.knockout=0!=(64&a),this.compositeSource=0!=(32&a),this.onTop=0!=(16&a),this.passes=15&a},publish:function(t){Y.writeUI8(t,this.numColors);for(var e=0,i=this.numColors;e<i;){var s=e++;Y.writeRGBA(t,this.gradientColors[s])}for(var n=0,a=this.numColors;n<a;){var r=n++;Y.writeUI8(t,this.gradientRatios[r])}Y.writeFIXED(t,this.blurX),Y.writeFIXED(t,this.blurY),Y.writeFIXED(t,this.angle),Y.writeFIXED(t,this.distance),Y.writeFIXED8(t,this.strength);var o=15&this.passes;this.innerShadow&&(o|=128),this.knockout&&(o|=64),this.compositeSource&&(o|=32),this.onTop&&(o|=16),Y.writeUI8(t,o)},clone:function(){var t=new Fe(this.id);t.numColors=this.numColors;for(var e=0,i=this.numColors;e<i;){var s=e++;t.gradientColors.push(this.gradientColors[s])}for(var n=0,a=this.numColors;n<a;){var r=n++;t.gradientRatios.push(this.gradientRatios[r])}return t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[GradientGlowFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];if(this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.gradientColors.length){e+="\n"+ln.repeat(t+2)+"GradientColors:";for(var s=0,n=this.gradientColors.length;s<n;){var a=s++;e+=(0<a?", ":" ")+rn.rgbToString(this.gradientColors[a])}}if(0<this.gradientRatios.length){e+="\n"+ln.repeat(t+2)+"GradientRatios:";for(var r=0,o=this.gradientRatios.length;r<o;){var h=r++;e+=(0<h?", ":" ")+this.gradientRatios[h]}}return e},__class__:Fe});function Be(t,e,i){null==i&&(i=-1),this.mCapacity=16,this.size=0,this.mFactory=t,this.mDispose=null==e?function(t){}:e,this.maxSize=i;var s=this.mCapacity,n=new Le,a=new Array(s);n.data=a,n.length=s,n.fixed=!1,this.mPool=n}(i["openfl.ObjectPool"]=Be).__name__=["openfl","ObjectPool"],Be.prototype={preallocate:function(t){if(0!=this.size)throw new qn("Can't preallocate when size is already set");this.size=this.mCapacity=t;var e=this.size,i=new Le,s=new Array(e);i.data=s,i.length=e,i.fixed=!1,this.mPool=i;for(var n=0,a=t;n<a;){var r=n++,o=this.mPool,h=this.mFactory();if(!o.fixed&&(r>=o.length&&(o.length=1+r),o.data.length<o.length)){var _=o.data.length+10,l=new Array(_);Sn.blit(o.data,0,l,0,o.data.length),o.data=l}o.data[r]=h}},free:function(){for(var t=0,e=this.mCapacity;t<e;){var i=t++;this.mDispose(this.mPool.data[i])}this.mPool=null,this.mFactory=null,this.mDispose=null},get:function(){return 0<this.size?this.mPool.data[--this.size]:this.mFactory()},put:function(t){if(this.size==this.maxSize)this.mDispose(t);else{this.size==this.mCapacity&&this.resize();var e=this.mPool,i=this.size++;if(!e.fixed&&(i>=e.length&&(e.length=1+i),e.data.length<e.length)){var s=e.data.length+10,n=new Array(s);Sn.blit(e.data,0,n,0,e.data.length),e.data=n}e.data[i]=t}},iterator:function(){var t=0,e=this.size,i=this.mPool;return{hasNext:function(){return t<e},next:function(){return t+=1,i.data[t-1]}}},resize:function(){var t=this.mCapacity+.5*this.mCapacity|0,e=this.mPool;if(!e.fixed){if(t>e.length){var i=new Array(t);Sn.blit(e.data,0,i,0,0|Math.min(e.data.length,t)),e.data=i}e.length=t}this.mCapacity=t},__class__:Be};var Le=function(){this.length=0};(i["openfl.VectorData"]=Le).__name__=["openfl","VectorData"],Le.prototype={__class__:Le};var Ne=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),this.type=t,this.bubbles=e,this.cancelable=i,this.__fromPool=!1,this.__refcount=0,this.eventPhase=2};(i["openfl.events.Event"]=Ne).__name__=["openfl","events","Event"],Ne.__create=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1);var s=Ne.pool.get();return s.type=t,s.bubbles=e,s.cancelable=i,s.target=null,s.currentTarget=null,s.__isCanceled=!1,s.__isCanceledNow=!1,s.__preventDefault=!1,s.__fromPool=!0,s.__refcount=0,s.eventPhase=2,s},Ne.prototype={clone:function(){var t=new Ne(this.type,this.bubbles,this.cancelable);return t.eventPhase=this.eventPhase,t.target=this.target,t.currentTarget=this.currentTarget,t},__resetPooledEvent:function(){this.target=null,this.currentTarget=null,this.__isCanceled=!1,this.__isCanceledNow=!1,this.__preventDefault=!1,this.__fromPool=!0,this.__refcount=0,this.eventPhase=2},formatToString:function(t,e,i,s,n,a,r){var o=[];return null!=e&&o.push(e),null!=i&&o.push(i),null!=s&&o.push(s),null!=n&&o.push(n),null!=a&&o.push(a),null!=r&&o.push(r),Gf(this,this.__formatToString).apply(this,[t,o])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceled=!0,this.__isCanceledNow=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(t,e){for(var i="["+t,s=null,n=0;n<e.length;){var a=e[n];++n,i+="string"==typeof(s=Dt.field(this,a))?" "+a+'="'+O.string(s)+'"':" "+a+"="+O.string(s)}return i+="]"},acquire:function(){++this.__refcount},release:function(){0==--this.__refcount&&this.__fromPool&&(this.__refcount=-1,this.__fromPool=!1,Ne.pool.put(this))},__class__:Ne};var Oe=function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!1),Ne.call(this,t,i,s),this.reason=e};(i["format.swf.events.SWFErrorEvent"]=Oe).__name__=["format","swf","events","SWFErrorEvent"],Oe.__super__=Ne,Oe.prototype=s(Ne.prototype,{clone:function(){return new Oe(this.type,this.reason,this.bubbles,this.cancelable)},toString:function(){return"[SWFErrorEvent] reason: "+this.reason},__class__:Oe});var Ue=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),Ne.call(this,t,s,n),this.processed=e,this.total=i};(i["format.swf.events.SWFProgressEvent"]=Ue).__name__=["format","swf","events","SWFProgressEvent"],Ue.__super__=Ne,Ue.prototype=s(Ne.prototype,{get_progress:function(){return this.processed/this.total},get_progressPercent:function(){return Math.round(100*this.get_progress())},clone:function(){return new Ue(this.type,this.processed,this.total,this.bubbles,this.cancelable)},toString:function(){return"[SWFProgressEvent] processed: "+this.processed+", total: "+this.total+" ("+this.get_progressPercent()+"%)"},__class__:Ue,__properties__:{get_progressPercent:"get_progressPercent",get_progress:"get_progress"}});var ze=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),Ne.call(this,t,s,n),this.index=e,this.data=i};(i["format.swf.events.SWFWarningEvent"]=ze).__name__=["format","swf","events","SWFWarningEvent"],ze.__super__=Ne,ze.prototype=s(Ne.prototype,{clone:function(){return new ze(this.type,this.index,this.data,this.bubbles,this.cancelable)},toString:function(){return"[SWFWarningEvent] index: "+this.index},__class__:ze});function Ge(){}(i["format.swf.exporters.core.IShapeExporter"]=Ge).__name__=["format","swf","exporters","core","IShapeExporter"],Ge.prototype={__class__:Ge};var Xe=function(){};(i["format.swf.exporters.core.DefaultShapeExporter"]=Xe).__name__=["format","swf","exporters","core","DefaultShapeExporter"],Xe.__interfaces__=[Ge],Xe.prototype={beginShape:function(){},endShape:function(){},beginFills:function(){},endFills:function(){},beginLines:function(){},endLines:function(){},beginFill:function(t,e){null==e&&(e=1)},beginGradientFill:function(t,e,i,s,n,a,r,o){null==o&&(o=0)},beginBitmapFill:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0)},endFill:function(){},lineStyle:function(t,e,i,s,n,a,r,o,h){null==h&&(h=3),null==s&&(s=!1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0)},lineGradientStyle:function(t,e,i,s,n,a,r,o){null==o&&(o=0)},lineBitmapStyle:function(t,e,i,s){},moveTo:function(t,e){},lineTo:function(t,e){},curveTo:function(t,e,i,s){},__class__:Xe};function Ve(){Xe.call(this),this.commands=[]}(i["format.swf.exporters.ShapeCommandExporter"]=Ve).__name__=["format","swf","exporters","ShapeCommandExporter"],Ve.__super__=Xe,Ve.prototype=s(Xe.prototype,{beginShape:function(){this.commands=[]},beginFills:function(){this.commands.push(He.LineStyle(null,null,null,null,null,null,null,null))},beginLines:function(){},beginFill:function(t,e){null==e&&(e=1),this.commands.push(He.BeginFill(t,e))},beginGradientFill:function(t,e,i,s,n,a,r,o){null==o&&(o=0),this.commands.push(He.BeginGradientFill(t,e,i,s,n,a,r,o))},beginBitmapFill:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.commands.push(He.BeginBitmapFill(t,e,i,s))},endFill:function(){this.commands.push(He.EndFill)},lineStyle:function(t,e,i,s,n,a,r,o,h){null==h&&(h=3),null==s&&(s=!1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.commands.push(He.LineStyle(t,e,i,s,n,a,o,h))},lineGradientStyle:function(t,e,i,s,n,a,r,o){null==o&&(o=0),null==r&&(r=1),null==a&&(a=0),this.commands.push(He.LineGradientStyle(t,e,i,s,n,a,r,o))},lineBitmapStyle:function(t,e,i,s){this.commands.push(He.LineBitmapStyle(t,e,i,s))},moveTo:function(t,e){this.commands.push(He.MoveTo(t,e))},lineTo:function(t,e){this.commands.push(He.LineTo(t,e))},curveTo:function(t,e,i,s){this.commands.push(He.CurveTo(t,e,i,s))},__class__:Ve});var Ye=i["format.swf.exporters.core.FilterType"]={__ename__:!0,__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter","GradientGlowFilter","BevelFilter","GradientBevelFilter"]};Ye.BlurFilter=function(t,e,i){var s=["BlurFilter",0,t,e,i];return s.__enum__=Ye,s.toString=f,s},Ye.ColorMatrixFilter=function(t,e){var i=["ColorMatrixFilter",1,t,e];return i.__enum__=Ye,i.toString=f,i},Ye.DropShadowFilter=function(t,e,i,s,n,a,r,o,h,_,l){var u=["DropShadowFilter",2,t,e,i,s,n,a,r,o,h,_,l];return u.__enum__=Ye,u.toString=f,u},Ye.GlowFilter=function(t,e,i,s,n,a,r,o){var h=["GlowFilter",3,t,e,i,s,n,a,r,o];return h.__enum__=Ye,h.toString=f,h},Ye.GradientGlowFilter=function(t,e,i,s,n,a,r,o,h,_,l){var u=["GradientGlowFilter",4,t,e,i,s,n,a,r,o,h,_,l];return u.__enum__=Ye,u.toString=f,u},Ye.BevelFilter=function(t,e,i,s,n,a,r,o,h,_,l,u){var c=["BevelFilter",5,t,e,i,s,n,a,r,o,h,_,l,u];return c.__enum__=Ye,c.toString=f,c},Ye.GradientBevelFilter=function(t,e,i,s,n,a,r,o,h,_,l){var u=["GradientBevelFilter",6,t,e,i,s,n,a,r,o,h,_,l];return u.__enum__=Ye,u.toString=f,u};var He=i["format.swf.exporters.core.ShapeCommand"]={__ename__:!0,__constructs__:["BeginBitmapFill","BeginFill","BeginGradientFill","CurveTo","DrawImage","EndFill","LineStyle","LineGradientStyle","LineBitmapStyle","LineTo","MoveTo"]};He.BeginBitmapFill=function(t,e,i,s){var n=["BeginBitmapFill",0,t,e,i,s];return n.__enum__=He,n.toString=f,n},He.BeginFill=function(t,e){var i=["BeginFill",1,t,e];return i.__enum__=He,i.toString=f,i},He.BeginGradientFill=function(t,e,i,s,n,a,r,o){var h=["BeginGradientFill",2,t,e,i,s,n,a,r,o];return h.__enum__=He,h.toString=f,h},He.CurveTo=function(t,e,i,s){var n=["CurveTo",3,t,e,i,s];return n.__enum__=He,n.toString=f,n},He.DrawImage=function(t,e,i){var s=["DrawImage",4,t,e,i];return s.__enum__=He,s.toString=f,s},He.EndFill=["EndFill",5],He.EndFill.toString=f,(He.EndFill.__enum__=He).LineStyle=function(t,e,i,s,n,a,r,o){var h=["LineStyle",6,t,e,i,s,n,a,r,o];return h.__enum__=He,h.toString=f,h},He.LineGradientStyle=function(t,e,i,s,n,a,r,o){var h=["LineGradientStyle",7,t,e,i,s,n,a,r,o];return h.__enum__=He,h.toString=f,h},He.LineBitmapStyle=function(t,e,i,s){var n=["LineBitmapStyle",8,t,e,i,s];return n.__enum__=He,n.toString=f,n},He.LineTo=function(t,e){var i=["LineTo",9,t,e];return i.__enum__=He,i.toString=f,i},He.MoveTo=function(t,e){var i=["MoveTo",10,t,e];return i.__enum__=He,i.toString=f,i};function We(){}(i["format.swf.factories.ISWFTagFactory"]=We).__name__=["format","swf","factories","ISWFTagFactory"],We.prototype={__class__:We};var je=function(){};(i["format.swf.factories.SWFActionFactory"]=je).__name__=["format","swf","factories","SWFActionFactory"],je.create=function(t,e,i){return 7==t?new jt(t,e,i):new Yt(t,e,i)};var Ke=function(){};(i["format.swf.factories.SWFFilterFactory"]=Ke).__name__=["format","swf","factories","SWFFilterFactory"],Ke.create=function(t){switch(t){case 0:return new Ae(t);case 1:return new Pe(t);case 2:return new Me(t);case 3:return new Ie(t);case 4:return new Fe(t);case 5:return new De(t);case 6:return new ke(t);case 7:return new Re(t);default:throw new qn(new C_("Unknown filter ID: "+t))}};var qe=function(){};(i["format.swf.factories.SWFTagFactory"]=qe).__name__=["format","swf","factories","SWFTagFactory"],qe.__interfaces__=[We],qe.prototype={create:function(t){switch(t){case 0:return this.createTagEnd();case 1:return this.createTagShowFrame();case 2:return this.createTagDefineShape();case 4:return this.createTagPlaceObject();case 5:return this.createTagRemoveObject();case 6:return this.createTagDefineBits();case 7:return this.createTagDefineButton();case 8:return this.createTagJPEGTables();case 9:return this.createTagSetBackgroundColor();case 10:return this.createTagDefineFont();case 11:return this.createTagDefineText();case 12:return this.createTagDoAction();case 13:return this.createTagDefineFontInfo();case 14:return this.createTagDefineSound();case 15:return this.createTagStartSound();case 17:return this.createTagDefineButtonSound();case 18:return this.createTagSoundStreamHead();case 19:return this.createTagSoundStreamBlock();case 20:return this.createTagDefineBitsLossless();case 21:return this.createTagDefineBitsJPEG2();case 22:return this.createTagDefineShape2();case 23:return this.createTagDefineButtonCxform();case 24:return this.createTagProtect();case 26:return this.createTagPlaceObject2();case 28:return this.createTagRemoveObject2();case 32:return this.createTagDefineShape3();case 33:return this.createTagDefineText2();case 34:return this.createTagDefineButton2();case 35:return this.createTagDefineBitsJPEG3();case 36:return this.createTagDefineBitsLossless2();case 37:return this.createTagDefineEditText();case 39:return this.createTagDefineSprite();case 40:return this.createTagNameCharacter();case 41:return this.createTagProductInfo();case 43:return this.createTagFrameLabel();case 45:return this.createTagSoundStreamHead2();case 46:return this.createTagDefineMorphShape();case 48:return this.createTagDefineFont2();case 56:return this.createTagExportAssets();case 57:return this.createTagImportAssets();case 58:return this.createTagEnableDebugger();case 59:return this.createTagDoInitAction();case 60:return this.createTagDefineVideoStream();case 61:return this.createTagVideoFrame();case 62:return this.createTagDefineFontInfo2();case 63:return this.createTagDebugID();case 64:return this.createTagEnableDebugger2();case 65:return this.createTagScriptLimits();case 66:return this.createTagSetTabIndex();case 69:return this.createTagFileAttributes();case 70:return this.createTagPlaceObject3();case 71:return this.createTagImportAssets2();case 72:return this.createTagDoABCDeprecated();case 73:return this.createTagDefineFontAlignZones();case 74:return this.createTagCSMTextSettings();case 75:return this.createTagDefineFont3();case 76:return this.createTagSymbolClass();case 77:return this.createTagMetadata();case 78:return this.createTagDefineScalingGrid();case 82:return this.createTagDoABC();case 83:return this.createTagDefineShape4();case 84:return this.createTagDefineMorphShape2();case 86:return this.createTagDefineSceneAndFrameLabelData();case 87:return this.createTagDefineBinaryData();case 88:return this.createTagDefineFontName();case 89:return this.createTagStartSound2();case 90:return this.createTagDefineBitsJPEG4();case 91:return this.createTagDefineFont4();case 93:return this.createTagEnableTelemetry();case 94:return this.createTagPlaceObject4();case 253:return this.createTagSWFEncryptActions();case 255:return this.createTagSWFEncryptSignature();default:return this.createTagUnknown(t)}},createTagEnd:function(){return new ms},createTagShowFrame:function(){return new Ns},createTagDefineShape:function(){return new es},createTagPlaceObject:function(){return new Es},createTagRemoveObject:function(){return new Ms},createTagDefineBits:function(){return new Mi},createTagDefineButton:function(){return new Oi},createTagJPEGTables:function(){return new Ts},createTagSetBackgroundColor:function(){return new Bs},createTagDefineFont:function(){return new Vi},createTagDefineText:function(){return new os},createTagDoAction:function(){return new cs},createTagDefineFontInfo:function(){return new Ki},createTagDefineSound:function(){return new as},createTagStartSound:function(){return new Gs},createTagDefineButtonSound:function(){return new Gi},createTagSoundStreamHead:function(){return new Us},createTagSoundStreamBlock:function(){return new Os},createTagDefineBitsLossless:function(){return new Li},createTagDefineBitsJPEG2:function(){return new Ri},createTagDefineShape2:function(){return new is},createTagDefineButtonCxform:function(){return new zi},createTagProtect:function(){return new As},createTagPlaceObject2:function(){return new Is},createTagRemoveObject2:function(){return new Rs},createTagDefineShape3:function(){return new ss},createTagDefineText2:function(){return new hs},createTagDefineButton2:function(){return new Ui},createTagDefineBitsJPEG3:function(){return new Fi},createTagDefineBitsLossless2:function(){return new Ni},createTagDefineEditText:function(){return new Xi},createTagDefineSprite:function(){return new rs},createTagNameCharacter:function(){return new Cs},createTagProductInfo:function(){return new Ds},createTagFrameLabel:function(){return new ys},createTagSoundStreamHead2:function(){return new zs},createTagDefineMorphShape:function(){return new Zi},createTagDefineFont2:function(){return new Hi},createTagExportAssets:function(){return new vs},createTagImportAssets:function(){return new ws},createTagEnableDebugger:function(){return new ds},createTagDoInitAction:function(){return new fs},createTagDefineVideoStream:function(){return new _s},createTagVideoFrame:function(){return new Ys},createTagDefineFontInfo2:function(){return new qi},createTagDebugID:function(){return new Di},createTagEnableDebugger2:function(){return new ps},createTagScriptLimits:function(){return new Fs},createTagSetTabIndex:function(){return new Ls},createTagFileAttributes:function(){return new bs},createTagPlaceObject3:function(){return new Ps},createTagImportAssets2:function(){return new xs},createTagDefineFontAlignZones:function(){return new ji},createTagCSMTextSettings:function(){return new ki},createTagDefineFont3:function(){return new Yi},createTagSymbolClass:function(){return new Vs},createTagMetadata:function(){return new Ss},createTagDefineScalingGrid:function(){return new $i},createTagDoABC:function(){return new ls},createTagDoABCDeprecated:function(){return new us},createTagDefineShape4:function(){return new ns},createTagDefineMorphShape2:function(){return new Qi},createTagDefineSceneAndFrameLabelData:function(){return new ts},createTagDefineBinaryData:function(){return new Ai},createTagDefineFontName:function(){return new Ji},createTagStartSound2:function(){return new Xs},createTagDefineBitsJPEG4:function(){return new Bi},createTagDefineFont4:function(){return new Wi},createTagEnableTelemetry:function(){return new gs},createTagPlaceObject4:function(){return new ks},createTagSWFEncryptActions:function(){return new Ws},createTagSWFEncryptSignature:function(){return new js},createTagUnknown:function(t){return new Hs(t)},__class__:qe};var Je=function(){this.__graphicsSavedScale=new _o(0,0),this.__clicks=0,we.call(this),this.__caretIndex=-1,this.__graphics=new Sh(!1),(this.__graphics.__owner=this).__textEngine=new uh(this),this.__layoutDirty=!0,this.__tabEnabled=!0,null==Je.__defaultTextFormat&&(Je.__defaultTextFormat=new ql("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),Je.__defaultTextFormat.blockIndent=0,Je.__defaultTextFormat.bullet=!1,Je.__defaultTextFormat.letterSpacing=0,Je.__defaultTextFormat.kerning=!1),this.__textFormat=Je.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new ch(this.__textFormat,0,0)),this.addEventListener("mouseDown",Gf(this,this.this_onMouseDown))};(i["openfl.text.TextField"]=Je).__name__=["openfl","text","TextField"],Je.__defaultTextFormat=null,Je.__super__=we,Je.prototype=s(we.prototype,{appendText:function(t){if(0==this.get_maxChars())this.__textEngine.text+=t;else{if(!(this.__textEngine.text.length<this.get_maxChars()))return;var e=this.get_maxChars()-(this.__textEngine.text.length+t.length);this.__textEngine.text+=L.substr(t,0,e)}this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length,this.set_dirty(!0),this.__layoutDirty=!0},getCharBoundaries:function(t){if(t<0||t>this.__textEngine.text.length)return null;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var s=i[e];if(++e,t>=s.startIndex&&t<=s.endIndex){for(var n=s.offsetX,a=0,r=t-s.startIndex;a<r;){var o=a++;n+=s.advances[o]}return new El(n,s.offsetY,s.advances[t-s.startIndex],s.ascent+s.descent)}}return null},getCharBoundariesInGroup:function(t,e){if(t<0||t>this.__textEngine.text.length-1)return null;if(this.__updateLayout(),t<e.startIndex||t>e.endIndex)return null;for(var i=e.offsetX,s=0,n=t-e.startIndex;s<n;){var a=s++;i+=e.advances[a]}return new El(i,e.offsetY,e.advances[t-e.startIndex],e.ascent+e.descent)},getCharIndexAtPoint:function(t,e){if(t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,s=this.get_scrollV()-1;i<s;){var n=i++;e+=this.__textEngine.lineHeights[n]}for(var a=0,r=this.__textEngine.layoutGroups;a<r.length;){var o=r[a];if(++a,e>=o.offsetY&&e<=o.offsetY+o.height&&t>=o.offsetX&&t<=o.offsetX+o.width){for(var h=0,_=0,l=o.advances.length;_<l;){var u=_++;if(h+=o.advances[u],t<=o.offsetX+h)return o.startIndex+u}return o.endIndex}}return-1},getFirstCharInParagraph:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;for(var e=this.__textEngine.text.indexOf("\n"),i=0;-1<e;){if(e<=t)i=e+1;else if(t<e)break;e=this.__textEngine.text.indexOf("\n",e+1)}return i},getLineIndexAtPoint:function(t,e){if(this.__updateLayout(),t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;for(var i=0,s=this.get_scrollV()-1;i<s;){var n=i++;e+=this.__textEngine.lineHeights[n]}for(var a=0,r=this.__textEngine.layoutGroups;a<r.length;){var o=r[a];if(++a,e>=o.offsetY&&e<=o.offsetY+o.height)return o.lineIndex}return-1},getLineIndexOfChar:function(t){if(t<0||t>this.__textEngine.text.length)return-1;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var s=i[e];if(++e,s.startIndex<=t&&s.endIndex>=t)return s.lineIndex}return-1},getLineLength:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return 0;for(var e=-1,i=-1,s=0,n=this.__textEngine.layoutGroups;s<n.length;){var a=n[s];if(++s,a.lineIndex==t)-1==e&&(e=a.startIndex);else if(a.lineIndex==t+1){i=a.startIndex;break}}return-1==i&&(i=this.__textEngine.text.length),i-e},getLineMetrics:function(t){this.__updateLayout();var e,i=this.__textEngine.lineAscents[t],s=this.__textEngine.lineDescents[t],n=this.__textEngine.lineLeadings[t],a=this.__textEngine.lineHeights[t],r=this.__textEngine.lineWidths[t];switch(this.__textFormat.align){case 0:e=(this.__textEngine.width-r)/2;break;case 1:case 4:e=this.__textEngine.width-r-2;break;case 2:case 3:case 5:e=2}return new Zl(e,r,a,i,s,n)},getLineOffset:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return-1;for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var s=i[e];if(++e,s.lineIndex==t)return s.startIndex}return 0},getLineText:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return null;for(var e=-1,i=-1,s=0,n=this.__textEngine.layoutGroups;s<n.length;){var a=n[s];if(++s,a.lineIndex==t)-1==e&&(e=a.startIndex);else if(a.lineIndex==t+1){i=a.startIndex;break}}return-1==i&&(i=this.__textEngine.text.length),this.__textEngine.text.substring(e,i)},getParagraphLength:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;var e=this.getFirstCharInParagraph(t),i=this.__textEngine.text.indexOf("\n",t)+1;return 0==i&&(i=this.__textEngine.text.length),i-e},getTextFormat:function(t,e){null==e&&(e=0),null==t&&(t=0);for(var i=null,s=0,n=this.__textEngine.textFormatRanges;s<n.length;){var a=n[s];++s,(a.start<=t&&a.end>=t||a.start<=e&&a.end>=e)&&(null==i?i=a.format.clone():(a.format.font!=i.font&&(i.font=null),a.format.size!=i.size&&(i.size=null),a.format.color!=i.color&&(i.color=null),a.format.bold!=i.bold&&(i.bold=null),a.format.italic!=i.italic&&(i.italic=null),a.format.underline!=i.underline&&(i.underline=null),a.format.url!=i.url&&(i.url=null),a.format.target!=i.target&&(i.target=null),a.format.align!=i.align&&(i.align=null),a.format.leftMargin!=i.leftMargin&&(i.leftMargin=null),a.format.rightMargin!=i.rightMargin&&(i.rightMargin=null),a.format.indent!=i.indent&&(i.indent=null),a.format.leading!=i.leading&&(i.leading=null),a.format.blockIndent!=i.blockIndent&&(i.blockIndent=null),a.format.bullet!=i.bullet&&(i.bullet=null),a.format.kerning!=i.kerning&&(i.kerning=null),a.format.letterSpacing!=i.letterSpacing&&(i.letterSpacing=null),a.format.tabStops!=i.tabStops&&(i.tabStops=null)))}return i},replaceSelectedText:function(t){if(""!=t||this.__selectionIndex!=this.__caretIndex){var e=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,i=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;t=this.replaceText(e,i,t),this.__caretIndex=e+t.length,this.__selectionIndex=this.__caretIndex}},replaceText:function(t,e,i){if(e<t||t<0||e>this.__textEngine.text.length||null==i)return"";if(0<this.get_maxChars()&&this.__textEngine.text.length-(e-t)+i.length>this.get_maxChars()){var s=this.get_maxChars()-(this.__textEngine.text.length-(e-t));if(s<=0)return"";i=L.substr(i,0,s)}var n=this.__textEngine.text.substring(0,t)+i,a=this.__textEngine.text.substring(e);this.__textEngine.text=n+a;for(var r,o=i.length-(e-t),h=0;h<this.__textEngine.textFormatRanges.length;)(r=this.__textEngine.textFormatRanges[h]).start<=t&&r.end>=e?(r.end+=o,++h):r.start>=t&&r.end<=e?(this.__textEngine.textFormatRanges.splice(h,1),o-=r.end-r.start):(r.start>t&&r.start<=e&&(r.start+=o),++h);return this.set_dirty(!0),this.__layoutDirty=!0,i},setSelection:function(t,e){this.__selectionIndex=t,this.__caretIndex=e},setTextFormat:function(t,e,i){null==i&&(i=0),null==e&&(e=0),null!=t.font&&(this.__textFormat.font=t.font),null!=t.size&&(this.__textFormat.size=t.size),null!=t.color&&(this.__textFormat.color=t.color),null!=t.bold&&(this.__textFormat.bold=t.bold),null!=t.italic&&(this.__textFormat.italic=t.italic),null!=t.underline&&(this.__textFormat.underline=t.underline),null!=t.url&&(this.__textFormat.url=t.url),null!=t.target&&(this.__textFormat.target=t.target),null!=t.align&&(this.__textFormat.align=t.align),null!=t.leftMargin&&(this.__textFormat.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.__textFormat.rightMargin=t.rightMargin),null!=t.indent&&(this.__textFormat.indent=t.indent),null!=t.leading&&(this.__textFormat.leading=t.leading),null!=t.blockIndent&&(this.__textFormat.blockIndent=t.blockIndent),null!=t.bullet&&(this.__textFormat.bullet=t.bullet),null!=t.kerning&&(this.__textFormat.kerning=t.kerning),null!=t.letterSpacing&&(this.__textFormat.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.__textFormat.tabStops=t.tabStops),this.set_dirty(!0),this.__layoutDirty=!0},__getBounds:function(t){this.__updateLayout(),t.setTo(this.__textEngine.bounds.x,this.__textEngine.bounds.y,this.__textEngine.bounds.width,this.__textEngine.bounds.height)},__getCursor:function(){return this.__textEngine.selectable?Yr.TEXT:null},__getPosition:function(t,e){if(!this.__textEngine.selectable)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,s=this.get_scrollV()-1;i<s;){var n=i++;e+=this.__textEngine.lineHeights[n]}e<0&&(t=e=0),e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight,t=this.__textEngine.textWidth);for(var a,r,o=!0,h=0,_=this.__textEngine.layoutGroups.length;h<_;){var l=h++;if(a=this.__textEngine.layoutGroups[l],r=l<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[1+l]:null,o&&(e<a.offsetY&&(e=a.offsetY),t<a.offsetX&&(t=a.offsetX),o=!1),(e>=a.offsetY&&e<a.offsetY+a.height||null==r)&&(t>=a.offsetX&&t<a.offsetX+a.width||null==r||r.lineIndex!=a.lineIndex)){for(var u=0,c=0,f=a.advances.length;c<f;){var d=c++;if(u+=a.advances[d],t<=a.offsetX+u)return t<=a.offsetX+(u-a.advances[d])+a.advances[d]/2?a.startIndex+d:a.startIndex+d<a.endIndex?a.startIndex+d+1:a.endIndex}return a.endIndex}}return this.__textEngine.text.length},__hitTest:function(t,e,i,s,n,a){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!a.__visible)||this.__isMask)||!!n&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;this.__getWorldTransform(),this.__updateLayout();var r=this.__worldTransform,o=r.a*r.d-r.b*r.c,h=0==o?-r.tx:1/o*(r.c*(r.ty-e)+r.d*(t-r.tx)),_=this.__worldTransform,l=_.a*_.d-_.b*_.c,u=0==l?-_.ty:1/l*(_.a*(e-_.ty)+_.b*(_.tx-t));return!!this.__textEngine.bounds.contains(h,u)&&(null!=s&&(s._items[s._length++]=a),!0)},__hitTestMask:function(t,e){this.__getWorldTransform(),this.__updateLayout();var i=this.__worldTransform,s=i.a*i.d-i.b*i.c,n=0==s?-i.tx:1/s*(i.c*(i.ty-e)+i.d*(t-i.tx)),a=this.__worldTransform,r=a.a*a.d-a.b*a.c,o=0==r?-a.ty:1/r*(a.a*(e-a.ty)+a.b*(a.tx-t));return!!this.__textEngine.bounds.contains(n,o)},__renderCanvas:function(t){var e=this.__graphics;if(this.__dirty||null==e||e.get_dirty()||null==e.__bitmap){var i=this.__textEngine;if(this.__updateLayout(),(this.__showCursor||null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){var s=El.pool.get(),n=El.pool.get(),a=this.__renderTransform;this.__getBounds(n),n.transform(s,a),null!=e&&null!=e.__canvas||(null==e&&(this.__graphics=new Sh(!1),e=this.__graphics),e.__canvas=zo.pool.get(),e.__context=e.__canvas.getContext("2d"),e.__bounds=new El(0,0,n.width,n.height));var r=e.__context;e.__canvas.width=Math.ceil(s.width),e.__canvas.height=Math.ceil(s.height);var o=ho.pool.get();if(o.copyFrom(a),o.translate(-Math.floor(s.x),-Math.floor(s.y)),r.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),null!=i.text&&""!=i.text||i.__hasFocus){var h=i.text;if(i.displayAsPassword){var _=h.length;h=ln.repeat(_,"*")}0!=i.antiAliasType||1!=i.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(r.rect(.5,.5,s.width-1,s.height-1),i.background&&(r.fillStyle="#"+In.hex(i.backgroundColor,6),r.fill()),i.border&&(r.lineWidth=1,r.strokeStyle="#"+In.hex(i.borderColor,6),r.stroke())),r.textBaseline="alphabetic",r.textAlign="start";for(var l,u=-this.get_scrollH(),c=0,f=0,d=this.get_scrollV()-1;f<d;){var p=f++;c-=i.lineHeights[p]}var g=0;if(this.__showCursor&&0==i.layoutGroups.length){var m=this.__textFormat,v=uh.getFont(m);r.font=v.name,r.fillStyle="#"+In.hex(m.color,6);var b=i.calculateFontDimensions(this.__textFormat,v);r.fillRect(2,2,1,b.height)}for(var y=0,w=i.layoutGroups;y<w.length;){var x=w[y];if(++y,!(x.lineIndex<this.get_scrollV()-1)){if(x.lineIndex>this.get_scrollV()+i.bottomScrollV-2)break;var T=uh.getFont(x.format);g=T.ascent*x.format.size,r.font=T.name,r.fillStyle="#"+In.hex(x.format.color,6);var S=h.substring(x.startIndex,x.endIndex),C=new RegExp("\n","g".split("u").join(""));if(S=S.replace(C,""),r.fillText(S,x.offsetX+u,x.offsetY+g+c),-1<this.__caretIndex&&i.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&x.startIndex<=this.__caretIndex&&(x.endIndex>this.__caretIndex||x.endIndex==i.text.length&&i.text.length==this.__caretIndex)){for(var E=l=0,I=this.__caretIndex-x.startIndex;E<I;){var P=E++;if(x.advances.length<=P)break;l+=x.advances[P]}r.fillRect(x.offsetX+l,x.offsetY,1,x.height)}}else if(!(x.endIndex<Math.min(this.__caretIndex,this.__selectionIndex)||x.startIndex>Math.max(this.__caretIndex,this.__selectionIndex))){var k,D,A=0|Math.min(this.__selectionIndex,this.__caretIndex),M=0|Math.max(this.__selectionIndex,this.__caretIndex);x.startIndex>A&&(A=x.startIndex),x.endIndex<M&&(M=x.endIndex),k=this.getCharBoundariesInGroup(A,x),M>=i.text.length?(D=this.getCharBoundariesInGroup(i.text.length-1,x)).x+=D.width+2:D=this.getCharBoundariesInGroup(M,x),null!=k&&null!=D&&(r.fillStyle="#000000",r.fillRect(k.x,k.y,D.x-k.x,x.height),r.fillStyle="#FFFFFF",r.fillText(h.substring(A,M),u+k.x,x.offsetY+g+c))}}}}else(i.border||i.background)&&(i.border?r.rect(.5,.5,s.width-1,s.height-1):r.rect(0,0,s.width,s.height),i.background&&(r.fillStyle="#"+In.hex(i.backgroundColor,6),r.fill()),i.border&&(r.lineWidth=1,r.lineCap="square",r.strokeStyle="#"+In.hex(i.borderColor,6),r.stroke()));var R=ho.pool.get();R.copyFrom(o),R.invert(),e.set___bitmap(mh.fromGraphics(e,null,R)),e.__canvas=null,this.__graphicsSavedScale.x=this.renderScaleX,this.__graphicsSavedScale.y=this.renderScaleY,this.__dirty=!1,e.set_dirty(!1),ho.pool.put(o),ho.pool.put(R),El.pool.put(s),El.pool.put(n)}else e.__canvas=null,e.__context=null,e.set_dirty(!1),null!=e.__bitmap&&e.__bitmap.dispose(),this.__dirty=!1}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){var F=t.context.imageSmoothingEnabled;F&&(t.context.mozImageSmoothingEnabled=!1,t.context.msImageSmoothingEnabled=!1,t.context.imageSmoothingEnabled=!1),we.prototype.__renderCanvas.call(this,t),F&&(t.context.mozImageSmoothingEnabled=!0,t.context.msImageSmoothingEnabled=!0,t.context.imageSmoothingEnabled=!0)}else we.prototype.__renderCanvas.call(this,t)},__drawGraphicsGL:function(t){var e=this.__graphics;if(this.__dirty||null==e||e.get_dirty()||null==e.__bitmap){var i=this.__textEngine;if(this.__updateLayout(),(this.__showCursor||null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){var s=El.pool.get(),n=El.pool.get(),a=this.__renderTransform;this.__getBounds(n),n.transform(s,a),null!=e&&null!=e.__canvas||(null==e&&(this.__graphics=new Sh(!1),e=this.__graphics),e.__canvas=zo.pool.get(),e.__context=e.__canvas.getContext("2d"),e.__bounds=new El(0,0,n.width,n.height));var r=e.__context;e.__canvas.width=Math.ceil(s.width),e.__canvas.height=Math.ceil(s.height);var o=ho.pool.get();if(o.copyFrom(a),o.translate(-Math.floor(s.x),-Math.floor(s.y)),r.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),null!=i.text&&""!=i.text||i.__hasFocus){var h=i.text;if(i.displayAsPassword){var _=h.length;h=ln.repeat(_,"*")}0!=i.antiAliasType||1!=i.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(r.rect(.5,.5,s.width-1,s.height-1),i.background&&(r.fillStyle="#"+In.hex(i.backgroundColor,6),r.fill()),i.border&&(r.lineWidth=1,r.strokeStyle="#"+In.hex(i.borderColor,6),r.stroke())),r.textBaseline="alphabetic",r.textAlign="start";for(var l,u=-this.get_scrollH(),c=0,f=0,d=this.get_scrollV()-1;f<d;){var p=f++;c-=i.lineHeights[p]}var g=0;if(this.__showCursor&&0==i.layoutGroups.length){var m=this.__textFormat,v=uh.getFont(m);r.font=v.name,r.fillStyle="#"+In.hex(m.color,6);var b=i.calculateFontDimensions(this.__textFormat,v);r.fillRect(2,2,1,b.height)}for(var y=0,w=i.layoutGroups;y<w.length;){var x=w[y];if(++y,!(x.lineIndex<this.get_scrollV()-1)){if(x.lineIndex>this.get_scrollV()+i.bottomScrollV-2)break;var T=uh.getFont(x.format);g=T.ascent*x.format.size,r.font=T.name,r.fillStyle="#"+In.hex(x.format.color,6);var S=h.substring(x.startIndex,x.endIndex),C=new RegExp("\n","g".split("u").join(""));if(S=S.replace(C,""),r.fillText(S,x.offsetX+u,x.offsetY+g+c),-1<this.__caretIndex&&i.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&x.startIndex<=this.__caretIndex&&(x.endIndex>this.__caretIndex||x.endIndex==i.text.length&&i.text.length==this.__caretIndex)){for(var E=l=0,I=this.__caretIndex-x.startIndex;E<I;){var P=E++;if(x.advances.length<=P)break;l+=x.advances[P]}r.fillRect(x.offsetX+l,x.offsetY,1,x.height)}}else if(!(x.endIndex<Math.min(this.__caretIndex,this.__selectionIndex)||x.startIndex>Math.max(this.__caretIndex,this.__selectionIndex))){var k,D,A=0|Math.min(this.__selectionIndex,this.__caretIndex),M=0|Math.max(this.__selectionIndex,this.__caretIndex);x.startIndex>A&&(A=x.startIndex),x.endIndex<M&&(M=x.endIndex),k=this.getCharBoundariesInGroup(A,x),M>=i.text.length?(D=this.getCharBoundariesInGroup(i.text.length-1,x)).x+=D.width+2:D=this.getCharBoundariesInGroup(M,x),null!=k&&null!=D&&(r.fillStyle="#000000",r.fillRect(k.x,k.y,D.x-k.x,x.height),r.fillStyle="#FFFFFF",r.fillText(h.substring(A,M),u+k.x,x.offsetY+g+c))}}}}else(i.border||i.background)&&(i.border?r.rect(.5,.5,s.width-1,s.height-1):r.rect(0,0,s.width,s.height),i.background&&(r.fillStyle="#"+In.hex(i.backgroundColor,6),r.fill()),i.border&&(r.lineWidth=1,r.lineCap="square",r.strokeStyle="#"+In.hex(i.borderColor,6),r.stroke()));var R=ho.pool.get();R.copyFrom(o),R.invert(),e.set___bitmap(mh.fromGraphics(e,null,R)),e.__canvas=null,this.__graphicsSavedScale.x=this.renderScaleX,this.__graphicsSavedScale.y=this.renderScaleY,this.__dirty=!1,e.set_dirty(!1),ho.pool.put(o),ho.pool.put(R),El.pool.put(s),El.pool.put(n)}else e.__canvas=null,e.__context=null,e.set_dirty(!1),null!=e.__bitmap&&e.__bitmap.dispose(),this.__dirty=!1}Wo.renderBitmap(this,t,0<this.__graphics.mustRefreshGraphicsCounter)},__startCursorTimer:function(){this.__cursorTimer=gn.delay(Gf(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.set_dirty(!0)},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__textEngine.text.length,this.__selectionIndex=this.__caretIndex),null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(Gf(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(Gf(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(Gf(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__textEngine.__hasFocus=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.set_dirty(!0))},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(Gf(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(Gf(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__textEngine.__hasFocus=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){if(this.__textEngine.update(),2!=this.__textEngine.autoSize){var t=this.__textEngine.width,e=this.__textEngine.height;switch(this.__textEngine.autoSize){case 0:case 1:case 3:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=t)switch(this.__textEngine.autoSize){case 0:this.set_x(this.__transform.tx+(t-this.__textEngine.width)/2);break;case 3:this.set_x(this.__transform.tx+(t-this.__textEngine.width))}this.__textEngine.width==t&&this.__textEngine.height==e||this.__textEngine.getLineMeasurements(),this.__textEngine.getBounds()}this.__caretIndex>this.__textEngine.text.length&&(this.__caretIndex=this.__textEngine.text.length),this.__selectionIndex>this.__textEngine.text.length&&(this.__selectionIndex=this.__textEngine.text.length),this.__layoutDirty=!1}},delayGraphicsRefresh:function(t,e){if(we.prototype.delayGraphicsRefresh.call(this,t,e),e&&!this.delayScaleRotationGraphicsRefresh)if(Math.abs(this.__graphicsSavedScale.x-this.renderScaleX)>Je.__maxScaleDifferenceBetweenRefreshGraphics||Math.abs(this.__graphicsSavedScale.y-this.renderScaleY)>Je.__maxScaleDifferenceBetweenRefreshGraphics)this.__graphics.mustRefreshGraphicsCounter=1;else{var i=this.__graphics;i.mustRefreshGraphicsCounter=Sh.__dirtyGraphicsDelay,i.set_dirty(!1)}},_onWorldTransformScaleRotationChanged:function(){we.prototype._onWorldTransformScaleRotationChanged.call(this),this.__layoutDirty=!0},__update:function(t,e){this.__updateLayout(),we.prototype.__update.call(this,t,e)},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(t){return this.__textEngine.antiAliasType=t},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(t){return t!=this.__textEngine.autoSize&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.autoSize=t},get_background:function(){return this.__textEngine.background},set_background:function(t){return t!=this.__textEngine.background&&this.set_dirty(!0),this.__textEngine.background=t},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(t){return t!=this.__textEngine.backgroundColor&&this.set_dirty(!0),this.__textEngine.backgroundColor=t},get_border:function(){return this.__textEngine.border},set_border:function(t){return t!=this.__textEngine.border&&this.set_dirty(!0),this.__textEngine.border=t},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(t){return t!=this.__textEngine.borderColor&&this.set_dirty(!0),this.__textEngine.borderColor=t},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.bottomScrollV},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(t){return this.__textFormat.__merge(t),this.__layoutDirty=!0,this.set_dirty(!0),t},get_displayAsPassword:function(){return this.__textEngine.displayAsPassword},set_displayAsPassword:function(t){return t!=this.__textEngine.displayAsPassword&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.displayAsPassword=t},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(t){return this.__textEngine.embedFonts=t},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(t){return this.__textEngine.gridFitType=t},get_height:function(){return this.__updateLayout(),we.prototype.get_height.call(this)},set_height:function(t){return 1==this.get_scaleY()&&t==this.__textEngine.height||(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.set_dirty(!0),this.__layoutDirty=!0),this.set_scaleY(1),this.__textEngine.height=t},get_htmlText:function(){return this.__textEngine.text},parseTags:function(t,e,i,s){null==s&&(s=[]);var n="";if(t.nodeType!=G.Document&&t.nodeType!=G.Element)throw new qn("Bad node type, expected Element or Document but found "+t.nodeType);for(var a=L.iter(t.children);a.hasNext();){var r,o=a.next();if(0==o.nodeType){if(o.nodeType!=G.Document&&o.nodeType!=G.Element)throw new qn("Bad node type, expected Element or Document but found "+o.nodeType);r=null==o.children[0]}else r=!0;if(r){if(o.nodeType==G.Document||o.nodeType==G.Element)throw new qn("Bad node type, unexpected "+o.nodeType);if(s.push(new ch(e,i,i+o.nodeValue.length)),o.nodeType==G.Document||o.nodeType==G.Element)throw new qn("Bad node type, unexpected "+o.nodeType);if(n+=o.nodeValue,o.nodeType==G.Document||o.nodeType==G.Element)throw new qn("Bad node type, unexpected "+o.nodeType);i+=o.nodeValue.length}else{if(o.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+o.nodeType);var h=o.nodeName,_=e.clone();switch(h.toLowerCase()){case"b":_.bold=!0;break;case"font":for(var l=o.attributes();l.hasNext();){var u=l.next();switch(u.toLowerCase()){case"color":_.color=O.parseInt("0x"+this.stripHexPrefix(o.get(u)));break;case"face":var c=o.get(u);_.font=si.fontAliases.get(c),null==_.font&&(_.font=c);break;case"kerning":_.kerning=0!=O.parseInt(o.get(u));break;case"letterSpacing":_.letterSpacing=parseFloat(o.get(u));break;case"size":_.size=O.parseInt(o.get(u))}}break;case"i":_.italic=!0;break;case"indent":_.leftMargin+=20;break;case"li":_.bullet=!0;break;case"p":for(var f=o.attributes();f.hasNext();){var d=f.next();if("align"==d.toLowerCase())switch(o.get(d).toLowerCase()){case"center":_.align=0;break;case"justify":_.align=2;break;case"left":_.align=3;break;case"right":_.align=4}}}var p=this.parseTags(o,_,i,s);n+=p.text,i=p.start_index}}return{text:n,start_index:i,format_ranges:s}},stripHexPrefix:function(t){return 0==t.indexOf("#")?t.substring(1):0==t.indexOf("0x")?t.substring(2):t},set_htmlText:function(e){if(this.__isHTML&&this.__cachedHtmlText==e||(this.set_dirty(!0),this.__layoutDirty=!0),this.__isHTML=!0,this.__cachedHtmlText=e,null!=this.__div)return this.__textEngine.text=e;var t=new RegExp("<P","g".split("u").join(""));e=e.replace(t,"<p");var i=new RegExp("</P>","g".split("u").join("")),s=(e=e.replace(i,"</p>")).lastIndexOf("</p>");if(0<s){var n=L.substr(e,0,s),a=L.substr(e,s,null),r=new RegExp("</p>","g".split("u").join(""));e=(n=n.replace(r,"</p>\n"))+a}var o=new RegExp("<br>","g".split("u").join(""));e=e.replace(o,"\n");var h=new RegExp("<br/>","g".split("u").join(""));e=e.replace(h,"\n");var _=new RegExp("</br>","g".split("u").join(""));e=e.replace(_,"\n");var l=new RegExp("</li>","g".split("u").join(""));e=e.replace(l,"</indent>\n");for(var u=1;0<(u=e.indexOf("<li>",u));){"\n"!=e.charAt(u-1)&&(e=L.substr(e,0,u)+"\n"+L.substr(e,u,null),++u),++u}var c,f=new RegExp("<li>","g".split("u").join(""));e=e.replace(f,"<indent>\t\t");try{c=G.parse(e)}catch(t){(cn.lastException=t)instanceof qn&&(t=t.val),pn.trace("Unable to parse html: "+O.string(t),{fileName:"TextField.hx",lineNumber:1353,className:"openfl.text.TextField",methodName:"set_htmlText"});var d=new RegExp("<.*?>","g".split("u").join(""));e=e.replace(d,""),c=G.parse(e)}this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length),this.__textFormat.bold=!1,this.__textFormat.italic=!1,this.__textFormat.leftMargin=null;var p=this.parseTags(c,this.__textFormat.clone(),0);return e=p.text,this.__textEngine.textFormatRanges=p.format_ranges,0<p.format_ranges.length&&(this.__textFormat=p.format_ranges[0].format),this.__textEngine.text=e},get_length:function(){return null!=this.__textEngine.text?this.__textEngine.text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(t){return t!=this.__textEngine.maxChars&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.maxChars=t},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.maxScrollV},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(t){return t!=this.__textEngine.multiline&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.multiline=t},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(t){return this.__textEngine.restrict=t},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(t){return t>this.__textEngine.maxScrollH&&(t=this.__textEngine.maxScrollH),t<0&&(t=0),t!=this.__textEngine.scrollH&&this.set_dirty(!0),this.__textEngine.scrollH=t},get_scrollV:function(){return this.__textEngine.scrollV},set_scrollV:function(t){return t>this.__textEngine.maxScrollV&&(t=this.__textEngine.maxScrollV),t<1&&(t=1),t!=this.__textEngine.scrollV&&this.set_dirty(!0),this.__textEngine.scrollV=t},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(t){return t!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():t||this.__stopTextInput()),this.__textEngine.selectable=t},get_selectionBeginIndex:function(){return 0|Math.min(this.__caretIndex,this.__selectionIndex)},get_selectionEndIndex:function(){return 0|Math.max(this.__caretIndex,this.__selectionIndex)},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(t){return t!=this.__textEngine.sharpness&&this.set_dirty(!0),this.__textEngine.sharpness=t},get_text:function(){return this.__textEngine.text},set_text:function(t){if(!this.__isHTML&&this.__textEngine.text==t)return t;this.set_dirty(!0),this.__layoutDirty=!0,1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var e=this.__textEngine.textFormatRanges[0];return e.format=this.__textFormat,e.start=0,e.end=t.length,this.__isHTML=!1,this.__cachedHtmlText=null,this.__textEngine.text=t},get_textColor:function(){return this.__textFormat.color},set_textColor:function(t){t!=this.__textFormat.color&&this.set_dirty(!0);for(var e=0,i=this.__textEngine.textFormatRanges;e<i.length;){var s=i[e];++e,s.format.color=t}return this.__textFormat.color=t},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(t){return t!=this.__textEngine.type&&(1==t?(this.addEventListener("focusIn",Gf(this,this.this_onFocusIn)),this.addEventListener("focusOut",Gf(this,this.this_onFocusOut)),this.addEventListener("addedToStage",Gf(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener("focusIn",Gf(this,this.this_onFocusIn)),this.removeEventListener("focusOut",Gf(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",Gf(this,this.this_onAddedToStage)),this.__stopTextInput()),this.set_dirty(!0)),this.__textEngine.type=t},get_width:function(){return this.__updateLayout(),we.prototype.get_width.call(this)},set_width:function(t){return 1==this.get_scaleX()&&this.__textEngine.width==t||(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.set_dirty(!0),this.__layoutDirty=!0),this.set_scaleX(1),this.__textEngine.width=t},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(t){return t!=this.__textEngine.wordWrap&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.wordWrap=t},get_dirty:function(){return this.__dirty},set_dirty:function(t){return t&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__dirty=t},stage_onMouseMove:function(t){if(null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex){this.__updateLayout();var e=this.__getPosition(this.get_mouseX(),this.get_mouseY());e!=this.__caretIndex&&(this.__caretIndex=e,this.set_dirty(!0))}},stage_onMouseUp:function(t){var e=this;if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",Gf(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",Gf(this,this.stage_onMouseUp)),null!=this.__clickTimer&&this.__clickTimer.stop(),this.__clickTimer=gn.delay(function(){e.__clicks=0,e.__clickTimer=null},400),this.stage.get_focus()==this))if(this.__updateLayout(),3<=this.__clicks&&this.__clicks%3==0)this.__selectAll();else if(2<=this.__clicks&&this.__clicks%2==0)this.__selectWord();else{this.__getWorldTransform();var i,s,n=this.__getPosition(this.get_mouseX(),this.get_mouseY());i=0|Math.min(this.__selectionIndex,n),s=0|Math.max(this.__selectionIndex,n),this.__selectionIndex=i,this.__caretIndex=s,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(t){this.this_onFocusIn(null)},this_onFocusIn:function(t){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(t){this.__stopTextInput()},this_onMouseDown:function(t){this.get_selectable()&&(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.set_dirty(!0),null!=this.__firstDownPos&&(Math.abs(this.__firstDownPos.x-this.get_mouseX())>Je.__moveDelta||Math.abs(this.__firstDownPos.y-this.get_mouseY())>Je.__moveDelta)&&(null!=this.__clickTimer&&this.__clickTimer.stop(),this.__clicks=0,_o.pool.put(this.__firstDownPos),this.__firstDownPos=null),this.__clicks++,1==this.__clicks&&(null!=this.__firstDownPos&&_o.pool.put(this.__firstDownPos),this.__firstDownPos=_o.pool.get(),this.__firstDownPos.x=this.get_mouseX(),this.__firstDownPos.y=this.get_mouseY()),this.stage.addEventListener("mouseMove",Gf(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",Gf(this,this.stage_onMouseUp)))},__findFirstSpace:function(t,e,i){null==i&&(i=!0);var s=this.__textEngine.text.charAt(e);if(t){if(i)for(;0<e&&(" "==s||"-"==s);)--e,s=this.__textEngine.text.charAt(e);for(;0<e&&" "!=s&&"-"!=s;)--e,s=this.__textEngine.text.charAt(e)}else{var n=this.__textEngine.text.length-1;if(i)for(;e<n&&(" "==s||"-"==s);)++e,s=this.__textEngine.text.charAt(e);for(;e<n&&" "!=s&&"-"!=s;)++e,s=this.__textEngine.text.charAt(e)}return e},__selectWord:function(){this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.set_dirty(!0);this.__textEngine.text.charAt(this.__caretIndex);this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex,!1);var t=this.__textEngine.text.charAt(this.__caretIndex);" "!=t&&"-"!=t||++this.__caretIndex,this.__selectionIndex=this.__findFirstSpace(!1,this.__selectionIndex,!1)},__selectAll:function(){this.__caretIndex=0,this.__selectionIndex=this.__textEngine.text.length,this.set_dirty(!0)},window_onKeyDown:function(t,e){switch(t){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(Vr.get_ctrlKey(e)?(this.__selectionIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.__selectionIndex&&(this.__selectionIndex+=1)):this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ne("change",!0)));break;case 97:Vr.get_ctrlKey(e)&&this.__selectAll();break;case 99:Vr.get_ctrlKey(e)&&Tr.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 118:if(Vr.get_ctrlKey(e)){var i=Tr.get_text();null!=i?this.replaceSelectedText(i):this.replaceSelectedText(""),this.dispatchEvent(new Ne("change",!0))}else this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length;break;case 120:Vr.get_ctrlKey(e)&&(Tr.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new Ne("change",!0))));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(Vr.get_ctrlKey(e)?this.__selectionIndex=this.__findFirstSpace(!1,this.__caretIndex)+1:this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ne("change",!0)));break;case 1073741898:var s=this.getCharBoundaries(this.__caretIndex);s.x=0,this.__caretIndex=this.__getPosition(s.x,s.y),Vr.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741901:var n=this.getLineIndexOfChar(this.__caretIndex),a=this.getCharBoundaries(this.__caretIndex);a.x+=this.__textEngine.textWidth,this.__textEngine.lineLayoutGroups[n][0].endIndex==this.__caretIndex&&(a.y+=a.height+1),this.__caretIndex=this.__getPosition(a.x,a.y),Vr.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741903:Vr.get_shiftKey(e)&&Vr.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!1,0|Math.min(this.__caretIndex+1,this.__textEngine.text.length)),this.get_caretIndex()<this.__textEngine.text.length&&(this.__caretIndex+=1)):Vr.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!1,0|Math.min(this.__caretIndex+1,this.__textEngine.text.length)),this.get_caretIndex()<this.__textEngine.text.length&&(this.__caretIndex+=1),this.__selectionIndex=this.__caretIndex):Vr.get_shiftKey(e)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=0|Math.max(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741904:Vr.get_shiftKey(e)&&Vr.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.get_caretIndex()&&(this.__caretIndex+=1)):Vr.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.get_caretIndex()&&(this.__caretIndex+=1),this.__selectionIndex=this.__caretIndex):Vr.get_shiftKey(e)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=0|Math.min(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741905:var r=this.getCharBoundaries(this.__caretIndex);r.y+=r.height+1,this.__caretIndex=this.__getPosition(r.x,r.y),Vr.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741906:var o=this.getCharBoundaries(this.__caretIndex);o.y-=o.height,this.__caretIndex=this.__getPosition(o.x,o.y),Vr.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer()}},window_onTextInput:function(t){this.replaceSelectedText(t),this.dispatchEvent(new Ne("change",!0))},__class__:Je,__properties__:s(we.prototype.__properties__,{set_dirty:"set_dirty",get_dirty:"get_dirty",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var Ze=function(t,e){Je.call(this),this.swf=t,this.symbol=e,this._variableName=In.replace(e.variableName,"_parent.",""),this.set_width(e.width),this.set_height(e.height),this.set_multiline(e.multiline),this.set_wordWrap(e.wordWrap),this.set_displayAsPassword(e.password),this.set_border(e.border),this.set_selectable(e.selectable);var i=new ql;null!=e.color&&(i.color=16777215&e.color),i.size=Math.round(e.fontHeight/20);var s=e.fontName,n=si.fontAliases;i.font=null!=Kf[s]?n.getReserved(s):n.h[s],null==i.font&&(i.font=si.fontAliasesId.h[e.fontID]),null==i.font&&(i.font=e.fontName);var a=!1,r=i.font;if(null==r)a=!0;else switch(r){case"":case"_sans":case"_serif":case"_typewriter":a=!0;break;default:for(var o=0,h=se.enumerateFonts();o<h.length;){var _=h[o];if(++o,_.name==i.font){a=!0;break}}}a?this.set_embedFonts(!0):pn.trace('Warning: Could not find required font "'+i.font+'", it has not been embedded',{fileName:"DynamicTextField.hx",lineNumber:86,className:"format.swf.lite.DynamicTextField",methodName:"new"}),null!=e.align&&("center"==e.align?i.align=0:"right"==e.align?i.align=4:"justify"==e.align&&(i.align=2),i.leftMargin=e.leftMargin/20|0,i.rightMargin=e.rightMargin/20|0,i.indent=e.indent/20|0,i.leading=e.leading/20|0),this.set_defaultTextFormat(i),null!=e.text&&(e.html?this.set_htmlText(e.text):this.set_text(e.text)),null!=e.maxLength&&this.set_maxChars(e.maxLength)};(i["format.swf.lite.DynamicTextField"]=Ze).__name__=["format","swf","lite","DynamicTextField"],Ze.__super__=Je,Ze.prototype=s(Je.prototype,{__update:function(t,e){var i=null!=this._variableName&&0<this._variableName.length;if(i){var s=this._variableName,n=this.parent;"_root."==L.substr(this._variableName,0,6)?(s=In.replace(this._variableName,"_root.",""),n=lo.current.getChildAt(0)):"_global."==L.substr(this._variableName,0,8)&&(s=In.replace(this._variableName,"_global.",""),n=lo.current.getChildAt(0));for(var a=s.split("."),r=function(t,e){for(var i=t,s=0;s<e.length;){var n=e[s];if(++s,null==(i=Dt.field(i,n)))return null}return i};null!=n;){if(Object.prototype.hasOwnProperty.call(n,a[0])){var o=r(n,a);if(null!=o){null!=this.symbol&&this.symbol.html?this.set_htmlText(O.string(o)):this.set_text(O.string(o));break}}n=n.parent}}Je.prototype.__update.call(this,t,e),i&&(this.__updateDirty=!0)},applyTextToVariable:function(){if(null!=this._variableName&&0<this._variableName.length){var t=this._variableName,e=this.parent;for("_root."==L.substr(this._variableName,0,6)&&(t=In.replace(this._variableName,"_root.",""),e=lo.current.getChildAt(0));null!=e;){if(Object.prototype.hasOwnProperty.call(e,t)){e[t]=this.__textEngine.text;break}e=e.parent}}},window_onKeyDown:function(t,e){Je.prototype.window_onKeyDown.call(this,t,e),this.applyTextToVariable()},window_onTextInput:function(t){Je.prototype.window_onTextInput.call(this,t),this.applyTextToVariable()},__class__:Ze});var Qe=function(){W.call(this)};(i["openfl.display.Shape"]=Qe).__name__=["openfl","display","Shape"],Qe.__super__=W,Qe.prototype=s(W.prototype,{getSymbol:function(){return this.get_graphics().__symbol},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new Sh,this.__graphics.__owner=this),this.__graphics},__hitTest:function(t,e,i,s,n,a){return!(!this.parent.mouseEnabled&&n)&&W.prototype.__hitTest.call(this,t,e,i,s,n,a)},toString:function(){var t=this.getSymbol();return null!=t?"[Shape id: "+t.id+"]":W.prototype.toString.call(this)},__class__:Qe,__properties__:s(W.prototype.__properties__,{get_graphics:"get_graphics"})});var $e=function(t,e){this.mustCache=!1,Qe.call(this),this.__symbol=e,(this.get_graphics().__symbol=e).useBitmapCache&&(this.get_graphics().keepBitmapData=!0),this.__swf=t,null==this.__symbol.cachedHandlers&&(this.__symbol.cachedHandlers=new yn),this.set_ratio(0)};(i["format.swf.lite.MorphShape"]=$e).__name__=["format","swf","lite","MorphShape"],$e.__updateMorphShape=function(t,e,i,s){var n=t.getCacheEntry(i,e);if(null!=n)return s.__bitmap=n.bitmapData,s.__dirty=!1,s.__bounds=n.bounds,!1;var a=Math.floor(65535*e),r=t.cachedHandlers.h[a];if(null==r){var o=t.getShape(e);r=new Ve,o.export(r),t.cachedHandlers.h[a]=r}return s.clear(),Pn.processCommands(s,r.commands),!0},$e.__super__=Qe,$e.prototype=s(Qe.prototype,{__reset:function(){this.set_ratio(0)},__getBounds:function(t){this.__update(!0,!1),Qe.prototype.__getBounds.call(this,t)},getSymbol:function(){return this.__symbol},set_ratio:function(t){return this.ratio==t?t:(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.ratio=t)},__update:function(t,e){this.__updateTransforms(),!this.__renderDirty||$e.__updateMorphShape(this.__symbol,this.ratio,this.__renderTransform,this.get_graphics())&&(this.mustCache=!0);Qe.prototype.__update.call(this,t,e)},__renderGL:function(t){Qe.prototype.__renderGL.call(this,t),this.mustCache&&(null!=this.get_graphics().__bitmap&&this.__symbol.addCacheEntry(this.get_graphics().__bitmap,this.get_graphics().__bounds,this.__renderTransform,this.ratio),this.mustCache=!1)},__class__:$e,__properties__:s(Qe.prototype.__properties__,{set_ratio:"set_ratio"})});function ti(){}(i["lime.app.IModule"]=ti).__name__=["lime","app","IModule"],ti.prototype={__class__:ti};function ei(){this.onExit=new ba}(i["lime.app.Module"]=ei).__name__=["lime","app","Module"],ei.__interfaces__=[ti],ei.prototype={onGamepadAxisMove:function(t,e,i){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){pn.trace("onGamepadConnect (module)",{fileName:"Module.hx",lineNumber:64,className:"lime.app.Module",methodName:"onGamepadConnect"})},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){},onKeyUp:function(t,e,i){},onModuleExit:function(t){},onMouseDown:function(t,e,i,s){},onMouseMove:function(t,e,i){},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,s){},onMouseWheel:function(t,e,i){},onPreloadComplete:function(){},onPreloadProgress:function(t,e,i){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,s){},onTextInput:function(t,e){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(t){},onWindowClose:function(t){},onWindowCreate:function(t){},onWindowDeactivate:function(t){},onWindowEnter:function(t){},onWindowFocusIn:function(t){},onWindowFocusOut:function(t){},onWindowFullscreen:function(t){},onWindowLeave:function(t){},onWindowMove:function(t,e,i){},onWindowMinimize:function(t){},onWindowResize:function(t,e,i){},onWindowRestore:function(t){},render:function(t){},update:function(t){},__class__:ei};var ii=function(){ei.call(this)};(i["format.swf.lite.SoundProcessorModule"]=ii).__name__=["format","swf","lite","SoundProcessorModule"],ii.__super__=ei,ii.prototype=s(ei.prototype,{render:function(t){if(0<M.soundCommandTable.length){for(var e=0,i=M.soundCommandTable;e<i.length;){var s=i[e];++e,null!=s.movieClip.stage&&M._processSoundCommandCallback(s.command)}M.soundCommandTable=[]}},__class__:ii});var si=function(){this.__uid=at.SEQ<<24|++at.UID,this.symbols=new yn,this.classes=new Tn,this.classes_id=new yn};(i["format.swf.lite.SWFLite"]=si).__name__=["format","swf","lite","SWFLite"],si.__interfaces__=[nt],si.__properties__={get_defaultInstance:"get_defaultInstance"},si.defaultInstance=null,si.unserializeLibrary=function(t){if(null==t)return null;var e=(new at).unserialize(t,si);return e.cacheSymbolClassNames(),e.classes=new Tn,e.classes_id=new yn,e.prepareShapeBitmaps(),e},si.get_defaultInstance=function(){var t=si.instances;return null!=Kf["lib/graphics/graphics.dat"]?t.getReserved("lib/graphics/graphics.dat"):t.h["lib/graphics/graphics.dat"]},si.prototype={createButton:function(t){return null},createMovieClip:function(t){if(null==t&&(t=""),""==t){if(""!=this.root.className){var e=this.root.className,i=this.classes,s=null!=Kf[e]?i.getReserved(e):i.h[e];if(null!=s)return mi.createInstance(s,[this,this.root]);pn.trace("Loading root movie, searching for symbol "+this.root.className+" not found",{fileName:"SWFLite.hx",lineNumber:60,className:"format.swf.lite.SWFLite",methodName:"createMovieClip"})}return new M(this,this.root)}var n=this.symbolClassNames,a=null!=Kf[t]?n.getReserved(t):n.h[t];if(null!=a){if(a.poolable&&0<a.pool.size){var r=a.pool.get();return r.__reset(),r}if(""!=a.className){var o=a.className,h=this.classes,_=null!=Kf[o]?h.getReserved(o):h.h[o];if(null!=_)return mi.createInstance(_,[this,a])}var l=this.classes_id.h[a.id];if(null!=l)return mi.createInstance(l,[this,a]);if(Jn.__instanceof(a,bi))return new M(this,a)}return null},getBitmapData:function(t){var e=this.symbolClassNames,i=null!=Kf[t]?e.getReserved(t):e.h[t];if(null!=i&&Jn.__instanceof(i,_i)){var s=i;return ro.getBitmapData(s.path)}return null},hasSymbol:function(t){var e=this.symbolClassNames;return null!=Kf[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},serializeLibrary:function(){var t=new at;return this.symbolClassNames=null,t.serialize(this)},cacheSymbolClassNames:function(){this.symbolClassNames=new Tn;for(var t=this.symbols.iterator();t.hasNext();){var e=t.next();if(null!=e.className){var i=e.className,s=this.symbolClassNames;null!=Kf[i]?s.setReserved(i,e):s.h[i]=e}}},prepareShapeBitmaps:function(){for(var t=this.symbols.iterator();t.hasNext();){var e=t.next();Jn.__instanceof(e,Pn)&&Jn.__cast(e,Pn).graphics.__commands.resolveBitmapDatas(this)}},set_frameRate:function(t){return this.frameTime=1e3/t|0,this.frameRate=t},getCLID:function(){return si.__clid},serialize:function(t){t.out.addInt32(Dn.floatToI32(this.frameRate)),t.addKnownRef(this.root);var e=this.symbols;if(null==e)t.out.b.push(0);else{var i=e,s=tt.array({iterator:function(){return i.keys()}}),n=s.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var a=0;a<s.length;){var r=s[a];++a,0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r)),t.addKnownRef(e.h[r])}}var o=this.symbolClassNames;if(null==o)t.out.b.push(0);else{var h=o,_=tt.array({iterator:function(){return h.keys()}}),l=_.length+1;0<=l&&l<128?t.out.b.push(l):(t.out.b.push(128),t.out.addInt32(l));for(var u=0;u<_.length;){var c=_[u];if(++u,null==c)t.out.b.push(0);else{var f=tn.ofString(c),d=f.length+1;0<=d&&d<128?t.out.b.push(d):(t.out.b.push(128),t.out.addInt32(d));for(var p=t.out,g=(p.b,f.b),m=0,v=f.length;m<v;){var b=m++;p.b.push(g[b])}}t.addKnownRef(null!=Kf[c]?o.getReserved(c):o.h[c])}}},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("frameRate"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("root"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("symbols"),t.fieldsTypes.push(Xn.PMap(Xn.PInt,Xn.PSerializable("format.swf.lite.symbols.SWFSymbol"))),t.fieldsNames.push("symbolClassNames"),t.fieldsTypes.push(Xn.PMap(Xn.PString,Xn.PSerializable("format.swf.lite.symbols.SWFSymbol"))),t.isFinal=at.isClassFinal(si.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.set_frameRate(e),this.root=t.getRef(bi,bi.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n,a=i;if(0==a)s=null;else{for(var r=new yn;0<--a;){var o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4);var h=o,_=t.getRef(hi,hi.__clid);r.h[h]=_}s=r}this.symbols=s;var l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4);var u,c=l;if(0==c)u=null;else{for(var f=new Tn;0<--c;){var d=t.input.b[t.inPos++];128==d&&(d=t.input.getInt32(t.inPos),t.inPos+=4);var p=d;if(0==p)n=null;else{--p;var g=t.input.getString(t.inPos,p);t.inPos+=p,n=g}var m=n,v=t.getRef(hi,hi.__clid);null!=Kf[m]?f.setReserved(m,v):f.h[m]=v}u=f}this.symbolClassNames=u},__class__:si,__properties__:{set_frameRate:"set_frameRate"}};function ni(){Qt.call(this)}(i["openfl.AssetLibrary"]=ni).__name__=["openfl","AssetLibrary"],ni.__super__=Qt,ni.prototype=s(Qt.prototype,{getMovieClip:function(t){return null},loadMovieClip:function(t){var e=this;return new Da(function(){return e.getMovieClip(t)})},__class__:ni});function ai(t){if(ni.call(this),null!=t){var e=ro.getBytes(t);this.swf=si.unserializeLibrary(su.toBytes(e));var i=this.swf,s=si.instances;null!=Kf[t]?s.setReserved(t,i):s.h[t]=i}}(i["format.swf.lite.SWFLiteLibrary"]=ai).__name__=["format","swf","lite","SWFLiteLibrary"],ai.__super__=ni,ai.prototype=s(ni.prototype,{exists:function(t,e){return""==t&&"MOVIE_CLIP"==e||("IMAGE"==e||"MOVIE_CLIP"==e)&&this.swf.hasSymbol(t)},getImage:function(t){return ja.fromBitmapData(this.swf.getBitmapData(t))},getMovieClip:function(t){return this.swf.createMovieClip(t)},load:function(){var t=new Ma;return t.complete(this),t.future},unload:function(){for(var t,e=this.swf.symbols.iterator();e.hasNext();){var i=e.next();Jn.__instanceof(i,_i)&&(t=i,ro.cache.removeBitmapData(t.path))}},__class__:ai});var ri=function(t,e){this._symbol=e,h.call(this),this.__totalFrames=1,this.__currentFrame=1;var i=Jn.__cast(t.symbols.h[e.bitmapID],_i);if(this.isSpritesheetImage(i.path)){var s=ri.spritesheet.getDisplayObjectByFrameName(i.path);this.addDisplayObject(s,e)}else{var n=new ph(ro.getBitmapDataFromSymbol(i));n.smoothing=e.smooth,n.pixelSnapping=2,this.addDisplayObject(n,e)}};(i["format.swf.lite.SimpleSprite"]=ri).__name__=["format","swf","lite","SimpleSprite"],ri.spritesheet=null,ri.__super__=h,ri.prototype=s(h.prototype,{isSpritesheetImage:function(t){return null!=ri.spritesheet&&!ri.spritesheet.isBitmapExcluded(t)},addDisplayObject:function(t,e){t.__transform.copyFrom(e.matrix),this.addChildAt(t,this.__children._length)},__hitTest:function(t,e,i,s,n,a){return!(!this.parent.mouseEnabled&&n)&&h.prototype.__hitTest.call(this,t,e,i,s,n,a)},getSymbol:function(){return this._symbol},__class__:ri});var oi=function(t,e){j.call(this),this.swf=t,this.symbol=e,this.renderGlyphs()};(i["format.swf.lite.StaticTextField"]=oi).__name__=["format","swf","lite","StaticTextField"],oi.__super__=j,oi.prototype=s(j.prototype,{renderGlyphs:function(){if(this.glyphs=[],null!=this.symbol.records)for(var t=null,e=16777215,i=this.symbol.matrix.tx,s=this.symbol.matrix.ty,n=0,a=this.symbol.records;n<a.length;){var r=a[n];if(++n,null!=r.fontID&&(t=this.swf.symbols.h[r.fontID]),null!=r.offsetX&&(i=this.symbol.matrix.tx+.05*r.offsetX),null!=r.offsetY&&(s=this.symbol.matrix.ty+.05*r.offsetY),null!=r.color&&(e=r.color),null!=t)for(var o,h=r.fontHeight/1024,_=0,l=r.glyphs.length;_<l;){var u=_++;o=r.glyphs[u];var c=new Qe,f=new Sh(!1);c.__graphics=f,t.glyphs[o].set_useBitmapCache(!0),f.copyFrom(t.glyphs[o].graphics,!0),(f.__owner=c).set_x(i),c.set_y(s),c.set_scaleX(h),c.set_scaleY(h),i+=.05*r.advances[u],c.get_transform().get_colorTransform().set_color(16777215&e),c.get_transform().get_colorTransform().alphaMultiplier=(e>>24&255)/255,this.addChildAt(c,this.__children._length),this.glyphs.push(c)}}},__class__:oi});var hi=function(){this.__uid=at.SEQ<<24|++at.UID,this.forbidCachedBitmapUpdate=!1,this.pixelPerfectHitTest=!0,this.uniqueSharedCachedBitmap=null,this.useUniqueSharedBitmapCache=!1,this.poolable=!1,this.id=-1,this.className=""};(i["format.swf.lite.symbols.SWFSymbol"]=hi).__name__=["format","swf","lite","symbols","SWFSymbol"],hi.__interfaces__=[nt],hi.prototype={set_poolable:function(t){return t&&null==this.pool&&(this.pool=new Be(function(){throw new qn("Forbidden")})),this.poolable=t},initPool:function(t,e){this.pool=new Be(function(){throw new qn("Forbidden")});for(var i=0,s=e;i<s;){i++;var n=t.createMovieClip(this.className);this.pool.put(n)}this.set_poolable(!0)},toString:function(){return"SWFSymbol[id: "+this.id+", name: "+this.className+"] "},getCLID:function(){return hi.__clid},serialize:function(t){var e=this.className;if(null==e)t.out.b.push(0);else{var i=tn.ofString(e),s=i.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var n=t.out,a=(n.b,i.b),r=0,o=i.length;r<o;){var h=r++;n.b.push(a[h])}}var _=this.id;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("className"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("id"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(hi.__clid),t},unserializeInit:function(){this.className="",this.id=-1,this.set_poolable(!1),this.useUniqueSharedBitmapCache=!1,this.uniqueSharedCachedBitmap=null,this.pixelPerfectHitTest=!0,this.forbidCachedBitmapUpdate=!1},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,s=e;if(0==s)i=null;else{--s;var n=t.input.getString(t.inPos,s);t.inPos+=s,i=n}this.className=i;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.id=a},__class__:hi,__properties__:{set_poolable:"set_poolable"}};var _i=function(){this.path="",this.alpha="",hi.call(this)};(i["format.swf.lite.symbols.BitmapSymbol"]=_i).__name__=["format","swf","lite","symbols","BitmapSymbol"],_i.__super__=hi,_i.prototype=s(hi.prototype,{getCLID:function(){return _i.__clid},serialize:function(t){hi.prototype.serialize.call(this,t);var e=this.alpha;if(null==e)t.out.b.push(0);else{var i=tn.ofString(e),s=i.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var n=t.out,a=(n.b,i.b),r=0,o=i.length;r<o;){var h=r++;n.b.push(a[h])}}var _=this.path;if(null==_)t.out.b.push(0);else{var l=tn.ofString(_),u=l.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=t.out,f=(c.b,l.b),d=0,p=l.length;d<p;){var g=d++;c.b.push(f[g])}}},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("alpha"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("path"),t.fieldsTypes.push(Xn.PString),t.isFinal=at.isClassFinal(_i.__clid),t},unserializeInit:function(){hi.prototype.unserializeInit.call(this),this.alpha="",this.path=""},unserialize:function(t){hi.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,s=e;if(0==s)i=null;else{--s;var n=t.input.getString(t.inPos,s);t.inPos+=s,i=n}this.alpha=i;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4);var r,o=a;if(0==o)r=null;else{--o;var h=t.input.getString(t.inPos,o);t.inPos+=o,r=h}this.path=r},__class__:_i});var li=function(){hi.call(this)};(i["format.swf.lite.symbols.ButtonSymbol"]=li).__name__=["format","swf","lite","symbols","ButtonSymbol"],li.__super__=hi,li.prototype=s(hi.prototype,{getCLID:function(){return li.__clid},serialize:function(t){hi.prototype.serialize.call(this,t),t.addKnownRef(this.downState),t.addKnownRef(this.hitState),t.addKnownRef(this.overState),t.addKnownRef(this.upState),t.addKnownRef(this.onIdleSound),t.addKnownRef(this.onOverSound),t.addKnownRef(this.onDownSound),t.addKnownRef(this.onUpSound)},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("downState"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("hitState"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("overState"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("upState"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("onIdleSound"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onOverSound"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onDownSound"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onUpSound"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SoundCommand")),t.isFinal=at.isClassFinal(li.__clid),t},unserialize:function(t){hi.prototype.unserialize.call(this,t),this.downState=t.getRef(bi,bi.__clid),this.hitState=t.getRef(bi,bi.__clid),this.overState=t.getRef(bi,bi.__clid),this.upState=t.getRef(bi,bi.__clid),this.onIdleSound=t.getRef(vi,vi.__clid),this.onOverSound=t.getRef(vi,vi.__clid),this.onDownSound=t.getRef(vi,vi.__clid),this.onUpSound=t.getRef(vi,vi.__clid)},__class__:li});var ui=function(){this.text="",this.fontName="",this.align="",this.variableName="",hi.call(this)};(i["format.swf.lite.symbols.DynamicTextSymbol"]=ui).__name__=["format","swf","lite","symbols","DynamicTextSymbol"],ui.__super__=hi,ui.prototype=s(hi.prototype,{getCLID:function(){return ui.__clid},serialize:function(t){hi.prototype.serialize.call(this,t);var e=this.variableName;if(null==e)t.out.b.push(0);else{var i=tn.ofString(e),s=i.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var n=t.out,a=(n.b,i.b),r=0,o=i.length;r<o;){var h=r++;n.b.push(a[h])}}var _=this.align;if(null==_)t.out.b.push(0);else{var l=tn.ofString(_),u=l.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=t.out,f=(c.b,l.b),d=0,p=l.length;d<p;){var g=d++;c.b.push(f[g])}}if(t.out.b.push(this.border?1:0),null==this.color)t.out.b.push(0);else{t.out.b.push(1);var m=this.color;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m))}var v=this.fontHeight;0<=v&&v<128?t.out.b.push(v):(t.out.b.push(128),t.out.addInt32(v));var b=this.fontID;0<=b&&b<128?t.out.b.push(b):(t.out.b.push(128),t.out.addInt32(b));var y=this.fontName;if(null==y)t.out.b.push(0);else{var w=tn.ofString(y),x=w.length+1;0<=x&&x<128?t.out.b.push(x):(t.out.b.push(128),t.out.addInt32(x));for(var T=t.out,S=(T.b,w.b),C=0,E=w.length;C<E;){var I=C++;T.b.push(S[I])}}if(t.out.addInt32(Dn.floatToI32(this.height)),t.out.b.push(this.html?1:0),null==this.indent)t.out.b.push(0);else{t.out.b.push(1);var P=this.indent;0<=P&&P<128?t.out.b.push(P):(t.out.b.push(128),t.out.addInt32(P))}if(null==this.leading)t.out.b.push(0);else{t.out.b.push(1);var k=this.leading;0<=k&&k<128?t.out.b.push(k):(t.out.b.push(128),t.out.addInt32(k))}if(null==this.leftMargin)t.out.b.push(0);else{t.out.b.push(1);var D=this.leftMargin;0<=D&&D<128?t.out.b.push(D):(t.out.b.push(128),t.out.addInt32(D))}if(t.out.b.push(this.multiline?1:0),t.out.b.push(this.password?1:0),null==this.rightMargin)t.out.b.push(0);else{t.out.b.push(1);var A=this.rightMargin;0<=A&&A<128?t.out.b.push(A):(t.out.b.push(128),t.out.addInt32(A))}t.out.b.push(this.selectable?1:0);var M=this.text;if(null==M)t.out.b.push(0);else{var R=tn.ofString(M),F=R.length+1;0<=F&&F<128?t.out.b.push(F):(t.out.b.push(128),t.out.addInt32(F));for(var B=t.out,L=(B.b,R.b),N=0,O=R.length;N<O;){var U=N++;B.b.push(L[U])}}if(t.out.addInt32(Dn.floatToI32(this.width)),t.out.b.push(this.wordWrap?1:0),t.out.addInt32(Dn.floatToI32(this.x)),t.out.addInt32(Dn.floatToI32(this.y)),null==this.maxLength)t.out.b.push(0);else{t.out.b.push(1);var z=this.maxLength;0<=z&&z<128?t.out.b.push(z):(t.out.b.push(128),t.out.addInt32(z))}},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("variableName"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("align"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("border"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("color"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("fontHeight"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("fontID"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("fontName"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("height"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("html"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("indent"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("leading"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("leftMargin"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("multiline"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("password"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("rightMargin"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("selectable"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("text"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("width"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("wordWrap"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("x"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("maxLength"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.isFinal=at.isClassFinal(ui.__clid),t},unserializeInit:function(){hi.prototype.unserializeInit.call(this),this.variableName="",this.align="",this.fontName="",this.text=""},unserialize:function(t){hi.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,s=e;if(0==s)i=null;else{--s;var n=t.input.getString(t.inPos,s);t.inPos+=s,i=n}this.variableName=i;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4);var r,o=a;if(0==o)r=null;else{--o;var h=t.input.getString(t.inPos,o);t.inPos+=o,r=h}if(this.align=r,this.border=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.color=null;else{var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),this.color=_}var l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4),this.fontHeight=l;var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4),this.fontID=u;var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=t.input.getString(t.inPos,d);t.inPos+=d,f=p}this.fontName=f;var g=t.input.getFloat(t.inPos);if(t.inPos+=4,this.height=g,this.html=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.indent=null;else{var m=t.input.b[t.inPos++];128==m&&(m=t.input.getInt32(t.inPos),t.inPos+=4),this.indent=m}if(0==t.input.b[t.inPos++])this.leading=null;else{var v=t.input.b[t.inPos++];128==v&&(v=t.input.getInt32(t.inPos),t.inPos+=4),this.leading=v}if(0==t.input.b[t.inPos++])this.leftMargin=null;else{var b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),this.leftMargin=b}if(this.multiline=0!=t.input.b[t.inPos++],this.password=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.rightMargin=null;else{var y=t.input.b[t.inPos++];128==y&&(y=t.input.getInt32(t.inPos),t.inPos+=4),this.rightMargin=y}this.selectable=0!=t.input.b[t.inPos++];var w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x,T=w;if(0==T)x=null;else{--T;var S=t.input.getString(t.inPos,T);t.inPos+=T,x=S}this.text=x;var C=t.input.getFloat(t.inPos);t.inPos+=4,this.width=C,this.wordWrap=0!=t.input.b[t.inPos++];var E=t.input.getFloat(t.inPos);t.inPos+=4,this.x=E;var I=t.input.getFloat(t.inPos);if(t.inPos+=4,this.y=I,0==t.input.b[t.inPos++])this.maxLength=null;else{var P=t.input.b[t.inPos++];128==P&&(P=t.input.getInt32(t.inPos),t.inPos+=4),this.maxLength=P}},__class__:ui});function ci(){this.name="",hi.call(this)}(i["format.swf.lite.symbols.FontSymbol"]=ci).__name__=["format","swf","lite","symbols","FontSymbol"],ci.renderGlyph=function(t,e,i,s,n){for(var a=0;a<e.length;){var r=e[a];switch(++a,r[1]){case 1:t.beginFill(16777215,1);break;case 3:var o=r[5],h=r[4],_=r[3],l=r[2];t.curveTo(l*i+s,_*i+n,h*i+s,o*i+n);break;case 5:t.endFill();break;case 6:var u=r[9],c=r[8],f=r[7],d=r[6],p=r[5],g=r[4],m=r[3],v=r[2];null!=v?t.lineStyle(v,m,g,p,d,f,c,u):t.lineStyle();break;case 9:var b=r[3],y=r[2];t.lineTo(y*i+s,b*i+n);break;case 10:var w=r[3],x=r[2];t.moveTo(x*i+s,w*i+n)}}},ci.__super__=hi,ci.prototype=s(hi.prototype,{getCLID:function(){return ci.__clid},serialize:function(t){hi.prototype.serialize.call(this,t);var e=this.advances;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=0;s<e.length;){var n=e[s];++s,null==n?t.out.b.push(0):(t.out.b.push(1),0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n)))}}t.out.b.push(this.bold?1:0);var a=this.codes;if(null==a)t.out.b.push(0);else{var r=a.length+1;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));for(var o=0;o<a.length;){var h=a[o];++o,0<=h&&h<128?t.out.b.push(h):(t.out.b.push(128),t.out.addInt32(h))}}var _=this.glyphs;if(null==_)t.out.b.push(0);else{var l=_.length+1;0<=l&&l<128?t.out.b.push(l):(t.out.b.push(128),t.out.addInt32(l));for(var u=0;u<_.length;){var c=_[u];++u,t.addKnownRef(c)}}if(t.out.b.push(this.italic?1:0),null==this.leading)t.out.b.push(0);else{t.out.b.push(1);var f=this.leading;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f))}var d=this.name;if(null==d)t.out.b.push(0);else{var p=tn.ofString(d),g=p.length+1;0<=g&&g<128?t.out.b.push(g):(t.out.b.push(128),t.out.addInt32(g));for(var m=t.out,v=(m.b,p.b),b=0,y=p.length;b<y;){var w=b++;m.b.push(v[w])}}},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("advances"),t.fieldsTypes.push(Xn.PArray(Xn.PNull(Xn.PInt))),t.fieldsNames.push("bold"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("codes"),t.fieldsTypes.push(Xn.PArray(Xn.PInt)),t.fieldsNames.push("glyphs"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.lite.symbols.ShapeSymbol"))),t.fieldsNames.push("italic"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("leading"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("name"),t.fieldsTypes.push(Xn.PString),t.isFinal=at.isClassFinal(ci.__clid),t},unserializeInit:function(){hi.prototype.unserializeInit.call(this),this.name=""},unserialize:function(t){var e;hi.prototype.unserialize.call(this,t);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n,a=i;if(0==a)s=null;else{for(var r=[],o=0,h=--a;o<h;){var _=o++;if(0==t.input.b[t.inPos++])e=null;else{var l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4),e=l}r[_]=e}s=r}this.advances=s,this.bold=0!=t.input.b[t.inPos++];var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4);var c,f,d=u;if(0==d)c=null;else{for(var p=[],g=0,m=--d;g<m;){var v=g++,b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),n=b,p[v]=n}c=p}this.codes=c;var y=t.input.b[t.inPos++];128==y&&(y=t.input.getInt32(t.inPos),t.inPos+=4);var w,x=y;if(0==x)w=null;else{for(var T=[],S=0,C=--x;S<C;){var E=S++;f=t.getRef(Pn,Pn.__clid),T[E]=f}w=T}if(this.glyphs=w,this.italic=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.leading=null;else{var I=t.input.b[t.inPos++];128==I&&(I=t.input.getInt32(t.inPos),t.inPos+=4),this.leading=I}var P=t.input.b[t.inPos++];128==P&&(P=t.input.getInt32(t.inPos),t.inPos+=4);var k,D=P;if(0==D)k=null;else{--D;var A=t.input.getString(t.inPos,D);t.inPos+=D,k=A}this.name=k},__class__:ci});var fi=function(){this.__cachePrecision=null,this.useBitmapCache=!1,hi.call(this)};(i["format.swf.lite.symbols.MorphShapeSymbol"]=fi).__name__=["format","swf","lite","symbols","MorphShapeSymbol"],fi.__super__=hi,fi.prototype=s(hi.prototype,{get_cachePrecision:function(){return null==this.__cachePrecision&&(this.__cachePrecision=fi.defaultCachePrecision),this.__cachePrecision},set_cachePrecision:function(t){return this.__cachePrecision=t},getShape:function(t){for(var e=0,i=new It,s=null,n=null,a=0,r=this.startEdges.records.length;a<r;){var o=a++,h=this.startEdges.records[o],_=this.endEdges.records[e++],l=null;if(4==h.get_type()&&3==_.get_type()?_=this.convertToCurvedEdge(Jn.__cast(_,Rt)):3==h.get_type()&&4==_.get_type()&&(h=this.convertToCurvedEdge(Jn.__cast(h,Rt))),2!=_.get_type()||2==h.get_type()){switch(h.get_type()){case 1:l=h.clone();break;case 2:var u=!1,c=(s=h).clone();if(2==_.get_type()){var f=_;f.stateMoveTo&&(u=!0,n=f)}else--e;var d=0,p=0;null!=n&&(d=n.moveDeltaX,p=n.moveDeltaY),(c.stateMoveTo||u&&n.stateMoveTo)&&(c.moveDeltaX+=(d-c.moveDeltaX)*t,c.moveDeltaY+=(p-c.moveDeltaY)*t,c.stateMoveTo=!0),l=c;break;case 3:var g=h.clone(),m=_;g.deltaX+=(m.deltaX-g.deltaX)*t,g.deltaY+=(m.deltaY-g.deltaY)*t,0!=g.deltaX&&0!=g.deltaY?(g.generalLineFlag=!0,g.vertLineFlag=!1):(g.generalLineFlag=!1,g.vertLineFlag=0==g.deltaX),l=g;break;case 4:var v=h.clone(),b=_;v.controlDeltaX+=(b.controlDeltaX-v.controlDeltaX)*t,v.controlDeltaY+=(b.controlDeltaY-v.controlDeltaY)*t,v.anchorDeltaX+=(b.anchorDeltaX-v.anchorDeltaX)*t,v.anchorDeltaY+=(b.anchorDeltaY-v.anchorDeltaY)*t,l=v}i.records.push(l)}else{var y=s.clone(),w=_,x=0,T=0;null!=w&&(x=w.moveDeltaX,T=w.moveDeltaY),y.stateMoveTo=!0,y.moveDeltaX+=(x-y.moveDeltaX)*t,y.moveDeltaY+=(T-y.moveDeltaY)*t,++e,i.records.push(y)}}for(var S=0,C=this.morphFillStyles.length;S<C;){var E=S++;i.fillStyles.push(this.morphFillStyles[E].getMorphedFillStyle(t))}for(var I=0,P=this.morphLineStyles.length;I<P;){var k=I++;i.lineStyles.push(this.morphLineStyles[k].getMorphedLineStyle(t))}return i},convertToCurvedEdge:function(t){var e=new kt;return e.controlDeltaX=t.deltaX/2,e.controlDeltaY=t.deltaY/2,e.anchorDeltaX=t.deltaX/2,e.anchorDeltaY=t.deltaY/2,e},set_useBitmapCache:function(t){return t&&null==this.cachedTable&&(this.cachedTable=[]),this.useBitmapCache=t},getCacheEntry:function(t,e){if(this.useBitmapCache)for(var i=di.getHash(t,e,this.get_cachePrecision()),s=0,n=this.cachedTable;s<n.length;){var a=n[s];if(++s,a.hash==i)return a}return null},addCacheEntry:function(t,e,i,s){if(this.useBitmapCache){var n=di.getHash(i,s,this.get_cachePrecision());this.cachedTable.push(new di(t,e,n))}},getCLID:function(){return fi.__clid},serialize:function(t){hi.prototype.serialize.call(this,t),t.addKnownRef(this.startEdges),t.addKnownRef(this.endEdges);var e=this.morphFillStyles;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=0;s<e.length;){var n=e[s];++s,t.addKnownRef(n)}}var a=this.morphLineStyles;if(null==a)t.out.b.push(0);else{var r=a.length+1;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));for(var o=0;o<a.length;){var h=a[o];++o,t.addKnownRef(h)}}},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("startEdges"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFShape")),t.fieldsNames.push("endEdges"),t.fieldsTypes.push(Xn.PSerializable("format.swf.data.SWFShape")),t.fieldsNames.push("morphFillStyles"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.data.SWFMorphFillStyle"))),t.fieldsNames.push("morphLineStyles"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.data.SWFMorphLineStyle"))),t.isFinal=at.isClassFinal(fi.__clid),t},unserializeInit:function(){hi.prototype.unserializeInit.call(this),this.set_useBitmapCache(!1),this.__cachePrecision=null},unserialize:function(t){var e;hi.prototype.unserialize.call(this,t),this.startEdges=t.getRef(It,It.__clid),this.endEdges=t.getRef(It,It.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n,a=i;if(0==a)s=null;else{for(var r=[],o=0,h=--a;o<h;){var _=o++;e=t.getRef(gt,gt.__clid),r[_]=e}s=r}this.morphFillStyles=s;var l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4);var u,c=l;if(0==c)u=null;else{for(var f=[],d=0,p=--c;d<p;){var g=d++;n=t.getRef(yt,yt.__clid),f[g]=n}u=f}this.morphLineStyles=u},__class__:fi,__properties__:s(hi.prototype.__properties__,{set_cachePrecision:"set_cachePrecision",get_cachePrecision:"get_cachePrecision",set_useBitmapCache:"set_useBitmapCache"})});var di=function(t,e,i){this.bitmapData=t,this.bounds=e.clone(),this.hash=i};(i["format.swf.lite.symbols.CacheEntry"]=di).__name__=["format","swf","lite","symbols","CacheEntry"],di.getHash=function(t,e,i){var s=di.__buffer;return s[0]=0|t.a*i,s[1]=0|t.b*i,s[2]=0|t.c*i,s[3]=0|t.d*i,s[4]=0|100*e,vn.make(tn.ofData(s.buffer))},di.prototype={__class__:di};var Pn=function(){this.renderScale=1,this.snapCoordinates=!1,this.forbidClearCacheOnResize=!1,this.useBitmapCache=!1,this.__translationCachePrecision=null,this.__cachePrecision=null,this.activeGraphicsTable=new wn,hi.call(this)};(i["format.swf.lite.symbols.ShapeSymbol"]=Pn).__name__=["format","swf","lite","symbols","ShapeSymbol"],Pn.lastStageWidth=null,Pn.lastStageHeight=null,Pn.processCommands=function(t,e){for(var i=0;i<e.length;){var s=e[i];switch(++i,s[1]){case 0:var n=s[5],a=s[4],r=s[3],o=s[2];t.beginBitmapFillWithId(o,r,a,n);break;case 1:var h=s[3],_=s[2];t.beginFill(_,h);break;case 2:var l=s[9],u=s[8],c=s[7],f=s[6],d=s[5],p=s[4],g=s[3],m=s[2];t.beginGradientFill(m,g,p,d,f,c,u,l);break;case 3:var v=s[5],b=s[4],y=s[3],w=s[2];t.curveTo(w,y,b,v);break;case 4:var x=s[4],T=s[3],S=s[2];t.drawImageWithId(S,T,x);break;case 5:t.endFill();break;case 6:var C=s[9],E=s[8],I=s[7],P=s[6],k=s[5],D=s[4],A=s[3],M=s[2];null!=M?t.lineStyle(M,A,D,k,P,I,E,C):t.lineStyle();break;case 7:var R=s[9],F=s[8],B=s[7],L=s[6],N=s[5],O=s[4],U=s[3],z=s[2];t.lineGradientStyle(z,U,O,N,L,B,F,R);break;case 8:var G=s[5],X=s[4],V=s[3],H=s[2];t.lineBitmapStyleWithId(H,V,X,G);break;case 9:var Y=s[3],W=s[2];t.lineTo(W,Y);break;case 10:var j=s[3],K=s[2];t.moveTo(K,j)}}},Pn.__clearCachedTables=function(t){var e=Dt.getProperty(t.currentTarget,"width"),i=Dt.getProperty(t.currentTarget,"height");if(Pn.lastStageWidth!=e||Pn.lastStageHeight!=i){for(var s=Pn.shapeSymbolsUsingBitmapCacheMap.iterator();s.hasNext();){var n=s.next();n.forbidClearCacheOnResize||n.__clearCachedTable()}Pn.lastStageWidth=e,Pn.lastStageHeight=i}},Pn.__super__=hi,Pn.prototype=s(hi.prototype,{set_useBitmapCache:function(t){if(t&&null==this.cachedTable){if(this.cachedTable=[],Pn.shapeSymbolsUsingBitmapCacheMap.h[this.id]=this,!Pn.eventIsListened){var e=lo.current.stage;Pn.lastStageWidth=e.get_width(),Pn.lastStageHeight=e.get_height(),e.addEventListener("resize",Pn.__clearCachedTables),Pn.eventIsListened=!0}}else t||Pn.shapeSymbolsUsingBitmapCacheMap.remove(this.id);return this.useBitmapCache=t},getCacheEntry:function(t){for(var e=pi.getHash(t,this.get_cachePrecision(),this.get_translationCachePrecision()),i=0,s=this.cachedTable;i<s.length;){var n=s[i];if(++i,n.hash==e)return n}return null},getCachedBitmapData:function(t){if(this.useBitmapCache){var e=this.getCacheEntry(t);if(null!=e)return e.bitmapData;if(this.forbidCachedBitmapUpdate&&0<this.cachedTable.length)return this.cachedTable[0].bitmapData}return null},setCachedBitmapData:function(t,e){this.useBitmapCache&&this.cachedTable.push(new pi(t,pi.getHash(e,this.get_cachePrecision(),this.get_translationCachePrecision())))},fillDrawCommandBuffer:function(t){this.graphics=new Sh,this.graphics.__symbol=this,Pn.processCommands(this.graphics,t),this.graphics.readOnly=!0},__clearCachedTable:function(){for(var t=this.activeGraphicsTable.keys();t.hasNext();){t.next().dispose(!1)}for(var e=0,i=this.cachedTable;e<i.length;){var s=i[e];++e,null!=s.bitmapData&&s.bitmapData.dispose()}0<this.cachedTable.length&&this.cachedTable.splice(0,this.cachedTable.length)},get_cachePrecision:function(){return null==this.__cachePrecision&&(this.__cachePrecision=Pn.defaultCachePrecision),this.__cachePrecision},set_cachePrecision:function(t){return this.__cachePrecision=t},get_translationCachePrecision:function(){return null==this.__translationCachePrecision&&(this.__translationCachePrecision=Pn.defaultTranslationCachePrecision),this.__translationCachePrecision},set_translationCachePrecision:function(t){return this.__translationCachePrecision=t},registerGraphics:function(t){this.activeGraphicsTable.set(t,!0)},unregisterGraphics:function(t){this.activeGraphicsTable.remove(t)},getCLID:function(){return Pn.__clid},serialize:function(t){hi.prototype.serialize.call(this,t),t.addKnownRef(this.bounds),t.addKnownRef(this.graphics)},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("bounds"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("graphics"),t.fieldsTypes.push(Xn.PSerializable("openfl.display.Graphics")),t.isFinal=at.isClassFinal(Pn.__clid),t},unserializeInit:function(){hi.prototype.unserializeInit.call(this),this.activeGraphicsTable=new wn,this.__cachePrecision=null,this.__translationCachePrecision=null,this.set_useBitmapCache(!1),this.forbidClearCacheOnResize=!1,this.snapCoordinates=!1,this.renderScale=1},unserialize:function(t){hi.prototype.unserialize.call(this,t),this.bounds=t.getRef(El,El.__clid),this.graphics=t.getRef(Sh,Sh.__clid)},__class__:Pn,__properties__:s(hi.prototype.__properties__,{set_translationCachePrecision:"set_translationCachePrecision",get_translationCachePrecision:"get_translationCachePrecision",set_cachePrecision:"set_cachePrecision",get_cachePrecision:"get_cachePrecision",set_useBitmapCache:"set_useBitmapCache"})});var pi=function(t,e){this.bitmapData=t,this.hash=e};(i["format.swf.lite.symbols._ShapeSymbol.CacheEntry"]=pi).__name__=["format","swf","lite","symbols","_ShapeSymbol","CacheEntry"],pi.getHash=function(t,e,i){var s=pi.__buffer;return s[0]=0|t.a*e,s[1]=0|t.b*e,s[2]=0|t.c*e,s[3]=0|t.d*e,s[4]=0|(t.tx-Math.floor(t.tx))*i,s[5]=0|(t.ty-Math.floor(t.ty))*i,vn.make(tn.ofData(s.buffer))},pi.prototype={__class__:pi};var gi=function(){hi.call(this)};(i["format.swf.lite.symbols.SimpleSpriteSymbol"]=gi).__name__=["format","swf","lite","symbols","SimpleSpriteSymbol"],gi.__super__=hi,gi.prototype=s(hi.prototype,{getCLID:function(){return gi.__clid},serialize:function(t){hi.prototype.serialize.call(this,t);var e=this.bitmapID;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),t.addKnownRef(this.matrix),t.addKnownRef(this.bounds),t.out.b.push(this.smooth?1:0)},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("bitmapID"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("matrix"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("bounds"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("smooth"),t.fieldsTypes.push(Xn.PBool),t.isFinal=at.isClassFinal(gi.__clid),t},unserialize:function(t){hi.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapID=e,this.matrix=t.getRef(ho,ho.__clid),this.bounds=t.getRef(El,El.__clid),this.smooth=0!=t.input.b[t.inPos++]},__class__:gi});var vi=function(){this.__uid=at.SEQ<<24|++at.UID};(i["format.swf.lite.symbols.SoundCommand"]=vi).__name__=["format","swf","lite","symbols","SoundCommand"],vi.__interfaces__=[nt],vi.prototype={getCLID:function(){return vi.__clid},serialize:function(t){var e=this.soundId;if(0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),t.out.b.push(this.stop?1:0),t.out.b.push(this.noMultiple?1:0),null==this.outPoint)t.out.b.push(0);else{t.out.b.push(1);var i=this.outPoint;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}if(null==this.inPoint)t.out.b.push(0);else{t.out.b.push(1);var s=this.inPoint;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))}var n=this.loopCount;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("soundId"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("stop"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("noMultiple"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("outPoint"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("inPoint"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("loopCount"),t.fieldsTypes.push(Xn.PInt),t.isFinal=at.isClassFinal(vi.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];if(128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.soundId=e,this.stop=0!=t.input.b[t.inPos++],this.noMultiple=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.outPoint=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.outPoint=i}if(0==t.input.b[t.inPos++])this.inPoint=null;else{var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.inPoint=s}var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.loopCount=n},__class__:vi};var bi=function(){hi.call(this),this.frames=[]};(i["format.swf.lite.symbols.SpriteSymbol"]=bi).__name__=["format","swf","lite","symbols","SpriteSymbol"],bi.__super__=hi,bi.prototype=s(hi.prototype,{findDependentSymbols:function(t,e,i,s,n){for(var a=0,r=this.frames;a<r.length;){var o=r[a];++a;for(var h=0,_=o.objects;h<_.length;){var l=_[h];if(++h,l.type==Si.CREATE||l.type==Si.UPDATE_CHARACTER){var u=t.symbols.h[l.symbol];Jn.__instanceof(u,bi)?Jn.__cast(u,bi).findDependentSymbols(t,e,i,s):null!=e&&Jn.__instanceof(u,Pn)?e.h[l.symbol]=u:null!=n&&Jn.__instanceof(u,fi)?n.h[l.symbol]=u:null!=i&&Jn.__instanceof(u,gi)?i.h[l.symbol]=u:null!=s&&Jn.__instanceof(u,ui)&&(s.h[l.symbol]=u)}}}},createNeededTextures:function(t,e){var i=new yn,s=new yn;this.findDependentSymbols(e,i,s);for(var n=i.iterator();n.hasNext();){n.next().graphics.createTextures(t)}for(var a=s.iterator();a.hasNext();){var r=a.next();ro.getBitmapDataFromSymbol(Jn.__cast(e.symbols.h[r.bitmapID],_i)).getTexture(t)}},getCLID:function(){return bi.__clid},serialize:function(t){hi.prototype.serialize.call(this,t);var e=this.frames;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=0;s<e.length;){var n=e[s];++s,t.addKnownRef(n)}}t.addKnownRef(this.scalingGridRect)},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("frames"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.lite.timeline.Frame"))),t.fieldsNames.push("scalingGridRect"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Rectangle")),t.isFinal=at.isClassFinal(bi.__clid),t},unserialize:function(t){var e;hi.prototype.unserialize.call(this,t);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n=i;if(0==n)s=null;else{for(var a=[],r=0,o=--n;r<o;){var h=r++;e=t.getRef(xi,xi.__clid),a[h]=e}s=a}this.frames=s,this.scalingGridRect=t.getRef(El,El.__clid)},__class__:bi});var yi=function(){hi.call(this)};(i["format.swf.lite.symbols.StaticTextSymbol"]=yi).__name__=["format","swf","lite","symbols","StaticTextSymbol"],yi.__super__=hi,yi.prototype=s(hi.prototype,{getCLID:function(){return yi.__clid},serialize:function(t){hi.prototype.serialize.call(this,t),t.addKnownRef(this.matrix),t.addKnownRef(this.bounds);var e=this.records;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=0;s<e.length;){var n=e[s];++s,t.addKnownRef(n)}}t.out.b.push(this.shapeIsScaled?1:0)},getSerializeSchema:function(){var t=hi.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("matrix"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("bounds"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("records"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.lite.symbols.StaticTextRecord"))),t.fieldsNames.push("shapeIsScaled"),t.fieldsTypes.push(Xn.PBool),t.isFinal=at.isClassFinal(yi.__clid),t},unserialize:function(t){var e;hi.prototype.unserialize.call(this,t),this.matrix=t.getRef(ho,ho.__clid),this.bounds=t.getRef(El,El.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n=i;if(0==n)s=null;else{for(var a=[],r=0,o=--n;r<o;){var h=r++;e=t.getRef(wi,wi.__clid),a[h]=e}s=a}this.records=s,this.shapeIsScaled=0!=t.input.b[t.inPos++]},__class__:yi});var wi=function(){this.__uid=at.SEQ<<24|++at.UID};(i["format.swf.lite.symbols.StaticTextRecord"]=wi).__name__=["format","swf","lite","symbols","StaticTextRecord"],wi.__interfaces__=[nt],wi.prototype={getCLID:function(){return wi.__clid},serialize:function(t){var e=this.advances;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=0;s<e.length;){var n=e[s];++s,0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))}}if(null==this.color)t.out.b.push(0);else{t.out.b.push(1);var a=this.color;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a))}var r=this.fontHeight;if(0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r)),null==this.fontID)t.out.b.push(0);else{t.out.b.push(1);var o=this.fontID;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o))}var h=this.glyphs;if(null==h)t.out.b.push(0);else{var _=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var l=0;l<h.length;){var u=h[l];++l,0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u))}}if(null==this.offsetX)t.out.b.push(0);else{t.out.b.push(1);var c=this.offsetX;0<=c&&c<128?t.out.b.push(c):(t.out.b.push(128),t.out.addInt32(c))}if(null==this.offsetY)t.out.b.push(0);else{t.out.b.push(1);var f=this.offsetY;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f))}},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("advances"),t.fieldsTypes.push(Xn.PArray(Xn.PInt)),t.fieldsNames.push("color"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("fontHeight"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("fontID"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("glyphs"),t.fieldsTypes.push(Xn.PArray(Xn.PInt)),t.fieldsNames.push("offsetX"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("offsetY"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.isFinal=at.isClassFinal(wi.__clid),t},unserializeInit:function(){},unserialize:function(t){var e,i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n=i;if(0==n)s=null;else{for(var a=[],r=0,o=--n;r<o;){var h=r++,_=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),e=_,a[h]=e}s=a}if(this.advances=s,0==t.input.b[t.inPos++])this.color=null;else{var l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4),this.color=l}var u,c=t.input.b[t.inPos++];if(128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4),this.fontHeight=c,0==t.input.b[t.inPos++])this.fontID=null;else{var f=t.input.b[t.inPos++];128==f&&(f=t.input.getInt32(t.inPos),t.inPos+=4),this.fontID=f}var d=t.input.b[t.inPos++];128==d&&(d=t.input.getInt32(t.inPos),t.inPos+=4);var p,g=d;if(0==g)p=null;else{for(var m=[],v=0,b=--g;v<b;){var y=v++,w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4),u=w,m[y]=u}p=m}if(this.glyphs=p,0==t.input.b[t.inPos++])this.offsetX=null;else{var x=t.input.b[t.inPos++];128==x&&(x=t.input.getInt32(t.inPos),t.inPos+=4),this.offsetX=x}if(0==t.input.b[t.inPos++])this.offsetY=null;else{var T=t.input.b[t.inPos++];128==T&&(T=t.input.getInt32(t.inPos),t.inPos+=4),this.offsetY=T}},__class__:wi};var xi=function(){this.__uid=at.SEQ<<24|++at.UID,this.objects=[]};(i["format.swf.lite.timeline.Frame"]=xi).__name__=["format","swf","lite","timeline","Frame"],xi.__interfaces__=[nt],xi.prototype={getCLID:function(){return xi.__clid},serialize:function(t){var e=this.label;if(null==e)t.out.b.push(0);else{var i=tn.ofString(e),s=i.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var n=t.out,a=(n.b,i.b),r=0,o=i.length;r<o;){var h=r++;n.b.push(a[h])}}var _=this.objects;if(null==_)t.out.b.push(0);else{var l=_.length+1;0<=l&&l<128?t.out.b.push(l):(t.out.b.push(128),t.out.addInt32(l));for(var u=0;u<_.length;){var c=_[u];++u,t.addKnownRef(c)}}t.addKnownRef(this.startSound)},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("label"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("objects"),t.fieldsTypes.push(Xn.PArray(Xn.PSerializable("format.swf.lite.timeline.FrameObject"))),t.fieldsNames.push("startSound"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SoundCommand")),t.isFinal=at.isClassFinal(xi.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,s,n=e;if(0==n)i=null;else{--n;var a=t.input.getString(t.inPos,n);t.inPos+=n,i=a}this.label=i;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var o,h=r;if(0==h)o=null;else{for(var _=[],l=0,u=--h;l<u;){var c=l++;s=t.getRef(Ti,Ti.__clid),_[c]=s}o=_}this.objects=o,this.startSound=t.getRef(vi,vi.__clid)},__class__:xi};var Ti=function(){this.__uid=at.SEQ<<24|++at.UID,this.cacheAsBitmap=!1};(i["format.swf.lite.timeline.FrameObject"]=Ti).__name__=["format","swf","lite","timeline","FrameObject"],Ti.__interfaces__=[nt],Ti.prototype={getCLID:function(){return Ti.__clid},serialize:function(t){if(t.out.b.push(this.cacheAsBitmap?1:0),null==this.clipDepth)t.out.b.push(0);else{t.out.b.push(1);var e=this.clipDepth;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))}if(t.addKnownRef(this.colorTransform),null==this.depth)t.out.b.push(0);else{t.out.b.push(1);var i=this.depth;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}var s=this.filters;if(null==s)t.out.b.push(0);else{var n=s.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var a=0;a<s.length;){var r=s[a];++a,Wn.doSerialize(t,r)}}var o=this.id;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o)),t.addKnownRef(this.matrix);var h=this.name;if(null==h)t.out.b.push(0);else{var _=tn.ofString(h),l=_.length+1;0<=l&&l<128?t.out.b.push(l):(t.out.b.push(128),t.out.addInt32(l));for(var u=t.out,c=(u.b,_.b),f=0,d=_.length;f<d;){var p=f++;u.b.push(c[p])}}if(null==this.symbol)t.out.b.push(0);else{t.out.b.push(1);var g=this.symbol;0<=g&&g<128?t.out.b.push(g):(t.out.b.push(128),t.out.addInt32(g))}if(jn.doSerialize(t,this.type),null==this.blendMode)t.out.b.push(0);else{t.out.b.push(1);var m=this.blendMode;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m))}null==this.ratio?t.out.b.push(0):(t.out.b.push(1),t.out.addInt32(Dn.floatToI32(this.ratio)))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("cacheAsBitmap"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("clipDepth"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("colorTransform"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.ColorTransform")),t.fieldsNames.push("depth"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("filters"),t.fieldsTypes.push(Xn.PArray(Xn.PEnum("format.swf.exporters.core.FilterType"))),t.fieldsNames.push("id"),t.fieldsTypes.push(Xn.PInt),t.fieldsNames.push("matrix"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("name"),t.fieldsTypes.push(Xn.PString),t.fieldsNames.push("symbol"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("type"),t.fieldsTypes.push(Xn.PEnum("format.swf.lite.timeline.FrameObjectType")),t.fieldsNames.push("blendMode"),t.fieldsTypes.push(Xn.PNull(Xn.PInt)),t.fieldsNames.push("ratio"),t.fieldsTypes.push(Xn.PNull(Xn.PFloat)),t.isFinal=at.isClassFinal(Ti.__clid),t},unserializeInit:function(){this.cacheAsBitmap=!1},unserialize:function(t){if(this.cacheAsBitmap=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.clipDepth=null;else{var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.clipDepth=e}if(this.colorTransform=t.getRef(oo,oo.__clid),0==t.input.b[t.inPos++])this.depth=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.depth=i}var s,n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4);var a,r=n;if(0==r)a=null;else{for(var o=[],h=0,_=--r;h<_;){var l=h++;s=Wn.doUnserialize(t),o[l]=s}a=o}this.filters=a;var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4),this.id=u,this.matrix=t.getRef(ho,ho.__clid);var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=t.input.getString(t.inPos,d);t.inPos+=d,f=p}if(this.name=f,0==t.input.b[t.inPos++])this.symbol=null;else{var g=t.input.b[t.inPos++];128==g&&(g=t.input.getInt32(t.inPos),t.inPos+=4),this.symbol=g}var m,v=jn.doUnserialize(t);if(this.type=v,0==t.input.b[t.inPos++])m=null;else{var b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),m=b}if(this.blendMode=m,0==t.input.b[t.inPos++])this.ratio=null;else{var y=t.input.getFloat(t.inPos);t.inPos+=4,this.ratio=y}},__class__:Ti};var Si=i["format.swf.lite.timeline.FrameObjectType"]={__ename__:!0,__constructs__:["CREATE","UPDATE","UPDATE_CHARACTER","DESTROY"]};Si.CREATE=["CREATE",0],Si.CREATE.toString=f,(Si.CREATE.__enum__=Si).UPDATE=["UPDATE",1],Si.UPDATE.toString=f,(Si.UPDATE.__enum__=Si).UPDATE_CHARACTER=["UPDATE_CHARACTER",2],Si.UPDATE_CHARACTER.toString=f,(Si.UPDATE_CHARACTER.__enum__=Si).DESTROY=["DESTROY",3],Si.DESTROY.toString=f,Si.DESTROY.__enum__=Si;function Ci(){}(i["format.swf.tags.ITag"]=Ci).__name__=["format","swf","tags","ITag"],Ci.prototype={__class__:Ci};var Ei=function(){};(i["format.swf.tags.IDefinitionTag"]=Ei).__name__=["format","swf","tags","IDefinitionTag"],Ei.__interfaces__=[Ci],Ei.prototype={__class__:Ei};var Ii=function(){};(i["format.swf.tags.IDisplayListTag"]=Ii).__name__=["format","swf","tags","IDisplayListTag"],Ii.__interfaces__=[Ci];function Pi(){}(i["format.swf.tags.Tag"]=Pi).__name__=["format","swf","tags","Tag"],Pi.toStringCommon=function(t,e,i){return null==i&&(i=0),ln.repeat(i)+"["+ln.printf("%02d",[t])+":"+e+"] "};var ki=function(){this.type=74,this.name="CSMTextSettings",this.version=8,this.level=1};(i["format.swf.tags.TagCSMTextSettings"]=ki).__name__=["format","swf","tags","TagCSMTextSettings"],ki.__interfaces__=[Ci],ki.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.textId=Y.readUI16(t),this.useFlashType=Y.readUB(t,2),this.gridFit=Y.readUB(t,3),Y.readUB(t,3),this.thickness=Y.readFIXED(t),this.sharpness=Y.readFIXED(t),Y.readUI8(t)},publish:function(t,e){Y.writeTagHeader(t,this.type,12),Y.writeUI16(t,this.textId),Y.writeUB(t,2,this.useFlashType),Y.writeUB(t,3,this.gridFit),Y.writeUB(t,3,0),Y.writeFIXED(t,this.thickness),Y.writeFIXED(t,this.sharpness),Y.writeUI8(t,0)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"TextID: "+this.textId+", UseFlashType: "+this.useFlashType+", GridFit: "+this.gridFit+", Thickness: "+this.thickness+", Sharpness: "+this.sharpness},__class__:ki};var Di=function(){this.type=63,this.name="DebugID",this.version=6,this.level=1;var t=new nn(0);this.uuid=t};(i["format.swf.tags.TagDebugID"]=Di).__name__=["format","swf","tags","TagDebugID"],Di.__interfaces__=[Ci],Di.prototype={parse:function(t,e,i,s){null==s&&(s=!1),0<e&&t.readBytes(this.uuid,0,e)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.uuid)),0<su.get_length(this.uuid)&&t.writeBytes(this.uuid)},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"UUID: ";return 16==su.get_length(this.uuid)?(e+=ln.printf("%02x%02x%02x%02x-",[this.uuid.b[0],this.uuid.b[1],this.uuid.b[2],this.uuid.b[3]]),e+=ln.printf("%02x%02x-",[this.uuid.b[4],this.uuid.b[5]]),e+=ln.printf("%02x%02x-",[this.uuid.b[6],this.uuid.b[7]]),e+=ln.printf("%02x%02x-",[this.uuid.b[8],this.uuid.b[9]]),e+=ln.printf("%02x%02x%02x%02x%02x%02x",[this.uuid.b[10],this.uuid.b[11],this.uuid.b[12],this.uuid.b[13],this.uuid.b[14],this.uuid.b[15]])):e+="(invalid length: "+su.get_length(this.uuid)+")",e},__class__:Di};var Ai=function(){this.type=87,this.name="DefineBinaryData",this.version=9,this.level=1;var t=new nn(0);this.binaryData=t};(i["format.swf.tags.TagDefineBinaryData"]=Ai).__name__=["format","swf","tags","TagDefineBinaryData"],Ai.__interfaces__=[Ei],Ai.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),Y.readUI32(t),6<e&&t.readBytes(this.binaryData,0,e-6)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeUI32(i,0),0<su.get_length(this.binaryData)&&i.writeBytes(this.binaryData),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Ai;return t.characterId=this.characterId,0<su.get_length(this.binaryData)&&t.binaryData.writeBytes(this.binaryData),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Length: "+su.get_length(this.binaryData)},__class__:Ai};var Mi=function(){this.bitmapType=1,this.type=6,this.name="DefineBits",this.version=1,this.level=1;var t=new nn(0);this.bitmapData=t};(i["format.swf.tags.TagDefineBits"]=Mi).__name__=["format","swf","tags","TagDefineBits"],Mi.__interfaces__=[Ei],Mi.parseJpegChunks=function(t){for(var e=0,i=su.get_length(t);e<i&&(255!=t.b[e]||e+1<i&&(0==t.b[e+1]||255==t.b[e+1]));)++e;for(;e<i;){e++;var s=t.b[e++];if(192<=s&&s<=199||201<=s&&s<=207||218<=s&&s<=239||254==s)e+=t.b[e]<<8+t.b[e+1];for(;e<i&&(255!=t.b[e]||e+1<i&&(0==t.b[e+1]||255==t.b[e+1]));)++e;216!=s&&217!=s&&pn.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:132,className:"format.swf.tags.TagDefineBits",methodName:"parseJpegChunks"})}return[]},Mi.hasErrorHeader=function(t){return 4<su.get_length(t)&&255==t.b[0]&&217==t.b[1]&&255==t.b[2]&&216==t.b[3]},Mi.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),2<e&&(t.readBytes(this.bitmapData,0,e-2),Mi.hasErrorHeader(this.bitmapData)&&pn.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:46,className:"format.swf.tags.TagDefineBits",methodName:"parse"}))},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.bitmapData)+2,!0),Y.writeUI16(t,this.characterId),0<su.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData)},clone:function(){var t=new Mi;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),t},exportBitmapData:function(t){this.onCompleteCallback=t,this.loader=new Xh,this.loader.contentLoaderInfo.addEventListener("complete",Gf(this,this.exportCompleteHandler)),this.loader.loadBytes(this.bitmapData)},exportCompleteHandler:function(t){var e=t.target.loader,i=new mh(Math.ceil(e.content.get_width()),Math.ceil(e.content.get_height()));i.draw(e),this.instance=i,this.onCompleteCallback(i)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", BitmapLength: "+su.get_length(this.bitmapData)},getOriginalImageData:function(t){var e=new nn(0),i=Mi.parseJpegChunks(this.bitmapData),s=!1;if(null!=t&&0!=su.get_length(t))for(var n=0;n<i.length;){var a=i[n];++n;var r=a.b[1];if(196==r||219==r){s=!0;break}}if(e.writeByte(255),e.writeByte(216),s||null==t||0==su.get_length(t))for(var o=0;o<i.length;){var h=i[o];++o,e.writeBytes(h)}else{Mi.hasErrorHeader(t)&&pn.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:166,className:"format.swf.tags.TagDefineBits",methodName:"getOriginalImageData"});for(var _=!1,l=Mi.parseJpegChunks(t),u=0;u<i.length;){var c=i[u];++u;var f=c.b[1];if(!_&&192<=f&&f<=207){for(var d=0;d<l.length;){var p=l[d];++d,e.writeBytes(p)}_=!0}e.writeBytes(c)}}return e.writeByte(255),e.writeByte(217),e},__class__:Mi};var Ri=function(){Mi.call(this),this.type=21,this.name="DefineBitsJPEG2",this.version=2,this.level=2};(i["format.swf.tags.TagDefineBitsJPEG2"]=Ri).__name__=["format","swf","tags","TagDefineBitsJPEG2"],Ri.__interfaces__=[Ei],Ri.__super__=Mi,Ri.prototype=s(Mi.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),Mi.prototype.parse.call(this,t,e,i),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1,1!=this.bitmapType&&(i=8)},clone:function(){var t=new Ri;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+qt.toString(this.bitmapType)+", BitmapLength: "+su.get_length(this.bitmapData)},__class__:Ri});var Fi=function(){Ri.call(this),this.type=35,this.name="DefineBitsJPEG3",this.version=3,this.level=3;var t=new nn(0);this.bitmapAlphaData=t};(i["format.swf.tags.TagDefineBitsJPEG3"]=Fi).__name__=["format","swf","tags","TagDefineBitsJPEG3"],Fi.__interfaces__=[Ei],Fi.__super__=Ri,Fi.prototype=s(Ri.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t);var n=Y.readUI32(t);t.readBytes(this.bitmapData,0,n),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1;var a=e-n-6;0<a&&t.readBytes(this.bitmapAlphaData,0,a),this.bitmapType},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.bitmapData)+su.get_length(this.bitmapAlphaData)+6,!0),Y.writeUI16(t,this.characterId),Y.writeUI32(t,su.get_length(this.bitmapData)),0<su.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData),0<su.get_length(this.bitmapAlphaData)&&t.writeBytes(this.bitmapAlphaData)},clone:function(){var t=new Fi;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),0<su.get_length(this.bitmapAlphaData)&&t.bitmapAlphaData.writeBytes(this.bitmapAlphaData),t},exportCompleteHandler:function(t){var e=t.target.loader,i=new mh(Math.ceil(e.content.get_width()),Math.ceil(e.content.get_height()),!0);i.draw(e);try{this.bitmapAlphaData.uncompress()}catch(t){cn.lastException=t}for(var s=function(t){return 255<t?255:t<0?0:0|t},n=this.bitmapAlphaData.position=0,a=i.physicalHeight;n<a;)for(var r=n++,o=0,h=i.physicalWidth;o<h;){var _=o++,l=this.bitmapAlphaData.readUnsignedByte(),u=255/l,c=i.getPixel(_,r),f=s((c>>16&255)*u),d=s((c>>8&255)*u),p=s((255&c)*u);i.setPixel32(_,r,(l<<24)+(f<<16)+(d<<8)+p)}this.instance=i,this.onCompleteCallback(i)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+qt.toString(this.bitmapType)+", HasAlphaData: "+O.string(0<su.get_length(this.bitmapAlphaData))+", "+(0<su.get_length(this.bitmapAlphaData)?"BitmapAlphaLength: "+su.get_length(this.bitmapAlphaData)+", ":"")+"BitmapLength: "+su.get_length(this.bitmapData)},__class__:Fi});var Bi=function(){Fi.call(this),this.type=90,this.name="DefineBitsJPEG4",this.version=10,this.level=4};(i["format.swf.tags.TagDefineBitsJPEG4"]=Bi).__name__=["format","swf","tags","TagDefineBitsJPEG4"],Bi.__interfaces__=[Ei],Bi.__super__=Fi,Bi.prototype=s(Fi.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t);var n=Y.readUI32(t);this.deblockParam=Y.readFIXED8(t),t.readBytes(this.bitmapData,0,n),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1;var a=e-n-6;0<a&&t.readBytes(this.bitmapAlphaData,0,a)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.bitmapData)+su.get_length(this.bitmapAlphaData)+6,!0),Y.writeUI16(t,this.characterId),Y.writeUI32(t,su.get_length(this.bitmapData)),Y.writeFIXED8(t,this.deblockParam),0<su.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData),0<su.get_length(this.bitmapAlphaData)&&t.writeBytes(this.bitmapAlphaData)},clone:function(){var t=new Bi;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,t.deblockParam=this.deblockParam,0<su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),0<su.get_length(this.bitmapAlphaData)&&t.bitmapAlphaData.writeBytes(this.bitmapAlphaData),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+qt.toString(this.bitmapType)+", DeblockParam: "+this.deblockParam+", HasAlphaData: "+O.string(0<su.get_length(this.bitmapAlphaData))+", "+(0<su.get_length(this.bitmapAlphaData)?"BitmapAlphaLength: "+su.get_length(this.bitmapAlphaData)+", ":"")+"BitmapLength: "+su.get_length(this.bitmapData)},__class__:Bi});var Li=function(){this.type=20,this.name="DefineBitsLossless",this.version=2,this.level=1;var t=new nn(0);this.zlibBitmapData=t};(i["format.swf.tags.TagDefineBitsLossless"]=Li).__name__=["format","swf","tags","TagDefineBitsLossless"],Li.__interfaces__=[Ei],Li.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.bitmapFormat=Y.readUI8(t),this.bitmapWidth=Y.readUI16(t),this.bitmapHeight=Y.readUI16(t),3==this.bitmapFormat&&(this.bitmapColorTableSize=Y.readUI8(t)+1),t.readBytes(this.zlibBitmapData,0,e-(3==this.bitmapFormat?8:7))},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeUI8(i,this.bitmapFormat),Y.writeUI16(i,this.bitmapWidth),Y.writeUI16(i,this.bitmapHeight),3==this.bitmapFormat&&Y.writeUI8(i,this.bitmapColorTableSize-1),0<su.get_length(this.zlibBitmapData)&&i.writeBytes(this.zlibBitmapData),Y.writeTagHeader(t,this.type,Y.get_length(i),!0),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Li;return t.characterId=this.characterId,t.bitmapFormat=this.bitmapFormat,t.bitmapWidth=this.bitmapWidth,t.bitmapHeight=this.bitmapHeight,0<su.get_length(this.zlibBitmapData)&&t.zlibBitmapData.writeBytes(this.zlibBitmapData),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Format: "+Kt.toString(this.bitmapFormat)+", Size: ("+this.bitmapWidth+","+this.bitmapHeight+")"},__class__:Li};var Ni=function(){Li.call(this),this.type=36,this.name="DefineBitsLossless2",this.version=3,this.level=2};(i["format.swf.tags.TagDefineBitsLossless2"]=Ni).__name__=["format","swf","tags","TagDefineBitsLossless2"],Ni.__super__=Li,Ni.prototype=s(Li.prototype,{clone:function(){var t=new Ni;return t.characterId=this.characterId,t.bitmapFormat=this.bitmapFormat,t.bitmapWidth=this.bitmapWidth,t.bitmapHeight=this.bitmapHeight,0<su.get_length(this.zlibBitmapData)&&t.zlibBitmapData.writeBytes(this.zlibBitmapData),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Format: "+Kt.toString(this.bitmapFormat)+", Size: ("+this.bitmapWidth+","+this.bitmapHeight+")"},__class__:Ni});var Oi=function(){this.type=7,this.name="DefineButton",this.version=1,this.level=1,this.characters=[],this.actions=[],this.frames=new Tn};(i["format.swf.tags.TagDefineButton"]=Oi).__name__=["format","swf","tags","TagDefineButton"],Oi.__interfaces__=[Ei],Oi.prototype={parse:function(t,e,i,s){var n,a;for(null==s&&(s=!1),this.characterId=Y.readUI16(t);null!=(n=Y.readBUTTONRECORD(t));)this.characters.push(n);for(;null!=(a=Y.readACTIONRECORD(t));)this.actions.push(a);this.processRecords()},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId);for(var s=0,n=this.characters.length;s<n;){var a=s++;Y.writeBUTTONRECORD(t,this.characters[a])}Y.writeUI8(t,0);for(var r=0,o=this.actions.length;r<o;){var h=r++;Y.writeACTIONRECORD(t,this.actions[h])}Y.writeUI8(t,0),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Oi;t.characterId=this.characterId;for(var e=0,i=this.characters.length;e<i;){var s=e++;t.characters.push(this.characters[s].clone())}for(var n=0,a=this.actions.length;n<a;){var r=n++;t.actions.push(this.actions[r].clone())}return t},getRecordsByState:function(t){var e=this.frames;return null!=Kf[t]?e.getReserved(t):e.h[t]},processRecords:function(){for(var t=[],e=[],i=[],s=[],n=0,a=this.characters.length;n<a;){var r=n++,o=this.characters[r];o.stateUp&&t.push(o),o.stateOver&&e.push(o),o.stateDown&&i.push(o),o.stateHitTest&&s.push(o)}t.sort(Gf(this,this.sortByDepthCompareFunction)),e.sort(Gf(this,this.sortByDepthCompareFunction)),i.sort(Gf(this,this.sortByDepthCompareFunction)),s.sort(Gf(this,this.sortByDepthCompareFunction));var h=this.frames;null!=Kf.up?h.setReserved("up",t):h.h.up=t;var _=this.frames;null!=Kf.over?_.setReserved("over",e):_.h.over=e;var l=this.frames;null!=Kf.down?l.setReserved("down",i):l.h.down=i;var u=this.frames;null!=Kf.hit?u.setReserved("hit",s):u.h.hit=s},sortByDepthCompareFunction:function(t,e){return t.placeDepth<e.placeDepth?-1:t.placeDepth>e.placeDepth?1:0},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(0<this.characters.length){e+="\n"+ln.repeat(t+2)+"Characters:";for(var i=0,s=this.characters.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.characters[n].toString(t+4)}}if(0<this.actions.length){e+="\n"+ln.repeat(t+2)+"Actions:";for(var a=0,r=this.actions.length;a<r;){var o=a++;e+="\n"+ln.repeat(t+4)+"["+o+"] "+this.actions[o].toString(t+4)}}return e},__class__:Oi};var Ui=function(){this.type=34,this.name="DefineButton2",this.version=3,this.level=2,this.characters=[],this.condActions=[],this.frames=new Tn};(i["format.swf.tags.TagDefineButton2"]=Ui).__name__=["format","swf","tags","TagDefineButton2"],Ui.__interfaces__=[Ei],Ui.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.trackAsMenu=0!=(1&Y.readUI8(t));for(var n,a=Y.readUI16(t);null!=(n=Y.readBUTTONRECORD(t,2));)this.characters.push(n);if(0!=a)for(var r;r=Y.readUI16(t),this.condActions.push(Y.readBUTTONCONDACTION(t)),0!=r;);this.processRecords()},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeUI8(i,this.trackAsMenu?1:0);for(var s=0<this.condActions.length,n=Y._new(),a=0,r=this.characters.length;a<r;){var o=a++;Y.writeBUTTONRECORD(n,this.characters[o],2)}if(Y.writeUI8(n,0),Y.writeUI16(i,s?Y.get_length(n)+2:0),i.writeBytes(su.fromBytes(n)),s)for(var h=0,_=this.condActions.length;h<_;){var l=h++,u=Y._new();Y.writeBUTTONCONDACTION(u,this.condActions[l]),Y.writeUI16(i,l<this.condActions.length-1?Y.get_length(u)+2:0),i.writeBytes(su.fromBytes(u))}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Ui;t.characterId=this.characterId,t.trackAsMenu=this.trackAsMenu;for(var e=0,i=this.characters.length;e<i;){var s=e++;t.characters.push(this.characters[s].clone())}for(var n=0,a=this.condActions.length;n<a;){var r=n++;t.condActions.push(this.condActions[r].clone())}return t},getRecordsByState:function(t){var e=this.frames;return null!=Kf[t]?e.getReserved(t):e.h[t]},processRecords:function(){for(var t=[],e=[],i=[],s=[],n=0,a=this.characters.length;n<a;){var r=n++,o=this.characters[r];o.stateUp&&t.push(o),o.stateOver&&e.push(o),o.stateDown&&i.push(o),o.stateHitTest&&s.push(o)}t.sort(Gf(this,this.sortByDepthCompareFunction)),e.sort(Gf(this,this.sortByDepthCompareFunction)),i.sort(Gf(this,this.sortByDepthCompareFunction)),s.sort(Gf(this,this.sortByDepthCompareFunction));var h=this.frames;null!=Kf.up?h.setReserved("up",t):h.h.up=t;var _=this.frames;null!=Kf.over?_.setReserved("over",e):_.h.over=e;var l=this.frames;null!=Kf.down?l.setReserved("down",i):l.h.down=i;var u=this.frames;null!=Kf.hit?u.setReserved("hit",s):u.h.hit=s},sortByDepthCompareFunction:function(t,e){return t.placeDepth<e.placeDepth?-1:t.placeDepth>e.placeDepth?1:0},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", TrackAsMenu: "+O.string(this.trackAsMenu);if(0<this.characters.length){e+="\n"+ln.repeat(t+2)+"Characters:";for(var i=0,s=this.characters.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.characters[n].toString(t+4)}}if(0<this.condActions.length){e+="\n"+ln.repeat(t+2)+"CondActions:";for(var a=0,r=this.condActions.length;a<r;){var o=a++;e+="\n"+ln.repeat(t+4)+"["+o+"] "+this.condActions[o].toString(t+4)}}return e},__class__:Ui};var zi=function(){this.type=23,this.name="DefineButtonCxform",this.version=2,this.level=1};(i["format.swf.tags.TagDefineButtonCxform"]=zi).__name__=["format","swf","tags","TagDefineButtonCxform"],zi.__interfaces__=[Ei],zi.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.buttonColorTransform=Y.readCXFORM(t)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeCXFORM(i,this.buttonColorTransform),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new zi;return t.characterId=this.characterId,t.buttonColorTransform=this.buttonColorTransform.clone(),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", ColorTransform: "+O.string(this.buttonColorTransform)},__class__:zi};var Gi=function(){this.type=17,this.name="DefineButtonSound",this.version=2,this.level=1};(i["format.swf.tags.TagDefineButtonSound"]=Gi).__name__=["format","swf","tags","TagDefineButtonSound"],Gi.__interfaces__=[Ei],Gi.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.buttonSoundChar0=Y.readUI16(t),0!=this.buttonSoundChar0&&(this.buttonSoundInfo0=Y.readSOUNDINFO(t)),this.buttonSoundChar1=Y.readUI16(t),0!=this.buttonSoundChar1&&(this.buttonSoundInfo1=Y.readSOUNDINFO(t)),this.buttonSoundChar2=Y.readUI16(t),0!=this.buttonSoundChar2&&(this.buttonSoundInfo2=Y.readSOUNDINFO(t)),this.buttonSoundChar3=Y.readUI16(t),0!=this.buttonSoundChar3&&(this.buttonSoundInfo3=Y.readSOUNDINFO(t))},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeUI16(i,this.buttonSoundChar0),0!=this.buttonSoundChar0&&Y.writeSOUNDINFO(i,this.buttonSoundInfo0),Y.writeUI16(i,this.buttonSoundChar1),0!=this.buttonSoundChar1&&Y.writeSOUNDINFO(i,this.buttonSoundInfo1),Y.writeUI16(i,this.buttonSoundChar2),0!=this.buttonSoundChar2&&Y.writeSOUNDINFO(i,this.buttonSoundInfo2),Y.writeUI16(i,this.buttonSoundChar3),0!=this.buttonSoundChar3&&Y.writeSOUNDINFO(i,this.buttonSoundInfo3),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Gi;return t.characterId=this.characterId,t.buttonSoundChar0=this.buttonSoundChar0,t.buttonSoundChar1=this.buttonSoundChar1,t.buttonSoundChar2=this.buttonSoundChar2,t.buttonSoundChar3=this.buttonSoundChar3,t.buttonSoundInfo0=this.buttonSoundInfo0.clone(),t.buttonSoundInfo1=this.buttonSoundInfo1.clone(),t.buttonSoundInfo2=this.buttonSoundInfo2.clone(),t.buttonSoundInfo3=this.buttonSoundInfo3.clone(),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ButtonID: "+this.characterId+", ButtonSoundChars: "+this.buttonSoundChar0+","+this.buttonSoundChar1+","+this.buttonSoundChar2+","+this.buttonSoundChar3},__class__:Gi};var Xi=function(){this.type=37,this.name="DefineEditText",this.version=4,this.level=1};(i["format.swf.tags.TagDefineEditText"]=Xi).__name__=["format","swf","tags","TagDefineEditText"],Xi.__interfaces__=[Ei],Xi.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.bounds=Y.readRECT(t);var n=Y.readUI8(t);this.hasText=0!=(128&n),this.wordWrap=0!=(64&n),this.multiline=0!=(32&n),this.password=0!=(16&n),this.readOnly=0!=(8&n),this.hasTextColor=0!=(4&n),this.hasMaxLength=0!=(2&n),this.hasFont=0!=(1&n);var a=Y.readUI8(t);this.hasFontClass=0!=(128&a),this.autoSize=0!=(64&a),this.hasLayout=0!=(32&a),this.noSelect=0!=(16&a),this.border=0!=(8&a),this.wasStatic=0!=(4&a),this.html=0!=(2&a),this.useOutlines=0!=(1&a),this.hasFont&&(this.fontId=Y.readUI16(t)),this.hasFontClass&&(this.fontClass=Y.readSTRING(t)),this.hasFont&&(this.fontHeight=Y.readUI16(t)),this.hasTextColor&&(this.textColor=Y.readRGBA(t)),this.hasMaxLength&&(this.maxLength=Y.readUI16(t)),this.hasLayout&&(this.align=Y.readUI8(t),this.leftMargin=Y.readUI16(t),this.rightMargin=Y.readUI16(t),this.indent=Y.readUI16(t),this.leading=Y.readSI16(t)),this.variableName=Y.readSTRING(t),this.hasText&&(this.initialText=Y.readSTRING(t))},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeRECT(i,this.bounds);var s=0;this.hasText&&(s|=128),this.wordWrap&&(s|=64),this.multiline&&(s|=32),this.password&&(s|=16),this.readOnly&&(s|=8),this.hasTextColor&&(s|=4),this.hasMaxLength&&(s|=2),this.hasFont&&(s|=1),Y.writeUI8(i,s);var n=0;this.hasFontClass&&(n|=128),this.autoSize&&(n|=64),this.hasLayout&&(n|=32),this.noSelect&&(n|=16),this.border&&(n|=8),this.wasStatic&&(n|=4),this.html&&(n|=2),this.useOutlines&&(n|=1),Y.writeUI8(i,n),this.hasFont&&Y.writeUI16(i,this.fontId),this.hasFontClass&&Y.writeSTRING(i,this.fontClass),this.hasFont&&Y.writeUI16(i,this.fontHeight),this.hasTextColor&&Y.writeRGBA(i,this.textColor),this.hasMaxLength&&Y.writeUI16(i,this.maxLength),this.hasLayout&&(Y.writeUI8(i,this.align),Y.writeUI16(i,this.leftMargin),Y.writeUI16(i,this.rightMargin),Y.writeUI16(i,this.indent),Y.writeSI16(i,this.leading)),Y.writeSTRING(i,this.variableName),this.hasText&&Y.writeSTRING(i,this.initialText),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Xi;return t.characterId=this.characterId,t.bounds=this.bounds.clone(),t.variableName=this.variableName,t.hasText=this.hasText,t.wordWrap=this.wordWrap,t.multiline=this.multiline,t.password=this.password,t.readOnly=this.readOnly,t.hasTextColor=this.hasTextColor,t.hasMaxLength=this.hasMaxLength,t.hasFont=this.hasFont,t.hasFontClass=this.hasFontClass,t.autoSize=this.autoSize,t.hasLayout=this.hasLayout,t.noSelect=this.noSelect,t.border=this.border,t.wasStatic=this.wasStatic,t.html=this.html,t.useOutlines=this.useOutlines,t.fontId=this.fontId,t.fontClass=this.fontClass,t.fontHeight=this.fontHeight,t.textColor=this.textColor,t.maxLength=this.maxLength,t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.initialText=this.initialText,t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", "+(this.hasText&&0<this.initialText.length?"Text: "+this.initialText+", ":"")+(0<this.variableName.length?"VariableName: "+this.variableName+", ":"")+"Bounds: "+O.string(this.bounds)},__class__:Xi};var Vi=function(){this.type=10,this.name="DefineFont",this.version=1,this.level=1,this.glyphShapeTable=[]};(i["format.swf.tags.TagDefineFont"]=Vi).__name__=["format","swf","tags","TagDefineFont"],Vi.__interfaces__=[Ei],Vi.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t);var n=Y.readUI16(t)>>1;Y.skipBytes(t,n-1<<1);for(var a=0,r=n;a<r;){a++;this.glyphShapeTable.push(Y.readSHAPE(t,Vi.unitDivisor))}},publish:function(t,e){var i=Y._new(),s=this.glyphShapeTable.length,n=Y._new();Y.writeUI16(i,this.characterId);for(var a=s<<1,r=0,o=s;r<o;){var h=r++;Y.writeUI16(i,n.position+a),Y.writeSHAPE(n,this.glyphShapeTable[h])}i.writeBytes(su.fromBytes(n)),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){throw new qn(new C_("Not implemented yet."))},export:function(t,e){this.glyphShapeTable[e].export(t)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},toStringCommon:function(t){for(var e="",i=0,s=this.glyphShapeTable.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+n+"] GlyphShapes:",e+=this.glyphShapeTable[n].toString(t+4)}return e},__class__:Vi};var Hi=function(){Vi.call(this),this.type=48,this.name="DefineFont2",this.version=3,this.level=2,this.codeTable=[],this.fontAdvanceTable=[],this.fontBoundsTable=[],this.fontKerningTable=[]};(i["format.swf.tags.TagDefineFont2"]=Hi).__name__=["format","swf","tags","TagDefineFont2"],Hi.__interfaces__=[Ei],Hi.__super__=Vi,Hi.prototype=s(Vi.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t);var n=Y.readUI8(t);this.hasLayout=0!=(128&n),this.shiftJIS=0!=(64&n),this.smallText=0!=(32&n),this.ansi=0!=(16&n),this.wideOffsets=0!=(8&n),this.wideCodes=0!=(4&n),this.italic=0!=(2&n),this.bold=0!=(1&n),this.languageCode=Y.readLANGCODE(t);var a=Y.readUI8(t),r=new nn(0);t.readBytes(r,0,a),this.fontName=r.readUTFBytes(a);var o=Y.readUI16(t);if(0<o){Y.skipBytes(t,o<<(this.wideOffsets?2:1)),this.wideOffsets?Y.readUI32(t):Y.readUI16(t);for(var h=0,_=o;h<_;){h++;this.glyphShapeTable.push(Y.readSHAPE(t))}for(var l=0,u=o;l<u;){l++;this.codeTable.push(this.wideCodes?Y.readUI16(t):Y.readUI8(t))}}if(this.hasLayout){this.ascent=Y.readUI16(t),this.descent=Y.readUI16(t),this.leading=Y.readSI16(t);for(var c=0,f=o;c<f;){c++;this.fontAdvanceTable.push(Y.readSI16(t))}for(var d=0,p=o;d<p;){d++;this.fontBoundsTable.push(Y.readRECT(t))}for(var g=0,m=Y.readUI16(t);g<m;){g++;this.fontKerningTable.push(Y.readKERNINGRECORD(t,this.wideCodes))}}},publish:function(t,e){var i=Y._new(),s=this.glyphShapeTable.length;Y.writeUI16(i,this.characterId);var n=0;this.hasLayout&&(n|=128),this.shiftJIS&&(n|=64),this.smallText&&(n|=32),this.ansi&&(n|=16),this.wideOffsets&&(n|=8),this.wideCodes&&(n|=4),this.italic&&(n|=2),this.bold&&(n|=1),Y.writeUI8(i,n),Y.writeLANGCODE(i,this.languageCode);var a=new nn(0);if(a.writeUTFBytes(this.fontName),Y.writeUI8(i,su.get_length(a)),i.writeBytes(a),Y.writeUI16(i,s),0<s){for(var r=s<<(this.wideOffsets?2:1),o=this.wideOffsets?4:2,h=(this.wideOffsets,r+o),_=Y._new(),l=0,u=s;l<u;){var c=l++;this.wideOffsets?Y.writeUI32(i,h+_.position):Y.writeUI16(i,h+_.position),Y.writeSHAPE(_,this.glyphShapeTable[c])}this.wideOffsets?Y.writeUI32(i,h+Y.get_length(_)):Y.writeUI16(i,h+Y.get_length(_)),i.writeBytes(su.fromBytes(_));for(var f=0,d=s;f<d;){var p=f++;this.wideCodes?Y.writeUI16(i,this.codeTable[p]):Y.writeUI8(i,this.codeTable[p])}}if(this.hasLayout){Y.writeUI16(i,this.ascent),Y.writeUI16(i,this.descent),Y.writeSI16(i,this.leading);for(var g=0,m=s;g<m;){var v=g++;Y.writeSI16(i,this.fontAdvanceTable[v])}for(var b=0,y=s;b<y;){var w=b++;Y.writeRECT(i,this.fontBoundsTable[w])}var x=this.fontKerningTable.length;Y.writeUI16(i,x);for(var T=0,S=x;T<S;){var C=T++;Y.writeKERNINGRECORD(i,this.fontKerningTable[C],this.wideCodes)}}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", Italic: "+O.string(this.italic)+", Bold: "+O.string(this.bold)+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},toStringCommon:function(t){var e=Vi.prototype.toStringCommon.call(this,t);if(this.hasLayout&&(e+="\n"+ln.repeat(t+2)+"Ascent: "+this.ascent,e+="\n"+ln.repeat(t+2)+"Descent: "+this.descent,e+="\n"+ln.repeat(t+2)+"Leading: "+this.leading),0<this.codeTable.length){e+="\n"+ln.repeat(t+2)+"CodeTable:";for(var i=0,s=this.codeTable.length;i<s;){var n=i++;e+=0==(15&n)?"\n"+ln.repeat(t+4)+O.string(this.codeTable[n]):", "+O.string(this.codeTable[n])}}if(0<this.fontAdvanceTable.length){e+="\n"+ln.repeat(t+2)+"FontAdvanceTable:";for(var a=0,r=this.fontAdvanceTable.length;a<r;){var o=a++;e+=0==(7&o)?"\n"+ln.repeat(t+4)+O.string(this.fontAdvanceTable[o]):", "+O.string(this.fontAdvanceTable[o])}}if(0<this.fontBoundsTable.length){for(var h=!1,_=0,l=this.fontBoundsTable.length;_<l;){var u=_++,c=this.fontBoundsTable[u];if(0!=c.xmin||0!=c.xmax||0!=c.ymin||0!=c.ymax){h=!0;break}}if(h){e+="\n"+ln.repeat(t+2)+"FontBoundsTable:";for(var f=0,d=this.fontBoundsTable.length;f<d;){var p=f++;e+="\n"+ln.repeat(t+4)+"["+p+"] "+this.fontBoundsTable[p].toString()}}}if(0<this.fontKerningTable.length){e+="\n"+ln.repeat(t+2)+"KerningTable:";for(var g=0,m=this.fontKerningTable.length;g<m;){var v=g++;e+="\n"+ln.repeat(t+4)+"["+v+"] "+this.fontKerningTable[v].toString()}}return e},__class__:Hi});var Yi=function(){Hi.call(this),this.type=75,this.name="DefineFont3",this.version=8,this.level=2};(i["format.swf.tags.TagDefineFont3"]=Yi).__name__=["format","swf","tags","TagDefineFont3"],Yi.__interfaces__=[Ei],Yi.__super__=Hi,Yi.prototype=s(Hi.prototype,{toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", Italic: "+O.string(this.italic)+", Bold: "+O.string(this.bold)+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},__class__:Yi});var Wi=function(){this.type=91,this.name="DefineFont4",this.version=10,this.level=1;var t=new nn(0);this.fontData=t};(i["format.swf.tags.TagDefineFont4"]=Wi).__name__=["format","swf","tags","TagDefineFont4"],Wi.__interfaces__=[Ei],Wi.prototype={parse:function(t,e,i,s){null==s&&(s=!1);var n=t.position;this.characterId=Y.readUI16(t);var a=Y.readUI8(t);this.hasFontData=0!=(4&a),this.italic=0!=(2&a),this.bold=0!=(1&a),this.fontName=Y.readSTRING(t),this.hasFontData&&e>(0|t.position)-n&&t.readBytes(this.fontData,0,e-(t.position-n))},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId);var s=0;this.hasFontData&&(s|=4),this.italic&&(s|=2),this.bold&&(s|=1),Y.writeUI8(i,s),Y.writeSTRING(i,this.fontName),this.hasFontData&&0<su.get_length(this.fontData)&&i.writeBytes(this.fontData),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Wi;return t.characterId=this.characterId,t.hasFontData=this.hasFontData,t.italic=this.italic,t.bold=this.bold,t.fontName=this.fontName,0<su.get_length(this.fontData)&&t.fontData.writeBytes(this.fontData),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", HasFontData: "+O.string(this.hasFontData)+", Italic: "+O.string(this.italic)+", Bold: "+O.string(this.bold)},__class__:Wi};var ji=function(){this.type=73,this.name="DefineFontAlignZones",this.version=8,this.level=1,this.zoneTable=[]};(i["format.swf.tags.TagDefineFontAlignZones"]=ji).__name__=["format","swf","tags","TagDefineFontAlignZones"],ji.__interfaces__=[Ci],ji.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.fontId=Y.readUI16(t),this.csmTableHint=Y.readUI8(t)>>6;for(var n=t.position+e-3;(0|t.position)<n;)this.zoneTable.push(Y.readZONERECORD(t))},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.fontId),Y.writeUI8(i,this.csmTableHint<<6);for(var s=0,n=this.zoneTable.length;s<n;){var a=s++;Y.writeZONERECORD(i,this.zoneTable[a])}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=Pi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", CSMTableHint: "+he.toString(this.csmTableHint)+", Records: "+this.zoneTable.length,i=0,s=this.zoneTable.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+n+"] "+this.zoneTable[n].toString(t+2)}return e},__class__:ji};var Ki=function(){this.langCodeLength=0,this.langCode=0,this.type=13,this.name="DefineFontInfo",this.version=1,this.level=1,this.codeTable=[]};(i["format.swf.tags.TagDefineFontInfo"]=Ki).__name__=["format","swf","tags","TagDefineFontInfo"],Ki.__interfaces__=[Ci],Ki.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.fontId=Y.readUI16(t);var n=Y.readUI8(t),a=new nn(0);t.readBytes(a,0,n),this.fontName=a.readUTFBytes(n);var r=Y.readUI8(t);this.smallText=0!=(32&r),this.shiftJIS=0!=(16&r),this.ansi=0!=(8&r),this.italic=0!=(4&r),this.bold=0!=(2&r),this.wideCodes=0!=(1&r),this.parseLangCode(t);var o=e-n-this.langCodeLength-4;this.wideCodes&&(o>>=1);for(var h=0,_=o;h<_;){h++;this.codeTable.push(this.wideCodes?Y.readUI16(t):Y.readUI8(t))}},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.fontId);var s=new nn(0);s.writeUTFBytes(this.fontName),Y.writeUI8(i,su.get_length(s)),i.writeBytes(s);var n=0;this.smallText&&(n|=32),this.shiftJIS&&(n|=16),this.ansi&&(n|=8),this.italic&&(n|=4),this.bold&&(n|=2),this.wideCodes&&(n|=1),Y.writeUI8(i,n),this.publishLangCode(i);for(var a=0,r=this.codeTable.length;a<r;){var o=a++;this.wideCodes?Y.writeUI16(i,this.codeTable[o]):Y.writeUI8(i,this.codeTable[o])}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},parseLangCode:function(t){},publishLangCode:function(t){},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", FontName: "+this.fontName+", Italic: "+O.string(this.italic)+", Bold: "+O.string(this.bold)+", Codes: "+this.codeTable.length},__class__:Ki};var qi=function(){Ki.call(this),this.type=62,this.name="DefineFontInfo2",this.version=6,this.level=2};(i["format.swf.tags.TagDefineFontInfo2"]=qi).__name__=["format","swf","tags","TagDefineFontInfo2"],qi.__interfaces__=[Ci],qi.__super__=Ki,qi.prototype=s(Ki.prototype,{parseLangCode:function(t){this.langCode=Y.readUI8(t),this.langCodeLength=1},publishLangCode:function(t){Y.writeUI8(t,this.langCode)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", FontName: "+this.fontName+", Italic: "+O.string(this.italic)+", Bold: "+O.string(this.bold)+", LanguageCode: "+this.langCode+", Codes: "+this.codeTable.length},__class__:qi});var Ji=function(){this.type=88,this.name="DefineFontName",this.version=9,this.level=1};(i["format.swf.tags.TagDefineFontName"]=Ji).__name__=["format","swf","tags","TagDefineFontName"],Ji.__interfaces__=[Ci],Ji.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.fontId=Y.readUI16(t),this.fontName=Y.readSTRING(t),this.fontCopyright=Y.readSTRING(t)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.fontId),Y.writeSTRING(i,this.fontName),Y.writeSTRING(i,this.fontCopyright),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", Name: "+this.fontName+", Copyright: "+this.fontCopyright},__class__:Ji};var Zi=function(){this.type=46,this.name="DefineMorphShape",this.version=3,this.level=1,this.morphFillStyles=[],this.morphLineStyles=[],this.exportShape=new It};(i["format.swf.tags.TagDefineMorphShape"]=Zi).__name__=["format","swf","tags","TagDefineMorphShape"],Zi.__interfaces__=[Ei],Zi.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.startBounds=Y.readRECT(t),this.endBounds=Y.readRECT(t),Y.readUI32(t);var n=Y.readUI8(t);255==n&&(n=Y.readUI16(t));for(var a=0,r=n;a<r;){a++;this.morphFillStyles.push(Y.readMORPHFILLSTYLE(t))}var o=Y.readUI8(t);255==o&&(o=Y.readUI16(t));for(var h=0,_=o;h<_;){h++;this.morphLineStyles.push(Y.readMORPHLINESTYLE(t))}this.startEdges=Y.readSHAPE(t),this.endEdges=Y.readSHAPE(t)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeRECT(i,this.startBounds),Y.writeRECT(i,this.endBounds);var s=Y._new(),n=this.morphFillStyles.length;254<n?(Y.writeUI8(s,255),Y.writeUI16(s,n)):Y.writeUI8(s,n);for(var a=0,r=n;a<r;){var o=a++;Y.writeMORPHFILLSTYLE(s,this.morphFillStyles[o])}var h=this.morphLineStyles.length;254<h?(Y.writeUI8(s,255),Y.writeUI16(s,h)):Y.writeUI8(s,h);for(var _=0,l=h;_<l;){var u=_++;Y.writeMORPHLINESTYLE(s,this.morphLineStyles[u])}Y.writeSHAPE(s,this.startEdges),Y.writeUI32(i,Y.get_length(s)),i.writeBytes(su.fromBytes(s)),Y.writeSHAPE(i,this.endEdges),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){throw new qn(new C_("Not implemented yet."))},export:function(t){null==t&&(t=0);throw new qn(":TODO: floating point interpolated records")},convertToCurvedEdge:function(t){var e=new kt;return e.controlDeltaX=t.deltaX/2|0,e.controlDeltaY=t.deltaY/2|0,e.anchorDeltaX=t.deltaX/2|0,e.anchorDeltaY=t.deltaY/2|0,e},toString:function(t){null==t&&(t=0);var e=ln.repeat(t+2),i=ln.repeat(t+4),s=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(s+="\n"+e+"Bounds:",s+="\n"+i+"StartBounds: "+this.startBounds.toString(),s+="\n"+i+"EndBounds: "+this.endBounds.toString(),0<this.morphFillStyles.length){s+="\n"+e+"FillStyles:";for(var n=0,a=this.morphFillStyles.length;n<a;){var r=n++;s+="\n"+i+"["+(1+r)+"] "+this.morphFillStyles[r].toString()}}if(0<this.morphLineStyles.length){s+="\n"+e+"LineStyles:";for(var o=0,h=this.morphLineStyles.length;o<h;){var _=o++;s+="\n"+i+"["+(1+_)+"] "+this.morphLineStyles[_].toString()}}return s+=this.startEdges.toString(t+2),s+=this.endEdges.toString(t+2)},__class__:Zi};var Qi=function(){Zi.call(this),this.type=84,this.name="DefineMorphShape2",this.version=8,this.level=2};(i["format.swf.tags.TagDefineMorphShape2"]=Qi).__name__=["format","swf","tags","TagDefineMorphShape2"],Qi.__interfaces__=[Ci],Qi.__super__=Zi,Qi.prototype=s(Zi.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.startBounds=Y.readRECT(t),this.endBounds=Y.readRECT(t),this.startEdgeBounds=Y.readRECT(t),this.endEdgeBounds=Y.readRECT(t);var n=Y.readUI8(t);this.usesNonScalingStrokes=0!=(2&n),this.usesScalingStrokes=0!=(1&n),Y.readUI32(t);var a=Y.readUI8(t);255==a&&(a=Y.readUI16(t));for(var r=0,o=a;r<o;){r++;this.morphFillStyles.push(Y.readMORPHFILLSTYLE(t))}var h=Y.readUI8(t);255==h&&(h=Y.readUI16(t));for(var _=0,l=h;_<l;){_++;this.morphLineStyles.push(Y.readMORPHLINESTYLE2(t))}this.startEdges=Y.readSHAPE(t),this.endEdges=Y.readSHAPE(t)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeRECT(i,this.startBounds),Y.writeRECT(i,this.endBounds),Y.writeRECT(i,this.startEdgeBounds),Y.writeRECT(i,this.endEdgeBounds);var s=0;this.usesNonScalingStrokes&&(s|=2),this.usesScalingStrokes&&(s|=1),Y.writeUI8(i,s);var n=Y._new(),a=this.morphFillStyles.length;254<a?(Y.writeUI8(n,255),Y.writeUI16(n,a)):Y.writeUI8(n,a);for(var r=0,o=a;r<o;){var h=r++;Y.writeMORPHFILLSTYLE(n,this.morphFillStyles[h])}var _=this.morphLineStyles.length;254<_?(Y.writeUI8(n,255),Y.writeUI16(n,_)):Y.writeUI8(n,_);for(var l=0,u=_;l<u;){var c=l++;Y.writeMORPHLINESTYLE2(n,Jn.__cast(this.morphLineStyles[c],wt))}Y.writeSHAPE(n,this.startEdges),Y.writeUI32(i,Y.get_length(n)),i.writeBytes(su.fromBytes(n)),Y.writeSHAPE(i,this.endEdges),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=ln.repeat(t+2),i=ln.repeat(t+4),s=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(s+="\n"+e+"Bounds:",s+="\n"+i+"StartBounds: "+this.startBounds.toString(),s+="\n"+i+"EndBounds: "+this.endBounds.toString(),s+="\n"+i+"StartEdgeBounds: "+this.startEdgeBounds.toString(),s+="\n"+i+"EndEdgeBounds: "+this.endEdgeBounds.toString(),0<this.morphFillStyles.length){s+="\n"+e+"FillStyles:";for(var n=0,a=this.morphFillStyles.length;n<a;){var r=n++;s+="\n"+i+"["+(1+r)+"] "+this.morphFillStyles[r].toString()}}if(0<this.morphLineStyles.length){s+="\n"+e+"LineStyles:";for(var o=0,h=this.morphLineStyles.length;o<h;){var _=o++;s+="\n"+i+"["+(1+_)+"] "+this.morphLineStyles[_].toString()}}return s+=this.startEdges.toString(t+2),s+=this.endEdges.toString(t+2)},__class__:Qi});var $i=function(){this.type=78,this.name="DefineScalingGrid",this.version=8,this.level=1};(i["format.swf.tags.TagDefineScalingGrid"]=$i).__name__=["format","swf","tags","TagDefineScalingGrid"],$i.__interfaces__=[Ci],$i.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.splitter=Y.readRECT(t)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeRECT(i,this.splitter),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new $i;return t.characterId=this.characterId,t.splitter=this.splitter.clone(),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"CharacterID: "+this.characterId+", Splitter: "+O.string(this.splitter)},__class__:$i};var ts=function(){this.type=86,this.name="DefineSceneAndFrameLabelData",this.version=9,this.level=1,this.scenes=[],this.frameLabels=[]};(i["format.swf.tags.TagDefineSceneAndFrameLabelData"]=ts).__name__=["format","swf","tags","TagDefineSceneAndFrameLabelData"],ts.__interfaces__=[Ci],ts.prototype={parse:function(t,e,i,s){null==s&&(s=!1);for(var n=0,a=Y.readEncodedU32(t);n<a;){n++;var r=Y.readEncodedU32(t),o=Y.readSTRING(t);this.scenes.push(new Et(r,o))}for(var h=0,_=Y.readEncodedU32(t);h<_;){h++;var l=Y.readEncodedU32(t),u=Y.readSTRING(t);this.frameLabels.push(new _t(l,u))}},publish:function(t,e){var i=Y._new();Y.writeEncodedU32(i,this.scenes.length);for(var s=0,n=this.scenes.length;s<n;){var a=s++,r=this.scenes[a];Y.writeEncodedU32(i,r.offset),Y.writeSTRING(i,r.name)}Y.writeEncodedU32(i,this.frameLabels.length);for(var o=0,h=this.frameLabels.length;o<h;){var _=o++,l=this.frameLabels[_];Y.writeEncodedU32(i,l.frameNumber),Y.writeSTRING(i,l.name)}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t);if(0<this.scenes.length){e+="\n"+ln.repeat(t+2)+"Scenes:";for(var i=0,s=this.scenes.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.scenes[n].toString()}}if(0<this.frameLabels.length){e+="\n"+ln.repeat(t+2)+"FrameLabels:";for(var a=0,r=this.frameLabels.length;a<r;){var o=a++;e+="\n"+ln.repeat(t+4)+"["+o+"] "+this.frameLabels[o].toString()}}return e},__class__:ts};var es=function(){this.type=2,this.name="DefineShape",this.version=1,this.level=1};(i["format.swf.tags.TagDefineShape"]=es).__name__=["format","swf","tags","TagDefineShape"],es.__interfaces__=[Ei],es.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.shapeBounds=Y.readRECT(t),this.shapes=Y.readSHAPEWITHSTYLE(t,this.level)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeRECT(i,this.shapeBounds),Y.writeSHAPEWITHSTYLE(i,this.shapes,this.level),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){throw new qn(new C_("Not implemented yet."))},export:function(t){this.shapes.export(t)},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+O.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:es};var is=function(){es.call(this),this.type=22,this.name="DefineShape2",this.version=2,this.level=2};(i["format.swf.tags.TagDefineShape2"]=is).__name__=["format","swf","tags","TagDefineShape2"],is.__interfaces__=[Ei],is.__super__=es,is.prototype=s(es.prototype,{toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+O.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:is});var ss=function(){is.call(this),this.type=32,this.name="DefineShape3",this.version=3,this.level=3};(i["format.swf.tags.TagDefineShape3"]=ss).__name__=["format","swf","tags","TagDefineShape3"],ss.__interfaces__=[Ei],ss.__super__=is,ss.prototype=s(is.prototype,{toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+O.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:ss});var ns=function(){ss.call(this),this.type=83,this.name="DefineShape4",this.version=8,this.level=4};(i["format.swf.tags.TagDefineShape4"]=ns).__name__=["format","swf","tags","TagDefineShape4"],ns.__interfaces__=[Ei],ns.__super__=ss,ns.prototype=s(ss.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.shapeBounds=Y.readRECT(t),this.edgeBounds=Y.readRECT(t);var n=Y.readUI8(t);this.usesFillWindingRule=0!=(4&n),this.usesNonScalingStrokes=0!=(2&n),this.usesScalingStrokes=0!=(1&n),this.shapes=Y.readSHAPEWITHSTYLE(t,this.level)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeRECT(i,this.shapeBounds),Y.writeRECT(i,this.edgeBounds);var s=0;this.usesFillWindingRule&&(s|=4),this.usesNonScalingStrokes&&(s|=2),this.usesScalingStrokes&&(s|=1),Y.writeUI8(i,s),Y.writeSHAPEWITHSTYLE(i,this.shapes,this.level),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", ";return this.usesFillWindingRule&&(e+="UsesFillWindingRule, "),this.usesNonScalingStrokes&&(e+="UsesNonScalingStrokes, "),this.usesScalingStrokes&&(e+="UsesScalingStrokes, "),e+="ShapeBounds: "+O.string(this.shapeBounds)+", EdgeBounds: "+O.string(this.edgeBounds),e+=this.shapes.toString(t+2)},__class__:ns});var as=function(){this.type=14,this.name="DefineSound",this.version=1,this.level=1;var t=new nn(0);this.soundData=t};(i["format.swf.tags.TagDefineSound"]=as).__name__=["format","swf","tags","TagDefineSound"],as.__interfaces__=[Ei],as.create=function(t,e,i,s,n,a,r){null==a&&(a=0),null==n&&(n=1),null==s&&(s=1),null==i&&(i=3),null==e&&(e=2);var o=new as;return o.characterId=t,o.soundFormat=e,o.soundRate=i,o.soundSize=s,o.soundType=n,o.soundSampleCount=a,null!=r&&0<su.get_length(r)&&o.soundData.writeBytes(r),o},as.createWithMP3=function(t,e){if(null!=e&&0<su.get_length(e)){var i=new as;return i.characterId=t,i.processMP3(e),i}throw new qn(new C_("No MP3 data."))},as.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.soundFormat=Y.readUB(t,4),this.soundRate=Y.readUB(t,2),this.soundSize=Y.readUB(t,1),this.soundType=Y.readUB(t,1),this.soundSampleCount=Y.readUI32(t),t.readBytes(this.soundData,0,e-7)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeUB(i,4,this.soundFormat),Y.writeUB(i,2,this.soundRate),Y.writeUB(i,1,this.soundSize),Y.writeUB(i,1,this.soundType),Y.writeUI32(i,this.soundSampleCount),0<su.get_length(this.soundData)&&i.writeBytes(this.soundData),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new as;return t.characterId=this.characterId,t.soundFormat=this.soundFormat,t.soundRate=this.soundRate,t.soundSize=this.soundSize,t.soundType=this.soundType,t.soundSampleCount=this.soundSampleCount,0<su.get_length(this.soundData)&&t.soundData.writeBytes(this.soundData),t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"SoundID: "+this.characterId+", Format: "+fe.toString(this.soundFormat)+", Rate: "+de.toString(this.soundRate)+", Size: "+pe.toString(this.soundSize)+", Type: "+ge.toString(this.soundType)+", Samples: "+this.soundSampleCount},processMP3:function(t){for(var e=0,i=0,s=su.get_length(t),n=0,a=!0,r=0,o=0,h=new Se,_="id3v2";e<(0|su.get_length(t));)switch(_){case"frame":h.setHeaderByteAt(0,t.b[e++]),h.setHeaderByteAt(1,t.b[e++]),h.setHeaderByteAt(2,t.b[e++]),h.setHeaderByteAt(3,t.b[e++]),h.hasCRC&&(h.setCRCByteAt(0,t.b[e++]),h.setCRCByteAt(1,t.b[e++])),a&&(a=!1,r=h.samplingrate,o=h.channelMode),n+=h.samples,e+=h.get_size(),_="sync";break;case"id3v2":73==t.b[e]&&68==t.b[e+1]&&51==t.b[e+2]&&(e+=10+(t.b[e+6]<<21|t.b[e+7]<<14|t.b[e+8]<<7|t.b[e+9])),i=e,_="sync";break;case"sync":255==t.b[e]&&224==(224&t.b[e+1])?_="frame":84==t.b[e]&&65==t.b[e+1]&&71==t.b[e+2]?(s=e,e=su.get_length(t)):++e}switch(this.soundSampleCount=n,this.soundFormat=2,this.soundSize=1,this.soundType=3==o?0:1,r){case 11025:this.soundRate=1;break;case 22050:this.soundRate=2;break;case 44100:this.soundRate=3;break;default:throw new qn(new C_("Unsupported sampling rate: "+r+" Hz"))}var l=new nn(0);this.soundData=l,this.soundData.writeShort(0),this.soundData.writeBytes(t,i,s-i)},__class__:as};var rs=function(){q.call(this),this.type=39,this.name="DefineSprite",this.version=3,this.level=1};(i["format.swf.tags.TagDefineSprite"]=rs).__name__=["format","swf","tags","TagDefineSprite"],rs.__interfaces__=[Ei],rs.__super__=q,rs.prototype=s(q.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.frameCount=Y.readUI16(t),this.parseTags(t,i)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeUI16(i,this.frameCount),this.publishTags(i,e),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){throw new qn(new C_("Not implemented yet."))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FrameCount: "+this.frameCount+q.prototype.toString.call(this,t)},__class__:rs});var os=function(){this.type=11,this.name="DefineText",this.version=1,this.level=1,this.records=[]};(i["format.swf.tags.TagDefineText"]=os).__name__=["format","swf","tags","TagDefineText"],os.__interfaces__=[Ei],os.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.textBounds=Y.readRECT(t),this.textMatrix=Y.readMATRIX(t);for(var n=Y.readUI8(t),a=Y.readUI8(t),r=null;null!=(r=Y.readTEXTRECORD(t,n,a,r,this.level));)this.records.push(r)},publish:function(t,e){var i,s=Y._new();Y.writeUI16(s,this.characterId),Y.writeRECT(s,this.textBounds),Y.writeMATRIX(s,this.textMatrix);for(var n=[],a=[],r=this.records.length,o=0,h=r;o<h;)for(var _=o++,l=0,u=(i=this.records[_]).glyphEntries.length;l<u;){var c=l++,f=i.glyphEntries[c];n.push(f.index),a.push(f.advance)}var d=s.calculateMaxBits(!1,n),p=s.calculateMaxBits(!0,a);Y.writeUI8(s,d),Y.writeUI8(s,p),i=null;for(var g=0,m=r;g<m;){var v=g++;Y.writeTEXTRECORD(s,this.records[v],d,p,i,this.level),i=this.records[v]}Y.writeUI8(s,0),Y.writeTagHeader(t,this.type,Y.get_length(s)),t.writeBytes(su.fromBytes(s))},clone:function(){var t=new os;t.characterId=this.characterId,t.textBounds=this.textBounds.clone(),t.textMatrix=this.textMatrix.clone();for(var e=0,i=this.records.length;e<i;){var s=e++;t.records.push(this.records[s].clone())}return t},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+O.string(this.textBounds)+", Matrix: "+O.string(this.textMatrix);if(0<this.records.length){e+="\n"+ln.repeat(t+2)+"TextRecords:";for(var i=0,s=this.records.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.records[n].toString(t+4)}}return e},__class__:os};var hs=function(){os.call(this),this.type=33,this.name="DefineText2",this.version=3,this.level=2};(i["format.swf.tags.TagDefineText2"]=hs).__name__=["format","swf","tags","TagDefineText2"],hs.__interfaces__=[Ei],hs.__super__=os,hs.prototype=s(os.prototype,{toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+O.string(this.textBounds)+", Matrix: "+O.string(this.textMatrix);if(0<this.records.length){e+="\n"+ln.repeat(t+2)+"TextRecords:";for(var i=0,s=this.records.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.records[n].toString()}}return e},__class__:hs});var _s=function(){this.type=60,this.name="DefineVideoStream",this.version=6,this.level=1};(i["format.swf.tags.TagDefineVideoStream"]=_s).__name__=["format","swf","tags","TagDefineVideoStream"],_s.__interfaces__=[Ei],_s.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.numFrames=Y.readUI16(t),this.width=Y.readUI16(t),this.height=Y.readUI16(t),Y.readUB(t,4),this.deblocking=Y.readUB(t,3),this.smoothing=1==Y.readUB(t,1),this.codecId=Y.readUI8(t)},publish:function(t,e){Y.writeTagHeader(t,this.type,10),Y.writeUI16(t,this.characterId),Y.writeUI16(t,this.numFrames),Y.writeUI16(t,this.width),Y.writeUI16(t,this.height),Y.writeUB(t,4,0),Y.writeUB(t,3,this.deblocking),Y.writeUB(t,1,this.smoothing?1:0),Y.writeUI8(t,this.codecId)},clone:function(){var t=new _s;return t.characterId=this.characterId,t.numFrames=this.numFrames,t.width=this.width,t.height=this.height,t.deblocking=this.deblocking,t.smoothing=this.smoothing,t.codecId=this.codecId,t},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Frames: "+this.numFrames+", Width: "+this.width+", Height: "+this.height+", Deblocking: "+ve.toString(this.deblocking)+", Smoothing: "+O.string(this.smoothing)+", Codec: "+me.toString(this.codecId)},__class__:_s};var ls=function(){this.abcName="",this.type=82,this.name="DoABC",this.version=9,this.level=1;var t=new nn(0);this.bytes=t};(i["format.swf.tags.TagDoABC"]=ls).__name__=["format","swf","tags","TagDoABC"],ls.__interfaces__=[Ci],ls.create=function(t,e,i){null==i&&(i=!0),null==e&&(e="");var s=new ls;return null!=t&&0<su.get_length(t)&&s.bytes.writeBytes(t),s.abcName=e,s.lazyInitializeFlag=i,s},ls.prototype={parse:function(t,e,i,s){null==s&&(s=!1);var n=t.position,a=Y.readUI32(t);this.lazyInitializeFlag=0!=(1&a),this.abcName=Y.readSTRING(t),t.readBytes(this.bytes,0,e-(t.position-n))},publish:function(t,e){var i=Y._new();Y.writeUI32(i,this.lazyInitializeFlag?1:0),Y.writeSTRING(i,this.abcName),0<su.get_length(this.bytes)&&i.writeBytes(this.bytes),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Lazy: "+O.string(this.lazyInitializeFlag)+", "+(0<this.abcName.length?"Name: "+this.abcName+", ":"")+"Length: "+su.get_length(this.bytes)},__class__:ls};var us=function(){this.type=72,this.name="DoABCDeprecated",this.version=9,this.level=1;var t=new nn(0);this.bytes=t};(i["format.swf.tags.TagDoABCDeprecated"]=us).__name__=["format","swf","tags","TagDoABCDeprecated"],us.__interfaces__=[Ci],us.create=function(t){var e=new us;return null!=t&&0<su.get_length(t)&&e.bytes.writeBytes(t),e},us.prototype={parse:function(t,e,i,s){null==s&&(s=!1);var n=t.position;t.readBytes(this.bytes,0,e-(t.position-n))},publish:function(t,e){var i=Y._new();0<su.get_length(this.bytes)&&i.writeBytes(this.bytes),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Length: "+su.get_length(this.bytes)},__class__:us};var cs=function(){this.type=12,this.name="DoAction",this.version=3,this.level=1,this.actions=[]};(i["format.swf.tags.TagDoAction"]=cs).__name__=["format","swf","tags","TagDoAction"],cs.__interfaces__=[Ci],cs.prototype={parse:function(t,e,i,s){var n;for(null==s&&(s=!1);null!=(n=Y.readACTIONRECORD(t));)this.actions.push(n)},publish:function(t,e){for(var i=Y._new(),s=0,n=this.actions.length;s<n;){var a=s++;Y.writeACTIONRECORD(i,this.actions[a])}Y.writeUI8(i,0),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=Pi.toStringCommon(this.type,this.name,t),i=0,s=this.actions.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+n+"] "+this.actions[n].toString(t+2)}return e},__class__:cs};var fs=function(){cs.call(this),this.type=59,this.name="DoInitAction",this.version=6,this.level=1};(i["format.swf.tags.TagDoInitAction"]=fs).__name__=["format","swf","tags","TagDoInitAction"],fs.__interfaces__=[Ci],fs.__super__=cs,fs.prototype=s(cs.prototype,{parse:function(t,e,i,s){var n;for(null==s&&(s=!1),this.spriteId=Y.readUI16(t);null!=(n=Y.readACTIONRECORD(t));)this.actions.push(n)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.spriteId);for(var s=0,n=this.actions.length;s<n;){var a=s++;Y.writeACTIONRECORD(i,this.actions[a])}Y.writeUI8(i,0),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=Pi.toStringCommon(this.type,this.name,t)+"SpriteID: "+this.spriteId+", ",i=0,s=this.actions.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+2)+"["+n+"] "+this.actions[n].toString(t+2)}return e},__class__:fs});var ds=function(){this.type=58,this.name="EnableDebugger",this.version=5,this.level=1;var t=new nn(0);this.password=t};(i["format.swf.tags.TagEnableDebugger"]=ds).__name__=["format","swf","tags","TagEnableDebugger"],ds.__interfaces__=[Ci],ds.prototype={parse:function(t,e,i,s){null==s&&(s=!1),0<e&&t.readBytes(this.password,0,e)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.password)),0<su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)},__class__:ds};var ps=function(){ds.call(this),this.reserved=0,this.type=64,this.name="EnableDebugger2",this.version=6,this.level=2};(i["format.swf.tags.TagEnableDebugger2"]=ps).__name__=["format","swf","tags","TagEnableDebugger2"],ps.__interfaces__=[Ci],ps.__super__=ds,ps.prototype=s(ds.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.reserved=Y.readUI16(t),2<e&&t.readBytes(this.password,0,e-2)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.password)+2),Y.writeUI16(t,this.reserved),0<su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Password: "+(0<su.get_length(this.password)?"null":this.password.readUTF())+", Reserved: 0x"+In.hex(this.reserved)},__class__:ps});var gs=function(){this.level=1,this.version=19,this.name="EnableTelemetry",this.type=93;var t=new nn(0);this.password=t};(i["format.swf.tags.TagEnableTelemetry"]=gs).__name__=["format","swf","tags","TagEnableTelemetry"],gs.__interfaces__=[Ci],gs.prototype={parse:function(t,e,i,s){null==s&&(s=!1),2<e&&(t.readByte(),t.readByte(),t.readBytes(this.password,0,e-2))},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.password)+2),t.writeByte(0),t.writeByte(0),0<su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)},__class__:gs};var ms=function(){this.type=0,this.name="End",this.version=1,this.level=1};(i["format.swf.tags.TagEnd"]=ms).__name__=["format","swf","tags","TagEnd"],ms.__interfaces__=[Ci],ms.prototype={parse:function(t,e,i,s){null==s&&(s=!1)},publish:function(t,e){Y.writeTagHeader(t,this.type,0)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)},__class__:ms};var vs=function(){this.type=56,this.name="ExportAssets",this.version=5,this.level=1,this.symbols=[]};(i["format.swf.tags.TagExportAssets"]=vs).__name__=["format","swf","tags","TagExportAssets"],vs.__interfaces__=[Ci],vs.prototype={parse:function(t,e,i,s){null==s&&(s=!1);for(var n=0,a=Y.readUI16(t);n<a;){n++;this.symbols.push(Y.readSYMBOL(t))}},publish:function(t,e){var i=Y._new(),s=this.symbols.length;Y.writeUI16(i,s);for(var n=0,a=s;n<a;){var r=n++;Y.writeSYMBOL(i,this.symbols[r])}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+ln.repeat(t+2)+"Assets:";for(var i=0,s=this.symbols.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.symbols[n].toString()}}return e},__class__:vs};var bs=function(){this.useNetwork=!1,this.actionscript3=!0,this.hasMetadata=!1,this.useGPU=!1,this.useDirectBlit=!1,this.type=69,this.name="FileAttributes",this.version=8,this.level=1};(i["format.swf.tags.TagFileAttributes"]=bs).__name__=["format","swf","tags","TagFileAttributes"],bs.__interfaces__=[Ci],bs.prototype={parse:function(t,e,i,s){null==s&&(s=!1);var n=Y.readUI8(t);this.useDirectBlit=0!=(64&n),this.useGPU=0!=(32&n),this.hasMetadata=0!=(16&n),this.actionscript3=0!=(8&n),this.useNetwork=0!=(1&n),Y.skipBytes(t,3)},publish:function(t,e){Y.writeTagHeader(t,this.type,4);var i=0;this.useNetwork&&(i|=1),this.actionscript3&&(i|=8),this.hasMetadata&&(i|=16),this.useGPU&&(i|=32),this.useDirectBlit&&(i|=64),Y.writeUI8(t,i),Y.writeUI8(t,0),Y.writeUI8(t,0),Y.writeUI8(t,0)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"AS3: "+O.string(this.actionscript3)+", HasMetadata: "+O.string(this.hasMetadata)+", UseDirectBlit: "+O.string(this.useDirectBlit)+", UseGPU: "+O.string(this.useGPU)+", UseNetwork: "+O.string(this.useNetwork)},__class__:bs};var ys=function(){this.type=43,this.name="FrameLabel",this.version=3,this.level=1};(i["format.swf.tags.TagFrameLabel"]=ys).__name__=["format","swf","tags","TagFrameLabel"],ys.__interfaces__=[Ci],ys.prototype={parse:function(t,e,i,s){null==s&&(s=!1);var n=t.position;this.frameName=Y.readSTRING(t),(0|t.position)-n<e&&(Y.readUI8(t),this.namedAnchorFlag=!0)},publish:function(t,e){var i=Y._new();Y.writeSTRING(i,this.frameName),this.namedAnchorFlag&&Y.writeUI8(t,1),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e="Name: "+this.frameName;return this.namedAnchorFlag&&(e+=", NamedAnchor = true"),Pi.toStringCommon(this.type,this.name,t)+e},__class__:ys};var ws=function(){this.type=57,this.name="ImportAssets",this.version=5,this.level=1,this.symbols=[]};(i["format.swf.tags.TagImportAssets"]=ws).__name__=["format","swf","tags","TagImportAssets"],ws.__interfaces__=[Ci],ws.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.url=Y.readSTRING(t);for(var n=0,a=Y.readUI16(t);n<a;){n++;this.symbols.push(Y.readSYMBOL(t))}},publish:function(t,e){var i=Y._new();Y.writeSTRING(i,this.url);var s=this.symbols.length;Y.writeUI16(i,s);for(var n=0,a=s;n<a;){var r=n++;Y.writeSYMBOL(i,this.symbols[r])}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+ln.repeat(t+2)+"Assets:";for(var i=0,s=this.symbols.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.symbols[n].toString()}}return e},__class__:ws};var xs=function(){ws.call(this),this.type=71,this.name="ImportAssets2",this.version=8,this.level=2};(i["format.swf.tags.TagImportAssets2"]=xs).__name__=["format","swf","tags","TagImportAssets2"],xs.__interfaces__=[Ci],xs.__super__=ws,xs.prototype=s(ws.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.url=Y.readSTRING(t),Y.readUI8(t),Y.readUI8(t);for(var n=0,a=Y.readUI16(t);n<a;){n++;this.symbols.push(Y.readSYMBOL(t))}},publish:function(t,e){var i=Y._new();Y.writeSTRING(i,this.url),Y.writeUI8(i,1),Y.writeUI8(i,0);var s=this.symbols.length;Y.writeUI16(i,s);for(var n=0,a=s;n<a;){var r=n++;Y.writeSYMBOL(i,this.symbols[r])}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},__class__:xs});var Ts=function(){this.type=8,this.name="JPEGTables",this.version=1,this.level=1;var t=new nn(0);this.jpegTables=t};(i["format.swf.tags.TagJPEGTables"]=Ts).__name__=["format","swf","tags","TagJPEGTables"],Ts.__interfaces__=[Ci],Ts.prototype={parse:function(t,e,i,s){null==s&&(s=!1),0<e&&t.readBytes(this.jpegTables,0,e)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.jpegTables)),0<su.get_length(this.jpegTables)&&t.writeBytes(this.jpegTables)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Length: "+su.get_length(this.jpegTables)},__class__:Ts};var Ss=function(){this.type=77,this.name="Metadata",this.version=1,this.level=1};(i["format.swf.tags.TagMetadata"]=Ss).__name__=["format","swf","tags","TagMetadata"],Ss.__interfaces__=[Ci],Ss.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.xmlString=Y.readSTRING(t)},publish:function(t,e){var i=Y._new();Y.writeSTRING(i,this.xmlString),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e,i=Pi.toStringCommon(this.type,this.name,t);try{e=G.parse(this.xmlString),i+=" "+On.print(e)}catch(t){if((cn.lastException=t)instanceof qn&&(t=t.val),!Jn.__instanceof(t,C_))throw t;i+=" "+this.xmlString}return i},__class__:Ss};var Cs=function(){this.level=1,this.version=3,this.name="NameCharacter",this.type=40;var t=new nn(0);this.binaryData=t};(i["format.swf.tags.TagNameCharacter"]=Cs).__name__=["format","swf","tags","TagNameCharacter"],Cs.__interfaces__=[Ci],Cs.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),2<e&&t.readBytes(this.binaryData,0,e-2)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),0<su.get_length(this.binaryData)&&i.writeBytes(this.binaryData),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},clone:function(){var t=new Cs;return t.characterId=this.characterId,0<su.get_length(this.binaryData)&&t.binaryData.writeBytes(this.binaryData),t},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;return 0<su.get_length(this.binaryData)&&(this.binaryData.position=0,e+=", Name: "+this.binaryData.readUTFBytes(su.get_length(this.binaryData)-1),this.binaryData.position=0),e},__class__:Cs};var Es=function(){this.hasCacheAsBitmap=!1,this.type=4,this.name="PlaceObject",this.version=1,this.level=1,this.surfaceFilterList=[]};(i["format.swf.tags.TagPlaceObject"]=Es).__name__=["format","swf","tags","TagPlaceObject"],Es.__interfaces__=[Ii],Es.prototype={parse:function(t,e,i,s){null==s&&(s=!1);var n=t.position;this.characterId=Y.readUI16(t),this.depth=Y.readUI16(t),this.matrix=Y.readMATRIX(t),this.hasCharacter=!0,this.hasMatrix=!0,(0|t.position)-n<e&&(this.colorTransform=Y.readCXFORM(t),this.hasColorTransform=!0)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.characterId),Y.writeUI16(i,this.depth),Y.writeMATRIX(i,this.matrix),this.hasColorTransform&&Y.writeCXFORM(i,this.colorTransform),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;return this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+O.string(this.matrix)),this.hasColorTransform&&(e+=", ColorTransform: "+O.string(this.colorTransform)),e},__class__:Es};var Is=function(){Es.call(this),this.type=26,this.name="PlaceObject2",this.version=3,this.level=2};(i["format.swf.tags.TagPlaceObject2"]=Is).__name__=["format","swf","tags","TagPlaceObject2"],Is.__interfaces__=[Ii],Is.__super__=Es,Is.prototype=s(Es.prototype,{parse:function(t,e,i,s){null==s&&(s=!1);var n=Y.readUI8(t);this.hasClipActions=0!=(128&n),this.hasClipDepth=0!=(64&n),this.hasName=0!=(32&n),this.hasRatio=0!=(16&n),this.hasColorTransform=0!=(8&n),this.hasMatrix=0!=(4&n),this.hasCharacter=0!=(2&n),this.hasMove=0!=(1&n),this.depth=Y.readUI16(t),this.hasCharacter&&(this.characterId=Y.readUI16(t)),this.hasMatrix&&(this.matrix=Y.readMATRIX(t)),this.hasColorTransform&&(this.colorTransform=Y.readCXFORMWITHALPHA(t)),this.hasRatio&&(this.ratio=Y.readUI16(t)),this.hasName&&(this.instanceName=Y.readSTRING(t)),this.hasClipDepth&&(this.clipDepth=Y.readUI16(t)),this.hasClipActions&&(this.clipActions=Y.readCLIPACTIONS(t,i))},publish:function(t,e){var i=0,s=Y._new();this.hasMove&&(i|=1),this.hasCharacter&&(i|=2),this.hasMatrix&&(i|=4),this.hasColorTransform&&(i|=8),this.hasRatio&&(i|=16),this.hasName&&(i|=32),this.hasClipDepth&&(i|=64),this.hasClipActions&&(i|=128),Y.writeUI8(s,i),Y.writeUI16(s,this.depth),this.hasCharacter&&Y.writeUI16(s,this.characterId),this.hasMatrix&&Y.writeMATRIX(s,this.matrix),this.hasColorTransform&&Y.writeCXFORM(s,this.colorTransform),this.hasRatio&&Y.writeUI16(s,this.ratio),this.hasName&&Y.writeSTRING(s,this.instanceName),this.hasClipDepth&&Y.writeUI16(s,this.clipDepth),this.hasClipActions&&Y.writeCLIPACTIONS(s,this.clipActions,e),Y.writeTagHeader(t,this.type,Y.get_length(s)),t.writeBytes(su.fromBytes(s))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;return this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+this.matrix.toString()),this.hasColorTransform&&(e+=", ColorTransform: "+O.string(this.colorTransform)),this.hasRatio&&(e+=", Ratio: "+this.ratio),this.hasName&&(e+=", Name: "+this.instanceName),this.hasClipDepth&&(e+=", ClipDepth: "+this.clipDepth),this.hasClipActions&&null!=this.clipActions&&(e+="\n"+ln.repeat(t+2)+this.clipActions.toString(t+2)),e},__class__:Is});var Ps=function(){Is.call(this),this.type=70,this.name="PlaceObject3",this.version=8,this.level=3};(i["format.swf.tags.TagPlaceObject3"]=Ps).__name__=["format","swf","tags","TagPlaceObject3"],Ps.__interfaces__=[Ii],Ps.__super__=Is,Ps.prototype=s(Is.prototype,{parse:function(t,e,i,s){null==s&&(s=!1);var n=Y.readUI8(t);this.hasClipActions=0!=(128&n),this.hasClipDepth=0!=(64&n),this.hasName=0!=(32&n),this.hasRatio=0!=(16&n),this.hasColorTransform=0!=(8&n),this.hasMatrix=0!=(4&n),this.hasCharacter=0!=(2&n),this.hasMove=0!=(1&n);var a=Y.readUI8(t);if(this.hasOpaqueBackground=0!=(64&a),this.hasVisible=0!=(32&a),this.hasImage=0!=(16&a),this.hasClassName=0!=(8&a),this.hasCacheAsBitmap=0!=(4&a),this.hasBlendMode=0!=(2&a),this.hasFilterList=0!=(1&a),this.depth=Y.readUI16(t),this.hasClassName&&(this.className=Y.readSTRING(t)),this.hasCharacter&&(this.characterId=Y.readUI16(t)),this.hasMatrix&&(this.matrix=Y.readMATRIX(t)),this.hasColorTransform&&(this.colorTransform=Y.readCXFORMWITHALPHA(t)),this.hasRatio&&(this.ratio=Y.readUI16(t)),this.hasName&&(this.instanceName=Y.readSTRING(t)),this.hasClipDepth&&(this.clipDepth=Y.readUI16(t)),this.hasFilterList)for(var r=0,o=Y.readUI8(t);r<o;){r++;this.surfaceFilterList.push(Y.readFILTER(t))}this.hasBlendMode&&(this.blendMode=Y.readUI8(t)),this.hasCacheAsBitmap&&(this.bitmapCache=Y.readUI8(t)),this.hasVisible&&(this.visible=Y.readUI8(t)),this.hasOpaqueBackground&&(this.bitmapBackgroundColor=Y.readRGBA(t)),this.hasClipActions&&(this.clipActions=Y.readCLIPACTIONS(t,i))},prepareBody:function(){var t=Y._new(),e=0;this.hasClipActions&&(e|=128),this.hasClipDepth&&(e|=64),this.hasName&&(e|=32),this.hasRatio&&(e|=16),this.hasColorTransform&&(e|=8),this.hasMatrix&&(e|=4),this.hasCharacter&&(e|=2),this.hasMove&&(e|=1),Y.writeUI8(t,e);var i=0;if(this.hasOpaqueBackground&&(i|=64),this.hasVisible&&(i|=32),this.hasImage&&(i|=16),this.hasClassName&&(i|=8),this.hasCacheAsBitmap&&(i|=4),this.hasBlendMode&&(i|=2),this.hasFilterList&&(i|=1),Y.writeUI8(t,i),Y.writeUI16(t,this.depth),this.hasClassName&&Y.writeSTRING(t,this.className),this.hasCharacter&&Y.writeUI16(t,this.characterId),this.hasMatrix&&Y.writeMATRIX(t,this.matrix),this.hasColorTransform&&Y.writeCXFORM(t,this.colorTransform),this.hasRatio&&Y.writeUI16(t,this.ratio),this.hasName&&Y.writeSTRING(t,this.instanceName),this.hasClipDepth&&Y.writeUI16(t,this.clipDepth),this.hasFilterList){var s=this.surfaceFilterList.length;Y.writeUI8(t,s);for(var n=0,a=s;n<a;){var r=n++;Y.writeFILTER(t,this.surfaceFilterList[r])}}return this.hasBlendMode&&Y.writeUI8(t,this.blendMode),this.hasCacheAsBitmap&&Y.writeUI8(t,this.bitmapCache),this.hasVisible&&Y.writeUI8(t,this.visible),this.hasOpaqueBackground&&Y.writeRGBA(t,this.bitmapBackgroundColor),this.hasClipActions&&Y.writeCLIPACTIONS(t,this.clipActions,this.version),t},publish:function(t,e){var i=this.prepareBody();Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;if(this.hasClassName&&(e+=", ClassName: "+this.className),this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+this.matrix.toString()),this.hasColorTransform&&(e+=", ColorTransform: "+O.string(this.colorTransform)),this.hasRatio&&(e+=", Ratio: "+this.ratio),this.hasName&&(e+=", Name: "+this.instanceName),this.hasClipDepth&&(e+=", ClipDepth: "+this.clipDepth),this.hasBlendMode&&(e+=", BlendMode: "+Jt.toString(this.blendMode)),this.hasCacheAsBitmap&&(e+=", CacheAsBitmap: "+this.bitmapCache),this.hasVisible&&(e+=", Visible: "+this.visible),this.hasOpaqueBackground&&(e+=", BackgroundColor: "+rn.rgbaToString(this.bitmapBackgroundColor)),this.hasFilterList){e+="\n"+ln.repeat(t+2)+"Filters:";for(var i=0,s=this.surfaceFilterList.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.surfaceFilterList[n].toString(t+4)}}return this.hasClipActions&&(e+="\n"+ln.repeat(t+2)+this.clipActions.toString(t+2)),e},__class__:Ps});var ks=function(){Ps.call(this),this.type=94,this.name="PlaceObject4",this.version=19,this.level=4};(i["format.swf.tags.TagPlaceObject4"]=ks).__name__=["format","swf","tags","TagPlaceObject4"],ks.__interfaces__=[Ii],ks.__super__=Ps,ks.prototype=s(Ps.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),Ps.prototype.parse.call(this,t,e,i,s)},publish:function(t,e){var i=this.prepareBody();Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Ps.prototype.toString.call(this,t);return null!=this.metaData&&(e+="\n"+ln.repeat(t+2)+"MetaData: yes"),e},__class__:ks});var Ds=function(){this.type=41,this.name="ProductInfo",this.version=3,this.level=1};(i["format.swf.tags.TagProductInfo"]=Ds).__name__=["format","swf","tags","TagProductInfo"],Ds.__interfaces__=[Ci],Ds.UINT_MAX_CARRY=function(){return Y.MAX_FLOAT_VALUE+1},Ds.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.productId=Y.readUI32(t),this.edition=Y.readUI32(t),this.majorVersion=Y.readUI8(t),this.minorVersion=Y.readUI8(t),this.build=Y.readUI32(t)+Y.readUI32(t)*(Y.MAX_FLOAT_VALUE+1);var n=Y.readUI32(t)+Y.readUI32(t)*(Y.MAX_FLOAT_VALUE+1);this.compileDate=new Date(n)},publish:function(t,e){var i=Y._new();Y.writeUI32(i,this.productId),Y.writeUI32(i,this.edition),Y.writeUI8(i,this.majorVersion),Y.writeUI8(i,this.minorVersion),Y.writeUI32(i,0|this.build),Y.writeUI32(i,this.build/(Y.MAX_FLOAT_VALUE+1)|0),Y.writeUI32(i,0|this.compileDate.getTime()),Y.writeUI32(i,this.compileDate.getTime()/(Y.MAX_FLOAT_VALUE+1)|0),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"ProductID: "+this.productId+", Edition: "+this.edition+", Version: "+this.majorVersion+"."+this.minorVersion+" r"+this.build+", CompileDate: "+L.dateStr(this.compileDate)},__class__:Ds};var As=function(){this.type=24,this.name="Protect",this.version=2,this.level=1;var t=new nn(0);this.password=t};(i["format.swf.tags.TagProtect"]=As).__name__=["format","swf","tags","TagProtect"],As.__interfaces__=[Ci],As.prototype={parse:function(t,e,i,s){null==s&&(s=!1),0<e&&t.readBytes(this.password,0,e)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.password)),0<su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)},__class__:As};var Ms=function(){this.characterId=0,this.type=5,this.name="RemoveObject",this.version=1,this.level=1};(i["format.swf.tags.TagRemoveObject"]=Ms).__name__=["format","swf","tags","TagRemoveObject"],Ms.__interfaces__=[Ii],Ms.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.characterId=Y.readUI16(t),this.depth=Y.readUI16(t)},publish:function(t,e){Y.writeTagHeader(t,this.type,4),Y.writeUI16(t,this.characterId),Y.writeUI16(t,this.depth)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"CharacterID: "+this.characterId+", Depth: "+this.depth},__class__:Ms};var Rs=function(){Ms.call(this),this.type=28,this.name="RemoveObject2",this.version=3,this.level=2};(i["format.swf.tags.TagRemoveObject2"]=Rs).__name__=["format","swf","tags","TagRemoveObject2"],Rs.__interfaces__=[Ii],Rs.__super__=Ms,Rs.prototype=s(Ms.prototype,{parse:function(t,e,i,s){null==s&&(s=!1),this.depth=Y.readUI16(t)},publish:function(t,e){Y.writeTagHeader(t,this.type,2),Y.writeUI16(t,this.depth)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth},__class__:Rs});var Fs=function(){this.type=65,this.name="ScriptLimits",this.version=7,this.level=1};(i["format.swf.tags.TagScriptLimits"]=Fs).__name__=["format","swf","tags","TagScriptLimits"],Fs.__interfaces__=[Ci],Fs.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.maxRecursionDepth=Y.readUI16(t),this.scriptTimeoutSeconds=Y.readUI16(t)},publish:function(t,e){Y.writeTagHeader(t,this.type,4),Y.writeUI16(t,this.maxRecursionDepth),Y.writeUI16(t,this.scriptTimeoutSeconds)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"MaxRecursionDepth: "+this.maxRecursionDepth+", ScriptTimeoutSeconds: "+this.scriptTimeoutSeconds},__class__:Fs};var Bs=function(){this.color=16777215,this.type=9,this.name="SetBackgroundColor",this.version=1,this.level=1};(i["format.swf.tags.TagSetBackgroundColor"]=Bs).__name__=["format","swf","tags","TagSetBackgroundColor"],Bs.__interfaces__=[Ci],Bs.create=function(t){null==t&&(t=16777215);var e=new Bs;return e.color=t,e},Bs.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.color=Y.readRGB(t)},publish:function(t,e){Y.writeTagHeader(t,this.type,3),Y.writeRGB(t,this.color)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Color: "+rn.rgbToString(this.color)},__class__:Bs};var Ls=function(){this.type=66,this.name="SetTabIndex",this.version=7,this.level=1};(i["format.swf.tags.TagSetTabIndex"]=Ls).__name__=["format","swf","tags","TagSetTabIndex"],Ls.__interfaces__=[Ci],Ls.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.depth=Y.readUI16(t),this.tabIndex=Y.readUI16(t)},publish:function(t,e){Y.writeTagHeader(t,this.type,4),Y.writeUI16(t,this.depth),Y.writeUI16(t,this.tabIndex)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth+", TabIndex: "+this.tabIndex},__class__:Ls};var Ns=function(){this.type=1,this.name="ShowFrame",this.version=1,this.level=1};(i["format.swf.tags.TagShowFrame"]=Ns).__name__=["format","swf","tags","TagShowFrame"],Ns.__interfaces__=[Ii],Ns.prototype={parse:function(t,e,i,s){null==s&&(s=!1)},publish:function(t,e){Y.writeTagHeader(t,this.type,0)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)},__class__:Ns};var Os=function(){this.type=19,this.name="SoundStreamBlock",this.version=1,this.level=1;var t=new nn(0);this.soundData=t};(i["format.swf.tags.TagSoundStreamBlock"]=Os).__name__=["format","swf","tags","TagSoundStreamBlock"],Os.__interfaces__=[Ci],Os.prototype={parse:function(t,e,i,s){null==s&&(s=!1),t.readBytes(this.soundData,0,e)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.soundData),!0),0<su.get_length(this.soundData)&&t.writeBytes(this.soundData)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"Length: "+su.get_length(this.soundData)},__class__:Os};var Us=function(){this.type=18,this.name="SoundStreamHead",this.version=1,this.level=1};(i["format.swf.tags.TagSoundStreamHead"]=Us).__name__=["format","swf","tags","TagSoundStreamHead"],Us.__interfaces__=[Ci],Us.prototype={parse:function(t,e,i,s){null==s&&(s=!1),Y.readUB(t,4),this.playbackSoundRate=Y.readUB(t,2),this.playbackSoundSize=Y.readUB(t,1),this.playbackSoundType=Y.readUB(t,1),this.streamSoundCompression=Y.readUB(t,4),this.streamSoundRate=Y.readUB(t,2),this.streamSoundSize=Y.readUB(t,1),this.streamSoundType=Y.readUB(t,1),this.streamSoundSampleCount=Y.readUI16(t),2==this.streamSoundCompression&&(this.latencySeek=Y.readSI16(t))},publish:function(t,e){var i=Y._new();Y.writeUB(i,4,0),Y.writeUB(i,2,this.playbackSoundRate),Y.writeUB(i,1,this.playbackSoundSize),Y.writeUB(i,1,this.playbackSoundType),Y.writeUB(i,4,this.streamSoundCompression),Y.writeUB(i,2,this.streamSoundRate),Y.writeUB(i,1,this.streamSoundSize),Y.writeUB(i,1,this.streamSoundType),Y.writeUI16(i,this.streamSoundSampleCount),2==this.streamSoundCompression&&Y.writeSI16(i,this.latencySeek),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t);return 0<this.streamSoundSampleCount&&(e+="Format: "+fe.toString(this.streamSoundCompression)+", Rate: "+de.toString(this.streamSoundRate)+", Size: "+pe.toString(this.streamSoundSize)+", Type: "+ge.toString(this.streamSoundType)+", "),e+="Samples: "+this.streamSoundSampleCount+", ",e+="LatencySeek: "+this.latencySeek},__class__:Us};var zs=function(){Us.call(this),this.type=45,this.name="SoundStreamHead2",this.version=3,this.level=2};(i["format.swf.tags.TagSoundStreamHead2"]=zs).__name__=["format","swf","tags","TagSoundStreamHead2"],zs.__interfaces__=[Ci],zs.__super__=Us,zs.prototype=s(Us.prototype,{toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t);return 0<this.streamSoundSampleCount&&(e+="Format: "+fe.toString(this.streamSoundCompression)+", Rate: "+de.toString(this.streamSoundRate)+", Size: "+pe.toString(this.streamSoundSize)+", Type: "+ge.toString(this.streamSoundType)+", "),e+="Samples: "+this.streamSoundSampleCount},__class__:zs});var Gs=function(){this.type=15,this.name="StartSound",this.version=1,this.level=1};(i["format.swf.tags.TagStartSound"]=Gs).__name__=["format","swf","tags","TagStartSound"],Gs.__interfaces__=[Ci],Gs.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.soundId=Y.readUI16(t),this.soundInfo=Y.readSOUNDINFO(t)},publish:function(t,e){var i=Y._new();Y.writeUI16(i,this.soundId),Y.writeSOUNDINFO(i,this.soundInfo),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"SoundID: "+this.soundId+", SoundInfo: "+O.string(this.soundInfo)},__class__:Gs};var Xs=function(){this.type=89,this.name="StartSound2",this.version=9,this.level=2};(i["format.swf.tags.TagStartSound2"]=Xs).__name__=["format","swf","tags","TagStartSound2"],Xs.__interfaces__=[Ci],Xs.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.soundClassName=Y.readSTRING(t),this.soundInfo=Y.readSOUNDINFO(t)},publish:function(t,e){var i=Y._new();Y.writeSTRING(i,this.soundClassName),Y.writeSOUNDINFO(i,this.soundInfo),Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"SoundClassName: "+this.soundClassName+", SoundInfo: "+O.string(this.soundInfo)},__class__:Xs};var Vs=function(){this.type=76,this.name="SymbolClass",this.version=9,this.level=1,this.symbols=[]};(i["format.swf.tags.TagSymbolClass"]=Vs).__name__=["format","swf","tags","TagSymbolClass"],Vs.__interfaces__=[Ci],Vs.prototype={parse:function(t,e,i,s){null==s&&(s=!1);for(var n=0,a=Y.readUI16(t);n<a;){n++;this.symbols.push(Y.readSYMBOL(t))}},publish:function(t,e){var i=Y._new(),s=this.symbols.length;Y.writeUI16(i,s);for(var n=0,a=s;n<a;){var r=n++;Y.writeSYMBOL(i,this.symbols[r])}Y.writeTagHeader(t,this.type,Y.get_length(i)),t.writeBytes(su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Pi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+ln.repeat(t+2)+"Symbols:";for(var i=0,s=this.symbols.length;i<s;){var n=i++;e+="\n"+ln.repeat(t+4)+"["+n+"] "+this.symbols[n].toString()}}return e},__class__:Vs};var Hs=function(t){null==t&&(t=0),this.type=t,this.name="????",this.version=0,this.level=1};(i["format.swf.tags.TagUnknown"]=Hs).__name__=["format","swf","tags","TagUnknown"],Hs.__interfaces__=[Ci],Hs.prototype={parse:function(t,e,i,s){null==s&&(s=!1),Y.skipBytes(t,e)},publish:function(t,e){throw new qn(new C_("No raw tag data available."))},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)},__class__:Hs};var Ys=function(){this.type=61,this.name="VideoFrame",this.version=6,this.level=1;var t=new nn(0);this.videoData=t};(i["format.swf.tags.TagVideoFrame"]=Ys).__name__=["format","swf","tags","TagVideoFrame"],Ys.__interfaces__=[Ci],Ys.prototype={parse:function(t,e,i,s){null==s&&(s=!1),this.streamId=Y.readUI16(t),this.frameNum=Y.readUI16(t),t.readBytes(this.videoData,0,e-4)},publish:function(t,e){Y.writeTagHeader(t,this.type,su.get_length(this.videoData)+4),Y.writeUI16(t,this.streamId),Y.writeUI16(t,this.frameNum),0<su.get_length(this.videoData)&&t.writeBytes(this.videoData)},toString:function(t){return null==t&&(t=0),Pi.toStringCommon(this.type,this.name,t)+"StreamID: "+this.streamId+", Frame: "+this.frameNum},__class__:Ys};var Ws=function(t){null==t&&(t=0),Hs.call(this),this.type=253,this.name="SWFEncryptActions"};(i["format.swf.tags.etc.TagSWFEncryptActions"]=Ws).__name__=["format","swf","tags","etc","TagSWFEncryptActions"],Ws.__interfaces__=[Ci],Ws.__super__=Hs,Ws.prototype=s(Hs.prototype,{__class__:Ws});var js=function(t){null==t&&(t=0),Hs.call(this),this.type=255,this.name="SWFEncryptSignature"};(i["format.swf.tags.etc.TagSWFEncryptSignature"]=js).__name__=["format","swf","tags","etc","TagSWFEncryptSignature"],js.__interfaces__=[Ci],js.__super__=Hs,js.prototype=s(Hs.prototype,{__class__:js});var Ks=function(t,e){null==e&&(e=0),null==t&&(t=0),this.tagIndexEnd=0,this.tagIndexStart=0,this.frameNumber=0,this.frameNumber=t,this.tagIndexStart=e,this.objects=new yn,this.characters=[]};(i["format.swf.timeline.Frame"]=Ks).__name__=["format","swf","timeline","Frame"],Ks.prototype={getObjectsSortedByDepth:function(){var t=[];if(null==this._objectsSortedByDepth){for(var e=this.objects.keys();e.hasNext();){var i=e.next();t.push(i)}t.sort(Gf(this,this.sortNumeric)),this._objectsSortedByDepth=[];for(var s=0,n=t.length;s<n;){var a=s++;this._objectsSortedByDepth.push(this.objects.h[t[a]])}}return this._objectsSortedByDepth},sortNumeric:function(t,e){return t-e},get_tagCount:function(){return this.tagIndexEnd-this.tagIndexStart+1},placeObject:function(t,e){var i=this.objects.h[e.depth];if(null!=i)0==e.characterId?(i.lastModifiedAtIndex=t,i.isKeyframe=!1):((e.hasName||e.hasMatrix||e.hasColorTransform||e.hasFilterList)&&(i.lastModifiedAtIndex=t),i.isKeyframe=!0,e.characterId!=i.characterId&&(i.characterId=e.characterId,i.lastModifiedAtIndex=t));else{var s=this.objects,n=e.depth,a=new qs(e.depth,e.clipDepth,e.characterId,e.className,t,0,!0);s.h[n]=a}this._objectsSortedByDepth=null},removeObject:function(t){this.objects.remove(t.depth),this._objectsSortedByDepth=null},clone:function(){for(var t=new Ks,e=this.objects.keys();e.hasNext();){var i=e.next(),s=t.objects,n=this.objects.h[i].clone();s.h[i]=n}return t},toString:function(t){null==t&&(t=0);var e=ln.repeat(t)+"["+this.frameNumber+"] Start: "+this.tagIndexStart+", Length: "+this.get_tagCount();null!=this.label&&""!=this.label&&(e+=", Label: "+this.label),0<this.characters.length&&(e+="\n"+ln.repeat(t+2)+"Defined CharacterIDs: "+this.characters.join(", "));for(var i=this.objects.keys();i.hasNext();){var s=i.next();e+=this.objects.h[s].toString()}return e},__class__:Ks,__properties__:{get_tagCount:"get_tagCount"}};var qs=function(t,e,i,s,n,a,r){null==r&&(r=!1),null==a&&(a=0),this.layer=-1,this.depth=t,this.clipDepth=e,this.characterId=i,this.className=s,this.placedAtIndex=n,this.lastModifiedAtIndex=a,this.isKeyframe=r,this.layer=-1};(i["format.swf.timeline.FrameObject"]=qs).__name__=["format","swf","timeline","FrameObject"],qs.prototype={clone:function(){return new qs(this.depth,this.clipDepth,this.characterId,this.className,this.placedAtIndex,this.lastModifiedAtIndex,!1)},toString:function(){var t=ln.repeat(2)+"Depth: "+this.depth+(-1<this.layer?" (Layer "+this.layer+")":"")+", CharacterId: "+this.characterId+", ";return null!=this.className&&(t+="ClassName: "+this.className+", "),t+="PlacedAt: "+this.placedAtIndex,0<this.lastModifiedAtIndex&&(t+=", LastModifiedAt: "+this.lastModifiedAtIndex),this.isKeyframe&&(t+=", IsKeyframe"),t},__class__:qs};var Js=function(t,e){this.frameCount=0,this.depth=0,this.depth=t,this.frameCount=e,this.frameStripMap=[],this.strips=[]};(i["format.swf.timeline.Layer"]=Js).__name__=["format","swf","timeline","Layer"],Js.prototype={appendStrip:function(t,e,i){if(0!=t){var s=this.strips.length;if(0==s&&0<e){for(var n=0,a=e;n<a;){var r=n++;this.frameStripMap[r]=s}this.strips[s++]=new Zs(1,0,e-1)}else if(0<s){var o=this.strips[s-1];if(o.endFrameIndex+1<e){for(var h=o.endFrameIndex+1,_=e;h<_;){var l=h++;this.frameStripMap[l]=s}this.strips[s++]=new Zs(1,o.endFrameIndex+1,e-1)}}for(var u=e,c=i+1;u<c;){var f=u++;this.frameStripMap[f]=s}this.strips[s]=new Zs(t,e,i)}},getStripsForFrameRegion:function(t,e){if(t>=this.frameStripMap.length||e<t)return[];var i=this.frameStripMap[t],s=e>=this.frameStripMap.length?this.strips.length-1:this.frameStripMap[e];return this.strips.slice(i,s+1)},toString:function(t){null==t&&(t=0);var e="Depth: "+this.depth+", Frames: "+this.frameCount;if(0<this.strips.length){e+="\n"+ln.repeat(t+2)+"Strips:";for(var i=0,s=this.strips.length;i<s;){var n=i++,a=this.strips[n];e+="\n"+ln.repeat(t+4)+"["+n+"] "+a.toString()}}return e},__class__:Js};var Zs=function(t,e,i){this.endFrameIndex=0,this.startFrameIndex=0,this.type=0,this.type=t,this.startFrameIndex=e,this.endFrameIndex=i};(i["format.swf.timeline.LayerStrip"]=Zs).__name__=["format","swf","timeline","LayerStrip"],Zs.prototype={toString:function(){var t;switch(t=this.startFrameIndex==this.endFrameIndex?"Frame: "+this.startFrameIndex:"Frames: "+this.startFrameIndex+"-"+this.endFrameIndex,t+=", Type: ",this.type){case 0:t+="EMPTY";break;case 1:t+="SPACER";break;case 2:t+="STATIC";break;case 3:t+="MOTIONTWEEN";break;case 4:t+="SHAPETWEEN";break;default:t+="unknown"}return t},__class__:Zs};var Qs=function(t,e){this.frameNumber=0,this.frameNumber=t,this.name=e};(i["format.swf.timeline.Scene"]=Qs).__name__=["format","swf","timeline","Scene"],Qs.prototype={toString:function(t){return null==t&&(t=0),ln.repeat(t)+"Name: "+this.name+", Frame: "+this.frameNumber},__class__:Qs};var $s=function(){var t=new nn(0);this.data=t};(i["format.swf.timeline.SoundStream"]=$s).__name__=["format","swf","timeline","SoundStream"],$s.prototype={toString:function(){return"[SoundStream] StartFrame: "+this.startFrame+", Frames: "+this.numFrames+", Samples: "+this.numSamples+", Bytes: "+su.get_length(this.data)},__class__:$s};var tn=function(t){this.length=t.byteLength,this.b=new Qf(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(i["haxe.io.Bytes"]=tn).__name__=["haxe","io","Bytes"],tn.alloc=function(t){return new tn(new qf(t))},tn.ofString=function(t){for(var e=[],i=0;i<t.length;){var s=t.charCodeAt(i++);55296<=s&&s<=56319&&(s=s-55232<<10|1023&t.charCodeAt(i++)),s<=127?e.push(s):(s<=2047?e.push(192|s>>6):(s<=65535?e.push(224|s>>12):(e.push(240|s>>18),e.push(128|s>>12&63)),e.push(128|s>>6&63)),e.push(128|63&s))}return new tn(new Qf(e).buffer)},tn.ofData=function(t){var e=t.hxBytes;return null!=e?e:new tn(t)},tn.fastGet=function(t,e){return t.bytes[e]},tn.prototype={blit:function(t,e,i,s){if(t<0||i<0||s<0||t+s>this.length||i+s>e.length)throw new qn(kn.OutsideBounds);0==i&&s==e.b.byteLength?this.b.set(e.b,t):this.b.set(e.b.subarray(i,i+s),t)},sub:function(t,e){if(t<0||e<0||t+e>this.length)throw new qn(kn.OutsideBounds);return new tn(this.b.buffer.slice(t+this.b.byteOffset,t+this.b.byteOffset+e))},getDouble:function(t){return null==this.data&&(this.data=new Jf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(t,!0)},getFloat:function(t){return null==this.data&&(this.data=new Jf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(t,!0)},setDouble:function(t,e){null==this.data&&(this.data=new Jf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(t,e,!0)},setFloat:function(t,e){null==this.data&&(this.data=new Jf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(t,e,!0)},setUInt16:function(t,e){null==this.data&&(this.data=new Jf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(t,e,!0)},getInt32:function(t){return null==this.data&&(this.data=new Jf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(t,!0)},setInt32:function(t,e){null==this.data&&(this.data=new Jf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(t,e,!0)},getInt64:function(t){return new dn(this.getInt32(t+4),this.getInt32(t))},getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new qn(kn.OutsideBounds);for(var i="",s=this.b,n=String.fromCharCode,a=t,r=t+e;a<r;){var o=s[a++];if(o<128){if(0==o)break;i+=n(o)}else if(o<224)i+=n((63&o)<<6|127&s[a++]);else if(o<240){i+=n((31&o)<<12|(127&s[a++])<<6|127&s[a++])}else{var h=(15&o)<<18|(127&s[a++])<<12|(127&s[a++])<<6|127&s[a++];i+=n(55232+(h>>10)),i+=n(1023&h|56320)}}return i},toString:function(){return this.getString(0,this.length)},__class__:tn};function en(){}(i["openfl.utils.IDataOutput"]=en).__name__=["openfl","utils","IDataOutput"],en.prototype={__class__:en,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};function sn(){}(i["openfl.utils.IDataInput"]=sn).__name__=["openfl","utils","IDataInput"],sn.prototype={__class__:sn,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var nn=function(t){null==t&&(t=0);var e=new tn(new qf(t));tn.call(this,e.b.buffer),this.__length=t,this.__endian=0,this.position=0};(i["openfl.utils.ByteArrayData"]=nn).__name__=["openfl","utils","ByteArrayData"],nn.__interfaces__=[en,sn],nn.fromBytes=function(t){var e=new nn;return e.__fromBytes(t),e},nn.__super__=tn,nn.prototype=s(tn.prototype,{clear:function(){this.__length=0,this.position=0},compress:function(t){this.__length=this.length,this.position=this.__length},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new qn(new P_)},readByte:function(){var t=this.readUnsignedByte();return 0!=(128&t)?t-256:t},readBytes:function(t,e,i){if(null==i&&(i=0),null==e&&(e=0),0==i&&(i=this.__length-this.position),this.position+i>this.__length)throw new qn(new P_);t.__length<e+i&&t.__resize(e+i),t.blit(e,this,this.position,i),this.position+=i},readDouble:function(){if(this.position+8>this.__length)throw new qn(new P_);return this.position+=8,this.getDouble(this.position-8)},readFloat:function(){if(this.position+4>this.__length)throw new qn(new P_);return this.position+=4,this.getFloat(this.position-4)},readInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),s=this.readUnsignedByte();return 1==this.__endian?s<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|s},readMultiByte:function(t,e){return this.readUTFBytes(t)},readShort:function(){var t,e=this.readUnsignedByte(),i=this.readUnsignedByte();return 0!=(32768&(t=1==this.__endian?i<<8|e:e<<8|i))?t-65536:t},readUnsignedByte:function(){if(this.position<this.__length)return this.b[this.position++];throw new qn(new P_)},readUnsignedInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),s=this.readUnsignedByte();return 1==this.__endian?s<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|s},readUnsignedShort:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte();return 1==this.__endian?(e<<8)+t:t<<8|e},readUTF:function(){var t=this.readUnsignedShort();return this.readUTFBytes(t)},readUTFBytes:function(t){if(this.position+t>this.__length)throw new qn(new P_);return this.position+=t,this.getString(this.position-t,t)},uncompress:function(t){this.__length=this.length,this.position=0},writeBoolean:function(t){this.writeByte(t?1:0)},writeByte:function(t){this.__resize(this.position+1),this.b[this.position++]=255&t},writeBytes:function(t,e,i){null==i&&(i=0),null==e&&(e=0),0!=su.get_length(t)&&(0==i&&(i=su.get_length(t)-e),this.__resize(this.position+i),this.blit(this.position,t,e,i),this.position=this.position+i)},writeDouble:function(t){this.__resize(this.position+8),this.setDouble(this.position,t),this.position+=8},writeFloat:function(t){this.__resize(this.position+4),this.setFloat(this.position,t),this.position+=4},writeInt:function(t){this.__resize(this.position+4),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>24&255):(this.b[this.position++]=t>>24&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeMultiByte:function(t,e){this.writeUTFBytes(t)},writeShort:function(t){this.__resize(this.position+2),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255):(this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeUnsignedInt:function(t){this.writeInt(t)},writeUTF:function(t){var e=tn.ofString(t);this.writeShort(e.length),this.writeBytes(su.fromBytes(e))},writeUTFBytes:function(t){var e=tn.ofString(t);this.writeBytes(su.fromBytes(e))},__fromBytes:function(t){this.b=t.b,this.length=t.length,this.data=t.data,this.__length=t.length},__resize:function(t){if(t>this.length){var e=new tn(new qf(3*(t+1)>>1));e.blit(0,this,0,this.length),this.b=e.b,this.length=e.length,this.data=e.data}this.__length<t&&(this.__length=t)},__setData:function(t){this.b=t.b,this.length=t.length,this.data=t.data},get_bytesAvailable:function(){return this.__length-this.position},get_endian:function(){return this.__endian},set_endian:function(t){return this.__endian=t},__class__:nn,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var an=function(t){this.bitsPending=0,nn.call(this,t)};(i["format.swf.utils.BitArray"]=an).__name__=["format","swf","utils","BitArray"],an.__super__=nn,an.prototype=s(nn.prototype,{readBits:function(t,e){if(null==e&&(e=0),0==t)return e;var i,s;if(0<this.bitsPending){var n=this.b[this.position-1]&255>>8-this.bitsPending;s=0|Math.min(this.bitsPending,t),this.bitsPending-=s,i=n>>this.bitsPending}else s=0|Math.min(8,t),this.bitsPending=8-s,i=this.readUnsignedByte()>>this.bitsPending;return e=e<<s|i,0<(t-=s)?this.readBits(t,e):e},writeBits:function(t,e){var i;0!=t&&(e&=-1>>>32-t,0<this.bitsPending?this.bitsPending>t?(this.b[this.position-1]=255&(this.b[this.position-1]|e<<this.bitsPending-t),i=t,this.bitsPending-=t):(i=this.bitsPending==t?(this.b[this.position-1]=255&(this.b[this.position-1]|e),t):(this.b[this.position-1]=255&(this.b[this.position-1]|e>>t-this.bitsPending),this.bitsPending),this.bitsPending=0):(i=0|Math.min(8,t),this.bitsPending=8-i,this.writeByte(e>>t-i<<this.bitsPending)),0<(t-=i)&&this.writeBits(t,e))},resetBitsPending:function(){this.bitsPending=0},calculateMaxBits:function(t,e){var i=0,s=0|Y.MIN_FLOAT_VALUE;if(t)for(var n=0;n<e.length;){var a=e[n];++n,i|=0<=a?a:~a<<1,s<a&&(s=a)}else for(var r=0;r<e.length;){var o=e[r];++r,i|=o}var h=0;return 0<i&&(h=mn.encode(null==i?"null":""+i,"01").length,t&&0<s&&mn.encode(null==s?"null":""+s,"01").length>=h&&++h),h},__class__:an});var rn=function(){};(i["format.swf.utils.ColorUtils"]=rn).__name__=["format","swf","utils","ColorUtils"],rn.alpha=function(t){return(t>>>24)/255},rn.rgb=function(t){return 16777215&t},rn.r=function(t){return(rn.rgb(t)>>16&255)/255},rn.g=function(t){return(rn.rgb(t)>>8&255)/255},rn.b=function(t){return(255&rn.rgb(t))/255},rn.interpolate=function(t,e,i){var s=rn.r(t),n=rn.g(t),a=rn.b(t),r=rn.alpha(t),o=255*(s+(rn.r(e)-s)*i)|0,h=255*(n+(rn.g(e)-n)*i)|0;return 255*(a+(rn.b(e)-a)*i)|0|h<<8|o<<16|(255*(r+(rn.alpha(e)-r)*i)|0)<<24},rn.rgbToString=function(t){return ln.printf("#%06x",[16777215&t])},rn.rgbaToString=function(t){return ln.printf("#%06x(%02x)",[16777215&t,t>>>24])},rn.argbToString=function(t){return ln.printf("#(%02x)%06x",[t>>>24,16777215&t])};var on=function(){};(i["format.swf.utils.HalfPrecisionWriter"]=on).__name__=["format","swf","utils","HalfPrecisionWriter"],on.write=function(t,e){var i,s,n,a,r,o;e.resetBitsPending();var h=0,_=e.position;e.writeDouble(t),e.position-=4,i=e.readUnsignedInt(),e.position=_,h=0==(2147483647&i)?i>>16:(s=-2147483648&i,a=1048575&i,0==(n=2146435072&i)?s>>16:2146435072==n?0==a?s>>16|31744:65024:(s>>=16,31<=(o=(n>>20)-1023+15)?a>>16|31744:o<=0?(21<10-o?r=0:(r=(a|=1048576)>>11-o,0<(a>>10-o&1)&&++r),s|r):(n=o<<10,r=a>>10,0<(512&a)?1+(s|n|r):s|n|r))),e.writeShort(h)};var hn=function(){};(i["format.swf.utils.MatrixUtils"]=hn).__name__=["format","swf","utils","MatrixUtils"],hn.interpolate=function(t,e,i){var s=new pt;return s.scaleX=t.scaleX+(e.scaleX-t.scaleX)*i,s.scaleY=t.scaleY+(e.scaleY-t.scaleY)*i,s.rotateSkew0=t.rotateSkew0+(e.rotateSkew0-t.rotateSkew0)*i,s.rotateSkew1=t.rotateSkew1+(e.rotateSkew1-t.rotateSkew1)*i,s.translateX=t.translateX+(e.translateX-t.translateX)*i|0,s.translateY=t.translateY+(e.translateY-t.translateY)*i|0,s};var _n=function(){};(i["format.swf.utils.NumberUtils"]=_n).__name__=["format","swf","utils","NumberUtils"],_n.roundPixels20=function(t){return Math.round(100*t)/100},_n.roundPixels400=function(t){return Math.round(1e4*t)/1e4};var ln=function(){};(i["format.swf.utils.StringUtils"]=ln).__name__=["format","swf","utils","StringUtils"],ln.trim=function(t){return ln.ltrim(ln.rtrim(t))},ln.ltrim=function(t){if(null!=t)for(var e=0,i=t.length;e<i;){var s=e++;if(32<L.cca(t,s))return t.substring(s)}return""},ln.rtrim=function(t){if(null!=t)for(var e=t.length;0<e;){if(32<L.cca(t,e-1))return t.substring(0,e);--e}return""},ln.simpleEscape=function(t){return t=(t=(t=t.split("\n").join("\\n")).split("\r").join("\\r")).split("\t").join("\\t")},ln.strictEscape=function(t,e){if(null==e&&(e=!0),null!=t&&0<t.length){e&&(t=ln.trim(t));for(var i=(t=encodeURIComponent(t)).split(""),s=0,n=i.length;s<n;){var a=s++;switch(i[a]){case"!":i[a]="%21";break;case"'":i[a]="%27";break;case"(":i[a]="%28";break;case")":i[a]="%29";break;case"*":i[a]="%2A";break;case"-":i[a]="%2D";break;case".":i[a]="%2E";break;case"_":i[a]="%5F";break;case"~":i[a]="%7E"}}return i.join("")}return""},ln.repeat=function(t,e){null==e&&(e=" ");for(var i="",s=0,n=t;s<n;){s++;i+=e}return i},ln.printf=function(t,e){var i="",s=0,n=-1,a=0;try{for(;a<t.length;){var r=t.charAt(a);if("%"==r)if(++a<t.length)if("%"==(r=t.charAt(a)))i+=r;else{var o,h=!1,_=!1,l=!1,u=!1,c=-1,f=-1,d="",p=ln.getIndex(t);if(p<-1||0==p)throw pn.trace("ERR parsing index",{fileName:"StringUtils.hx",lineNumber:116,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==n)throw pn.trace("ERR: indexed placeholder expected",{fileName:"StringUtils.hx",lineNumber:119,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==n&&(n=0),++s}else{if(0==n)throw pn.trace("ERR: non-indexed placeholder expected",{fileName:"StringUtils.hx",lineNumber:123,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==n&&(n=1),s=p}for(r=t.charAt(a);"+"==r||"-"==r||"#"==r||" "==r||"0"==r;){switch(r){case" ":l=!0;break;case"+":h=!0;break;case"-":_=!0;break;case"0":u=!0}if(++a==t.length)break;r=t.charAt(a)}if(a==t.length)throw"__break__";if("*"==r){var g=0;if(++a==t.length)throw"__break__";if((p=ln.getIndex(t))<-1||0==p)throw pn.trace("ERR parsing index for width",{fileName:"StringUtils.hx",lineNumber:152,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==n)throw pn.trace("ERR: indexed placeholder expected for width",{fileName:"StringUtils.hx",lineNumber:155,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==n&&(n=0),g=s++}else{if(0==n)throw pn.trace("ERR: non-indexed placeholder expected for width",{fileName:"StringUtils.hx",lineNumber:159,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==n&&(n=1),g=p}if(--g,!(e.length>g&&0<=g))throw pn.trace("ERR index out of bounds while parsing width",{fileName:"StringUtils.hx",lineNumber:172,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(c=0|e[g],isNaN(c))throw c=-1,pn.trace("ERR NaN while parsing width",{fileName:"StringUtils.hx",lineNumber:168,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";r=t.charAt(a)}else{for(;"0"<=r&&r<="9"&&(-1==c&&(c=0),c=10*c+O.parseInt(r),++a!=t.length);)r=t.charAt(a);if(-1!=c&&a==t.length)throw pn.trace("ERR eof while parsing width",{fileName:"StringUtils.hx",lineNumber:184,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__"}if("."==r){if(++a==t.length)throw"__break__";if("*"==(r=t.charAt(a))){var m=0;if(++a==t.length)throw"__break__";if((p=ln.getIndex(t))<-1||0==p)throw pn.trace("ERR parsing index for precision",{fileName:"StringUtils.hx",lineNumber:200,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==n)throw pn.trace("ERR: indexed placeholder expected for precision",{fileName:"StringUtils.hx",lineNumber:203,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==n&&(n=0),m=s++}else{if(0==n)throw pn.trace("ERR: non-indexed placeholder expected for precision",{fileName:"StringUtils.hx",lineNumber:207,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==n&&(n=1),m=p}if(--m,!(e.length>m&&0<=m))throw pn.trace("ERR index out of bounds while parsing precision",{fileName:"StringUtils.hx",lineNumber:220,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(f=0|e[m],isNaN(f))throw f=-1,pn.trace("ERR NaN while parsing precision",{fileName:"StringUtils.hx",lineNumber:216,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";r=t.charAt(a)}else{for(;"0"<=r&&r<="9"&&(-1==f&&(f=0),f=10*f+O.parseInt(r),++a!=t.length);)r=t.charAt(a);if(-1!=f&&a==t.length)throw pn.trace("ERR eof while parsing precision",{fileName:"StringUtils.hx",lineNumber:232,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__"}}switch(r){case"h":case"l":if(++a==t.length)throw pn.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:243,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";var v=t.charAt(a);if("h"==r&&"h"==v||"l"==r&&"l"==v){if(++a==t.length)throw pn.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:246,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";r=t.charAt(a)}else r=v;break;case"L":case"j":case"t":case"z":if(++a==t.length)throw pn.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:252,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";r=t.charAt(a)}if(!(0<="diufFeEgGxXoscpn".indexOf(r)))throw pn.trace("ERR unknown type: "+r,{fileName:"StringUtils.hx",lineNumber:262,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(d=r,!(e.length>=s&&0<s))throw pn.trace("ERR value index out of bounds ("+s+")",{fileName:"StringUtils.hx",lineNumber:269,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";o=e[s-1];var b,y,w="",x=0;switch(d){case"E":case"F":case"G":case"e":case"f":case"g":-1==f&&(f=6);var T=Math.pow(10,f);if(b="number"==typeof o?o:parseFloat(O.string(o)),w=O.string(Math.round(Math.abs(b)*T)/T),0<f){var S,C=w.indexOf(".");S=-1==C?(w+=".",f):f-(w.length-C-1),w+=ln.repeat(S,"0")}x=b<0?1:-1;break;case"c":w=O.string(o).charAt(0);break;case"d":case"i":y="number"==typeof o?o:O.parseInt(O.string(o)),w=O.string(Math.abs(y)),x=y<0?1:-1;break;case"o":w=mn.encode(O.string(0|o),"01234567");break;case"s":w=O.string(o),-1!=f&&(w=L.substr(w,0,f));break;case"u":w=O.string("number"==typeof o?o:O.parseInt(O.string(o)));break;case"X":case"p":case"x":w=In.hex("number"==typeof o?0|o:O.parseInt(o)),"X"==d&&(w=w.toUpperCase())}var E=1==x||h||l;if(-1<c){var I=c-w.length;if(E&&--I,0<I){var P=u&&!_?"0":" ";_||(P+=w),w+=ln.repeat(I,P)}}E&&(w=-1==x?(l?" ":"0")+w:"-"+w),i+=w}else i+=r;else i+=r;++a}}catch(t){if("__break__"!=t)throw t}return i},ln.getIndex=function(t){for(var e=0,i=!1,s="",n=ln.i;;){if(!("0"<=(s=t.charAt(ln.i))&&s<="9"))break;if(i=!0,e=10*e+O.parseInt(s),++ln.i==t.length)return-2}return i?"$"!=s?(ln.i=n,-1):++ln.i==t.length?-2:e:-1};var un=i["haxe.StackItem"]={__ename__:!0,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};un.CFunction=["CFunction",0],un.CFunction.toString=f,(un.CFunction.__enum__=un).Module=function(t){var e=["Module",1,t];return e.__enum__=un,e.toString=f,e},un.FilePos=function(t,e,i){var s=["FilePos",2,t,e,i];return s.__enum__=un,s.toString=f,s},un.Method=function(t,e){var i=["Method",3,t,e];return i.__enum__=un,i.toString=f,i},un.LocalFunction=function(t){var e=["LocalFunction",4,t];return e.__enum__=un,e.toString=f,e};var cn=function(){};(i["haxe.CallStack"]=cn).__name__=["haxe","CallStack"],cn.lastException=null,cn.getStack=function(t){if(null==t)return[];var e=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){for(var i=[],s=0;s<e.length;){var n=e[s];++s,null!=cn.wrapCallSite&&(n=cn.wrapCallSite(n));var a=null,r=n.getFunctionName();if(null!=r){var o=r.lastIndexOf(".");if(0<=o){var h=L.substr(r,0,o),_=L.substr(r,o+1,null);a=un.Method(h,_)}}i.push(un.FilePos(a,n.getFileName(),n.getLineNumber()))}return i};var i=cn.makeStack(t.stack);return Error.prepareStackTrace=e,i},cn.wrapCallSite=null,cn.callStack=function(){try{throw new Error}catch(t){(cn.lastException=t)instanceof qn&&(t=t.val);var e=cn.getStack(t);return e.shift(),e}},cn.exceptionStack=function(){return cn.getStack(cn.lastException)},cn.toString=function(t){for(var e=new U,i=0;i<t.length;){var s=t[i];++i,e.b+="\nCalled from ",cn.itemToString(e,s)}return e.b},cn.itemToString=function(t,e){switch(e[1]){case 0:t.b+="a C function";break;case 1:var i=e[2];t.b+="module ",t.b+=null==i?"null":""+i;break;case 2:var s=e[4],n=e[3],a=e[2];null!=a&&(cn.itemToString(t,a),t.b+=" ("),t.b+=null==n?"null":""+n,t.b+=" line ",t.b+=null==s?"null":""+s,null!=a&&(t.b+=")");break;case 3:var r=e[3],o=e[2];t.b+=null==o?"null":""+o,t.b+=".",t.b+=null==r?"null":""+r;break;case 4:var h=e[2];t.b+="local function #",t.b+=null==h?"null":""+h}},cn.makeStack=function(t){if(null==t)return[];if("string"!=typeof t)return t;var e=t.split("\n");"Error"==e[0]&&e.shift();for(var i=[],s=new b("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),n=0;n<e.length;){var a=e[n];if(++n,s.match(a)){var r=s.matched(1).split("."),o=r.pop(),h=s.matched(2),_=O.parseInt(s.matched(3));i.push(un.FilePos("Anonymous function"==o?un.LocalFunction():"Global code"==o?null:un.Method(r.join("."),o),h,_))}else i.push(un.Module(In.trim(a)))}return i};function fn(){}(i["haxe.IMap"]=fn).__name__=["haxe","IMap"],fn.prototype={__class__:fn};var dn=function(t,e){this.high=t,this.low=e};(i["haxe._Int64.___Int64"]=dn).__name__=["haxe","_Int64","___Int64"],dn.prototype={__class__:dn};var pn=function(){};(i["haxe.Log"]=pn).__name__=["haxe","Log"],pn.trace=function(t,e){Jn.__trace(t,e)};var gn=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};(i["haxe.Timer"]=gn).__name__=["haxe","Timer"],gn.delay=function(t,e){var i=new gn(e);return i.run=function(){i.stop(),t()},i},gn.measure=function(t,e){var i=Date.now()/1e3,s=t();return pn.trace(Date.now()/1e3-i+"s",e),s},gn.stamp=function(){return Date.now()/1e3},gn.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:gn};var mn=function(t){for(var e=t.length,i=1;1<<i<e;)++i;if(8<i||e!=1<<i)throw new qn("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};(i["haxe.crypto.BaseCode"]=mn).__name__=["haxe","crypto","BaseCode"],mn.encode=function(t,e){return new mn(tn.ofString(e)).encodeString(t)},mn.prototype={encodeBytes:function(t){for(var e=this.nbits,i=this.base,s=8*t.length/e|0,n=new tn(new qf(s+(8*t.length%e==0?0:1))),a=0,r=0,o=(1<<e)-1,h=0,_=0;_<s;){for(;r<e;)r+=8,a<<=8,a|=t.b[h++];r-=e,n.b[_++]=255&i.b[a>>r&o]}return 0<r&&(n.b[_++]=255&i.b[a<<e-r&o]),n},encodeString:function(t){return this.encodeBytes(tn.ofString(t)).toString()},__class__:mn};var vn=function(){};(i["haxe.crypto.Crc32"]=vn).__name__=["haxe","crypto","Crc32"],vn.make=function(t){for(var e=-1,i=t.b.bufferValue,s=0,n=t.length;s<n;){for(var a=s++,r=255&(e^i.bytes[a]),o=0;o<8;){o++;1==(1&r)?r=r>>>1^-306674912:r>>>=1}e=e>>>8^r}return-1^e};function bn(){}(i["haxe.crypto.Md5"]=bn).__name__=["haxe","crypto","Md5"],bn.encode=function(t){var e=new bn,i=e.doEncode(bn.str2blks(t));return e.hex(i)},bn.str2blks=function(t){for(var e=tn.ofString(t),i=1+(e.length+8>>6),s=[],n=0,a=16*i;n<a;){s[n++]=0}for(var r=0,o=e.length,h=8*o;r<o;)s[r>>2]|=e.b[r]<<(h+r)%4*8,++r;s[r>>2]|=128<<(h+r)%4*8;var _=16*i-2;return s[_]=255&h,s[_]|=(h>>>8&255)<<8,s[_]|=(h>>>16&255)<<16,s[_]|=(h>>>24&255)<<24,s},bn.prototype={bitOR:function(t,e){return(t>>>1|e>>>1)<<1|(1&t|1&e)},bitXOR:function(t,e){return(t>>>1^e>>>1)<<1|1&t^1&e},bitAND:function(t,e){return(t>>>1&e>>>1)<<1|1&t&e},addme:function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},hex:function(t){for(var e="",i="0123456789abcdef",s=0;s<t.length;){var n=t[s];++s;for(var a=0;a<4;){var r=a++;e+=i.charAt(n>>8*r+4&15)+i.charAt(n>>8*r&15)}}return e},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,i,s,n,a){return this.addme(this.rol(this.addme(this.addme(e,t),this.addme(s,a)),n),i)},ff:function(t,e,i,s,n,a,r){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(~e,s)),t,e,n,a,r)},gg:function(t,e,i,s,n,a,r){return this.cmn(this.bitOR(this.bitAND(e,s),this.bitAND(i,~s)),t,e,n,a,r)},hh:function(t,e,i,s,n,a,r){return this.cmn(this.bitXOR(this.bitXOR(e,i),s),t,e,n,a,r)},ii:function(t,e,i,s,n,a,r){return this.cmn(this.bitXOR(i,this.bitOR(e,~s)),t,e,n,a,r)},doEncode:function(t){for(var e=1732584193,i=-271733879,s=-1732584194,n=271733878,a=0;a<t.length;){var r=e,o=i,h=s,_=n;0,e=this.ff(e,i,s,n,t[a],7,-680876936),n=this.ff(n,e,i,s,t[a+1],12,-389564586),s=this.ff(s,n,e,i,t[a+2],17,606105819),i=this.ff(i,s,n,e,t[a+3],22,-1044525330),e=this.ff(e,i,s,n,t[a+4],7,-176418897),n=this.ff(n,e,i,s,t[a+5],12,1200080426),s=this.ff(s,n,e,i,t[a+6],17,-1473231341),i=this.ff(i,s,n,e,t[a+7],22,-45705983),e=this.ff(e,i,s,n,t[a+8],7,1770035416),n=this.ff(n,e,i,s,t[a+9],12,-1958414417),s=this.ff(s,n,e,i,t[a+10],17,-42063),i=this.ff(i,s,n,e,t[a+11],22,-1990404162),e=this.ff(e,i,s,n,t[a+12],7,1804603682),n=this.ff(n,e,i,s,t[a+13],12,-40341101),s=this.ff(s,n,e,i,t[a+14],17,-1502002290),i=this.ff(i,s,n,e,t[a+15],22,1236535329),e=this.gg(e,i,s,n,t[a+1],5,-165796510),n=this.gg(n,e,i,s,t[a+6],9,-1069501632),s=this.gg(s,n,e,i,t[a+11],14,643717713),i=this.gg(i,s,n,e,t[a],20,-373897302),e=this.gg(e,i,s,n,t[a+5],5,-701558691),n=this.gg(n,e,i,s,t[a+10],9,38016083),s=this.gg(s,n,e,i,t[a+15],14,-660478335),i=this.gg(i,s,n,e,t[a+4],20,-405537848),e=this.gg(e,i,s,n,t[a+9],5,568446438),n=this.gg(n,e,i,s,t[a+14],9,-1019803690),s=this.gg(s,n,e,i,t[a+3],14,-187363961),i=this.gg(i,s,n,e,t[a+8],20,1163531501),e=this.gg(e,i,s,n,t[a+13],5,-1444681467),n=this.gg(n,e,i,s,t[a+2],9,-51403784),s=this.gg(s,n,e,i,t[a+7],14,1735328473),i=this.gg(i,s,n,e,t[a+12],20,-1926607734),e=this.hh(e,i,s,n,t[a+5],4,-378558),n=this.hh(n,e,i,s,t[a+8],11,-2022574463),s=this.hh(s,n,e,i,t[a+11],16,1839030562),i=this.hh(i,s,n,e,t[a+14],23,-35309556),e=this.hh(e,i,s,n,t[a+1],4,-1530992060),n=this.hh(n,e,i,s,t[a+4],11,1272893353),s=this.hh(s,n,e,i,t[a+7],16,-155497632),i=this.hh(i,s,n,e,t[a+10],23,-1094730640),e=this.hh(e,i,s,n,t[a+13],4,681279174),n=this.hh(n,e,i,s,t[a],11,-358537222),s=this.hh(s,n,e,i,t[a+3],16,-722521979),i=this.hh(i,s,n,e,t[a+6],23,76029189),e=this.hh(e,i,s,n,t[a+9],4,-640364487),n=this.hh(n,e,i,s,t[a+12],11,-421815835),s=this.hh(s,n,e,i,t[a+15],16,530742520),i=this.hh(i,s,n,e,t[a+2],23,-995338651),e=this.ii(e,i,s,n,t[a],6,-198630844),n=this.ii(n,e,i,s,t[a+7],10,1126891415),s=this.ii(s,n,e,i,t[a+14],15,-1416354905),i=this.ii(i,s,n,e,t[a+5],21,-57434055),e=this.ii(e,i,s,n,t[a+12],6,1700485571),n=this.ii(n,e,i,s,t[a+3],10,-1894986606),s=this.ii(s,n,e,i,t[a+10],15,-1051523),i=this.ii(i,s,n,e,t[a+1],21,-2054922799),e=this.ii(e,i,s,n,t[a+8],6,1873313359),n=this.ii(n,e,i,s,t[a+15],10,-30611744),s=this.ii(s,n,e,i,t[a+6],15,-1560198380),i=this.ii(i,s,n,e,t[a+13],21,1309151649),e=this.ii(e,i,s,n,t[a+4],6,-145523070),n=this.ii(n,e,i,s,t[a+11],10,-1120210379),s=this.ii(s,n,e,i,t[a+2],15,718787259),i=this.ii(i,s,n,e,t[a+9],21,-343485551),e=this.addme(e,r),i=this.addme(i,o),s=this.addme(s,h),n=this.addme(n,_),a+=16}return[e,i,s,n]},__class__:bn};var yn=function(){this.h={}};(i["haxe.ds.IntMap"]=yn).__name__=["haxe","ds","IntMap"],yn.__interfaces__=[fn],yn.prototype={set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return L.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t]}}},__class__:yn};var wn=function(){this.h={__keys__:{}}};(i["haxe.ds.ObjectMap"]=wn).__name__=["haxe","ds","ObjectMap"],wn.__interfaces__=[fn],wn.assignId=function(t){return t.__id__=++wn.count},wn.getId=function(t){return t.__id__},wn.prototype={set:function(t,e){var i=t.__id__||(t.__id__=++wn.count);this.h[i]=e,this.h.__keys__[i]=t},get:function(t){return this.h[t.__id__]},exists:function(t){return null!=this.h.__keys__[t.__id__]},remove:function(t){var e=t.__id__;return null!=this.h.__keys__[e]&&(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return L.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t.__id__]}}},__class__:wn};var xn=function(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length};(i["haxe.ds._StringMap.StringMapIterator"]=xn).__name__=["haxe","ds","_StringMap","StringMapIterator"],xn.prototype={hasNext:function(){return this.index<this.count},next:function(){var t=this.map,e=this.keys[this.index++];return null!=Kf[e]?t.getReserved(e):t.h[e]},__class__:xn};var Tn=function(){this.h={}};(i["haxe.ds.StringMap"]=Tn).__name__=["haxe","ds","StringMap"],Tn.__interfaces__=[fn],Tn.prototype={set:function(t,e){null!=Kf[t]?this.setReserved(t,e):this.h[t]=e},get:function(t){return null!=Kf[t]?this.getReserved(t):this.h[t]},exists:function(t){return null!=Kf[t]?this.existsReserved(t):this.h.hasOwnProperty(t)},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=Kf[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return L.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},iterator:function(){return new xn(this,this.arrayKeys())},__class__:Tn};var Sn={};(i["haxe.ds._Vector.Vector_Impl_"]=Sn).__name__=["haxe","ds","_Vector","Vector_Impl_"],Sn.blit=function(t,e,i,s,n){if(t==i){if(e<s)for(var a=e+n,r=s+n,o=0,h=n;o<h;){o++;--a,t[--r]=t[a]}else if(s<e)for(var _=e,l=s,u=0,c=n;u<c;){u++;t[l]=t[_],++_,++l}}else for(var f=0,d=n;f<d;){var p=f++;i[s+p]=t[e+p]}};var Cn=function(){this.b=[]};(i["haxe.io.BytesBuffer"]=Cn).__name__=["haxe","io","BytesBuffer"],Cn.prototype={addInt32:function(t){this.b.push(255&t),this.b.push(t>>8&255),this.b.push(t>>16&255),this.b.push(t>>>24)},addInt64:function(t){this.addInt32(t.low),this.addInt32(t.high)},getBytes:function(){var t=new tn(new Qf(this.b).buffer);return this.b=null,t},__class__:Cn};function En(){}(i["haxe.io.Eof"]=En).__name__=["haxe","io","Eof"],En.prototype={toString:function(){return"Eof"},__class__:En};var kn=i["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};kn.Blocked=["Blocked",0],kn.Blocked.toString=f,(kn.Blocked.__enum__=kn).Overflow=["Overflow",1],kn.Overflow.toString=f,(kn.Overflow.__enum__=kn).OutsideBounds=["OutsideBounds",2],kn.OutsideBounds.toString=f,(kn.OutsideBounds.__enum__=kn).Custom=function(t){var e=["Custom",3,t];return e.__enum__=kn,e.toString=f,e};var Dn=function(){};(i["haxe.io.FPHelper"]=Dn).__name__=["haxe","io","FPHelper"],Dn.i32ToFloat=function(t){var e=t>>>23&255,i=8388607&t;return 0==i&&0==e?0:(1-(t>>>31<<1))*(1+Math.pow(2,-23)*i)*Math.pow(2,e-127)},Dn.floatToI32=function(t){if(0==t)return 0;var e=t<0?-t:t,i=Math.floor(Math.log(e)/.6931471805599453);i<-127?i=-127:128<i&&(i=128);var s=Math.round(8388608*(e/Math.pow(2,i)-1));return 8388608==s&&i<128&&(s=0,++i),(t<0?-2147483648:0)|i+127<<23|s},Dn.i64ToDouble=function(t,e){var i=(e>>20&2047)-1023,s=4294967296*(1048575&e)+2147483648*(t>>>31)+(2147483647&t);return 0==s&&-1023==i?0:(1-(e>>>31<<1))*(1+Math.pow(2,-52)*s)*Math.pow(2,i)},Dn.doubleToI64=function(t){var e=Dn.i64tmp;if(0==t)e.low=0,e.high=0;else if(isFinite(t)){var i=t<0?-t:t,s=Math.floor(Math.log(i)/.6931471805599453),n=Math.round(4503599627370496*(i/Math.pow(2,s)-1)),a=0|n,r=n/4294967296|0;e.low=a,e.high=(t<0?-2147483648:0)|s+1023<<20|r}else 0<t?(e.low=0,e.high=2146435072):(e.low=0,e.high=-1048576);return e};var An={};(i["haxe.io._Int32Array.Int32Array_Impl_"]=An).__name__=["haxe","io","_Int32Array","Int32Array_Impl_"],An.fromArray=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length-e),e<0||i<0||e+i>t.length)throw new qn(kn.OutsideBounds);if(0==e&&i==t.length)return new Int32Array(t);for(var s=new Int32Array(t.length),n=0,a=i;n<a;){var r=n++;s[r]=0|t[r+e]}return s},An.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e>>2),new Int32Array(t.b.bufferValue,e,i)};function Mn(t){switch(t){case".":case"..":return this.dir=t,void(this.file="")}var e=t.lastIndexOf("/"),i=t.lastIndexOf("\\");e<i?(this.dir=L.substr(t,0,i),t=L.substr(t,i+1,null),this.backslash=!0):i<e?(this.dir=L.substr(t,0,e),t=L.substr(t,e+1,null)):this.dir=null;var s=t.lastIndexOf(".");-1!=s?(this.ext=L.substr(t,s+1,null),this.file=L.substr(t,0,s)):(this.ext=null,this.file=t)}(i["haxe.io.Path"]=Mn).__name__=["haxe","io","Path"],Mn.withoutExtension=function(t){var e=new Mn(t);return e.ext=null,e.toString()},Mn.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Mn};var Rn={};(i["haxe.io._UInt16Array.UInt16Array_Impl_"]=Rn).__name__=["haxe","io","_UInt16Array","UInt16Array_Impl_"],Rn.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e>>1),new Uint16Array(t.b.bufferValue,e,i)};var Fn={};(i["haxe.io._UInt8Array.UInt8Array_Impl_"]=Fn).__name__=["haxe","io","_UInt8Array","UInt8Array_Impl_"],Fn.fromArray=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length-e),e<0||i<0||e+i>t.length)throw new qn(kn.OutsideBounds);if(0==e&&i==t.length)return new Qf(t);for(var s=new Qf(t.length),n=0,a=i;n<a;){var r=n++;s[r]=255&t[r+e]}return s},Fn.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e),new Qf(t.b.bufferValue,e,i)};var Bn=function(){};(i["haxe.rtti.Meta"]=Bn).__name__=["haxe","rtti","Meta"],Bn.getType=function(t){var e=Bn.getMeta(t);return null==e||null==e.obj?{}:e.obj},Bn.getMeta=function(t){return t.__meta__};function Ln(t,e,i){this.xml=e,this.message=t,this.position=i,this.lineNumber=1;for(var s=this.positionAtLine=0,n=i;s<n;){var a=s++,r=e.charCodeAt(a);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}}(i["haxe.xml.XmlParserException"]=Ln).__name__=["haxe","xml","XmlParserException"],Ln.prototype={toString:function(){return mi.getClassName(Jn.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Ln};var Nn=function(){};(i["haxe.xml.Parser"]=Nn).__name__=["haxe","xml","Parser"],Nn.parse=function(t,e){null==e&&(e=!1);var i=G.createDocument();return Nn.doParse(t,e,0,i),i},Nn.doParse=function(t,e,i,s){null==i&&(i=0);for(var n=null,a=1,r=1,o=null,h=0,_=0,l=0,u=t.charCodeAt(i),c=new U,f=1,d=-1;u==u;){switch(a){case 0:switch(u){case 9:case 10:case 13:case 32:break;default:a=r;continue}break;case 1:if(60!=u){h=i,a=13;continue}a=0,r=2;break;case 2:switch(u){case 33:if(91==t.charCodeAt(i+1)){if(i+=2,"CDATA["!=L.substr(t,i,6).toUpperCase())throw new qn(new Ln("Expected <![CDATA[",t,i));a=17,h=(i+=5)+1}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=L.substr(t,i+2,6).toUpperCase())throw new qn(new Ln("Expected <!DOCTYPE",t,i));a=16,h=(i+=8)+1}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw new qn(new Ln("Expected \x3c!--",t,i));a=15,h=(i+=2)+1}break;case 47:if(null==s)throw new qn(new Ln("Expected node name",t,i));h=i+1,a=0,r=10;break;case 63:a=14,h=i;break;default:a=3,h=i;continue}break;case 3:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(i==h)throw new qn(new Ln("Expected node name",t,i));n=G.createElement(L.substr(t,h,i-h)),s.addChild(n),++_,a=0,r=4;continue;case 4:switch(u){case 47:a=11;break;case 62:a=9;break;default:a=5,h=i;continue}break;case 5:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(h==i)throw new qn(new Ln("Expected attribute name",t,i));if(o=L.substr(t,h,i-h),n.exists(o))throw new qn(new Ln("Duplicate attribute ["+o+"]",t,i));a=0,r=6;continue;case 6:if(61!=u)throw new qn(new Ln("Expected =",t,i));a=0,r=7;break;case 7:switch(u){case 34:case 39:c=new U,a=8,h=i+1,d=u;break;default:throw new qn(new Ln('Expected "',t,i))}break;case 8:switch(u){case 38:var p=i-h;c.b+=null==p?L.substr(t,h,null):L.substr(t,h,p),a=18,f=8,h=i+1;break;case 60:case 62:if(e)throw new qn(new Ln("Invalid unescaped "+String.fromCharCode(u)+" in attribute value",t,i));if(u==d){var g=i-h;c.b+=null==g?L.substr(t,h,null):L.substr(t,h,g);var m=c.b;c=new U,n.set(o,m),a=0,r=4}break;default:if(u==d){var v=i-h;c.b+=null==v?L.substr(t,h,null):L.substr(t,h,v);var b=c.b;c=new U,n.set(o,b),a=0,r=4}}break;case 9:h=i=Nn.doParse(t,e,i,n),a=1;break;case 10:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(h==i)throw new qn(new Ln("Expected node name",t,i));var y=L.substr(t,h,i-h);if(s.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+s.nodeType);if(y!=s.nodeName){if(s.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+s.nodeType);throw new qn(new Ln("Expected </"+s.nodeName+">",t,i))}a=0,r=12;continue;case 11:if(62!=u)throw new qn(new Ln("Expected >",t,i));a=1;break;case 12:if(62==u)return 0==_&&s.addChild(G.createPCData("")),i;throw new qn(new Ln("Expected >",t,i));case 13:if(60==u){var w=i-h;c.b+=null==w?L.substr(t,h,null):L.substr(t,h,w);var x=G.createPCData(c.b);c=new U,s.addChild(x),++_,a=0,r=2}else if(38==u){var T=i-h;c.b+=null==T?L.substr(t,h,null):L.substr(t,h,T),a=18,f=13,h=i+1}break;case 14:if(63==u&&62==t.charCodeAt(i+1)){++i;var S=L.substr(t,h+1,i-h-2);s.addChild(G.createProcessingInstruction(S)),++_,a=1}break;case 15:45==u&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(s.addChild(G.createComment(L.substr(t,h,i-h))),++_,i+=2,a=1);break;case 16:91==u?++l:93==u?--l:62==u&&0==l&&(s.addChild(G.createDocType(L.substr(t,h,i-h))),++_,a=1);break;case 17:if(93==u&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)){var C=G.createCData(L.substr(t,h,i-h));s.addChild(C),++_,i+=2,a=1}break;case 18:if(59==u){var E=L.substr(t,h,i-h);if(35==E.charCodeAt(0)){var I=120==E.charCodeAt(1)?O.parseInt("0"+L.substr(E,1,E.length-1)):O.parseInt(L.substr(E,1,E.length-1));c.b+=String.fromCharCode(I)}else{var P=Nn.escapes;if(null!=Kf[E]?P.existsReserved(E):P.h.hasOwnProperty(E)){var k=Nn.escapes,D=null!=Kf[E]?k.getReserved(E):k.h[E];c.b+=O.string(D)}else{if(e)throw new qn(new Ln("Undefined entity: "+E,t,i));c.b+=O.string("&"+E+";")}}h=i+1,a=f}else if(!(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)&&35!=u){if(e)throw new qn(new Ln("Invalid character in entity: "+String.fromCharCode(u),t,i));c.b+="&";var A=i-h;c.b+=null==A?L.substr(t,h,null):L.substr(t,h,A),h=i--,a=f}}u=t.charCodeAt(++i)}if(1==a&&(h=i,a=13),13==a){if(i!=h||0==_){var M=i-h;c.b+=null==M?L.substr(t,h,null):L.substr(t,h,M),s.addChild(G.createPCData(c.b)),++_}return i}if(e||18!=a||13!=f)throw new qn(new Ln("Unexpected end",t,i));c.b+="&";var R=i-h;return c.b+=null==R?L.substr(t,h,null):L.substr(t,h,R),s.addChild(G.createPCData(c.b)),++_,i};var On=function(t){this.output=new U,this.pretty=t};(i["haxe.xml.Printer"]=On).__name__=["haxe","xml","Printer"],On.print=function(t,e){null==e&&(e=!1);var i=new On(e);return i.writeNode(t,""),i.output.b},On.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=O.string(e+"<"),t.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+t.nodeType);this.output.b+=O.string(t.nodeName);for(var i=t.attributes();i.hasNext();){var s=i.next();this.output.b+=O.string(" "+s+'="');var n=In.htmlEscape(t.get(s),!0);this.output.b+=O.string(n),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=G.Document&&t.nodeType!=G.Element)throw new qn("Bad node type, expected Element or Document but found "+t.nodeType);for(var a=L.iter(t.children);a.hasNext();){var r=a.next();this.writeNode(r,this.pretty?e+"\t":e)}if(this.output.b+=O.string(e+"</"),t.nodeType!=G.Element)throw new qn("Bad node type, expected Element but found "+t.nodeType);this.output.b+=O.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==G.Document||t.nodeType==G.Element)throw new qn("Bad node type, unexpected "+t.nodeType);var o=t.nodeValue;if(0!=o.length){var h=e+In.htmlEscape(o);this.output.b+=O.string(h),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=O.string(e+"<![CDATA["),t.nodeType==G.Document||t.nodeType==G.Element)throw new qn("Bad node type, unexpected "+t.nodeType);var _=In.trim(t.nodeValue);this.output.b+=O.string(_),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==G.Document||t.nodeType==G.Element)throw new qn("Bad node type, unexpected "+t.nodeType);var l=t.nodeValue,u=new RegExp("[\n\r\t]+","g".split("u").join(""));l="\x3c!--"+(l=l.replace(u,""))+"--\x3e",this.output.b+=null==e?"null":""+e;var c=In.trim(l);this.output.b+=O.string(c),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==G.Document||t.nodeType==G.Element)throw new qn("Bad node type, unexpected "+t.nodeType);this.output.b+=O.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==G.Document||t.nodeType==G.Element)throw new qn("Bad node type, unexpected "+t.nodeType);this.output.b+=O.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=G.Document&&t.nodeType!=G.Element)throw new qn("Bad node type, expected Element or Document but found "+t.nodeType);for(var f=L.iter(t.children);f.hasNext();){var d=f.next();this.writeNode(d,e)}}},hasChildren:function(t){if(t.nodeType!=G.Document&&t.nodeType!=G.Element)throw new qn("Bad node type, expected Element or Document but found "+t.nodeType);for(var e=L.iter(t.children);e.hasNext();){var i=e.next();switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==G.Document||i.nodeType==G.Element)throw new qn("Bad node type, unexpected "+i.nodeType);if(0!=In.ltrim(i.nodeValue).length)return!0}}return!1},__class__:On};function Un(t,e){this.from=t,this.to=e}(i["hxbit.ConvertField"]=Un).__name__=["hxbit","ConvertField"],Un.prototype={__class__:Un};var zn=function(t,e){for(var i=new Tn,s=0,n=t.fieldsNames.length;s<n;){var a=s++,r=t.fieldsNames[a],o=t.fieldsTypes[a];null!=Kf[r]?i.setReserved(r,o):i.h[r]=o}if(this.read=[],t.isFinal!=e.isFinal)throw new qn("TODO : handle final flag change");for(var h=new Tn,_=0,l=e.fieldsNames.length;_<l;){var u=_++,c=e.fieldsTypes[u],f=e.fieldsNames[u],d=null!=Kf[f]?i.getReserved(f):i.h[f],p=new Un(c,d);null!=d&&(zn.sameType(c,d)?p.same=!0:p.defaultValue=zn.getDefault(d)),p.index=this.read.length,this.read.push(p);var g=e.fieldsNames[u];null!=Kf[g]?h.setReserved(g,p):h.h[g]=p}this.write=[];for(var m=0,v=t.fieldsNames.length;m<v;){var b=m++,y=t.fieldsTypes[b],w=t.fieldsNames[b],x=null!=Kf[w]?h.getReserved(w):h.h[w];null==x&&((x=new Un(null,y)).defaultValue=zn.getDefault(y)),this.write.push(x)}};(i["hxbit.Convert"]=zn).__name__=["hxbit","Convert"],zn.sameType=function(t,e){switch(t[1]){case 0:switch(e[1]){case 10:var i=e[2];return zn.sameType(t,i);case 16:return!0;default:return mi.enumEq(t,e)}break;case 7:switch(e[1]){case 7:var s=t[2],n=t[3],a=e[3],r=e[2];return!!zn.sameType(s,r)&&zn.sameType(n,a);case 10:var o=e[2];return zn.sameType(t,o);default:return mi.enumEq(t,e)}break;case 8:switch(e[1]){case 8:var h=t[2],_=e[2];return zn.sameType(h,_);case 10:var l=e[2];return zn.sameType(t,l);default:return mi.enumEq(t,e)}break;case 9:switch(e[1]){case 9:var u=t[2],c=e[2];if(u.length!=c.length)return!1;for(var f=0,d=u.length;f<d;){var p=f++,g=u[p],m=c[p];if(g.name!=m.name||g.opt!=m.opt||!zn.sameType(g.type,m.type))return!1}return!0;case 10:var v=e[2];return zn.sameType(t,v);default:return mi.enumEq(t,e)}break;case 10:if(10==e[1]){var b=t[2],y=e[2];return zn.sameType(b,y)}var w=t[2];return zn.sameType(w,e);case 11:switch(e[1]){case 10:var x=e[2];return zn.sameType(t,x);case 11:var T=t[2],S=e[2];return zn.sameType(T,S);default:return mi.enumEq(t,e)}break;case 12:switch(e[1]){case 10:var C=e[2];return zn.sameType(t,C);case 12:var E=t[2],I=e[2];return zn.sameType(E,I);default:return mi.enumEq(t,e)}break;case 16:switch(e[1]){case 0:return!0;case 10:var P=e[2];return zn.sameType(t,P);default:return mi.enumEq(t,e)}break;default:if(10!=e[1])return mi.enumEq(t,e);var k=e[2];return zn.sameType(t,k)}},zn.getDefault=function(t){switch(t[1]){case 1:return 0;case 2:return!1;case 7:switch(t[2][1]){case 0:return new yn;case 3:return new Tn;default:return new wn}break;case 8:return[];case 3:case 4:case 5:case 6:case 9:case 12:case 13:case 14:return null;case 10:var e=t[2];return zn.getDefault(e);case 11:return new Array(0);case 15:return new dn(0,0);case 0:case 16:return 0}},zn.prototype={toString:function(){for(var t=[],e=0,i=this.write.length;e<i;){var s=e++,n=this.write[s];t.push(null==n.from?"insert:"+O.string(n.defaultValue):n.same?s==n.index?"s":"@"+n.index:"@"+n.index+":"+O.string(n.to))}return t.toString()},__class__:zn};var Gn=i["hxbit.RpcMode"]={__ename__:!0,__constructs__:["All","Client","Server","Owner"]};Gn.All=["All",0],Gn.All.toString=f,(Gn.All.__enum__=Gn).Client=["Client",1],Gn.Client.toString=f,(Gn.Client.__enum__=Gn).Server=["Server",2],Gn.Server.toString=f,(Gn.Server.__enum__=Gn).Owner=["Owner",3],Gn.Owner.toString=f,Gn.Owner.__enum__=Gn;var Xn=i["hxbit.PropTypeDesc"]={__ename__:!0,__constructs__:["PInt","PFloat","PBool","PString","PBytes","PSerializable","PEnum","PMap","PArray","PObj","PAlias","PVector","PNull","PUnknown","PDynamic","PInt64","PFlags"]};Xn.PInt=["PInt",0],Xn.PInt.toString=f,(Xn.PInt.__enum__=Xn).PFloat=["PFloat",1],Xn.PFloat.toString=f,(Xn.PFloat.__enum__=Xn).PBool=["PBool",2],Xn.PBool.toString=f,(Xn.PBool.__enum__=Xn).PString=["PString",3],Xn.PString.toString=f,(Xn.PString.__enum__=Xn).PBytes=["PBytes",4],Xn.PBytes.toString=f,(Xn.PBytes.__enum__=Xn).PSerializable=function(t){var e=["PSerializable",5,t];return e.__enum__=Xn,e.toString=f,e},Xn.PEnum=function(t){var e=["PEnum",6,t];return e.__enum__=Xn,e.toString=f,e},Xn.PMap=function(t,e){var i=["PMap",7,t,e];return i.__enum__=Xn,i.toString=f,i},Xn.PArray=function(t){var e=["PArray",8,t];return e.__enum__=Xn,e.toString=f,e},Xn.PObj=function(t){var e=["PObj",9,t];return e.__enum__=Xn,e.toString=f,e},Xn.PAlias=function(t){var e=["PAlias",10,t];return e.__enum__=Xn,e.toString=f,e},Xn.PVector=function(t){var e=["PVector",11,t];return e.__enum__=Xn,e.toString=f,e},Xn.PNull=function(t){var e=["PNull",12,t];return e.__enum__=Xn,e.toString=f,e},Xn.PUnknown=["PUnknown",13],Xn.PUnknown.toString=f,(Xn.PUnknown.__enum__=Xn).PDynamic=["PDynamic",14],Xn.PDynamic.toString=f,(Xn.PDynamic.__enum__=Xn).PInt64=["PInt64",15],Xn.PInt64.toString=f,(Xn.PInt64.__enum__=Xn).PFlags=function(t){var e=["PFlags",16,t];return e.__enum__=Xn,e.toString=f,e};function Vn(){}(i["hxbit.Macros"]=Vn).__name__=["hxbit","Macros"];var Hn=function(){this.__uid=at.SEQ<<24|++at.UID,this.fieldsNames=[],this.fieldsTypes=[]};(i["hxbit.Schema"]=Hn).__name__=["hxbit","Schema"],Hn.__interfaces__=[nt],Hn.prototype={get_checkSum:function(){var t=new at;t.begin();var e=this.__uid;this.__uid=0,t.addKnownRef(this),this.__uid=e;var i=t.end();return vn.make(i)},getCLID:function(){return Hn.__clid},serialize:function(t){t.out.b.push(this.isFinal?1:0);var e=this.fieldsNames;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=0;s<e.length;){var n=e[s];if(++s,null==n)t.out.b.push(0);else{var a=tn.ofString(n),r=a.length+1;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));for(var o=t.out,h=(o.b,a.b),_=0,l=a.length;_<l;){var u=_++;o.b.push(h[u])}}}}var c=this.fieldsTypes;if(null==c)t.out.b.push(0);else{var f=c.length+1;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f));for(var d=0;d<c.length;){var p=c[d];++d,Kn.doSerialize(t,p)}}},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("isFinal"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("fieldsNames"),t.fieldsTypes.push(Xn.PArray(Xn.PString)),t.fieldsNames.push("fieldsTypes"),t.fieldsTypes.push(Xn.PArray(Xn.PEnum("hxbit.PropTypeDesc"))),t.isFinal=at.isClassFinal(Hn.__clid),t},unserializeInit:function(){},unserialize:function(t){var e;this.isFinal=0!=t.input.b[t.inPos++];var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var s,n,a=i;if(0==a)s=null;else{for(var r=[],o=0,h=--a;o<h;){var _=o++,l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4);var u=l;if(0==u)e=null;else{--u;var c=t.input.getString(t.inPos,u);t.inPos+=u,e=c}r[_]=e}s=r}this.fieldsNames=s;var f=t.input.b[t.inPos++];128==f&&(f=t.input.getInt32(t.inPos),t.inPos+=4);var d,p=f;if(0==p)d=null;else{for(var g=[],m=0,v=--p;m<v;){var b=m++;n=Kn.doUnserialize(t),g[b]=n}d=g}this.fieldsTypes=d},__class__:Hn,__properties__:{get_checkSum:"get_checkSum"}};function Yn(){}(i["hxbit.SerializableEnum"]=Yn).__name__=["hxbit","SerializableEnum"];var Wn=function(){};(i["hxbit.enumSer.format_swf_exporters_core_FilterType"]=Wn).__name__=["hxbit","enumSer","format_swf_exporters_core_FilterType"],Wn.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:var i=e[4],s=e[3],n=e[2];t.out.b.push(1),t.out.addInt32(Dn.floatToI32(n)),t.out.addInt32(Dn.floatToI32(s)),0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));break;case 1:var a=e[3],r=e[2];t.out.b.push(2),t.addKnownRef(r),t.addKnownRef(a);break;case 2:var o=e[12],h=e[11],_=e[10],l=e[9],u=e[8],c=e[7],f=e[6],d=e[5],p=e[4],g=e[3],m=e[2];t.out.b.push(3),t.out.addInt32(Dn.floatToI32(m)),t.out.addInt32(Dn.floatToI32(g)),0<=p&&p<128?t.out.b.push(p):(t.out.b.push(128),t.out.addInt32(p)),t.out.addInt32(Dn.floatToI32(d)),t.out.addInt32(Dn.floatToI32(f)),t.out.addInt32(Dn.floatToI32(c)),t.out.addInt32(Dn.floatToI32(u)),0<=l&&l<128?t.out.b.push(l):(t.out.b.push(128),t.out.addInt32(l)),t.out.b.push(_?1:0),t.out.b.push(h?1:0),t.out.b.push(o?1:0);break;case 3:var v=e[9],b=e[8],y=e[7],w=e[6],x=e[5],T=e[4],S=e[3],C=e[2];t.out.b.push(4),0<=C&&C<128?t.out.b.push(C):(t.out.b.push(128),t.out.addInt32(C)),t.out.addInt32(Dn.floatToI32(S)),t.out.addInt32(Dn.floatToI32(T)),t.out.addInt32(Dn.floatToI32(x)),t.out.addInt32(Dn.floatToI32(w)),0<=y&&y<128?t.out.b.push(y):(t.out.b.push(128),t.out.addInt32(y)),t.out.b.push(b?1:0),t.out.b.push(v?1:0);break;case 4:var E=e[12],I=e[11],P=e[10],k=e[9],D=e[8],A=e[7],M=e[6],R=e[5],F=e[4],B=e[3],L=e[2];if(t.out.b.push(5),t.out.addInt32(Dn.floatToI32(L)),t.out.addInt32(Dn.floatToI32(B)),null==F)t.out.b.push(0);else{var N=F.length+1;0<=N&&N<128?t.out.b.push(N):(t.out.b.push(128),t.out.addInt32(N));for(var O=0;O<F.length;){var U=F[O];++O,0<=U&&U<128?t.out.b.push(U):(t.out.b.push(128),t.out.addInt32(U))}}if(null==R)t.out.b.push(0);else{var z=R.length+1;0<=z&&z<128?t.out.b.push(z):(t.out.b.push(128),t.out.addInt32(z));for(var G=0;G<R.length;){var X=R[G];++G,t.out.addInt32(Dn.floatToI32(X))}}if(null==M)t.out.b.push(0);else{var V=M.length+1;0<=V&&V<128?t.out.b.push(V):(t.out.b.push(128),t.out.addInt32(V));for(var H=0;H<M.length;){var Y=M[H];++H,t.out.addInt32(Dn.floatToI32(Y))}}if(t.out.addInt32(Dn.floatToI32(A)),t.out.addInt32(Dn.floatToI32(D)),t.out.addInt32(Dn.floatToI32(k)),0<=P&&P<128?t.out.b.push(P):(t.out.b.push(128),t.out.addInt32(P)),null==I)t.out.b.push(0);else{t.out.b.push(1);var W=I;0<=W&&W<128?t.out.b.push(W):(t.out.b.push(128),t.out.addInt32(W))}t.out.b.push(E?1:0);break;case 5:var j=e[13],K=e[12],q=e[11],J=e[10],Z=e[9],Q=e[8],$=e[7],tt=e[6],et=e[5],it=e[4],st=e[3],nt=e[2];if(t.out.b.push(6),t.out.addInt32(Dn.floatToI32(nt)),t.out.addInt32(Dn.floatToI32(st)),0<=it&&it<128?t.out.b.push(it):(t.out.b.push(128),t.out.addInt32(it)),t.out.addInt32(Dn.floatToI32(et)),0<=tt&&tt<128?t.out.b.push(tt):(t.out.b.push(128),t.out.addInt32(tt)),t.out.addInt32(Dn.floatToI32($)),t.out.addInt32(Dn.floatToI32(Q)),t.out.addInt32(Dn.floatToI32(Z)),t.out.addInt32(Dn.floatToI32(J)),0<=q&&q<128?t.out.b.push(q):(t.out.b.push(128),t.out.addInt32(q)),null==K)t.out.b.push(0);else{t.out.b.push(1);var at=K;0<=at&&at<128?t.out.b.push(at):(t.out.b.push(128),t.out.addInt32(at))}t.out.b.push(j?1:0);break;case 6:var rt=e[12],ot=e[11],ht=e[10],_t=e[9],lt=e[8],ut=e[7],ct=e[6],ft=e[5],dt=e[4],pt=e[3],gt=e[2];if(t.out.b.push(7),t.out.addInt32(Dn.floatToI32(gt)),t.out.addInt32(Dn.floatToI32(pt)),null==dt)t.out.b.push(0);else{var mt=dt.length+1;0<=mt&&mt<128?t.out.b.push(mt):(t.out.b.push(128),t.out.addInt32(mt));for(var vt=0;vt<dt.length;){var bt=dt[vt];++vt,0<=bt&&bt<128?t.out.b.push(bt):(t.out.b.push(128),t.out.addInt32(bt))}}if(null==ft)t.out.b.push(0);else{var yt=ft.length+1;0<=yt&&yt<128?t.out.b.push(yt):(t.out.b.push(128),t.out.addInt32(yt));for(var wt=0;wt<ft.length;){var xt=ft[wt];++wt,t.out.addInt32(Dn.floatToI32(xt))}}if(null==ct)t.out.b.push(0);else{var Tt=ct.length+1;0<=Tt&&Tt<128?t.out.b.push(Tt):(t.out.b.push(128),t.out.addInt32(Tt));for(var St=0;St<ct.length;){var Ct=ct[St];++St,t.out.addInt32(Dn.floatToI32(Ct))}}if(t.out.addInt32(Dn.floatToI32(ut)),t.out.addInt32(Dn.floatToI32(lt)),t.out.addInt32(Dn.floatToI32(_t)),0<=ht&&ht<128?t.out.b.push(ht):(t.out.b.push(128),t.out.addInt32(ht)),null==ot)t.out.b.push(0);else{t.out.b.push(1);var Et=ot;0<=Et&&Et<128?t.out.b.push(Et):(t.out.b.push(128),t.out.addInt32(Et))}t.out.b.push(rt?1:0)}},Wn.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:var i,s,n=t.input.getFloat(t.inPos);t.inPos+=4,i=n;var a,r=t.input.getFloat(t.inPos);t.inPos+=4,s=r;var o=t.input.b[t.inPos++];return 128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4),a=o,Ye.BlurFilter(i,s,a);case 2:var h=t.getRef(ru,ru.__clid),_=t.getRef(ru,ru.__clid);return Ye.ColorMatrixFilter(h,_);case 3:var l,u,c=t.input.getFloat(t.inPos);t.inPos+=4,l=c;var f,d=t.input.getFloat(t.inPos);t.inPos+=4,u=d;var p,g=t.input.b[t.inPos++];128==g&&(g=t.input.getInt32(t.inPos),t.inPos+=4),f=g;var m,v=t.input.getFloat(t.inPos);t.inPos+=4,p=v;var b,y=t.input.getFloat(t.inPos);t.inPos+=4,m=y;var w,x=t.input.getFloat(t.inPos);t.inPos+=4,b=x;var T,S=t.input.getFloat(t.inPos);t.inPos+=4,w=S;var C=t.input.b[t.inPos++];128==C&&(C=t.input.getInt32(t.inPos),t.inPos+=4),T=C;var E=0!=t.input.b[t.inPos++],I=0!=t.input.b[t.inPos++],P=0!=t.input.b[t.inPos++];return Ye.DropShadowFilter(l,u,f,p,m,b,w,T,E,I,P);case 4:var k,D,A=t.input.b[t.inPos++];128==A&&(A=t.input.getInt32(t.inPos),t.inPos+=4),k=A;var M,R=t.input.getFloat(t.inPos);t.inPos+=4,D=R;var F,B=t.input.getFloat(t.inPos);t.inPos+=4,M=B;var L,N=t.input.getFloat(t.inPos);t.inPos+=4,F=N;var O,U=t.input.getFloat(t.inPos);t.inPos+=4,L=U;var z=t.input.b[t.inPos++];128==z&&(z=t.input.getInt32(t.inPos),t.inPos+=4),O=z;var G=0!=t.input.b[t.inPos++],X=0!=t.input.b[t.inPos++];return Ye.GlowFilter(k,D,M,F,L,O,G,X);case 5:var V,H,Y=t.input.getFloat(t.inPos);t.inPos+=4,V=Y;var W,j,K=t.input.getFloat(t.inPos);t.inPos+=4,H=K;var q=t.input.b[t.inPos++];128==q&&(q=t.input.getInt32(t.inPos),t.inPos+=4);var J,Z,Q=q;if(0==Q)W=null;else{for(var $=[],tt=0,et=--Q;tt<et;){var it=tt++,st=t.input.b[t.inPos++];128==st&&(st=t.input.getInt32(t.inPos),t.inPos+=4),j=st,$[it]=j}W=$}var nt=t.input.b[t.inPos++];128==nt&&(nt=t.input.getInt32(t.inPos),t.inPos+=4);var at,rt,ot=nt;if(0==ot)J=null;else{for(var ht=[],_t=0,lt=--ot;_t<lt;){var ut=_t++,ct=t.input.getFloat(t.inPos);t.inPos+=4,Z=ct,ht[ut]=Z}J=ht}var ft=t.input.b[t.inPos++];128==ft&&(ft=t.input.getInt32(t.inPos),t.inPos+=4);var dt,pt=ft;if(0==pt)at=null;else{for(var gt=[],mt=0,vt=--pt;mt<vt;){var bt=mt++,yt=t.input.getFloat(t.inPos);t.inPos+=4,rt=yt,gt[bt]=rt}at=gt}var wt,xt=t.input.getFloat(t.inPos);t.inPos+=4,dt=xt;var Tt,St=t.input.getFloat(t.inPos);t.inPos+=4,wt=St;var Ct,Et=t.input.getFloat(t.inPos);t.inPos+=4,Tt=Et;var It,Pt,kt=t.input.b[t.inPos++];if(128==kt&&(kt=t.input.getInt32(t.inPos),t.inPos+=4),Ct=kt,0==t.input.b[t.inPos++])Pt=null;else{var Dt=t.input.b[t.inPos++];128==Dt&&(Dt=t.input.getInt32(t.inPos),t.inPos+=4),Pt=Dt}It=Pt;var At=0!=t.input.b[t.inPos++];return Ye.GradientGlowFilter(V,H,W,J,at,dt,wt,Tt,Ct,It,At);case 6:var Mt,Rt,Ft=t.input.getFloat(t.inPos);t.inPos+=4,Mt=Ft;var Bt,Lt=t.input.getFloat(t.inPos);t.inPos+=4,Rt=Lt;var Nt,Ot=t.input.b[t.inPos++];128==Ot&&(Ot=t.input.getInt32(t.inPos),t.inPos+=4),Bt=Ot;var Ut,zt=t.input.getFloat(t.inPos);t.inPos+=4,Nt=zt;var Gt,Xt=t.input.b[t.inPos++];128==Xt&&(Xt=t.input.getInt32(t.inPos),t.inPos+=4),Ut=Xt;var Vt,Ht=t.input.getFloat(t.inPos);t.inPos+=4,Gt=Ht;var Yt,Wt=t.input.getFloat(t.inPos);t.inPos+=4,Vt=Wt;var jt,Kt=t.input.getFloat(t.inPos);t.inPos+=4,Yt=Kt;var qt,Jt=t.input.getFloat(t.inPos);t.inPos+=4,jt=Jt;var Zt,Qt,$t=t.input.b[t.inPos++];if(128==$t&&($t=t.input.getInt32(t.inPos),t.inPos+=4),qt=$t,0==t.input.b[t.inPos++])Qt=null;else{var te=t.input.b[t.inPos++];128==te&&(te=t.input.getInt32(t.inPos),t.inPos+=4),Qt=te}Zt=Qt;var ee=0!=t.input.b[t.inPos++];return Ye.BevelFilter(Mt,Rt,Bt,Nt,Ut,Gt,Vt,Yt,jt,qt,Zt,ee);case 7:var ie,se,ne=t.input.getFloat(t.inPos);t.inPos+=4,ie=ne;var ae,re,oe=t.input.getFloat(t.inPos);t.inPos+=4,se=oe;var he=t.input.b[t.inPos++];128==he&&(he=t.input.getInt32(t.inPos),t.inPos+=4);var _e,le,ue=he;if(0==ue)ae=null;else{for(var ce=[],fe=0,de=--ue;fe<de;){var pe=fe++,ge=t.input.b[t.inPos++];128==ge&&(ge=t.input.getInt32(t.inPos),t.inPos+=4),re=ge,ce[pe]=re}ae=ce}var me=t.input.b[t.inPos++];128==me&&(me=t.input.getInt32(t.inPos),t.inPos+=4);var ve,be,ye=me;if(0==ye)_e=null;else{for(var we=[],xe=0,Te=--ye;xe<Te;){var Se=xe++,Ce=t.input.getFloat(t.inPos);t.inPos+=4,le=Ce,we[Se]=le}_e=we}var Ee=t.input.b[t.inPos++];128==Ee&&(Ee=t.input.getInt32(t.inPos),t.inPos+=4);var Ie,Pe=Ee;if(0==Pe)ve=null;else{for(var ke=[],De=0,Ae=--Pe;De<Ae;){var Me=De++,Re=t.input.getFloat(t.inPos);t.inPos+=4,be=Re,ke[Me]=be}ve=ke}var Fe,Be=t.input.getFloat(t.inPos);t.inPos+=4,Ie=Be;var Le,Ne=t.input.getFloat(t.inPos);t.inPos+=4,Fe=Ne;var Oe,Ue=t.input.getFloat(t.inPos);t.inPos+=4,Le=Ue;var ze,Ge,Xe=t.input.b[t.inPos++];if(128==Xe&&(Xe=t.input.getInt32(t.inPos),t.inPos+=4),Oe=Xe,0==t.input.b[t.inPos++])Ge=null;else{var Ve=t.input.b[t.inPos++];128==Ve&&(Ve=t.input.getInt32(t.inPos),t.inPos+=4),Ge=Ve}ze=Ge;var He=0!=t.input.b[t.inPos++];return Ye.GradientBevelFilter(ie,se,ae,_e,ve,Ie,Fe,Le,Oe,ze,He);default:throw new qn("Invalid enum index "+e)}},Wn.getSchema=function(){for(var t=new Hn,e=t.fieldsTypes,i=[],s=0,n=[Xn.PInt];s<n.length;){var a=n[s];++s,i.push({name:"",type:a,opt:!1})}e.push(Xn.PObj(i)),t.fieldsNames.push("BlurFilter");for(var r=t.fieldsTypes,o=[],h=0,_=[Xn.PSerializable("openfl.utils.Float32ArrayContainer")];h<_.length;){var l=_[h];++h,o.push({name:"",type:l,opt:!1})}r.push(Xn.PObj(o)),t.fieldsNames.push("ColorMatrixFilter");for(var u=t.fieldsTypes,c=[],f=0,d=[Xn.PBool];f<d.length;){var p=d[f];++f,c.push({name:"",type:p,opt:!1})}u.push(Xn.PObj(c)),t.fieldsNames.push("DropShadowFilter");for(var g=t.fieldsTypes,m=[],v=0,b=[Xn.PBool];v<b.length;){var y=b[v];++v,m.push({name:"",type:y,opt:!1})}g.push(Xn.PObj(m)),t.fieldsNames.push("GlowFilter");for(var w=t.fieldsTypes,x=[],T=0,S=[Xn.PBool];T<S.length;){var C=S[T];++T,x.push({name:"",type:C,opt:!1})}w.push(Xn.PObj(x)),t.fieldsNames.push("GradientGlowFilter");for(var E=t.fieldsTypes,I=[],P=0,k=[Xn.PBool];P<k.length;){var D=k[P];++P,I.push({name:"",type:D,opt:!1})}E.push(Xn.PObj(I)),t.fieldsNames.push("BevelFilter");for(var A=t.fieldsTypes,M=[],R=0,F=[Xn.PBool];R<F.length;){var B=F[R];++R,M.push({name:"",type:B,opt:!1})}return A.push(Xn.PObj(M)),t.fieldsNames.push("GradientBevelFilter"),t};var jn=function(){};(i["hxbit.enumSer.format_swf_lite_timeline_FrameObjectType"]=jn).__name__=["hxbit","enumSer","format_swf_lite_timeline_FrameObjectType"],jn.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:t.out.b.push(1);break;case 1:t.out.b.push(2);break;case 2:t.out.b.push(3);break;case 3:t.out.b.push(4)}},jn.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:return Si.CREATE;case 2:return Si.UPDATE;case 3:return Si.UPDATE_CHARACTER;case 4:return Si.DESTROY;default:throw new qn("Invalid enum index "+e)}},jn.getSchema=function(){var t=new Hn;return t.fieldsTypes.push(null),t.fieldsNames.push("CREATE"),t.fieldsTypes.push(null),t.fieldsNames.push("UPDATE"),t.fieldsTypes.push(null),t.fieldsNames.push("UPDATE_CHARACTER"),t.fieldsTypes.push(null),t.fieldsNames.push("DESTROY"),t};var Kn=function(){};(i["hxbit.enumSer.hxbit_PropTypeDesc"]=Kn).__name__=["hxbit","enumSer","hxbit_PropTypeDesc"],Kn.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:t.out.b.push(1);break;case 1:t.out.b.push(2);break;case 2:t.out.b.push(3);break;case 3:t.out.b.push(4);break;case 4:t.out.b.push(5);break;case 5:var i=e[2];if(t.out.b.push(6),null==i)t.out.b.push(0);else{var s=tn.ofString(i),n=s.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var a=t.out,r=(a.b,s.b),o=0,h=s.length;o<h;){var _=o++;a.b.push(r[_])}}break;case 6:var l=e[2];if(t.out.b.push(7),null==l)t.out.b.push(0);else{var u=tn.ofString(l),c=u.length+1;0<=c&&c<128?t.out.b.push(c):(t.out.b.push(128),t.out.addInt32(c));for(var f=t.out,d=(f.b,u.b),p=0,g=u.length;p<g;){var m=p++;f.b.push(d[m])}}break;case 7:var v=e[3],b=e[2];t.out.b.push(8),Kn.doSerialize(t,b),Kn.doSerialize(t,v);break;case 8:var y=e[2];t.out.b.push(9),Kn.doSerialize(t,y);break;case 9:var w=e[2];if(t.out.b.push(10),null==w)t.out.b.push(0);else{var x=w.length+1;0<=x&&x<128?t.out.b.push(x):(t.out.b.push(128),t.out.addInt32(x));for(var T=0;T<w.length;){var S=w[T];++T;var C=S;if(null==C)t.out.b.push(0);else{var E=0;null!=C.name&&(E|=1),null!=C.type&&(E|=2);var I=E+1;if(0<=I&&I<128?t.out.b.push(I):(t.out.b.push(128),t.out.addInt32(I)),0!=(1&E)){var P=C.name;if(null==P)t.out.b.push(0);else{var k=tn.ofString(P),D=k.length+1;0<=D&&D<128?t.out.b.push(D):(t.out.b.push(128),t.out.addInt32(D));for(var A=t.out,M=(A.b,k.b),R=0,F=k.length;R<F;){var B=R++;A.b.push(M[B])}}}t.out.b.push(C.opt?1:0),0!=(2&E)&&Kn.doSerialize(t,C.type)}}}break;case 10:var L=e[2];t.out.b.push(11),Kn.doSerialize(t,L);break;case 11:var N=e[2];t.out.b.push(12),Kn.doSerialize(t,N);break;case 12:var O=e[2];t.out.b.push(13),Kn.doSerialize(t,O);break;case 13:t.out.b.push(14);break;case 14:t.out.b.push(15);break;case 15:t.out.b.push(16);break;case 16:var U=e[2];t.out.b.push(17),Kn.doSerialize(t,U)}},Kn.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:return Xn.PInt;case 2:return Xn.PFloat;case 3:return Xn.PBool;case 4:return Xn.PString;case 5:return Xn.PBytes;case 6:var i,s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4);var n=s;if(0==n)i=null;else{--n;var a=t.input.getString(t.inPos,n);t.inPos+=n,i=a}return Xn.PSerializable(i);case 7:var r,o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4);var h=o;if(0==h)r=null;else{--h;var _=t.input.getString(t.inPos,h);t.inPos+=h,r=_}return Xn.PEnum(r);case 8:var l,u;return l=Kn.doUnserialize(t),u=Kn.doUnserialize(t),Xn.PMap(l,u);case 9:var c;return c=Kn.doUnserialize(t),Xn.PArray(c);case 10:var f,d,p=t.input.b[t.inPos++];128==p&&(p=t.input.getInt32(t.inPos),t.inPos+=4);var g=p;if(0==g)f=null;else{for(var m=[],v=0,b=--g;v<b;){var y=v++,w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x=w;if(0==x)d=null;else{var T,S=null,C=null;if(0!=(1&--x)){var E=t.input.b[t.inPos++];128==E&&(E=t.input.getInt32(t.inPos),t.inPos+=4);var I=E;if(0==I)C=null;else{--I;var P=t.input.getString(t.inPos,I);t.inPos+=I,C=P}}if(T=0!=t.input.b[t.inPos++],0!=(2&x))S=Kn.doUnserialize(t);d={name:C,opt:T,type:S}}m[y]=d}f=m}return Xn.PObj(f);case 11:var k;return k=Kn.doUnserialize(t),Xn.PAlias(k);case 12:var D;return D=Kn.doUnserialize(t),Xn.PVector(D);case 13:var A;return A=Kn.doUnserialize(t),Xn.PNull(A);case 14:return Xn.PUnknown;case 15:return Xn.PDynamic;case 16:return Xn.PInt64;case 17:var M;return M=Kn.doUnserialize(t),Xn.PFlags(M);default:throw new qn("Invalid enum index "+e)}},Kn.getSchema=function(){var t=new Hn;t.fieldsTypes.push(null),t.fieldsNames.push("PInt"),t.fieldsTypes.push(null),t.fieldsNames.push("PFloat"),t.fieldsTypes.push(null),t.fieldsNames.push("PBool"),t.fieldsTypes.push(null),t.fieldsNames.push("PString"),t.fieldsTypes.push(null),t.fieldsNames.push("PBytes");for(var e=t.fieldsTypes,i=[],s=0,n=[Xn.PString];s<n.length;){var a=n[s];++s,i.push({name:"",type:a,opt:!1})}e.push(Xn.PObj(i)),t.fieldsNames.push("PSerializable");for(var r=t.fieldsTypes,o=[],h=0,_=[Xn.PString];h<_.length;){var l=_[h];++h,o.push({name:"",type:l,opt:!1})}r.push(Xn.PObj(o)),t.fieldsNames.push("PEnum");for(var u=t.fieldsTypes,c=[],f=0,d=[Xn.PEnum("hxbit.PropTypeDesc")];f<d.length;){var p=d[f];++f,c.push({name:"",type:p,opt:!1})}u.push(Xn.PObj(c)),t.fieldsNames.push("PMap");for(var g=t.fieldsTypes,m=[],v=0,b=[Xn.PEnum("hxbit.PropTypeDesc")];v<b.length;){var y=b[v];++v,m.push({name:"",type:y,opt:!1})}g.push(Xn.PObj(m)),t.fieldsNames.push("PArray");for(var w=t.fieldsTypes,x=[],T=0,S=[Xn.PArray(Xn.PObj([{opt:!1,type:Xn.PString,name:"name"},{opt:!1,type:Xn.PBool,name:"opt"},{opt:!1,type:Xn.PEnum("hxbit.PropTypeDesc"),name:"type"}]))];T<S.length;){var C=S[T];++T,x.push({name:"",type:C,opt:!1})}w.push(Xn.PObj(x)),t.fieldsNames.push("PObj");for(var E=t.fieldsTypes,I=[],P=0,k=[Xn.PEnum("hxbit.PropTypeDesc")];P<k.length;){var D=k[P];++P,I.push({name:"",type:D,opt:!1})}E.push(Xn.PObj(I)),t.fieldsNames.push("PAlias");for(var A=t.fieldsTypes,M=[],R=0,F=[Xn.PEnum("hxbit.PropTypeDesc")];R<F.length;){var B=F[R];++R,M.push({name:"",type:B,opt:!1})}A.push(Xn.PObj(M)),t.fieldsNames.push("PVector");for(var L=t.fieldsTypes,N=[],O=0,U=[Xn.PEnum("hxbit.PropTypeDesc")];O<U.length;){var z=U[O];++O,N.push({name:"",type:z,opt:!1})}L.push(Xn.PObj(N)),t.fieldsNames.push("PNull"),t.fieldsTypes.push(null),t.fieldsNames.push("PUnknown"),t.fieldsTypes.push(null),t.fieldsNames.push("PDynamic"),t.fieldsTypes.push(null),t.fieldsNames.push("PInt64");for(var G=t.fieldsTypes,X=[],V=0,H=[Xn.PEnum("hxbit.PropTypeDesc")];V<H.length;){var Y=H[V];++V,X.push({name:"",type:Y,opt:!1})}return G.push(Xn.PObj(X)),t.fieldsNames.push("PFlags"),t};var qn=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,qn)};(i["js._Boot.HaxeError"]=qn).__name__=["js","_Boot","HaxeError"],qn.wrap=function(t){return t instanceof Error?t:new qn(t)},qn.__super__=Error,qn.prototype=s(Error.prototype,{__class__:qn});var Jn=function(){};(i["js.Boot"]=Jn).__name__=["js","Boot"],Jn.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},Jn.__trace=function(t,e){var i,s=null!=e?e.fileName+":"+e.lineNumber+": ":"";if(s+=Jn.__string_rec(t,""),null!=e&&null!=e.customParams)for(var n=0,a=e.customParams;n<a.length;){var r=a[n];++n,s+=","+Jn.__string_rec(r,"")}"undefined"!=typeof document&&null!=(i=document.getElementById("haxe:trace"))?i.innerHTML+=Jn.__unhtml(s)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(s)},Jn.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var i=Jn.__nativeClassName(t);return null!=i?Jn.__resolveNativeClass(i):null},Jn.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var s=t[0]+"(";e+="\t";for(var n=2,a=t.length;n<a;){var r=n++;s+=2!=r?","+Jn.__string_rec(t[r],e):Jn.__string_rec(t[r],e)}return s+")"}var o="[";e+="\t";for(var h=0,_=t.length;h<_;){var l=h++;o+=(0<l?",":"")+Jn.__string_rec(t[l],e)}return o+="]"}var u;try{u=t.toString}catch(t){return cn.lastException=t,"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var c=t.toString();if("[object Object]"!=c)return c}var f=null,d="{\n";e+="\t";var p=null!=t.hasOwnProperty;for(var f in t)p&&!t.hasOwnProperty(f)||"prototype"!=f&&"__class__"!=f&&"__super__"!=f&&"__interfaces__"!=f&&"__properties__"!=f&&(2!=d.length&&(d+=", \n"),d+=e+f+" : "+Jn.__string_rec(t[f],e));return d+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},Jn.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var s=0,n=i.length;s<n;){var a=i[s++];if(a==e||Jn.__interfLoop(a,e))return!0}return Jn.__interfLoop(t.__super__,e)},Jn.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case Yf:return"boolean"==typeof t;case Vf:return!0;case Hf:return"number"==typeof t;case Xf:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(Jn.__interfLoop(Jn.getClass(t),e))return!0}else if("object"==typeof e&&Jn.__isNativeObj(e)&&t instanceof e)return!0;return e==Wf&&null!=t.__name__||(e==jf&&null!=t.__ename__||t.__enum__==e)}},Jn.__cast=function(t,e){if(Jn.__instanceof(t,e))return t;throw new qn("Cannot cast "+O.string(t)+" to "+O.string(e))},Jn.__nativeClassName=function(t){var e=Jn.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},Jn.__isNativeObj=function(t){return null!=Jn.__nativeClassName(t)},Jn.__resolveNativeClass=function(t){return e[t]};function Zn(){}(i["js.Browser"]=Zn).__name__=["js","Browser"],Zn.alert=function(t){window.alert(Jn.__string_rec(t,""))};function Qn(){}(i["js.html._CanvasElement.CanvasUtil"]=Qn).__name__=["js","html","_CanvasElement","CanvasUtil"],Qn.getContextWebGL=function(t,e){for(var i=0,s=["webgl","experimental-webgl"];i<s.length;){var n=s[i];++i;var a=t.getContext(n,e);if(null!=a)return a}return null};function $n(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var i=0,s=e;i<s;){var n=i++;this.a[n]=0}this.byteLength=e}}(i["js.html.compat.ArrayBuffer"]=$n).__name__=["js","html","compat","ArrayBuffer"],$n.sliceImpl=function(t,e){var i=new Qf(this,t,null==e?null:e-t),s=new qf(i.byteLength);return new Qf(s).set(i),s},$n.prototype={slice:function(t,e){return new $n(this.a.slice(t,e))},__class__:$n};function ta(t,e,i){if(this.buf=t,this.offset=null==e?0:e,this.length=null==i?t.byteLength-this.offset:i,this.offset<0||this.length<0||this.offset+this.length>t.byteLength)throw new qn(kn.OutsideBounds);this.byteLength=this.length,this.byteOffset=this.offset,this.buffer=this.buf}(i["js.html.compat.DataView"]=ta).__name__=["js","html","compat","DataView"],ta.prototype={getInt8:function(t){var e=this.buf.a[this.offset+t];return 128<=e?e-256:e},getUint8:function(t){return this.buf.a[this.offset+t]},getInt16:function(t,e){var i=this.getUint16(t,e);return 32768<=i?i-65536:i},getUint16:function(t,e){return e?this.buf.a[this.offset+t]|this.buf.a[this.offset+t+1]<<8:this.buf.a[this.offset+t]<<8|this.buf.a[this.offset+t+1]},getInt32:function(t,e){var i=this.offset+t,s=this.buf.a[i++],n=this.buf.a[i++],a=this.buf.a[i++],r=this.buf.a[i++];return e?s|n<<8|a<<16|r<<24:r|a<<8|n<<16|s<<24},getUint32:function(t,e){var i=this.getInt32(t,e);return i<0?i+4294967296:i},getFloat32:function(t,e){return Dn.i32ToFloat(this.getInt32(t,e))},getFloat64:function(t,e){var i=this.getInt32(t,e),s=this.getInt32(t+4,e);return Dn.i64ToDouble(e?i:s,e?s:i)},setInt8:function(t,e){this.buf.a[t+this.offset]=e<0?e+128&255:255&e},setUint8:function(t,e){this.buf.a[t+this.offset]=255&e},setInt16:function(t,e,i){this.setUint16(t,e<0?e+65536:e,i)},setUint16:function(t,e,i){var s=t+this.offset;i?(this.buf.a[s]=255&e,this.buf.a[s++]=e>>8&255):(this.buf.a[s++]=e>>8&255,this.buf.a[s]=255&e)},setInt32:function(t,e,i){this.setUint32(t,e,i)},setUint32:function(t,e,i){var s=t+this.offset;i?(this.buf.a[s++]=255&e,this.buf.a[s++]=e>>8&255,this.buf.a[s++]=e>>16&255,this.buf.a[s++]=e>>>24):(this.buf.a[s++]=e>>>24,this.buf.a[s++]=e>>16&255,this.buf.a[s++]=e>>8&255,this.buf.a[s++]=255&e)},setFloat32:function(t,e,i){this.setUint32(t,Dn.floatToI32(e),i)},setFloat64:function(t,e,i){var s=Dn.doubleToI64(e);i?(this.setUint32(t,s.low),this.setUint32(t,s.high)):(this.setUint32(t,s.high),this.setUint32(t,s.low))},__class__:ta};function ea(){}(i["js.html.compat.Float32Array"]=ea).__name__=["js","html","compat","Float32Array"],ea._new=function(t,e,i){var s;if("number"==typeof t){s=[];for(var n=0,a=t;n<a;){s[n++]=0}s.byteLength=s.length<<2;for(var r=[],o=s.byteOffset=0,h=s.length<<2;o<h;){o++;r.push(0)}s.buffer=new $n(r)}else if(Jn.__instanceof(t,$n)){var _=t;null==e&&(e=0),null==i&&(i=_.byteLength-e>>2),s=[];for(var l=0,u=i;l<u;){l++;var c=_.a[e++]|_.a[e++]<<8|_.a[e++]<<16|_.a[e++]<<24;s.push(Dn.i32ToFloat(c))}s.byteLength=s.length<<2,s.byteOffset=e,s.buffer=_}else{if(!(t instanceof Array&&null==t.__enum__))throw new qn("TODO "+O.string(t));s=t.slice();for(var f=[],d=0;d<s.length;){var p=s[d];++d;var g=Dn.floatToI32(p);f.push(255&g),f.push(g>>8&255),f.push(g>>16&255),f.push(g>>>24)}s.byteLength=s.length<<2,s.byteOffset=0,s.buffer=new $n(f)}return s.subarray=ea._subarray,s.set=ea._set,s},ea._set=function(t,e){if(Jn.__instanceof(t.buffer,$n)){var i=t;if(t.byteLength+e>this.byteLength)throw new qn("set() outside of range");for(var s=0,n=t.byteLength;s<n;){var a=s++;this[a+e]=i[a]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new qn("TODO");var r=t;if(r.length+e>this.byteLength)throw new qn("set() outside of range");for(var o=0,h=r.length;o<h;){var _=o++;this[_+e]=r[_]}}},ea._subarray=function(t,e){var i=ea._new(this.slice(t,e));return i.byteOffset=4*t,i};function ia(){}(i["js.html.compat.Uint8Array"]=ia).__name__=["js","html","compat","Uint8Array"],ia._new=function(t,e,i){var s;if("number"==typeof t){s=[];for(var n=0,a=t;n<a;){s[n++]=0}s.byteLength=s.length,s.byteOffset=0,s.buffer=new $n(s)}else if(Jn.__instanceof(t,$n)){var r=t;null==e&&(e=0),null==i&&(i=r.byteLength-e),(s=0==e?r.a:r.a.slice(e,e+i)).byteLength=s.length,s.byteOffset=e,s.buffer=r}else{if(!(t instanceof Array&&null==t.__enum__))throw new qn("TODO "+O.string(t));(s=t.slice()).byteLength=s.length,s.byteOffset=0,s.buffer=new $n(s)}return s.subarray=ia._subarray,s.set=ia._set,s},ia._set=function(t,e){if(Jn.__instanceof(t.buffer,$n)){var i=t;if(t.byteLength+e>this.byteLength)throw new qn("set() outside of range");for(var s=0,n=t.byteLength;s<n;){var a=s++;this[a+e]=i[a]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new qn("TODO");var r=t;if(r.length+e>this.byteLength)throw new qn("set() outside of range");for(var o=0,h=r.length;o<h;){var _=o++;this[_+e]=r[_]}}},ia._subarray=function(t,e){var i=ia._new(this.slice(t,e));return i.byteOffset=t,i};function sa(){this.enabled=!0,this.audio=new Tn,this.font=new Tn,this.image=new Tn,this.version=179994}(i["lime.AssetCache"]=sa).__name__=["lime","AssetCache"],sa.prototype={clear:function(t){if(null==t)this.audio=new Tn,this.font=new Tn,this.image=new Tn;else{for(var e=this.audio.keys();e.hasNext();){var i=e.next();In.startsWith(i,t)&&this.audio.remove(i)}for(var s=this.font.keys();s.hasNext();){var n=s.next();In.startsWith(n,t)&&this.font.remove(n)}for(var a=this.image.keys();a.hasNext();){var r=a.next();In.startsWith(r,t)&&this.image.remove(r)}}},__class__:sa};var na=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Void_Void"]=na).__name__=["lime","app","Event_Void_Void"],na.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(){this.canceled=!1;for(var t=this.__listeners,e=this.__repeat,i=0;i<t.length&&(t[i](),e[i]?++i:this.remove(t[i]),!this.canceled););},__class__:na};var aa=function(){};(i["lime.Assets"]=aa).__name__=["lime","Assets"],aa.exists=function(t,e){aa.initialize(),null==e&&(e="BINARY");var i=t.substring(0,t.indexOf(":")),s=L.substr(t,t.indexOf(":")+1,null),n=aa.getLibrary(i);return null!=n&&n.exists(s,e)},aa.getAudioBuffer=function(t,e){var i;if(null==e&&(e=!0),aa.initialize(),e&&aa.cache.enabled){var s=aa.cache.audio;i=null!=Kf[t]?s.existsReserved(t):s.h.hasOwnProperty(t)}else i=!1;if(i){var n=aa.cache.audio,a=null!=Kf[t]?n.getReserved(t):n.h[t];if(aa.isValidAudio(a))return a}var r=t.substring(0,t.indexOf(":")),o=L.substr(t,t.indexOf(":")+1,null),h=aa.getLibrary(r);if(null!=h)if(h.exists(o,"SOUND")){if(h.isLocal(o,"SOUND")){var _=h.getAudioBuffer(o);if(e&&aa.cache.enabled){var l=aa.cache.audio;null!=Kf[t]?l.setReserved(t,_):l.h[t]=_}return _}pn.trace('[Assets] Audio asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:125,className:"lime.Assets",methodName:"getAudioBuffer"})}else pn.trace('[Assets] There is no audio asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:131,className:"lime.Assets",methodName:"getAudioBuffer"});else pn.trace('[Assets] There is no asset library named "'+r+'"',{fileName:"Assets.hx",lineNumber:137,className:"lime.Assets",methodName:"getAudioBuffer"});return null},aa.getBytes=function(t){aa.initialize();var e=t.substring(0,t.indexOf(":")),i=L.substr(t,t.indexOf(":")+1,null),s=aa.getLibrary(e);if(null!=s)if(s.exists(i,"BINARY")){if(s.isLocal(i,"BINARY"))return s.getBytes(i);pn.trace('[Assets] String or Bytes asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:174,className:"lime.Assets",methodName:"getBytes"})}else pn.trace('[Assets] There is no String or Bytes asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:180,className:"lime.Assets",methodName:"getBytes"});else pn.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:186,className:"lime.Assets",methodName:"getBytes"});return null},aa.getFont=function(t,e){var i;if(null==e&&(e=!0),aa.initialize(),e&&aa.cache.enabled){var s=aa.cache.font;i=null!=Kf[t]?s.existsReserved(t):s.h.hasOwnProperty(t)}else i=!1;if(i){var n=aa.cache.font;return null!=Kf[t]?n.getReserved(t):n.h[t]}var a=t.substring(0,t.indexOf(":")),r=L.substr(t,t.indexOf(":")+1,null),o=aa.getLibrary(a);if(null!=o)if(o.exists(r,"FONT")){if(o.isLocal(r,"FONT")){var h=o.getFont(r);if(e&&aa.cache.enabled){var _=aa.cache.font;null!=Kf[t]?_.setReserved(t,h):_.h[t]=h}return h}pn.trace('[Assets] Font asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:237,className:"lime.Assets",methodName:"getFont"})}else pn.trace('[Assets] There is no Font asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:243,className:"lime.Assets",methodName:"getFont"});else pn.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:249,className:"lime.Assets",methodName:"getFont"});return null},aa.getImage=function(t,e){var i;if(null==e&&(e=!0),aa.initialize(),e&&aa.cache.enabled){var s=aa.cache.image;i=null!=Kf[t]?s.existsReserved(t):s.h.hasOwnProperty(t)}else i=!1;if(i){var n=aa.cache.image,a=null!=Kf[t]?n.getReserved(t):n.h[t];if(aa.isValidImage(a))return a}var r=t.substring(0,t.indexOf(":")),o=L.substr(t,t.indexOf(":")+1,null),h=aa.getLibrary(r);if(null!=h)if(h.exists(o,"IMAGE")){if(h.isLocal(o,"IMAGE")){var _=h.getImage(o);if(e&&aa.cache.enabled){var l=aa.cache.image;null!=Kf[t]?l.setReserved(t,_):l.h[t]=_}return _}pn.trace('[Assets] Image asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:307,className:"lime.Assets",methodName:"getImage"})}else pn.trace('[Assets] There is no Image asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:313,className:"lime.Assets",methodName:"getImage"});else pn.trace('[Assets] There is no asset library named "'+r+'"',{fileName:"Assets.hx",lineNumber:319,className:"lime.Assets",methodName:"getImage"});return null},aa.getLibrary=function(t){null!=t&&""!=t||(t="default");var e=aa.libraries;return null!=Kf[t]?e.getReserved(t):e.h[t]},aa.getExtraSoundOptions=function(t){aa.initialize();var e=aa.getLibrary("");if(null!=e){if(e.exists(t,null))return e.getExtraSoundOptions(t);pn.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:355,className:"lime.Assets",methodName:"getExtraSoundOptions"})}return null},aa.getLogicalPath=function(t){aa.initialize();var e=aa.getLibrary("");if(null!=e)for(var i=e.getPathMap(),s=i.keys();s.hasNext();){var n=s.next();if((null!=Kf[n]?i.getReserved(n):i.h[n])==t)return n}return""},aa.getPath=function(t){aa.initialize();var e=t.substring(0,t.indexOf(":")),i=L.substr(t,t.indexOf(":")+1,null),s=aa.getLibrary(e);if(null!=s){if(s.exists(i,null))return s.getPath(i);pn.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:411,className:"lime.Assets",methodName:"getPath"})}else pn.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:417,className:"lime.Assets",methodName:"getPath"});return null},aa.getText=function(t){aa.initialize();var e=t.substring(0,t.indexOf(":")),i=L.substr(t,t.indexOf(":")+1,null),s=aa.getLibrary(e);if(null!=s)if(s.exists(i,"TEXT")){if(s.isLocal(i,"TEXT"))return s.getText(i);pn.trace('[Assets] String asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:454,className:"lime.Assets",methodName:"getText"})}else pn.trace('[Assets] There is no String asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:460,className:"lime.Assets",methodName:"getText"});else pn.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:466,className:"lime.Assets",methodName:"getText"});return null},aa.initialize=function(){aa.initialized||(aa.registerLibrary("default",new g),aa.initialized=!0)},aa.isLocal=function(t,e,i){if(null==i&&(i=!0),aa.initialize(),i&&aa.cache.enabled){if("IMAGE"==e||null==e){var s=aa.cache.image;if(null!=Kf[t]?s.existsReserved(t):s.h.hasOwnProperty(t))return!0}if("FONT"==e||null==e){var n=aa.cache.font;if(null!=Kf[t]?n.existsReserved(t):n.h.hasOwnProperty(t))return!0}if("SOUND"==e||"MUSIC"==e||null==e){var a=aa.cache.audio;if(null!=Kf[t]?a.existsReserved(t):a.h.hasOwnProperty(t))return!0}}var r=t.substring(0,t.indexOf(":")),o=L.substr(t,t.indexOf(":")+1,null),h=aa.getLibrary(r);return null!=h&&h.isLocal(o,e)},aa.isValidAudio=function(t){return null!=t},aa.isValidImage=function(t){return!0},aa.list=function(t){aa.initialize();for(var e=[],i=aa.libraries,s=new xn(i,i.arrayKeys());s.hasNext();){var n=s.next().list(t);null!=n&&(e=e.concat(n))}return e},aa.loadAudioBuffer=function(i,t){null==t&&(t=!0),aa.initialize();var e,s=new Ma;if(t&&aa.cache.enabled){var n=aa.cache.audio;e=null!=Kf[i]?n.existsReserved(i):n.h.hasOwnProperty(i)}else e=!1;if(e){var a=aa.cache.audio,r=null!=Kf[i]?a.getReserved(i):a.h[i];if(aa.isValidAudio(r))return s.complete(r),s.future}var o=i.indexOf(":"),h=i.substring(0,o),_=i.indexOf(":")+1,l=L.substr(i,_,null),u=aa.getLibrary(h);if(null!=u)if(u.exists(l,"SOUND")){var c=u.loadAudioBuffer(l);t&&aa.cache.enabled&&c.onComplete(function(t){var e=aa.cache.audio;null!=Kf[i]?e.setReserved(i,t):e.h[i]=t}),s.completeWith(c)}else s.error('[Assets] There is no audio asset with an ID of "'+i+'"');else s.error('[Assets] There is no asset library named "'+h+'"');return s.future},aa.loadBytes=function(t){aa.initialize();var e=new Ma,i=t.substring(0,t.indexOf(":")),s=L.substr(t,t.indexOf(":")+1,null),n=aa.getLibrary(i);return null!=n?n.exists(s,"BINARY")?e.completeWith(n.loadBytes(s)):e.error('[Assets] There is no String or Bytes asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},aa.loadFont=function(t){aa.initialize();var e=new Ma,i=t.substring(0,t.indexOf(":")),s=L.substr(t,t.indexOf(":")+1,null),n=aa.getLibrary(i);return null!=n?n.exists(s,"FONT")?e.completeWith(n.loadFont(s)):e.error('[Assets] There is no Font asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},aa.loadImage=function(i,t){null==t&&(t=!0),aa.initialize();var e,s=new Ma;if(t&&aa.cache.enabled){var n=aa.cache.image;e=null!=Kf[i]?n.existsReserved(i):n.h.hasOwnProperty(i)}else e=!1;if(e){var a=aa.cache.image,r=null!=Kf[i]?a.getReserved(i):a.h[i];if(aa.isValidImage(r))return s.complete(r),s.future}var o=i.indexOf(":"),h=i.substring(0,o),_=i.indexOf(":")+1,l=L.substr(i,_,null),u=aa.getLibrary(h);if(null!=u)if(u.exists(l,"IMAGE")){var c=u.loadImage(l);t&&aa.cache.enabled&&c.onComplete(function(t){var e=aa.cache.image;null!=Kf[i]?e.setReserved(i,t):e.h[i]=t}),s.completeWith(c)}else s.error('[Assets] There is no Image asset with an ID of "'+i+'"');else s.error('[Assets] There is no asset library named "'+h+'"');return s.future},aa.loadLibrary=function(t){aa.initialize();var e=new Ma,i=aa.getText("libraries/"+t+".json");if(null!=i&&""!=i){var s=JSON.parse(i),n=mi.createInstance(mi.resolveClass(s.type),s.args),a=aa.libraries;null!=Kf[t]?a.setReserved(t,n):a.h[t]=n,n.onChange.add(Gf(Uf=aa.onChange,Uf.dispatch)),e.completeWith(n.load())}else e.error('[Assets] There is no asset library named "'+t+'"');return e.future},aa.loadText=function(t){aa.initialize();var e=new Ma,i=t.substring(0,t.indexOf(":")),s=L.substr(t,t.indexOf(":")+1,null),n=aa.getLibrary(i);return null!=n?n.exists(s,"TEXT")?e.completeWith(n.loadText(s)):e.error('[Assets] There is no String asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},aa.registerLibrary=function(t,e){var i=aa.libraries;if(null!=Kf[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var s=aa.libraries;if((null!=Kf[t]?s.getReserved(t):s.h[t])==e)return;aa.unloadLibrary(t)}null!=e&&e.onChange.add(aa.library_onChange);var n=aa.libraries;null!=Kf[t]?n.setReserved(t,e):n.h[t]=e},aa.unloadLibrary=function(t){aa.initialize();var e=aa.libraries,i=null!=Kf[t]?e.getReserved(t):e.h[t];null!=i&&(aa.cache.clear(t+":"),i.onChange.remove(aa.library_onChange),i.unload()),aa.libraries.remove(t)},aa.library_onChange=function(){aa.cache.clear(),aa.onChange.dispatch()};var ra=function(t){this.gameDeviceCache=new yn,this.parent=t,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,Na.init(),ra.instance=this};(i["lime._backend.html5.HTML5Application"]=ra).__name__=["lime","_backend","html5","HTML5Application"],ra.instance=null,ra.staticHandleApplicationEvent=function(t){var e=performance.now();ra.instance.handleApplicationEvent(e)},ra.prototype={convertKeyCode:function(t){if(65<=t&&t<=90)return t+32;switch(t){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return t},create:function(t){},exec:function(){window.addEventListener("keydown",Gf(this,this.handleKeyEvent),!1),window.addEventListener("keyup",Gf(this,this.handleKeyEvent),!1),window.addEventListener("focus",Gf(this,this.handleWindowEvent),!1),window.addEventListener("blur",Gf(this,this.handleWindowEvent),!1),this.parent.windows[0].__resizable&&window.addEventListener("resize",Gf(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",Gf(this,this.handleWindowEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(t,e,i){return!1});for(var a=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),s=Math.max(0,16-(i-a)),n=window.setTimeout(function(){t(i+s)},s);return a=i+s,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.requestAnimFrameFunc=window.requestAnimationFrame,this.handleApplicationEvent(0),0},exit:function(){Na.shutdown()},getFrameRate:function(){return this.framePeriod<0?60:1e3==this.framePeriod?0:1e3/this.framePeriod},handleApplicationEvent:function(t){if(this.currentUpdate=t,this.currentUpdate>=this.nextUpdate){if(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=this.parent.renderers[0]&&(this.parent.render(this.parent.renderers[0]),this.parent.renderers[0].flip()),this.framePeriod<0)this.nextUpdate=this.currentUpdate;else for(;this.nextUpdate+=this.framePeriod,this.nextUpdate<this.currentUpdate;);this.lastUpdate=this.currentUpdate}ra.stopUpdating||this.requestAnimFrameFunc.call(window,ra.staticHandleApplicationEvent)},handleKeyEvent:function(t){if(null!=this.parent.windows[0]){8==t.keyCode&&t.preventDefault();var e=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which),i=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0);"keydown"==t.type?this.parent.windows[0].onKeyDown.dispatch(e,i):this.parent.windows[0].onKeyUp.dispatch(e,i),this.parent.windows[0].backend.getEnableTextEvents()||t.preventDefault()}},handleWindowEvent:function(t){if(null!=this.parent.windows[0])switch(t.type){case"beforeunload":this.parent.windows[0].onClose.dispatch();break;case"blur":this.parent.windows[0].onFocusOut.dispatch(),this.parent.windows[0].onDeactivate.dispatch();break;case"focus":this.parent.windows[0].onFocusIn.dispatch(),this.parent.windows[0].onActivate.dispatch()}},setFrameRate:function(t){return this.framePeriod=60<=t?-1:0<t?1e3/t:1e3,t},updateGameDevices:function(){var t=zr.__getDeviceData();if(null!=t)for(var e,i,s,n,a,r=0,o=t.length;r<o;){if(null!=(n=t[e=r++])){if(!this.gameDeviceCache.h.hasOwnProperty(e)){(a=new oa).id=e,a.connected=n.connected;for(var h=0,_=n.buttons.length;h<_;){var l=h++;a.buttons.push(n.buttons[l].value)}for(var u=0,c=n.axes.length;u<c;){var f=u++;a.axes.push(n.axes[f])}"standard"==n.mapping&&(a.isGamepad=!0),this.gameDeviceCache.h[e]=a,n.connected&&(zr.__connect(e),a.isGamepad&&Nr.__connect(e))}if(a=this.gameDeviceCache.h[e],s=zr.devices.h[e],i=Nr.devices.h[e],n.connected){for(var d,p,g=0,m=n.buttons.length;g<m;){var v=g++;if((p=n.buttons[v].value)!=a.buttons[v]){if(6==v)s.onAxisMove.dispatch(n.axes.length,p),null!=i&&i.onAxisMove.dispatch(4,p);else if(7==v)s.onAxisMove.dispatch(n.axes.length+1,p),null!=i&&i.onAxisMove.dispatch(5,p);else if(0<p?s.onButtonDown.dispatch(v):s.onButtonUp.dispatch(v),null!=i){switch(v){case 0:d=0;break;case 1:d=1;break;case 2:d=2;break;case 3:d=3;break;case 4:d=9;break;case 5:d=10;break;case 8:d=4;break;case 9:d=6;break;case 10:d=7;break;case 11:d=8;break;case 12:d=11;break;case 13:d=12;break;case 14:d=13;break;case 15:d=14;break;case 16:d=5;break;default:continue}0<p?i.onButtonDown.dispatch(d):i.onButtonUp.dispatch(d)}a.buttons[v]=p}}for(var b=0,y=n.axes.length;b<y;){var w=b++;n.axes[w]!=a.axes[w]&&(s.onAxisMove.dispatch(w,n.axes[w]),null!=i&&i.onAxisMove.dispatch(w,n.axes[w]),a.axes[w]=n.axes[w])}}else a.connected&&(a.connected=!1,zr.__disconnect(e),Nr.__disconnect(e))}}},__class__:ra};var oa=function(){this.connected=!0,this.buttons=[],this.axes=[]};(i["lime._backend.html5.GameDeviceData"]=oa).__name__=["lime","_backend","html5","GameDeviceData"],oa.prototype={__class__:oa};function ha(){}(i["lime._backend.html5.HTML5Mouse"]=ha).__name__=["lime","_backend","html5","HTML5Mouse"],ha.__cursor=null,ha.__hidden=null,ha.hide=function(){if(!ha.__hidden){ha.__hidden=!0;for(var t=0,e=ua.current.windows;t<e.length;){var i=e[t];++t,i.backend.element.style.cursor="none"}}},ha.show=function(){if(ha.__hidden){ha.__hidden=!1;var t=ha.__cursor;ha.__cursor=null,ha.set_cursor(t)}},ha.warp=function(t,e,i){},ha.get_cursor=function(){return null==ha.__cursor?Yr.DEFAULT:ha.__cursor},ha.set_cursor=function(t){if(ha.__cursor!=t){if(!ha.__hidden)for(var e=0,i=ua.current.windows;e<i.length;){var s,n=i[e];switch(++e,t[1]){case 0:s="default";break;case 1:s="crosshair";break;case 3:s="move";break;case 4:s="pointer";break;case 5:s="nesw-resize";break;case 6:s="ns-resize";break;case 7:s="nwse-resize";break;case 8:s="ew-resize";break;case 9:s="text";break;case 10:case 11:s="wait";break;default:s="auto"}n.backend.element.style.cursor=s}ha.__cursor=t}return ha.__cursor},ha.get_lock=function(){return!1},ha.set_lock=function(t){return t};function _a(t){this.parent=t}(i["lime._backend.html5.HTML5Renderer"]=_a).__name__=["lime","_backend","html5","HTML5Renderer"],_a.prototype={create:function(){this.createContext(),0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",Gf(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",Gf(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.canvas){var t,e={alpha:!1,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:!Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")||this.parent.window.config.depthBuffer,premultipliedAlpha:!1,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1};if(null==(t=Qn.getContextWebGL(this.parent.window.backend.canvas,e)))throw new qn("Only webgl supported");nr.context=t,this.parent.context=Za.OPENGL(new Wa),this.parent.type=$a.OPENGL}},flip:function(){},handleEvent:function(t){switch(t.type){case"webglcontextlost":t.preventDefault(),this.parent.context=null,this.parent.onContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},readPixels:function(t){if(null!=this.parent.window.backend.canvas&&(null==t?t=new ur(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height):t.__contract(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height),0<t.width&&0<t.height)){var e=window.document.createElement("canvas");return e.width=0|t.width,e.height=0|t.height,e.getContext("2d").drawImage(this.parent.window.backend.canvas,-t.x,-t.y),ja.fromCanvas(e)}return null},render:function(){},__class__:_a};function la(t){this.unusedTouchesPool=new w,this.currentTouches=new yn,null!=(this.parent=t).config&&Object.prototype.hasOwnProperty.call(t.config,"element")&&(this.element=t.config.element),t.onFocusIn.add(Gf(this,this.focus))}(i["lime._backend.html5.HTML5Window"]=la).__name__=["lime","_backend","html5","HTML5Window"],la.textInput=null,la.prototype={alert:function(t,e){null!=t&&Zn.alert(t)},close:function(){this.parent.application.removeWindow(this.parent)},create:function(t){if(this.setWidth=this.parent.__width,this.setHeight=this.parent.__height,this.parent.id=la.windowID++,Jn.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas"),null!=this.canvas){var e=this.canvas.style;e.setProperty("-webkit-transform","translateZ(0)",null),e.setProperty("transform","translateZ(0)",null)}else if(null!=this.div){var i=this.div.style;i.setProperty("-webkit-transform","translate3D(0,0,0)",null),i.setProperty("transform","translate3D(0,0,0)",null),i.position="relative",i.overflow="hidden",i.setProperty("-webkit-user-select","none",null),i.setProperty("-moz-user-select","none",null),i.setProperty("-ms-user-select","none",null),i.setProperty("-o-user-select","none",null)}if(this.parent.__resizable)if(this.parent.__originalWidth=this.parent.__width,this.parent.__originalHeight=this.parent.__height,null==this.element||0==this.element.clientWidth&&0==this.element.clientHeight)this.parent.resize(window.innerWidth,window.innerHeight);else{var s=0,n=0;0!=this.element.clientWidth&&0!=this.element.clientHeight?(s=this.element.clientWidth,n=this.element.clientHeight):0!=this.element.clientWidth?(s=this.element.clientWidth,n=Math.round(s*(this.parent.__originalHeight/this.parent.__originalWidth))):(n=this.element.clientHeight,s=Math.round(n*(this.parent.__originalWidth/this.parent.__originalHeight))),this.parent.resize(0|s,0|n)}else 0==this.parent.__width&&0==this.parent.__height&&(null!=this.element&&0!=this.element.clientWidth&&0!=this.element.clientHeight?this.parent.resize(this.element.clientWidth,this.element.clientHeight):this.parent.resize(window.innerWidth,window.innerHeight)),this.parent.__originalWidth=this.parent.__width,this.parent.__originalHeight=this.parent.__height;if(null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px"),null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);for(var a=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel","contextmenu"],r=0;r<a.length;){var o=a[r];++r,this.element.addEventListener(o,Gf(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(t){return"img"!=t.target.nodeName.toLowerCase()||(t.preventDefault(),!1)},!1),this.element.addEventListener("touchstart",Gf(this,this.handleTouchEvent),!0),this.element.addEventListener("touchmove",Gf(this,this.handleTouchEvent),!0),this.element.addEventListener("touchend",Gf(this,this.handleTouchEvent),!0),this.element.addEventListener("gamepadconnected",Gf(this,this.handleGamepadEvent),!0),this.element.addEventListener("gamepaddisconnected",Gf(this,this.handleGamepadEvent),!0)}},focus:function(){},getDisplay:function(){return Ir.getDisplay(0)},getEnableTextEvents:function(){return this.enableTextEvents},handleFocusEvent:function(t){this.enableTextEvents&&gn.delay(function(){la.textInput.focus()},20)},handleGamepadEvent:function(t){switch(t.type){case"gamepadconnected":zr.__connect(t.gamepad.index),"standard"==t.gamepad.mapping&&Nr.__connect(t.gamepad.index);break;case"gamepaddisconnected":zr.__disconnect(t.gamepad.index),Nr.__disconnect(t.gamepad.index)}},handleInputEvent:function(t){""!=la.textInput.value&&(this.parent.onTextInput.dispatch(la.textInput.value),la.textInput.value="")},handleMouseEvent:function(t){var e=0,i=0;if("wheel"!=t.type){if(null!=this.element)if(null!=this.canvas){var s=this.canvas.getBoundingClientRect();e=(t.clientX-s.left)*(this.parent.__width/s.width),i=(t.clientY-s.top)*(this.parent.__height/s.height)}else if(null!=this.div){var n=this.div.getBoundingClientRect();e=t.clientX-n.left,i=t.clientY-n.top}else{var a=this.element.getBoundingClientRect();e=(t.clientX-a.left)*(this.parent.__width/a.width),i=(t.clientY-a.top)*(this.parent.__height/a.height)}else e=t.clientX,i=t.clientY;switch(t.type){case"mousedown":this.parent.onMouseDown.dispatch(e,i,t.button);break;case"mouseenter":this.parent.onEnter.dispatch();break;case"contextmenu":case"mouseleave":this.parent.onLeave.dispatch();break;case"mousemove":this.parent.onMouseMove.dispatch(e,i);break;case"mouseup":this.parent.onMouseUp.dispatch(e,i,t.button)}}else this.parent.onMouseWheel.dispatch(t.deltaX,-t.deltaY)},handleTouchEvent:function(t){t.preventDefault();var e=null;null!=this.element&&(e=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var i=this.setWidth,s=this.setHeight;0!=i&&0!=s||(s=null!=e?(i=e.width,e.height):i=1);for(var n=0,a=t.changedTouches;n<a.length;){var r=a[n];++n;var o=0,h=0;switch(h=null!=e?(o=(r.clientX-e.left)*(this.parent.__width/e.width),(r.clientY-e.top)*(this.parent.__height/e.height)):(o=r.clientX,r.clientY),t.type){case"touchend":var _=this.currentTouches.get(r.identifier);if(null!=_){var l=_.x,u=_.y;_.x=o/i,_.y=h/s,_.dx=_.x-l,_.dy=_.y-u,_.pressure=r.force,Wr.onEnd.dispatch(_),this.currentTouches.remove(r.identifier),this.unusedTouchesPool.add(_),_==this.primaryTouch&&(this.parent.onMouseUp.dispatch(o,h,0),this.primaryTouch=null)}break;case"touchmove":var c=this.currentTouches.get(r.identifier);if(null!=c){var f=c.x,d=c.y;c.x=o/i,c.y=h/s,c.dx=c.x-f,c.dy=c.y-d,c.pressure=r.force,Wr.onMove.dispatch(c),c==this.primaryTouch&&this.parent.onMouseMove.dispatch(o,h)}break;case"touchstart":var p=this.unusedTouchesPool.pop();null==p?p=new Wr(o/i,h/s,r.identifier,0,0,r.force,this.parent.id):(p.x=o/i,p.y=h/s,p.id=r.identifier,p.dx=0,p.dy=0,p.pressure=r.force,p.device=this.parent.id),this.currentTouches.set(r.identifier,p),Wr.onStart.dispatch(p),null==this.primaryTouch&&(this.primaryTouch=p),p==this.primaryTouch&&this.parent.onMouseDown.dispatch(o,h,0)}}},move:function(t,e){},resize:function(t,e){if(null!=this.element&&(this.parent.__width=t,this.parent.__height=e,null!=this.canvas&&this.element!=this.canvas)){var i=this.parent.stage,s=t,n=e;null!=i&&(2!=i.get_scaleMode()&&(t=Math.ceil(i.stageWidth*i.get_scaleX()),e=Math.ceil(i.stageHeight*i.get_scaleY()),this.parent.__width=t,this.parent.__height=e),Math.floor((s-t)/2),Math.floor((n-e)/2))}},resizeViewport:function(t,e){this.canvas.width=t,this.canvas.height=e},setBorderless:function(t){return t},setEnableTextEvents:function(t){return t?(null==la.textInput&&((la.textInput=window.document.createElement("input")).type="text",la.textInput.style.position="absolute",la.textInput.style.opacity="0",la.textInput.style.color="transparent",la.textInput.value="",la.textInput.autocapitalize="off",la.textInput.autocorrect="off",la.textInput.autocomplete="off",new b("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(la.textInput.style.fontSize="0px",la.textInput.style.width="0px",la.textInput.style.height="0px",la.textInput.style.left="0px",la.textInput.style.top="50%"):(la.textInput.style.width="1px",la.textInput.style.height="1px",la.textInput.style.left="-1000px",la.textInput.style.top="0px"),la.textInput.style.pointerEvents="none",la.textInput.style.zIndex="-10000000",window.document.body.appendChild(la.textInput)),this.enableTextEvents||(la.textInput.addEventListener("input",Gf(this,this.handleInputEvent),!0),la.textInput.addEventListener("blur",Gf(this,this.handleFocusEvent),!0)),la.textInput.focus()):null!=la.textInput&&(la.textInput.removeEventListener("input",Gf(this,this.handleInputEvent),!0),la.textInput.removeEventListener("blur",Gf(this,this.handleFocusEvent),!0),la.textInput.blur()),this.enableTextEvents=t},setFullscreen:function(t){return!1},setIcon:function(t){},setMinimized:function(t){return!1},setResizable:function(t){return t},setTitle:function(t){return t},getScreenWidth:function(){return window.screen.width},getScreenHeight:function(){return window.screen.height},__class__:la};var ua=function(){this.onUpdate=new ba,ei.call(this),null==ua.current&&(ua.current=this),this.modules=[],this.renderers=[],this.windows=[],this.windowByID=new yn,this.backend=new ra(this),this.onExit.add(Gf(this,this.onModuleExit)),this.onUpdate.add(Gf(this,this.update)),Nr.onConnect.add(Gf(this,this.__onGamepadConnect)),zr.onConnect.add(Gf(this,this.__onJoystickConnect)),Wr.onStart.add(Gf(this,this.onTouchStart)),Wr.onMove.add(Gf(this,this.onTouchMove)),Wr.onEnd.add(Gf(this,this.onTouchEnd))};(i["lime.app.Application"]=ua).__name__=["lime","app","Application"],ua.current=null,ua.__super__=ei,ua.prototype=s(ei.prototype,{addModule:function(t){if(this.modules.push(t),0<this.windows.length){for(var e=0,i=this.windows;e<i.length;){var s=i[e];++e,t.onWindowCreate(s)}null!=this.preloader&&!this.preloader.complete||t.onPreloadComplete()}},addRenderer:function(t){var e=Gf(this,this.render),i=t;t.onRender.add(function(){e(i)});var s=Gf(this,this.onRenderContextLost),n=t;t.onContextLost.add(function(){s(n)});var a=Gf(this,this.onRenderContextRestored),r=t;t.onContextRestored.add(function(t){a(r,t)}),this.renderers.push(t)},create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var s=i[e];++e;var n=new jr(s);this.createWindow(n);break}null!=this.preloader&&!this.preloader.complete||this.onPreloadComplete()}},createWindow:function(t){var e=Gf(this,this.onWindowActivate),i=t;t.onActivate.add(function(){e(i)});var s=Gf(this,this.onWindowClose),n=t;t.onClose.add(function(){s(n)});var a=Gf(this,this.onWindowCreate),r=t;t.onCreate.add(function(){a(r)});var o=Gf(this,this.onWindowDeactivate),h=t;t.onDeactivate.add(function(){o(h)});var _=Gf(this,this.onWindowEnter),l=t;t.onEnter.add(function(){_(l)});var u=Gf(this,this.onWindowFocusIn),c=t;t.onFocusIn.add(function(){u(c)});var f=Gf(this,this.onWindowFocusOut),d=t;t.onFocusOut.add(function(){f(d)});var p=Gf(this,this.onWindowFullscreen),g=t;t.onFullscreen.add(function(){p(g)});var m=Gf(this,this.onKeyDown),v=t;t.onKeyDown.add(function(t,e){m(v,t,e)});var b=Gf(this,this.onKeyUp),y=t;t.onKeyUp.add(function(t,e){b(y,t,e)});var w=Gf(this,this.onWindowLeave),x=t;t.onLeave.add(function(){w(x)});var T=Gf(this,this.onWindowMinimize),S=t;t.onMinimize.add(function(){T(S)});var C=Gf(this,this.onMouseDown),E=t;t.onMouseDown.add(function(t,e,i){C(E,t,e,i)});var I=Gf(this,this.onMouseMove),P=t;t.onMouseMove.add(function(t,e){I(P,t,e)});var k=Gf(this,this.onMouseMoveRelative),D=t;t.onMouseMoveRelative.add(function(t,e){k(D,t,e)});var A=Gf(this,this.onMouseUp),M=t;t.onMouseUp.add(function(t,e,i){A(M,t,e,i)});var R=Gf(this,this.onMouseWheel),F=t;t.onMouseWheel.add(function(t,e){R(F,t,e)});var B=Gf(this,this.onWindowMove),L=t;t.onMove.add(function(t,e){B(L,t,e)});var N=Gf(this,this.onWindowResize),O=t;t.onResize.add(function(t,e){N(O,t,e)});var U=Gf(this,this.onWindowRestore),z=t;t.onRestore.add(function(){U(z)});var G=Gf(this,this.onTextEdit),X=t;t.onTextEdit.add(function(t,e,i){G(X,t,e,i)});var V=Gf(this,this.onTextInput),H=t;if(t.onTextInput.add(function(t){V(H,t)}),null==t.renderer){var Y=new Qa(t);this.addRenderer(Y)}t.create(this),this.windows.push(t),(this.windowByID.h[t.id]=t).onCreate.dispatch()},exec:function(){return(ua.current=this).backend.exec()},onGamepadAxisMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onGamepadAxisMove(t,e,i)}},onGamepadButtonDown:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onGamepadButtonDown(t,e)}},onGamepadButtonUp:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onGamepadButtonUp(t,e)}},onGamepadConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onGamepadConnect(t)}},onGamepadDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onGamepadDisconnect(t)}},onJoystickAxisMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onJoystickAxisMove(t,e,i)}},onJoystickButtonDown:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onJoystickButtonDown(t,e)}},onJoystickButtonUp:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onJoystickButtonUp(t,e)}},onJoystickConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onJoystickConnect(t)}},onJoystickDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onJoystickDisconnect(t)}},onJoystickHatMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onJoystickHatMove(t,e,i)}},onJoystickTrackballMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onJoystickTrackballMove(t,e,i)}},onKeyDown:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onKeyDown(t,e,i)}},onKeyUp:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onKeyUp(t,e,i)}},onModuleExit:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onModuleExit(t)}this.backend.exit()},onMouseDown:function(t,e,i,s){for(var n=0,a=this.modules;n<a.length;){var r=a[n];++n,r.onMouseDown(t,e,i,s)}},onMouseMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onMouseMove(t,e,i)}},onMouseMoveRelative:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onMouseMoveRelative(t,e,i)}},onMouseUp:function(t,e,i,s){for(var n=0,a=this.modules;n<a.length;){var r=a[n];++n,r.onMouseUp(t,e,i,s)}},onMouseWheel:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onMouseWheel(t,e,i)}},onPreloadComplete:function(){for(var t=0,e=this.modules;t<e.length;){var i=e[t];++t,i.onPreloadComplete()}},onPreloadProgress:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onPreloadProgress(t,e,i)}},onRenderContextLost:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onRenderContextLost(t)}},onRenderContextRestored:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onRenderContextRestored(t,e)}},onTextEdit:function(t,e,i,s){for(var n=0,a=this.modules;n<a.length;){var r=a[n];++n,r.onTextEdit(t,e,i,s)}},onTextInput:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onTextInput(t,e)}},onTouchEnd:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onTouchEnd(t)}},onTouchMove:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onTouchMove(t)}},onTouchStart:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onTouchStart(t)}},onWindowActivate:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowActivate(t)}},onWindowClose:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowClose(t)}this.removeWindow(t)},onWindowCreate:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowCreate(t)}},onWindowDeactivate:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowDeactivate(t)}},onWindowEnter:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowEnter(t)}},onWindowFocusIn:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowFocusIn(t)}},onWindowFocusOut:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowFocusOut(t)}},onWindowFullscreen:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowFullscreen(t)}},onWindowLeave:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowLeave(t)}},onWindowMinimize:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowMinimize(t)}},onWindowMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onWindowMove(t,e,i)}},onWindowResize:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var a=n[s];++s,a.onWindowResize(t,e,i)}},onWindowRestore:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowRestore(t)}},removeModule:function(t){null!=t&&(t.onModuleExit(0),L.remove(this.modules,t))},removeRenderer:function(t){null!=t&&-1<this.renderers.indexOf(t)&&L.remove(this.renderers,t)},removeWindow:function(t){null!=t&&this.windowByID.h.hasOwnProperty(t.id)&&(L.remove(this.windows,t),this.windowByID.remove(t.id),t.close(),this.windows[0]==t&&(this.window=null))},render:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.render(t)}},setPreloader:function(t){null!=this.preloader&&(this.preloader.onProgress.remove(Gf(this,this.onPreloadProgress)),this.preloader.onComplete.remove(Gf(this,this.onPreloadComplete))),(this.preloader=t).complete?this.onPreloadComplete():(t.onProgress.add(Gf(this,this.onPreloadProgress)),t.onComplete.add(Gf(this,this.onPreloadComplete)))},update:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.update(t)}},__onGamepadConnect:function(t){this.onGamepadConnect(t);var i=Gf(this,this.onGamepadAxisMove),s=t;t.onAxisMove.add(function(t,e){i(s,t,e)});var e=Gf(this,this.onGamepadButtonDown),n=t;t.onButtonDown.add(function(t){e(n,t)});var a=Gf(this,this.onGamepadButtonUp),r=t;t.onButtonUp.add(function(t){a(r,t)});var o=Gf(this,this.onGamepadDisconnect),h=t;t.onDisconnect.add(function(){o(h)})},__onJoystickConnect:function(t){this.onJoystickConnect(t);var i=Gf(this,this.onJoystickAxisMove),s=t;t.onAxisMove.add(function(t,e){i(s,t,e)});var e=Gf(this,this.onJoystickButtonDown),n=t;t.onButtonDown.add(function(t){e(n,t)});var a=Gf(this,this.onJoystickButtonUp),r=t;t.onButtonUp.add(function(t){a(r,t)});var o=Gf(this,this.onJoystickDisconnect),h=t;t.onDisconnect.add(function(){o(h)});var _=Gf(this,this.onJoystickHatMove),l=t;t.onHatMove.add(function(t,e){_(l,t,e)});var u=Gf(this,this.onJoystickTrackballMove),c=t;t.onTrackballMove.add(function(t,e){u(c,t,e)})},stopUpdating:function(){ra.stopUpdating=!0},get_frameRate:function(){return this.backend.getFrameRate()},set_frameRate:function(t){return this.backend.setFrameRate(t)},get_renderer:function(){return this.renderers[0]},get_window:function(){return this.windows[0]},__class__:ua,__properties__:{get_window:"get_window",get_renderer:"get_renderer",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate"}});function ca(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event"]=ca).__name__=["lime","app","Event"],ca.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__class__:ca};function fa(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Dynamic_Void"]=fa).__name__=["lime","app","Event_Dynamic_Void"],fa.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:fa};function da(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Float_Float_Int_Void"]=da).__name__=["lime","app","Event_Float_Float_Int_Void"],da.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,a=0;a<s.length&&(s[a](t,e,i),n[a]?++a:this.remove(s[a]),!this.canceled););},__class__:da};function pa(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Float_Float_Void"]=pa).__name__=["lime","app","Event_Float_Float_Void"],pa.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:pa};function ga(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_Float_Void"]=ga).__name__=["lime","app","Event_Int_Float_Void"],ga.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:ga};function ma(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_Int_Dynamic_Void"]=ma).__name__=["lime","app","Event_Int_Int_Dynamic_Void"],ma.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,a=0;a<s.length&&(s[a](t,e,i),n[a]?++a:this.remove(s[a]),!this.canceled););},__class__:ma};function va(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_Int_Void"]=va).__name__=["lime","app","Event_Int_Int_Void"],va.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:va};var ba=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Int_Void"]=ba).__name__=["lime","app","Event_Int_Void"],ba.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:ba};function ya(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=ya).__name__=["lime","app","Event_Int_lime_ui_JoystickHatPosition_Void"],ya.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:ya};function wa(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_String_Int_Int_Void"]=wa).__name__=["lime","app","Event_String_Int_Int_Void"],wa.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,a=0;a<s.length&&(s[a](t,e,i),n[a]?++a:this.remove(s[a]),!this.canceled););},__class__:wa};function xa(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_String_Void"]=xa).__name__=["lime","app","Event_String_Void"],xa.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:xa};function Ta(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_graphics_RenderContext_Void"]=Ta).__name__=["lime","app","Event_lime_graphics_RenderContext_Void"],Ta.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Ta};function Sa(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Sa).__name__=["lime","app","Event_lime_ui_GamepadAxis_Float_Void"],Sa.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Sa};function Ca(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_GamepadButton_Void"]=Ca).__name__=["lime","app","Event_lime_ui_GamepadButton_Void"],Ca.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Ca};function Ea(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_Gamepad_Void"]=Ea).__name__=["lime","app","Event_lime_ui_Gamepad_Void"],Ea.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Ea};function Ia(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_Joystick_Void"]=Ia).__name__=["lime","app","Event_lime_ui_Joystick_Void"],Ia.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Ia};function Pa(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Pa).__name__=["lime","app","Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"],Pa.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Pa};function ka(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]}(i["lime.app.Event_lime_ui_Touch_Void"]=ka).__name__=["lime","app","Event_lime_ui_Touch_Void"],ka.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var a=s++;if(i>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,i),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,Dt.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:ka};var Da=function(t){if(null!=t){null==Da.__threadPool&&(Da.__threadPool=new Pr,Da.__threadPool.doWork.add(Da.threadPool_doWork),Da.__threadPool.onComplete.add(Da.threadPool_onComplete),Da.__threadPool.onError.add(Da.threadPool_onError));var e=new Ma;e.future=this,Da.__threadPool.queue({promise:e,work:t})}};(i["lime.app.Future"]=Da).__name__=["lime","app","Future"],Da.__threadPool=null,Da.threadPool_doWork=function(e){try{var t=e.work();Da.__threadPool.sendComplete({promise:e.promise,result:t})}catch(t){(cn.lastException=t)instanceof qn&&(t=t.val),Da.__threadPool.sendError({promise:e.promise,error:t})}},Da.threadPool_onComplete=function(t){t.promise.complete(t.result)},Da.threadPool_onError=function(t){t.promise.error(t.error)},Da.prototype={onComplete:function(t){return null!=t&&(this.__completed?t(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(t))),this},onError:function(t){return null!=t&&(this.__errored?t(this.__errorMessage):this.__completed||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(t))),this},onProgress:function(t){return null!=t&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(t)),this},then:function(i){if(this.__completed)return i(this.value);if(this.__errored){var t=new Da;return t.onError(this.__errorMessage),t}var s=new Ma;return this.onError(Gf(s,s.error)),this.onProgress(Gf(s,s.progress)),this.onComplete(function(t){var e=i(t);e.onError(Gf(s,s.error)),e.onComplete(Gf(s,s.complete))}),s.future},get_isCompleted:function(){return!!this.__completed||this.__errored},__class__:Da,__properties__:{get_isCompleted:"get_isCompleted"}};var Aa=function(){this.total=0,this.loaded=0,this.onError=new xa,this.onProgress=new ma,this.onComplete=new na,this.onProgress.add(Gf(this,this.update))};(i["lime.app.Preloader"]=Aa).__name__=["lime","app","Preloader"],Aa.prototype={create:function(t){},load:function(t,e){for(var i=null,s=aa.cache.version,n=0,a=t.length;n<a;){var r=n++;switch(i=t[r],e[r]){case"BINARY":if(!Aa.loaders.exists(i)){var o=new mr;Aa.loaders.set(i,o),this.total++}break;case"FONT":this.total++,this.loadFont(i);break;case"IMAGE":if(!Aa.images.exists(i)){var h=new Image;Aa.images.set(i,h),h.crossOrigin="Anonymous",h.onload=Gf(this,this.image_onLoad),h.onerror=Gf(this,this.image_onError),h.src=i+"?"+s,this.total++}break;case"TEXT":if(!Aa.loaders.exists(i)){var _=new mr;_.responseType="text",Aa.loaders.set(i,_),this.total++}}}for(var l=Aa.loaders.keys();l.hasNext();){var u=l.next(),c=Aa.loaders;(null!=Kf[u]?c.getReserved(u):c.h[u]).load(u+"?"+s).onComplete(Gf(this,this.loader_onComplete)).onError(Gf(this,this.loader_onError))}0==this.total&&this.start()},loadFont:function(e){var i=this;if(window.document.fonts&&Gf(Uf=window.document.fonts,Uf.load))window.document.fonts.load("1em '"+e+"'").then(function(t){i.loaded++,i.onProgress.dispatch(i.loaded,i.total,e),i.loaded==i.total&&i.start()});else{var t=window.document.createElement("span");t.innerHTML="giItT1WQy@!-/#";var s=t.style;s.position="absolute",s.left="-10000px",s.top="-10000px",s.fontSize="300px",s.fontFamily="Blank",s.fontVariant="normal",s.fontStyle="normal",s.fontWeight="normal",s.letterSpacing="0",window.document.body.appendChild(t);var n=t.offsetWidth;s.fontFamily="'"+e+"', Blank";var a=null,r=!1,o=0,h=function(){return o+=1,(t.offsetWidth!=n||200<o)&&(r?(i.loaded++,null!=a&&window.clearInterval(a),t.parentNode.removeChild(t),t=null,i.onProgress.dispatch(i.loaded,i.total,null),i.loaded==i.total&&i.start(),!0):!(r=!0))};h()||(a=window.setInterval(h,50))}},start:function(){this.complete=!0,this.onComplete.dispatch()},update:function(t,e,i){},image_onLoad:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,t),this.loaded==this.total&&this.start()},image_onError:function(t){this.onError.dispatch(t.target.src),e.console.error("Error loading image: "+t.target.src),this.loaded++},loader_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},loader_onError:function(t){this.onError.dispatch(t)},__class__:Aa};var Ma=function(){this.future=new Da};(i["lime.app.Promise"]=Ma).__name__=["lime","app","Promise"],Ma.prototype={complete:function(t){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=t,null!=this.future.__completeListeners)){for(var e=0,i=this.future.__completeListeners;e<i.length;){var s=i[e];++e,s(t)}this.future.__completeListeners=null}return this},completeWith:function(t){return t.onComplete(Gf(this,this.complete)),t.onError(Gf(this,this.error)),t.onProgress(Gf(this,this.progress)),this},error:function(t){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=t,null!=this.future.__errorListeners)){for(var e=0,i=this.future.__errorListeners;e<i.length;){var s=i[e];++e,s(t)}this.future.__errorListeners=null}return this},progress:function(t){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var e=0,i=this.future.__progressListeners;e<i.length;){var s=i[e];++e,s(t)}return this},get_isCompleted:function(){return this.future.get_isCompleted()},__class__:Ma,__properties__:{get_isCompleted:"get_isCompleted"}};function Ra(){this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.FALSE=0,this.NONE=0}(i["lime.audio.ALAudioContext"]=Ra).__name__=["lime","audio","ALAudioContext"],Ra.prototype={bufferData:function(t,e,i,s,n){Xa.bufferData(t,e,i,s,n)},buffer3f:function(t,e,i,s,n){Xa.buffer3f(t,e,i,s,n)},buffer3i:function(t,e,i,s,n){Xa.buffer3i(t,e,i,s,n)},bufferf:function(t,e,i){Xa.bufferf(t,e,i)},bufferfv:function(t,e,i){Xa.bufferfv(t,e,i)},bufferi:function(t,e,i){Xa.bufferi(t,e,i)},bufferiv:function(t,e,i){Xa.bufferiv(t,e,i)},deleteBuffer:function(t){Xa.deleteBuffer(t)},deleteBuffers:function(t){Xa.deleteBuffers(t)},deleteSource:function(t){Xa.deleteSource(t)},deleteSources:function(t){Xa.deleteSources(t)},disable:function(t){Xa.disable(t)},distanceModel:function(t){Xa.distanceModel(t)},dopplerFactor:function(t){Xa.dopplerFactor(t)},dopplerVelocity:function(t){Xa.dopplerVelocity(t)},enable:function(t){Xa.enable(t)},genSource:function(){return Xa.genSource()},genSources:function(t){return Xa.genSources(t)},genBuffer:function(){return Xa.genBuffer()},genBuffers:function(t){return Xa.genBuffers(t)},getBoolean:function(t){return Xa.getBoolean(t)},getBooleanv:function(t,e){return null==e&&(e=1),Xa.getBooleanv(t,e)},getBuffer3f:function(t,e){return Xa.getBuffer3f(t,e)},getBuffer3i:function(t,e){return Xa.getBuffer3i(t,e)},getBufferf:function(t,e){return Xa.getBufferf(t,e)},getBufferfv:function(t,e,i){return null==i&&(i=1),Xa.getBufferfv(t,e,i)},getBufferi:function(t,e){return Xa.getBufferi(t,e)},getBufferiv:function(t,e,i){return null==i&&(i=1),Xa.getBufferiv(t,e,i)},getDouble:function(t){return Xa.getDouble(t)},getDoublev:function(t,e){return null==e&&(e=1),Xa.getDoublev(t,e)},getEnumValue:function(t){return Xa.getEnumValue(t)},getError:function(){return Xa.getError()},getErrorString:function(){return Xa.getErrorString()},getFloat:function(t){return Xa.getFloat(t)},getFloatv:function(t,e){return null==e&&(e=1),Xa.getFloatv(t,e)},getInteger:function(t){return Xa.getInteger(t)},getIntegerv:function(t,e){return null==e&&(e=1),Xa.getIntegerv(t,e)},getListener3f:function(t){return Xa.getListener3f(t)},getListener3i:function(t){return Xa.getListener3i(t)},getListenerf:function(t){return Xa.getListenerf(t)},getListenerfv:function(t,e){return null==e&&(e=1),Xa.getListenerfv(t,e)},getListeneri:function(t){return Xa.getListeneri(t)},getListeneriv:function(t,e){return null==e&&(e=1),Xa.getListeneriv(t,e)},getProcAddress:function(t){return Xa.getProcAddress(t)},getSource3f:function(t,e){return Xa.getSource3f(t,e)},getSourcef:function(t,e){return Xa.getSourcef(t,e)},getSource3i:function(t,e){return Xa.getSource3i(t,e)},getSourcefv:function(t,e,i){return null==i&&(i=1),Xa.getSourcefv(t,e)},getSourcei:function(t,e){return Xa.getSourcei(t,e)},getSourceiv:function(t,e,i){return null==i&&(i=1),Xa.getSourceiv(t,e,i)},getString:function(t){return Xa.getString(t)},isBuffer:function(t){return Xa.isBuffer(t)},isEnabled:function(t){return Xa.isEnabled(t)},isExtensionPresent:function(t){return Xa.isExtensionPresent(t)},isSource:function(t){return Xa.isSource(t)},listener3f:function(t,e,i,s){Xa.listener3f(t,e,i,s)},listener3i:function(t,e,i,s){Xa.listener3i(t,e,i,s)},listenerf:function(t,e){Xa.listenerf(t,e)},listenerfv:function(t,e){Xa.listenerfv(t,e)},listeneri:function(t,e){Xa.listeneri(t,e)},listeneriv:function(t,e){Xa.listeneriv(t,e)},source3f:function(t,e,i,s,n){Xa.source3f(t,e,i,s,n)},source3i:function(t,e,i,s,n){Xa.source3i(t,e,i,s,n)},sourcef:function(t,e,i){Xa.sourcef(t,e,i)},sourcefv:function(t,e,i){Xa.sourcefv(t,e,i)},sourcei:function(t,e,i){Xa.sourcei(t,e,i)},sourceiv:function(t,e,i){Xa.sourceiv(t,e,i)},sourcePlay:function(t){Xa.sourcePlay(t)},sourcePlayv:function(t){Xa.sourcePlayv(t)},sourceStop:function(t){Xa.sourceStop(t)},sourceStopv:function(t){Xa.sourceStopv(t)},sourceRewind:function(t){Xa.sourceRewind(t)},sourceRewindv:function(t){Xa.sourceRewindv(t)},sourcePause:function(t){Xa.sourcePause(t)},sourcePausev:function(t){Xa.sourcePausev(t)},sourceQueueBuffer:function(t,e){Xa.sourceQueueBuffer(t,e)},sourceQueueBuffers:function(t,e,i){Xa.sourceQueueBuffers(t,e,i)},sourceUnqueueBuffer:function(t){return Xa.sourceUnqueueBuffer(t)},sourceUnqueueBuffers:function(t,e){return Xa.sourceUnqueueBuffers(t,e)},speedOfSound:function(t){Xa.speedOfSound(t)},__class__:Ra};function Fa(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.EXTENSIONS=4102,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.OUT_OF_MEMORY=40965,this.INVALID_VALUE=40964,this.INVALID_ENUM=40963,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.NO_ERROR=0,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.FREQUENCY=4103,this.TRUE=1,this.FALSE=0}(i["lime.audio.ALCAudioContext"]=Fa).__name__=["lime","audio","ALCAudioContext"],Fa.prototype={closeDevice:function(t){return Va.closeDevice(t)},createContext:function(t,e){return Va.createContext(t,e)},destroyContext:function(t){Va.destroyContext(t)},getContextsDevice:function(t){return Va.getContextsDevice(t)},getCurrentContext:function(){return Va.getCurrentContext()},getError:function(t){return Va.getError(t)},getErrorString:function(t){return Va.getErrorString(t)},getIntegerv:function(t,e,i){return null==i&&(i=1),Va.getIntegerv(t,e,i)},getString:function(t,e){return Va.getString(t,e)},makeContextCurrent:function(t){return Va.makeContextCurrent(t)},openDevice:function(t){return Va.openDevice(t)},processContext:function(t){Va.processContext(t)},suspendContext:function(t){Va.suspendContext(t)},__class__:Fa};function Ba(){this.id=0}(i["lime.audio.AudioBuffer"]=Ba).__name__=["lime","audio","AudioBuffer"],Ba.fromBytes=function(t){return null},Ba.fromFile=function(t){return null},Ba.fromURL=function(t,e){null!=t&&-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&e(Ba.fromFile(t))},Ba.prototype={dispose:function(){},__class__:Ba};var La=i["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};La.OPENAL=function(t,e){var i=["OPENAL",0,t,e];return i.__enum__=La,i.toString=f,i},La.HTML5=function(t){var e=["HTML5",1,t];return e.__enum__=La,e.toString=f,e},La.WEB=function(t){var e=["WEB",2,t];return e.__enum__=La,e.toString=f,e},La.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=La,e.toString=f,e},La.CUSTOM=function(t){var e=["CUSTOM",4,t];return e.__enum__=La,e.toString=f,e};var Na=function(){};(i["lime.audio.AudioManager"]=Na).__name__=["lime","audio","AudioManager"],Na.context=null,Na.init=function(t){if(null==Na.context)if(null==t)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Na.context=La.WEB(new AudioContext)}catch(t){cn.lastException=t,Na.context=La.HTML5(new Ga)}else Na.context=t},Na.resume=function(){if(null!=Na.context){var t=Na.context;if(0==t[1]){var e=t[2];e.processContext(e.getCurrentContext())}}},Na.shutdown=function(){if(null!=Na.context){var t=Na.context;switch(t[1]){case 0:var e=t[2],i=e.getCurrentContext();if(null!=i){var s=e.getContextsDevice(i);e.makeContextCurrent(null),e.destroyContext(i),e.closeDevice(s)}break;case 2:t[2].close()}Na.context=null}},Na.suspend=function(){if(null!=Na.context){var t=Na.context;if(0==t[1]){var e=t[2];e.suspendContext(e.getCurrentContext())}}};function Oa(t,e,i,s){null==s&&(s=0),null==e&&(e=0),this.onComplete=new na,this.buffer=t,this.offset=e,null!=i&&0!=i&&this.set_length(i),this.set_loops(s),this.id=0,null!=t&&this.init()}(i["lime.audio.AudioSource"]=Oa).__name__=["lime","audio","AudioSource"],Oa.prototype={dispose:function(){var t=Na.context;if(0==t[1]){var e=t[3];0!=this.id&&e.deleteSource(this.id)}},init:function(){var t=Na.context;if(0==t[1]){var e=t[3];if(0==this.buffer.id){this.buffer.id=e.genBuffer();var i=0;1==this.buffer.channels?8==this.buffer.bitsPerSample?i=e.FORMAT_MONO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_MONO16):2==this.buffer.channels&&(8==this.buffer.bitsPerSample?i=e.FORMAT_STEREO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_STEREO16)),e.bufferData(this.buffer.id,i,this.buffer.data,this.buffer.data.length,this.buffer.sampleRate)}this.id=e.genSource(),e.sourcei(this.id,e.BUFFER,this.buffer.id)}},play:function(){},pause:function(){},stop:function(){},timer_onRun:function(){},get_currentTime:function(){return 0},set_currentTime:function(t){return this.pauseTime=t},get_gain:function(){return 1},set_gain:function(t){return 1},get_length:function(){return null!=this.__length?this.__length:0},set_length:function(t){return this.__length=t},get_loops:function(){return this.__loops},set_loops:function(t){return this.__loops=t},__class__:Oa,__properties__:{set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};function Ua(t,e,i){this.start=t,this.duration=e,this.preload=i}(i["lime.audio.ExtraSoundOptions"]=Ua).__name__=["lime","audio","ExtraSoundOptions"],Ua.prototype={__class__:Ua};function za(){}(i["lime.audio.FlashAudioContext"]=za).__name__=["lime","audio","FlashAudioContext"],za.prototype={createBuffer:function(t,e){return null},getBytesLoaded:function(t){return 0},getBytesTotal:function(t){return 0},getID3:function(t){return null},getIsBuffering:function(t){return!1},getIsURLInaccessible:function(t){return!1},getLength:function(t){return 0},getURL:function(t){return null},close:function(t){},extract:function(t,e,i,s){return null==s&&(s=-1),0},load:function(t,e,i){},loadCompressedDataFromByteArray:function(t,e,i){},loadPCMFromByteArray:function(t,e,i,s,n,a){null==a&&(a=44100),null==n&&(n=!0)},play:function(t,e,i,s){return null==i&&(i=0),null==e&&(e=0),null},__class__:za};var Ga=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.NETWORK_EMPTY=0,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};(i["lime.audio.HTML5AudioContext"]=Ga).__name__=["lime","audio","HTML5AudioContext"],Ga.prototype={canPlayType:function(t,e){return null!=t.src?t.src.canPlayType(e):null},createBuffer:function(t){var e=new Ba;return e.src=new Audio,e.src.src=t,e},getAutoplay:function(t){return null!=t.src&&t.src.autoplay},getBuffered:function(t){return null!=t.src?t.src.buffered:null},getCurrentSrc:function(t){return null!=t.src?t.src.currentSrc:null},getCurrentTime:function(t){return null!=t.src?t.src.currentTime:0},getDefaultPlaybackRate:function(t){return null!=t.src?t.src.defaultPlaybackRate:1},getDuration:function(t){return null!=t.src?t.src.duration:0},getEnded:function(t){return null!=t.src&&t.src.ended},getError:function(t){return null!=t.src?t.src.error:null},getLoop:function(t){return null!=t.src&&t.src.loop},getMuted:function(t){return null!=t.src&&t.src.muted},getNetworkState:function(t){return null!=t.src?t.src.networkState:0},getPaused:function(t){return null!=t.src&&t.src.paused},getPlaybackRate:function(t){return null!=t.src?t.src.playbackRate:1},getPlayed:function(t){return null!=t.src?t.src.played:null},getPreload:function(t){return null!=t.src?t.src.preload:null},getReadyState:function(t){return null!=t.src?t.src.readyState:0},getSeekable:function(t){return null!=t.src?t.src.seekable:null},getSeeking:function(t){return null!=t.src&&t.src.seeking},getSrc:function(t){return null!=t.src?t.src.src:null},getStartTime:function(t){return null!=t.src?t.src.playbackRate:0},getVolume:function(t){return null!=t.src?t.src.volume:1},load:function(t){null==t.src||t.src.load()},pause:function(t){null==t.src||t.src.pause()},play:function(t){null==t.src||t.src.play()},setAutoplay:function(t,e){null!=t.src&&(t.src.autoplay=e)},setCurrentTime:function(t,e){null!=t.src&&(t.src.currentTime=e)},setDefaultPlaybackRate:function(t,e){null!=t.src&&(t.src.defaultPlaybackRate=e)},setLoop:function(t,e){null!=t.src&&(t.src.loop=e)},setMuted:function(t,e){null!=t.src&&(t.src.muted=e)},setPlaybackRate:function(t,e){null!=t.src&&(t.src.playbackRate=e)},setPreload:function(t,e){null!=t.src&&(t.src.preload=e)},setSrc:function(t,e){null!=t.src&&(t.src.src=e)},setVolume:function(t,e){null!=t.src&&(t.src.volume=e)},__class__:Ga};var Xa=function(){};(i["lime.audio.openal.AL"]=Xa).__name__=["lime","audio","openal","AL"],Xa.bufferData=function(t,e,i,s,n){},Xa.buffer3f=function(t,e,i,s,n){},Xa.buffer3i=function(t,e,i,s,n){},Xa.bufferf=function(t,e,i){},Xa.bufferfv=function(t,e,i){},Xa.bufferi=function(t,e,i){},Xa.bufferiv=function(t,e,i){},Xa.deleteBuffer=function(t){},Xa.deleteBuffers=function(t){},Xa.deleteSource=function(t){},Xa.deleteSources=function(t){},Xa.disable=function(t){},Xa.distanceModel=function(t){},Xa.dopplerFactor=function(t){},Xa.dopplerVelocity=function(t){},Xa.enable=function(t){},Xa.genSource=function(){return 0},Xa.genSources=function(t){return null},Xa.genBuffer=function(){return 0},Xa.genBuffers=function(t){return null},Xa.getBoolean=function(t){return!1},Xa.getBooleanv=function(t,e){return null==e&&(e=1),null},Xa.getBuffer3f=function(t,e){return null},Xa.getBuffer3i=function(t,e){return null},Xa.getBufferf=function(t,e){return 0},Xa.getBufferfv=function(t,e,i){return null==i&&(i=1),null},Xa.getBufferi=function(t,e){return 0},Xa.getBufferiv=function(t,e,i){return null==i&&(i=1),null},Xa.getDouble=function(t){return 0},Xa.getDoublev=function(t,e){return null==e&&(e=1),null},Xa.getEnumValue=function(t){return 0},Xa.getError=function(){return 0},Xa.getErrorString=function(){switch(Xa.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},Xa.getFloat=function(t){return 0},Xa.getFloatv=function(t,e){return null==e&&(e=1),null},Xa.getInteger=function(t){return 0},Xa.getIntegerv=function(t,e){return null==e&&(e=1),null},Xa.getListener3f=function(t){return null},Xa.getListener3i=function(t){return null},Xa.getListenerf=function(t){return 0},Xa.getListenerfv=function(t,e){return null==e&&(e=1),null},Xa.getListeneri=function(t){return 0},Xa.getListeneriv=function(t,e){return null==e&&(e=1),null},Xa.getProcAddress=function(t){return null},Xa.getSource3f=function(t,e){return null},Xa.getSourcef=function(t,e){return 0},Xa.getSource3i=function(t,e){return null},Xa.getSourcefv=function(t,e,i){return null==i&&(i=1),null},Xa.getSourcei=function(t,e){return 0},Xa.getSourceiv=function(t,e,i){return null==i&&(i=1),null},Xa.getString=function(t){return null},Xa.isBuffer=function(t){return!1},Xa.isEnabled=function(t){return!1},Xa.isExtensionPresent=function(t){return!1},Xa.isSource=function(t){return!1},Xa.listener3f=function(t,e,i,s){},Xa.listener3i=function(t,e,i,s){},Xa.listenerf=function(t,e){},Xa.listenerfv=function(t,e){},Xa.listeneri=function(t,e){},Xa.listeneriv=function(t,e){},Xa.source3f=function(t,e,i,s,n){},Xa.source3i=function(t,e,i,s,n){},Xa.sourcef=function(t,e,i){},Xa.sourcefv=function(t,e,i){},Xa.sourcei=function(t,e,i){},Xa.sourceiv=function(t,e,i){},Xa.sourcePlay=function(t){},Xa.sourcePlayv=function(t){},Xa.sourceStop=function(t){},Xa.sourceStopv=function(t){},Xa.sourceRewind=function(t){},Xa.sourceRewindv=function(t){},Xa.sourcePause=function(t){},Xa.sourcePausev=function(t){},Xa.sourceQueueBuffer=function(t,e){},Xa.sourceQueueBuffers=function(t,e,i){},Xa.sourceUnqueueBuffer=function(t){return 0},Xa.sourceUnqueueBuffers=function(t,e){return null},Xa.speedOfSound=function(t){};var Va=function(){};(i["lime.audio.openal.ALC"]=Va).__name__=["lime","audio","openal","ALC"],Va.closeDevice=function(t){return!1},Va.createContext=function(t,e){return null},Va.destroyContext=function(t){},Va.getContextsDevice=function(t){return null},Va.getCurrentContext=function(){return null},Va.getError=function(t){return 0},Va.getErrorString=function(t){switch(Va.getError(t)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},Va.getIntegerv=function(t,e,i){return null},Va.getString=function(t,e){return null},Va.makeContextCurrent=function(t){return!1},Va.openDevice=function(t){return null},Va.processContext=function(t){},Va.suspendContext=function(t){};var Ha={};(i["lime.audio.openal._ALContext.ALContext_Impl_"]=Ha).__name__=["lime","audio","openal","_ALContext","ALContext_Impl_"],Ha._new=function(t){return t};var Ya={};(i["lime.audio.openal._ALDevice.ALDevice_Impl_"]=Ya).__name__=["lime","audio","openal","_ALDevice","ALDevice_Impl_"],Ya._new=function(t){return t};var Wa=function(){this.BROWSER_DEFAULT_WEBGL=37444,this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,this.CONTEXT_LOST_WEBGL=37442,this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,this.UNPACK_FLIP_Y_WEBGL=37440,this.INVALID_FRAMEBUFFER_OPERATION=1286,this.MAX_RENDERBUFFER_SIZE=34024,this.RENDERBUFFER_BINDING=36007,this.FRAMEBUFFER_BINDING=36006,this.FRAMEBUFFER_UNSUPPORTED=36061,this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,this.FRAMEBUFFER_COMPLETE=36053,this.NONE=0,this.DEPTH_STENCIL_ATTACHMENT=33306,this.STENCIL_ATTACHMENT=36128,this.DEPTH_ATTACHMENT=36096,this.COLOR_ATTACHMENT0=36064,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,this.RENDERBUFFER_STENCIL_SIZE=36181,this.RENDERBUFFER_DEPTH_SIZE=36180,this.RENDERBUFFER_ALPHA_SIZE=36179,this.RENDERBUFFER_BLUE_SIZE=36178,this.RENDERBUFFER_GREEN_SIZE=36177,this.RENDERBUFFER_RED_SIZE=36176,this.RENDERBUFFER_INTERNAL_FORMAT=36164,this.RENDERBUFFER_HEIGHT=36163,this.RENDERBUFFER_WIDTH=36162,this.DEPTH_STENCIL=34041,this.STENCIL_INDEX8=36168,this.STENCIL_INDEX=6401,this.DEPTH_COMPONENT16=33189,this.RGB565=36194,this.RGB5_A1=32855,this.RGBA4=32854,this.RENDERBUFFER=36161,this.FRAMEBUFFER=36160,this.HIGH_INT=36341,this.MEDIUM_INT=36340,this.LOW_INT=36339,this.HIGH_FLOAT=36338,this.MEDIUM_FLOAT=36337,this.LOW_FLOAT=36336,this.COMPILE_STATUS=35713,this.POINT_SPRITE=34913,this.VERTEX_PROGRAM_POINT_SIZE=34370,this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,this.VERTEX_ATTRIB_ARRAY_POINTER=34373,this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,this.VERTEX_ATTRIB_ARRAY_TYPE=34341,this.VERTEX_ATTRIB_ARRAY_STRIDE=34340,this.VERTEX_ATTRIB_ARRAY_SIZE=34339,this.VERTEX_ATTRIB_ARRAY_ENABLED=34338,this.SAMPLER_CUBE=35680,this.SAMPLER_2D=35678,this.FLOAT_MAT4=35676,this.FLOAT_MAT3=35675,this.FLOAT_MAT2=35674,this.BOOL_VEC4=35673,this.BOOL_VEC3=35672,this.BOOL_VEC2=35671,this.BOOL=35670,this.INT_VEC4=35669,this.INT_VEC3=35668,this.INT_VEC2=35667,this.FLOAT_VEC4=35666,this.FLOAT_VEC3=35665,this.FLOAT_VEC2=35664,this.MIRRORED_REPEAT=33648,this.CLAMP_TO_EDGE=33071,this.REPEAT=10497,this.ACTIVE_TEXTURE=34016,this.TEXTURE31=34015,this.TEXTURE30=34014,this.TEXTURE29=34013,this.TEXTURE28=34012,this.TEXTURE27=34011,this.TEXTURE26=34010,this.TEXTURE25=34009,this.TEXTURE24=34008,this.TEXTURE23=34007,this.TEXTURE22=34006,this.TEXTURE21=34005,this.TEXTURE20=34004,this.TEXTURE19=34003,this.TEXTURE18=34002,this.TEXTURE17=34001,this.TEXTURE16=34e3,this.TEXTURE15=33999,this.TEXTURE14=33998,this.TEXTURE13=33997,this.TEXTURE12=33996,this.TEXTURE11=33995,this.TEXTURE10=33994,this.TEXTURE9=33993,this.TEXTURE8=33992,this.TEXTURE7=33991,this.TEXTURE6=33990,this.TEXTURE5=33989,this.TEXTURE4=33988,this.TEXTURE3=33987,this.TEXTURE2=33986,this.TEXTURE1=33985,this.TEXTURE0=33984,this.MAX_CUBE_MAP_TEXTURE_SIZE=34076,this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,this.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,this.TEXTURE_CUBE_MAP_POSITIVE_X=34069,this.TEXTURE_BINDING_CUBE_MAP=34068,this.TEXTURE_CUBE_MAP=34067,this.TEXTURE=5890,this.TEXTURE_2D=3553,this.TEXTURE_WRAP_T=10243,this.TEXTURE_WRAP_S=10242,this.TEXTURE_MIN_FILTER=10241,this.TEXTURE_MAG_FILTER=10240,this.LINEAR_MIPMAP_LINEAR=9987,this.NEAREST_MIPMAP_LINEAR=9986,this.LINEAR_MIPMAP_NEAREST=9985,this.NEAREST_MIPMAP_NEAREST=9984,this.LINEAR=9729,this.NEAREST=9728,this.VERSION=7938,this.RENDERER=7937,this.VENDOR=7936,this.DECR_WRAP=34056,this.INCR_WRAP=34055,this.INVERT=5386,this.DECR=7683,this.INCR=7682,this.REPLACE=7681,this.KEEP=7680,this.ALWAYS=519,this.GEQUAL=518,this.NOTEQUAL=517,this.GREATER=516,this.LEQUAL=515,this.EQUAL=514,this.LESS=513,this.NEVER=512,this.CURRENT_PROGRAM=35725,this.SHADING_LANGUAGE_VERSION=35724,this.ACTIVE_ATTRIBUTES=35721,this.ACTIVE_UNIFORMS=35718,this.ATTACHED_SHADERS=35717,this.VALIDATE_STATUS=35715,this.LINK_STATUS=35714,this.DELETE_STATUS=35712,this.SHADER_TYPE=35663,this.MAX_FRAGMENT_UNIFORM_VECTORS=36349,this.MAX_TEXTURE_IMAGE_UNITS=34930,this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,this.MAX_VARYING_VECTORS=36348,this.MAX_VERTEX_UNIFORM_VECTORS=36347,this.MAX_VERTEX_ATTRIBS=34921,this.VERTEX_SHADER=35633,this.FRAGMENT_SHADER=35632,this.UNSIGNED_SHORT_5_6_5=33635,this.UNSIGNED_SHORT_5_5_5_1=32820,this.UNSIGNED_SHORT_4_4_4_4=32819,this.LUMINANCE_ALPHA=6410,this.LUMINANCE=6409,this.BGRA_EXT=32993,this.BGR_EXT=32992,this.RGBA=6408,this.RGB=6407,this.ALPHA=6406,this.DEPTH_COMPONENT=6402,this.FLOAT=5126,this.UNSIGNED_INT=5125,this.INT=5124,this.UNSIGNED_SHORT=5123,this.SHORT=5122,this.UNSIGNED_BYTE=5121,this.BYTE=5120,this.GENERATE_MIPMAP_HINT=33170,this.NICEST=4354,this.FASTEST=4353,this.DONT_CARE=4352,this.COMPRESSED_TEXTURE_FORMATS=34467,this.SAMPLE_COVERAGE_INVERT=32939,this.SAMPLE_COVERAGE_VALUE=32938,this.SAMPLES=32937,this.SAMPLE_BUFFERS=32936,this.TEXTURE_BINDING_2D=32873,this.POLYGON_OFFSET_FACTOR=32824,this.POLYGON_OFFSET_UNITS=10752,this.STENCIL_BITS=3415,this.DEPTH_BITS=3414,this.ALPHA_BITS=3413,this.BLUE_BITS=3412,this.GREEN_BITS=3411,this.RED_BITS=3410,this.SUBPIXEL_BITS=3408,this.MAX_VIEWPORT_DIMS=3386,this.MAX_TEXTURE_SIZE=3379,this.PACK_ALIGNMENT=3333,this.UNPACK_ALIGNMENT=3317,this.COLOR_WRITEMASK=3107,this.COLOR_CLEAR_VALUE=3106,this.SCISSOR_BOX=3088,this.VIEWPORT=2978,this.STENCIL_BACK_WRITEMASK=36005,this.STENCIL_BACK_VALUE_MASK=36004,this.STENCIL_BACK_REF=36003,this.STENCIL_BACK_PASS_DEPTH_PASS=34819,this.STENCIL_BACK_PASS_DEPTH_FAIL=34818,this.STENCIL_BACK_FAIL=34817,this.STENCIL_BACK_FUNC=34816,this.STENCIL_WRITEMASK=2968,this.STENCIL_VALUE_MASK=2963,this.STENCIL_REF=2967,this.STENCIL_PASS_DEPTH_PASS=2966,this.STENCIL_PASS_DEPTH_FAIL=2965,this.STENCIL_FAIL=2964,this.STENCIL_FUNC=2962,this.STENCIL_CLEAR_VALUE=2961,this.DEPTH_FUNC=2932,this.DEPTH_CLEAR_VALUE=2931,this.DEPTH_WRITEMASK=2930,this.DEPTH_RANGE=2928,this.FRONT_FACE=2886,this.CULL_FACE_MODE=2885,this.ALIASED_LINE_WIDTH_RANGE=33902,this.ALIASED_POINT_SIZE_RANGE=33901,this.LINE_WIDTH=2849,this.CCW=2305,this.CW=2304,this.OUT_OF_MEMORY=1285,this.INVALID_OPERATION=1282,this.INVALID_VALUE=1281,this.INVALID_ENUM=1280,this.NO_ERROR=0,this.SAMPLE_COVERAGE=32928,this.SAMPLE_ALPHA_TO_COVERAGE=32926,this.POLYGON_OFFSET_FILL=32823,this.SCISSOR_TEST=3089,this.DEPTH_TEST=2929,this.STENCIL_TEST=2960,this.DITHER=3024,this.BLEND=3042,this.CULL_FACE=2884,this.FRONT_AND_BACK=1032,this.BACK=1029,this.FRONT=1028,this.CURRENT_VERTEX_ATTRIB=34342,this.BUFFER_USAGE=34661,this.BUFFER_SIZE=34660,this.DYNAMIC_DRAW=35048,this.STATIC_DRAW=35044,this.STREAM_DRAW=35040,this.ELEMENT_ARRAY_BUFFER_BINDING=34965,this.ARRAY_BUFFER_BINDING=34964,this.ELEMENT_ARRAY_BUFFER=34963,this.ARRAY_BUFFER=34962,this.BLEND_COLOR=32773,this.ONE_MINUS_CONSTANT_ALPHA=32772,this.CONSTANT_ALPHA=32771,this.ONE_MINUS_CONSTANT_COLOR=32770,this.CONSTANT_COLOR=32769,this.BLEND_SRC_ALPHA=32971,this.BLEND_DST_ALPHA=32970,this.BLEND_SRC_RGB=32969,this.BLEND_DST_RGB=32968,this.FUNC_REVERSE_SUBTRACT=32779,this.FUNC_SUBTRACT=32778,this.BLEND_EQUATION_ALPHA=34877,this.BLEND_EQUATION_RGB=32777,this.BLEND_EQUATION=32777,this.FUNC_ADD=32774,this.SRC_ALPHA_SATURATE=776,this.ONE_MINUS_DST_COLOR=775,this.DST_COLOR=774,this.ONE_MINUS_DST_ALPHA=773,this.DST_ALPHA=772,this.ONE_MINUS_SRC_ALPHA=771,this.SRC_ALPHA=770,this.ONE_MINUS_SRC_COLOR=769,this.SRC_COLOR=768,this.ONE=1,this.ZERO=0,this.TRIANGLE_FAN=6,this.TRIANGLE_STRIP=5,this.TRIANGLES=4,this.LINE_STRIP=3,this.LINE_LOOP=2,this.LINES=1,this.POINTS=0,this.COLOR_BUFFER_BIT=16384,this.STENCIL_BUFFER_BIT=1024,this.DEPTH_BUFFER_BIT=256};(i["lime.graphics.GLRenderContext"]=Wa).__name__=["lime","graphics","GLRenderContext"],Wa.prototype={activeTexture:function(t){t!=nr.currentActiveTexture&&(nr.context.activeTexture(t),nr.currentActiveTexture=t)},attachShader:function(t,e){nr.context.attachShader(t,e)},bindAttribLocation:function(t,e,i){nr.context.bindAttribLocation(t,e,i)},bindBuffer:function(t,e){nr.context.bindBuffer(t,e)},bindFramebuffer:function(t,e){nr.context.bindFramebuffer(t,e)},bindRenderbuffer:function(t,e){nr.context.bindRenderbuffer(t,e)},bindTexture:function(t,e){nr.currentBoundTexture[nr.currentActiveTexture]!=e&&(nr.context.bindTexture(t,e),null==(nr.currentBoundTexture[nr.currentActiveTexture]=e)||nr.textureStateCache.exists(e)||nr.textureStateCache.set(e,new yn))},blendColor:function(t,e,i,s){nr.context.blendColor(t,e,i,s)},blendEquation:function(t){nr.context.blendEquation(t)},blendEquationSeparate:function(t,e){nr.context.blendEquationSeparate(t,e)},blendFunc:function(t,e){nr.context.blendFunc(t,e)},blendFuncSeparate:function(t,e,i,s){nr.context.blendFuncSeparate(t,e,i,s)},bufferData:function(t,e,i){nr.context.bufferData(t,e,i)},bufferSubData:function(t,e,i){nr.context.bufferSubData(t,e,i)},checkFramebufferStatus:function(t){return nr.context.checkFramebufferStatus(t)},clear:function(t){nr.context.clear(t)},clearColor:function(t,e,i,s){nr.context.clearColor(t,e,i,s)},clearDepth:function(t){nr.context.clearDepth(t)},clearStencil:function(t){nr.context.clearStencil(t)},colorMask:function(t,e,i,s){nr.context.colorMask(t,e,i,s)},compileShader:function(t){nr.context.compileShader(t)},compressedTexImage2D:function(t,e,i,s,n,a,r){nr.context.compressedTexImage2D(t,e,i,s,n,a,r)},compressedTexSubImage2D:function(t,e,i,s,n,a,r,o){nr.context.compressedTexSubImage2D(t,e,i,s,n,a,r,o)},copyTexImage2D:function(t,e,i,s,n,a,r,o){nr.context.copyTexImage2D(t,e,i,s,n,a,r,o)},copyTexSubImage2D:function(t,e,i,s,n,a,r,o){nr.context.copyTexSubImage2D(t,e,i,s,n,a,r,o)},createBuffer:function(){return nr.context.createBuffer()},createFramebuffer:function(){return nr.context.createFramebuffer()},createProgram:function(){return nr.context.createProgram()},createRenderbuffer:function(){return nr.context.createRenderbuffer()},createShader:function(t){return nr.context.createShader(t)},createTexture:function(){return nr.context.createTexture()},cullFace:function(t){nr.context.cullFace(t)},deleteBuffer:function(t){nr.context.deleteBuffer(t)},deleteFramebuffer:function(t){nr.context.deleteFramebuffer(t)},deleteProgram:function(t){nr.context.deleteProgram(t)},deleteRenderbuffer:function(t){nr.context.deleteRenderbuffer(t)},deleteShader:function(t){nr.context.deleteShader(t)},deleteTexture:function(t){nr.textureStateCache.remove(t),nr.context.deleteTexture(t)},depthFunc:function(t){nr.context.depthFunc(t)},depthMask:function(t){nr.context.depthMask(t)},depthRange:function(t,e){nr.context.depthRange(t,e)},detachShader:function(t,e){nr.context.detachShader(t,e)},disable:function(t){nr.context.disable(t)},disableVertexAttribArray:function(t){nr.context.disableVertexAttribArray(t)},drawArrays:function(t,e,i){nr.context.drawArrays(t,e,i)},drawElements:function(t,e,i,s){nr.context.drawElements(t,e,i,s)},enable:function(t){nr.context.enable(t)},enableVertexAttribArray:function(t){nr.context.enableVertexAttribArray(t)},finish:function(){nr.context.finish()},flush:function(){nr.context.flush()},framebufferRenderbuffer:function(t,e,i,s){nr.context.framebufferRenderbuffer(t,e,i,s)},framebufferTexture2D:function(t,e,i,s,n){nr.context.framebufferTexture2D(t,e,i,s,n)},frontFace:function(t){nr.context.frontFace(t)},generateMipmap:function(t){nr.context.generateMipmap(t)},getActiveAttrib:function(t,e){return nr.context.getActiveAttrib(t,e)},getActiveUniform:function(t,e){return nr.context.getActiveUniform(t,e)},getAttachedShaders:function(t){return nr.context.getAttachedShaders(t)},getAttribLocation:function(t,e){return nr.context.getAttribLocation(t,e)},getBufferParameter:function(t,e){return nr.context.getBufferParameter(t,e)},getContextAttributes:function(){return nr.context.getContextAttributes()},getError:function(){return nr.context.getError()},getExtension:function(t){return nr.context.getExtension(t)},getFramebufferAttachmentParameter:function(t,e,i){return nr.context.getFramebufferAttachmentParameter(t,e,i)},getParameter:function(t){return nr.context.getParameter(t)},getProgramInfoLog:function(t){return nr.context.getProgramInfoLog(t)},getProgramParameter:function(t,e){return nr.context.getProgramParameter(t,e)},getRenderbufferParameter:function(t,e){return nr.context.getRenderbufferParameter(t,e)},getShaderInfoLog:function(t){return nr.context.getShaderInfoLog(t)},getShaderParameter:function(t,e){return nr.context.getShaderParameter(t,e)},getShaderPrecisionFormat:function(t,e){return nr.context.getShaderPrecisionFormat(t,e)},getShaderSource:function(t){return nr.context.getShaderSource(t)},getSupportedExtensions:function(){return nr.context.getSupportedExtensions()},getTexParameter:function(t,e){return nr.context.getTexParameter(t,e)},getUniform:function(t,e){return nr.context.getUniform(t,e)},getUniformLocation:function(t,e){return nr.context.getUniformLocation(t,e)},getVertexAttrib:function(t,e){return nr.context.getVertexAttrib(t,e)},getVertexAttribOffset:function(t,e){return nr.context.getVertexAttribOffset(t,e)},hint:function(t,e){nr.context.hint(t,e)},isBuffer:function(t){return nr.context.isBuffer(t)},isContextLost:function(){return nr.context.isContextLost()},isEnabled:function(t){return nr.context.isEnabled(t)},isFramebuffer:function(t){return nr.context.isFramebuffer(t)},isProgram:function(t){return nr.context.isProgram(t)},isRenderbuffer:function(t){return nr.context.isRenderbuffer(t)},isShader:function(t){return nr.context.isShader(t)},isTexture:function(t){return nr.context.isTexture(t)},lineWidth:function(t){nr.context.lineWidth(t)},linkProgram:function(t){nr.context.linkProgram(t)},pixelStorei:function(t,e){nr.context.pixelStorei(t,e)},polygonOffset:function(t,e){nr.context.polygonOffset(t,e)},readPixels:function(t,e,i,s,n,a,r){nr.context.readPixels(t,e,i,s,n,a,r)},renderbufferStorage:function(t,e,i,s){nr.context.renderbufferStorage(t,e,i,s)},sampleCoverage:function(t,e){nr.context.sampleCoverage(t,e)},scissor:function(t,e,i,s){nr.context.scissor(t,e,i,s)},shaderSource:function(t,e){nr.context.shaderSource(t,e)},stencilFunc:function(t,e,i){nr.context.stencilFunc(t,e,i)},stencilFuncSeparate:function(t,e,i,s){nr.context.stencilFuncSeparate(t,e,i,s)},stencilMask:function(t){nr.context.stencilMask(t)},stencilMaskSeparate:function(t,e){nr.context.stencilMaskSeparate(t,e)},stencilOp:function(t,e,i){nr.context.stencilOp(t,e,i)},stencilOpSeparate:function(t,e,i,s){nr.context.stencilOpSeparate(t,e,i,s)},texImage2D:function(t,e,i,s,n,a,r,o,h){nr.context.texImage2D(t,e,i,s,n,a,r,o,h)},texImage2DWeb:function(t,e,i,s,n,a){nr.context.texImage2D(t,e,i,s,n,a)},texParameterf:function(t,e,i){nr.context.texParameterf(t,e,i)},texParameteri:function(t,e,i){var s=nr.currentBoundTexture[nr.currentActiveTexture],n=nr.textureStateCache.get(s);n.h[e]!=i&&(nr.context.texParameteri(t,e,i),n.h[e]=i)},texSubImage2D:function(t,e,i,s,n,a,r,o,h){nr.context.texSubImage2D(t,e,i,s,n,a,r,o,h)},uniform1f:function(t,e){nr.context.uniform1f(t,e)},uniform1fv:function(t,e){nr.context.uniform1fv(t,e)},uniform1i:function(t,e){nr.context.uniform1i(t,e)},uniform1iv:function(t,e){nr.context.uniform1iv(t,e)},uniform2f:function(t,e,i){nr.context.uniform2f(t,e,i)},uniform2fv:function(t,e){nr.context.uniform2fv(t,e)},uniform2i:function(t,e,i){nr.context.uniform2i(t,e,i)},uniform2iv:function(t,e){nr.context.uniform2iv(t,e)},uniform3f:function(t,e,i,s){nr.context.uniform3f(t,e,i,s)},uniform3fv:function(t,e){nr.context.uniform3fv(t,e)},uniform3i:function(t,e,i,s){nr.context.uniform3i(t,e,i,s)},uniform3iv:function(t,e){nr.context.uniform3iv(t,e)},uniform4f:function(t,e,i,s,n){nr.context.uniform4f(t,e,i,s,n)},uniform4fv:function(t,e){nr.context.uniform4fv(t,e)},uniform4i:function(t,e,i,s,n){nr.context.uniform4i(t,e,i,s,n)},uniform4iv:function(t,e){nr.context.uniform4iv(t,e)},uniformMatrix2fv:function(t,e,i){nr.context.uniformMatrix2fv(t,e,i)},uniformMatrix3fv:function(t,e,i){nr.context.uniformMatrix3fv(t,e,i)},uniformMatrix4fv:function(t,e,i){nr.context.uniformMatrix4fv(t,e,i)},useProgram:function(t){var e=t;e!=nr.currentProgram&&(nr.context.useProgram(e),e=nr.currentProgram)},validateProgram:function(t){nr.context.validateProgram(t)},vertexAttrib1f:function(t,e){nr.context.vertexAttrib1f(t,e)},vertexAttrib1fv:function(t,e){nr.context.vertexAttrib1fv(t,e)},vertexAttrib2f:function(t,e,i){nr.context.vertexAttrib2f(t,e,i)},vertexAttrib2fv:function(t,e){nr.context.vertexAttrib2fv(t,e)},vertexAttrib3f:function(t,e,i,s){nr.context.vertexAttrib3f(t,e,i,s)},vertexAttrib3fv:function(t,e){nr.context.vertexAttrib3fv(t,e)},vertexAttrib4f:function(t,e,i,s,n){nr.context.vertexAttrib4f(t,e,i,s,n)},vertexAttrib4fv:function(t,e){nr.context.vertexAttrib4fv(t,e)},vertexAttribPointer:function(t,e,i,s,n,a){nr.context.vertexAttribPointer(t,e,i,s,n,a)},viewport:function(t,e,i,s){nr.context.viewport(t,e,i,s)},get_version:function(){return 2},__class__:Wa,__properties__:{get_version:"get_version"}};var ja=function(t,e,i,s,n,a,r){if(null==n&&(n=-1),null==s&&(s=-1),null==i&&(i=0),null==e&&(e=0),this.offsetX=e,this.offsetY=i,this.width=s,this.height=n,null==r)if(null!=ua.current&&null!=ua.current.renderers[0]){ua.current.renderers[0].context;this.type=Ja.DATA}else this.type=Ja.DATA;else this.type=r;if(null==t){if(0<s&&0<n)switch(this.type[1]){case 0:this.buffer=new Ka(null,s,n),ar.createCanvas(this,s,n),null!=a&&this.fillRect(new ur(0,0,s,n),a);break;case 1:var o,h=s*n*4;o=null!=h?new Qf(h):null,this.buffer=new Ka(o,s,n),null!=a&&this.fillRect(new ur(0,0,s,n),a)}}else this.__fromImageBuffer(t)};(i["lime.graphics.Image"]=ja).__name__=["lime","graphics","Image"],ja.__base64Encoder=null,ja.fromBase64=function(t,e,i){if(null==t)return null;var s=new ja;return s.__fromBase64(t,e,i),s},ja.fromBitmapData=function(t){return null==t?null:Dt.getProperty(t,"image")},ja.fromBytes=function(t,e){if(null==t)return null;var i=new ja;return i.__fromBytes(t,e),i},ja.fromCanvas=function(t){if(null==t)return null;var e=new Ka(null,t.width,t.height);return e.set_src(t),new ja(e)},ja.fromFile=function(t,e,i){var s=new ja;return s.__fromFile(t,e,i),s},ja.fromImageElement=function(t){if(null==t)return null;var e=new Ka(null,t.width,t.height);return e.set_src(t),new ja(e)},ja.__base64Encode=function(t){var e;switch(t.length%3){case 1:e="==";break;case 2:e="=";break;default:e=""}return null==ja.__base64Encoder&&(ja.__base64Encoder=new mn(tn.ofString(ja.__base64Chars))),ja.__base64Encoder.encodeBytes(t).toString()+e},ja.__isJPG=function(t){return 255==t.b[0]&&216==t.b[1]},ja.__isPNG=function(t){return 137==t.b[0]&&80==t.b[1]&&78==t.b[2]&&71==t.b[3]&&13==t.b[4]&&10==t.b[5]&&26==t.b[6]&&10==t.b[7]},ja.__isGIF=function(t){if(71!=t.b[0]||73!=t.b[1]||70!=t.b[2]||56!=t.b[3])return!1;var e=t.b[4];return(55==e||57==e)&&97==t.b[5]},ja.prototype={clone:function(){if(null==this.buffer)return new ja(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type);this.type==Ja.CANVAS&&null==this.buffer.__srcImage&&(ar.convertToCanvas(this),ar.sync(this,!0));var t=new ja(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return t.dirty=this.dirty,t},colorTransform:function(t,e){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:ar.colorTransform(this,t,e);break;case 1:ar.convertToData(this),rr.colorTransform(this,t,e);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(t.__toFlashRectangle(),hr.__toFlashColorTransform(e))}},copyChannel:function(t,e,i,s,n){if((e=this.__clipRect(e),null!=this.buffer&&null!=e)&&((n!=qa.ALPHA||this.get_transparent())&&!(e.width<=0||e.height<=0)))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),this.type[1]){case 0:ar.copyChannel(this,t,e,i,s,n);break;case 1:ar.convertToData(this),ar.convertToData(t),rr.copyChannel(this,t,e,i,s,n);break;case 2:var a,r;switch(s[1]){case 0:a=1;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8}switch(n[1]){case 0:r=1;break;case 1:r=2;break;case 2:r=4;break;case 3:r=8}e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),a,r)}},copyPixels:function(t,e,i,s,n,a){if((null==a&&(a=!1),null!=this.buffer&&null!=t)&&!(e.width<=0||e.height<=0||this.width<=0||this.height<=0))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),i.x+e.width>this.width&&(e.width=this.width-i.x),i.y+e.height>this.height&&(e.height=this.height-i.y),i.x<0&&(e.width+=i.x,e.x=-i.x,i.x=0),i.y<0&&(e.height+=i.y,e.y=-i.y,i.y=0),this.type[1]){case 0:ar.convertToCanvas(this),ar.copyPixels(this,t,e,i,s,n,a);break;case 1:ar.convertToData(this),ar.convertToData(t),rr.copyPixels(this,t,e,i,s,n,a);break;case 2:e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),null!=s&&null!=n&&n.offset(s.offsetX,s.offsetY),this.buffer.__srcBitmapData.copyPixels(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),null!=s?s.buffer.get_src():null,null!=n?n.__toFlashPoint():null,a)}},encode:function(t,e){switch(null==e&&(e=90),null==t&&(t="png"),t){case"bmp":return tr.encode(this);case"jpeg":case"jpg":return ir.encode(this,e);case"png":return sr.encode(this)}return null},fillRect:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){switch(this.type[1]){case 0:ar.fillRect(this,t,e,i);break;case 1:if(ar.convertToData(this),0==this.buffer.data.length)return;rr.fillRect(this,t,e,i);break;case 2:var s;if(t.offset(this.offsetX,this.offsetY),null==i){s=(255&e)<<24|(255&e>>24)<<16|(255&e>>16)<<8|255&e>>8}else switch(i){case 1:s=e;break;case 2:s=(255&e)<<24|(255&e>>8)<<16|(255&e>>16)<<8|255&e>>24;break;default:s=(255&e)<<24|(255&e>>24)<<16|(255&e>>16)<<8|255&e>>8}this.buffer.__srcBitmapData.fillRect(t.__toFlashRectangle(),s)}this.dirty=!0}},floodFill:function(t,e,i,s){if(null!=this.buffer)switch(this.type[1]){case 0:ar.floodFill(this,t,e,i,s);break;case 1:ar.convertToData(this),rr.floodFill(this,t,e,i,s);break;case 2:var n;if(null==s){n=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(s){case 1:n=i;break;case 2:n=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:n=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.floodFill(t+this.offsetX,e+this.offsetY,n)}},getColorBoundsRect:function(t,e,i,s){if(null==i&&(i=!0),null==this.buffer)return null;switch(this.type[1]){case 0:return ar.convertToData(this),rr.getColorBoundsRect(this,t,e,i,s);case 1:return rr.getColorBoundsRect(this,t,e,i,s);case 2:var n=this.buffer.__srcBitmapData.getColorBoundsRect(t,e,i);return new ur(n.x,n.y,n.width,n.height);default:return null}},getPixel:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return ar.getPixel(this,t,e,i);case 1:return ar.convertToData(this),rr.getPixel(this,t,e,i);case 2:var s=this.buffer.__srcBitmapData.getPixel(t+this.offsetX,e+this.offsetY);if(null==i){return(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24}switch(i){case 1:return s;case 2:return(255&s)<<24|(255&s>>8)<<16|(255&s>>16)<<8|255&s>>24;default:return(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24}break;default:return 0}},getPixel32:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return ar.getPixel32(this,t,e,i);case 1:return ar.convertToData(this),rr.getPixel32(this,t,e,i);case 2:var s=this.buffer.__srcBitmapData.getPixel32(t+this.offsetX,e+this.offsetY);if(null==i){return(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24}switch(i){case 1:return s;case 2:return(255&s)<<24|(255&s>>8)<<16|(255&s>>16)<<8|255&s>>24;default:return(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24}break;default:return 0}},getPixels:function(t,e){if(null==this.buffer)return null;switch(this.type[1]){case 0:return ar.getPixels(this,t,e);case 1:return ar.convertToData(this),rr.getPixels(this,t,e);case 2:default:return null}},merge:function(t,e,i,s,n,a,r){if(null!=this.buffer&&null!=t)switch(this.type[1]){case 0:ar.convertToCanvas(this),ar.merge(this,t,e,i,s,n,a,r);break;case 1:ar.convertToData(this),ar.convertToData(t),rr.merge(this,t,e,i,s,n,a,r);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),s,n,a,r);break;default:return}},resize:function(t,e){switch(this.type[1]){case 0:ar.resize(this,t,e);break;case 1:rr.resize(this,t,e)}this.buffer.width=t,this.buffer.height=e,this.offsetX=0,this.offsetY=0,this.width=t,this.height=e},scroll:function(t,e){if(null!=this.buffer)switch(this.type[1]){case 0:ar.scroll(this,t,e);break;case 1:this.copyPixels(this,this.get_rect(),new cr(t,e));break;case 2:this.buffer.__srcBitmapData.scroll(t+this.offsetX,e+this.offsetX)}},setPixel:function(t,e,i,s){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:ar.setPixel(this,t,e,i,s);break;case 1:ar.convertToData(this),rr.setPixel(this,t,e,i,s);break;case 2:var n;if(null==s){n=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(s){case 1:n=i;break;case 2:n=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:n=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.setPixel(t+this.offsetX,e+this.offsetX,n)}},setPixel32:function(t,e,i,s){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:ar.setPixel32(this,t,e,i,s);break;case 1:ar.convertToData(this),rr.setPixel32(this,t,e,i,s);break;case 2:var n;if(null==s){n=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(s){case 1:n=i;break;case 2:n=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:n=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.setPixel32(t+this.offsetX,e+this.offsetY,n)}},setPixels:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:ar.setPixels(this,t,e,i);break;case 1:ar.convertToData(this),rr.setPixels(this,t,e,i)}},threshold:function(t,e,i,s,n,a,r,o,h){if(null==o&&(o=!1),null==r&&(r=-1),null==a&&(a=0),null==this.buffer||null==t||null==e)return 0;switch(this.type[1]){case 0:case 1:return ar.convertToData(this),rr.threshold(this,t,e,i,s,n,a,r,o,h);case 2:var _,l;if(null==h){_=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}else switch(h){case 1:_=a;break;case 2:_=(255&a)<<24|(255&a>>8)<<16|(255&a>>16)<<8|255&a>>24;break;default:_=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}if(null==h){l=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8}else switch(h){case 1:l=r;break;case 2:l=(255&r)<<24|(255&r>>8)<<16|(255&r>>16)<<8|255&r>>24;break;default:l=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8}return e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),s,n,_,l,o)}return 0},__clipRect:function(t){return null==t?null:t.x<0&&(t.width-=-t.x,t.x=0,t.x+t.width<=0)?null:t.y<0&&(t.height-=-t.y,t.y=0,t.y+t.height<=0)?null:t.x+t.width>=this.width&&(t.width-=t.x+t.width-this.width,t.width<=0)?null:t.y+t.height>=this.height&&(t.height-=t.y+t.height-this.height,t.height<=0)?null:t},__fromBase64:function(t,e,i){var s=this,n=new Image;n.crossOrigin="Anonymous";n.addEventListener("load",function(t){s.buffer=new Ka(null,n.width,n.height),s.buffer.__srcImage=n,s.offsetX=0,s.offsetY=0,s.width=s.buffer.width,s.height=s.buffer.height,null!=i&&i(s)},!1),n.src="data:"+e+";base64,"+t},__fromBytes:function(t,e){var i="";if(ja.__isPNG(t))i="image/png";else if(ja.__isJPG(t))i="image/jpeg";else{if(!ja.__isGIF(t))throw new qn("Image tried to read PNG/JPG Bytes, but found an invalid header.");i="image/gif"}this.__fromBase64(ja.__base64Encode(t),i,e)},__fromFile:function(t,e,i){var s=this,n=new Image;n.crossOrigin="Anonymous",n.onload=function(t){s.buffer=new Ka(null,n.width,n.height),s.buffer.__srcImage=n,s.width=n.width,s.height=n.height,null!=e&&e(s)},n.onerror=function(t){null!=i&&i()},n.src=t;n.complete},__fromImageBuffer:function(t){null!=(this.buffer=t)&&(-1==this.width&&(this.width=t.width),-1==this.height&&(this.height=t.height))},get_data:function(){return null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&(ar.convertToCanvas(this),ar.sync(this,!1),ar.createImageData(this)),this.buffer.data},set_data:function(t){return this.buffer.data=t},get_format:function(){return this.buffer.format},set_format:function(t){this.buffer.format!=t&&1==this.type[1]&&rr.setFormat(this,t);return this.buffer.format=t},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&1+~this.buffer.width)==this.buffer.width&&(0!=this.buffer.height&&(this.buffer.height&1+~this.buffer.height)==this.buffer.height)},set_powerOfTwo:function(t){if(t!=this.get_powerOfTwo()){for(var e=1,i=1;e<this.buffer.width;)e<<=1;for(;i<this.buffer.height;)i<<=1;switch(this.type[1]){case 0:break;case 1:rr.resizeBuffer(this,e,i)}}return t},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(t){if(t&&!this.buffer.premultiplied)1==this.type[1]&&(ar.convertToData(this),rr.multiplyAlpha(this));else if(!t&&this.buffer.premultiplied){1==this.type[1]&&(ar.convertToData(this),rr.unmultiplyAlpha(this))}return t},get_rect:function(){return new ur(0,0,this.width,this.height)},get_src:function(){return null==this.buffer.__srcCanvas&&ar.convertToCanvas(this),this.buffer.get_src()},set_src:function(t){return this.buffer.set_src(t)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(t){return null!=this.buffer&&(this.buffer.transparent=t)},__class__:ja,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var Ka=function(t,e,i,s,n){null==s&&(s=32),null==i&&(i=0),null==e&&(e=0),this.data=t,this.width=e,this.height=i,this.bitsPerPixel=s,this.format=null==n?0:n,this.transparent=!0};(i["lime.graphics.ImageBuffer"]=Ka).__name__=["lime","graphics","ImageBuffer"],Ka.prototype={clone:function(){var t=new Ka(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var e,i=this.data.byteLength;e=null!=i?new Qf(i):null,t.data=e;var s=this.data,n=null!=s?new Qf(s):null;t.data.set(n)}else if(null!=this.__srcImageData){t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcImageData.width,t.__srcCanvas.height=this.__srcImageData.height,t.__srcImageData=t.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);var a=new Uint8ClampedArray(this.__srcImageData.data);t.__srcImageData.data.set(a)}else null!=this.__srcCanvas?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcCanvas.width,t.__srcCanvas.height=this.__srcCanvas.height,t.__srcContext.drawImage(this.__srcCanvas,0,0)):t.__srcImage=this.__srcImage;return t.bitsPerPixel=this.bitsPerPixel,t.format=this.format,t.premultiplied=this.premultiplied,t.transparent=this.transparent,t},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(t){return t instanceof HTMLImageElement?this.__srcImage=t:t instanceof HTMLCanvasElement&&(this.__srcCanvas=t,this.__srcContext=this.__srcCanvas.getContext("2d")),t},get_stride:function(){return 4*this.width},get_glCompatibleBuffer:function(){return null!=this.__srcImageData?this.__srcImageData:null!=this.__srcImage?this.__srcImage:null!=this.__srcCanvas?this.__srcCanvas:null},__class__:Ka,__properties__:{get_glCompatibleBuffer:"get_glCompatibleBuffer",get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var qa=i["lime.graphics.ImageChannel"]={__ename__:!0,__constructs__:["RED","GREEN","BLUE","ALPHA"]};qa.RED=["RED",0],qa.RED.toString=f,(qa.RED.__enum__=qa).GREEN=["GREEN",1],qa.GREEN.toString=f,(qa.GREEN.__enum__=qa).BLUE=["BLUE",2],qa.BLUE.toString=f,(qa.BLUE.__enum__=qa).ALPHA=["ALPHA",3],qa.ALPHA.toString=f,qa.ALPHA.__enum__=qa;var Ja=i["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Ja.CANVAS=["CANVAS",0],Ja.CANVAS.toString=f,(Ja.CANVAS.__enum__=Ja).DATA=["DATA",1],Ja.DATA.toString=f,(Ja.DATA.__enum__=Ja).FLASH=["FLASH",2],Ja.FLASH.toString=f,(Ja.FLASH.__enum__=Ja).CUSTOM=["CUSTOM",3],Ja.CUSTOM.toString=f,Ja.CUSTOM.__enum__=Ja;var Za=i["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:["OPENGL","CUSTOM","NONE"]};Za.OPENGL=function(t){var e=["OPENGL",0,t];return e.__enum__=Za,e.toString=f,e},Za.CUSTOM=function(t){var e=["CUSTOM",1,t];return e.__enum__=Za,e.toString=f,e},Za.NONE=["NONE",2],Za.NONE.toString=f,Za.NONE.__enum__=Za;var Qa=function(t){this.onRender=new na,this.onContextRestored=new Ta,this.onContextLost=new na,this.window=t,this.backend=new _a(this),this.window.renderer=this};(i["lime.graphics.Renderer"]=Qa).__name__=["lime","graphics","Renderer"],Qa.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},readPixels:function(t){return this.backend.readPixels(t)},render:function(){this.backend.render()},__class__:Qa};var $a=i["lime.graphics.RendererType"]={__ename__:!0,__constructs__:["OPENGL","CUSTOM"]};$a.OPENGL=["OPENGL",0],$a.OPENGL.toString=f,($a.OPENGL.__enum__=$a).CUSTOM=["CUSTOM",1],$a.CUSTOM.toString=f,$a.CUSTOM.__enum__=$a;var tr=function(){};(i["lime.graphics.format.BMP"]=tr).__name__=["lime","graphics","format","BMP"],tr.encode=function(t,e){!t.get_premultiplied()&&0==t.get_format()||((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null==e&&(e=er.RGB);var i=14,s=40,n=t.width*t.height*4;if(null!=e)switch(e[1]){case 0:n=3*t.width+3*t.width%4+3*t.height+3*t.height;break;case 1:s=108;break;case 2:i=0,n+=t.width*t.height}var a=new tn(new qf(i+s+n)),r=0;if(0<i&&(a.b[r++]=66,a.b[r++]=77,a.setInt32(r,a.length),r+=4,a.setUInt16(r,0),r+=2,a.setUInt16(r,0),r+=2,a.setInt32(r,i+s),r+=4),a.setInt32(r,s),r+=4,a.setInt32(r,t.width),r+=4,a.setInt32(r,e==er.ICO?2*t.height:t.height),r+=4,a.setUInt16(r,1),r+=2,a.setUInt16(r,e==er.RGB?24:32),r+=2,a.setInt32(r,e==er.BITFIELD?3:0),r+=4,a.setInt32(r,n),r+=4,a.setInt32(r,11824),r+=4,a.setInt32(r,11824),r+=4,a.setInt32(r,0),r+=4,a.setInt32(r,0),r+=4,e==er.BITFIELD){a.setInt32(r,16711680),r+=4,a.setInt32(r,65280),r+=4,a.setInt32(r,255),r+=4,a.setInt32(r,-16777216),r+=4,a.b[r++]=32,a.b[r++]=110,a.b[r++]=105,a.b[r++]=87;for(var o=0;o<48;){o++;a.b[r++]=0}}var h,_,l,u,c=t.getPixels(new ur(0,0,t.width,t.height),1),f=0;if(null!=e)switch(e[1]){case 0:for(var d=0,p=t.height;d<p;){var g=d++;f=4*(t.height-1-g)*t.width;for(var m=0,v=t.width;m<v;){m++;h=c.b[f++],_=c.b[f++],l=c.b[f++],u=c.b[f++],a.b[r++]=255&u,a.b[r++]=255&l,a.b[r++]=255&_}for(var b=0,y=3*t.width%4;b<y;){b++;a.b[r++]=0}}break;case 1:for(var w=0,x=t.height;w<x;){var T=w++;f=4*(t.height-1-T)*t.width;for(var S=0,C=t.width;S<C;){S++;h=c.b[f++],_=c.b[f++],l=c.b[f++],u=c.b[f++],a.b[r++]=255&u,a.b[r++]=255&l,a.b[r++]=255&_,a.b[r++]=255&h}}break;case 2:for(var E=new tn(new qf(t.width*t.height)),I=0,P=0,k=t.height;P<k;){var D=P++;f=4*(t.height-1-D)*t.width;for(var A=0,M=t.width;A<M;){A++;h=c.b[f++],_=c.b[f++],l=c.b[f++],u=c.b[f++],a.b[r++]=255&u,a.b[r++]=255&l,a.b[r++]=255&_,a.b[r++]=255&h,E.b[I++]=0}}a.blit(r,E,0,t.width*t.height)}return a};var er=i["lime.graphics.format.BMPType"]={__ename__:!0,__constructs__:["RGB","BITFIELD","ICO"]};er.RGB=["RGB",0],er.RGB.toString=f,(er.RGB.__enum__=er).BITFIELD=["BITFIELD",1],er.BITFIELD.toString=f,(er.BITFIELD.__enum__=er).ICO=["ICO",2],er.ICO.toString=f,er.ICO.__enum__=er;var ir=function(){};(i["lime.graphics.format.JPEG"]=ir).__name__=["lime","graphics","format","JPEG"],ir.decodeBytes=function(t,e){return null==e&&(e=!0),null},ir.decodeFile=function(t,e){return null==e&&(e=!0),null},ir.encode=function(t,e){if(!t.get_premultiplied()&&0==t.get_format()||((t=t.clone()).set_premultiplied(!1),t.set_format(0)),ar.sync(t,!1),null==t.buffer.__srcCanvas)return null;for(var i=t.buffer.__srcCanvas.toDataURL("image/jpeg",e/100),s=window.atob(i.split(";base64,")[1]),n=new tn(new qf(s.length)),a=0,r=s.length;a<r;){var o=a++,h=L.cca(s,o);n.b[o]=255&h}return n};var sr=function(){};(i["lime.graphics.format.PNG"]=sr).__name__=["lime","graphics","format","PNG"],sr.decodeBytes=function(t,e){return null==e&&(e=!0),null},sr.decodeFile=function(t,e){return null==e&&(e=!0),null},sr.encode=function(t){return!t.get_premultiplied()&&0==t.get_format()||((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null};var nr=function(){};(i["lime.graphics.opengl.GL"]=nr).__name__=["lime","graphics","opengl","GL"],nr.__properties__={get_version:"get_version"},nr.version=null,nr.context=null,nr.currentProgram=null,nr.currentActiveTexture=null,nr.activeTexture=function(t){t!=nr.currentActiveTexture&&(nr.context.activeTexture(t),nr.currentActiveTexture=t)},nr.attachShader=function(t,e){nr.context.attachShader(t,e)},nr.bindAttribLocation=function(t,e,i){nr.context.bindAttribLocation(t,e,i)},nr.bindBuffer=function(t,e){nr.context.bindBuffer(t,e)},nr.bindFramebuffer=function(t,e){nr.context.bindFramebuffer(t,e)},nr.bindRenderbuffer=function(t,e){nr.context.bindRenderbuffer(t,e)},nr.bindTexture=function(t,e){nr.currentBoundTexture[nr.currentActiveTexture]!=e&&(nr.context.bindTexture(t,e),null!=(nr.currentBoundTexture[nr.currentActiveTexture]=e)&&null==nr.textureStateCache.h.__keys__[e.__id__]&&nr.textureStateCache.set(e,new yn))},nr.blendColor=function(t,e,i,s){nr.context.blendColor(t,e,i,s)},nr.blendEquation=function(t){nr.context.blendEquation(t)},nr.blendEquationSeparate=function(t,e){nr.context.blendEquationSeparate(t,e)},nr.blendFunc=function(t,e){nr.context.blendFunc(t,e)},nr.blendFuncSeparate=function(t,e,i,s){nr.context.blendFuncSeparate(t,e,i,s)},nr.bufferData=function(t,e,i){nr.context.bufferData(t,e,i)},nr.bufferSubData=function(t,e,i){nr.context.bufferSubData(t,e,i)},nr.checkFramebufferStatus=function(t){return nr.context.checkFramebufferStatus(t)},nr.clear=function(t){nr.context.clear(t)},nr.clearColor=function(t,e,i,s){nr.context.clearColor(t,e,i,s)},nr.clearDepth=function(t){nr.context.clearDepth(t)},nr.clearStencil=function(t){nr.context.clearStencil(t)},nr.colorMask=function(t,e,i,s){nr.context.colorMask(t,e,i,s)},nr.compileShader=function(t){nr.context.compileShader(t)},nr.compressedTexImage2D=function(t,e,i,s,n,a,r){nr.context.compressedTexImage2D(t,e,i,s,n,a,r)},nr.compressedTexSubImage2D=function(t,e,i,s,n,a,r,o){nr.context.compressedTexSubImage2D(t,e,i,s,n,a,r,o)},nr.copyTexImage2D=function(t,e,i,s,n,a,r,o){nr.context.copyTexImage2D(t,e,i,s,n,a,r,o)},nr.copyTexSubImage2D=function(t,e,i,s,n,a,r,o){nr.context.copyTexSubImage2D(t,e,i,s,n,a,r,o)},nr.createBuffer=function(){return nr.context.createBuffer()},nr.createFramebuffer=function(){return nr.context.createFramebuffer()},nr.createProgram=function(){return nr.context.createProgram()},nr.createRenderbuffer=function(){return nr.context.createRenderbuffer()},nr.createShader=function(t){return nr.context.createShader(t)},nr.createTexture=function(){return nr.context.createTexture()},nr.cullFace=function(t){nr.context.cullFace(t)},nr.deleteBuffer=function(t){nr.context.deleteBuffer(t)},nr.deleteFramebuffer=function(t){nr.context.deleteFramebuffer(t)},nr.deleteProgram=function(t){nr.context.deleteProgram(t)},nr.deleteRenderbuffer=function(t){nr.context.deleteRenderbuffer(t)},nr.deleteShader=function(t){nr.context.deleteShader(t)},nr.deleteTexture=function(t){nr.textureStateCache.remove(t),nr.context.deleteTexture(t)},nr.depthFunc=function(t){nr.context.depthFunc(t)},nr.depthMask=function(t){nr.context.depthMask(t)},nr.depthRange=function(t,e){nr.context.depthRange(t,e)},nr.detachShader=function(t,e){nr.context.detachShader(t,e)},nr.disable=function(t){nr.context.disable(t)},nr.disableVertexAttribArray=function(t){nr.context.disableVertexAttribArray(t)},nr.drawArrays=function(t,e,i){nr.context.drawArrays(t,e,i)},nr.drawElements=function(t,e,i,s){nr.context.drawElements(t,e,i,s)},nr.enable=function(t){nr.context.enable(t)},nr.enableVertexAttribArray=function(t){nr.context.enableVertexAttribArray(t)},nr.finish=function(){nr.context.finish()},nr.flush=function(){nr.context.flush()},nr.framebufferRenderbuffer=function(t,e,i,s){nr.context.framebufferRenderbuffer(t,e,i,s)},nr.framebufferTexture2D=function(t,e,i,s,n){nr.context.framebufferTexture2D(t,e,i,s,n)},nr.frontFace=function(t){nr.context.frontFace(t)},nr.generateMipmap=function(t){nr.context.generateMipmap(t)},nr.getActiveAttrib=function(t,e){return nr.context.getActiveAttrib(t,e)},nr.getActiveUniform=function(t,e){return nr.context.getActiveUniform(t,e)},nr.getAttachedShaders=function(t){return nr.context.getAttachedShaders(t)},nr.getAttribLocation=function(t,e){return nr.context.getAttribLocation(t,e)},nr.getBufferParameter=function(t,e){return nr.context.getBufferParameter(t,e)},nr.getContextAttributes=function(){return nr.context.getContextAttributes()},nr.getError=function(){return nr.context.getError()},nr.getExtension=function(t){return nr.context.getExtension(t)},nr.getFramebufferAttachmentParameter=function(t,e,i){return nr.context.getFramebufferAttachmentParameter(t,e,i)},nr.getParameter=function(t){return nr.context.getParameter(t)},nr.getProgramInfoLog=function(t){return nr.context.getProgramInfoLog(t)},nr.getProgramParameter=function(t,e){return nr.context.getProgramParameter(t,e)},nr.getRenderbufferParameter=function(t,e){return nr.context.getRenderbufferParameter(t,e)},nr.getShaderInfoLog=function(t){return nr.context.getShaderInfoLog(t)},nr.getShaderParameter=function(t,e){return nr.context.getShaderParameter(t,e)},nr.getShaderPrecisionFormat=function(t,e){return nr.context.getShaderPrecisionFormat(t,e)},nr.getShaderSource=function(t){return nr.context.getShaderSource(t)},nr.getSupportedExtensions=function(){return nr.context.getSupportedExtensions()},nr.getTexParameter=function(t,e){return nr.context.getTexParameter(t,e)},nr.getUniform=function(t,e){return nr.context.getUniform(t,e)},nr.getUniformLocation=function(t,e){return nr.context.getUniformLocation(t,e)},nr.getVertexAttrib=function(t,e){return nr.context.getVertexAttrib(t,e)},nr.getVertexAttribOffset=function(t,e){return nr.context.getVertexAttribOffset(t,e)},nr.hint=function(t,e){nr.context.hint(t,e)},nr.isBuffer=function(t){return nr.context.isBuffer(t)},nr.isContextLost=function(){return nr.context.isContextLost()},nr.isEnabled=function(t){return nr.context.isEnabled(t)},nr.isFramebuffer=function(t){return nr.context.isFramebuffer(t)},nr.isProgram=function(t){return nr.context.isProgram(t)},nr.isRenderbuffer=function(t){return nr.context.isRenderbuffer(t)},nr.isShader=function(t){return nr.context.isShader(t)},nr.isTexture=function(t){return nr.context.isTexture(t)},nr.lineWidth=function(t){nr.context.lineWidth(t)},nr.linkProgram=function(t){nr.context.linkProgram(t)},nr.pixelStorei=function(t,e){nr.context.pixelStorei(t,e)},nr.polygonOffset=function(t,e){nr.context.polygonOffset(t,e)},nr.readPixels=function(t,e,i,s,n,a,r){nr.context.readPixels(t,e,i,s,n,a,r)},nr.renderbufferStorage=function(t,e,i,s){nr.context.renderbufferStorage(t,e,i,s)},nr.sampleCoverage=function(t,e){nr.context.sampleCoverage(t,e)},nr.scissor=function(t,e,i,s){nr.context.scissor(t,e,i,s)},nr.shaderSource=function(t,e){nr.context.shaderSource(t,e)},nr.stencilFunc=function(t,e,i){nr.context.stencilFunc(t,e,i)},nr.stencilFuncSeparate=function(t,e,i,s){nr.context.stencilFuncSeparate(t,e,i,s)},nr.stencilMask=function(t){nr.context.stencilMask(t)},nr.stencilMaskSeparate=function(t,e){nr.context.stencilMaskSeparate(t,e)},nr.stencilOp=function(t,e,i){nr.context.stencilOp(t,e,i)},nr.stencilOpSeparate=function(t,e,i,s){nr.context.stencilOpSeparate(t,e,i,s)},nr.texImage2D=function(t,e,i,s,n,a,r,o,h){nr.context.texImage2D(t,e,i,s,n,a,r,o,h)},nr.texImage2DWeb=function(t,e,i,s,n,a){nr.context.texImage2D(t,e,i,s,n,a)},nr.texParameterf=function(t,e,i){nr.context.texParameterf(t,e,i)},nr.texParameteri=function(t,e,i){var s=nr.currentBoundTexture[nr.currentActiveTexture],n=nr.textureStateCache.h[s.__id__];n.h[e]!=i&&(nr.context.texParameteri(t,e,i),n.h[e]=i)},nr.texSubImage2D=function(t,e,i,s,n,a,r,o,h){nr.context.texSubImage2D(t,e,i,s,n,a,r,o,h)},nr.uniform1f=function(t,e){nr.context.uniform1f(t,e)},nr.uniform1fv=function(t,e){nr.context.uniform1fv(t,e)},nr.uniform1i=function(t,e){nr.context.uniform1i(t,e)},nr.uniform1iv=function(t,e){nr.context.uniform1iv(t,e)},nr.uniform2f=function(t,e,i){nr.context.uniform2f(t,e,i)},nr.uniform2fv=function(t,e){nr.context.uniform2fv(t,e)},nr.uniform2i=function(t,e,i){nr.context.uniform2i(t,e,i)},nr.uniform2iv=function(t,e){nr.context.uniform2iv(t,e)},nr.uniform3f=function(t,e,i,s){nr.context.uniform3f(t,e,i,s)},nr.uniform3fv=function(t,e){nr.context.uniform3fv(t,e)},nr.uniform3i=function(t,e,i,s){nr.context.uniform3i(t,e,i,s)},nr.uniform3iv=function(t,e){nr.context.uniform3iv(t,e)},nr.uniform4f=function(t,e,i,s,n){nr.context.uniform4f(t,e,i,s,n)},nr.uniform4fv=function(t,e){nr.context.uniform4fv(t,e)},nr.uniform4i=function(t,e,i,s,n){nr.context.uniform4i(t,e,i,s,n)},nr.uniform4iv=function(t,e){nr.context.uniform4iv(t,e)},nr.uniformMatrix2fv=function(t,e,i){nr.context.uniformMatrix2fv(t,e,i)},nr.uniformMatrix3fv=function(t,e,i){nr.context.uniformMatrix3fv(t,e,i)},nr.uniformMatrix4fv=function(t,e,i){nr.context.uniformMatrix4fv(t,e,i)},nr.useProgram=function(t){t!=nr.currentProgram&&(nr.context.useProgram(t),t=nr.currentProgram)},nr.validateProgram=function(t){nr.context.validateProgram(t)},nr.vertexAttrib1f=function(t,e){nr.context.vertexAttrib1f(t,e)},nr.vertexAttrib1fv=function(t,e){nr.context.vertexAttrib1fv(t,e)},nr.vertexAttrib2f=function(t,e,i){nr.context.vertexAttrib2f(t,e,i)},nr.vertexAttrib2fv=function(t,e){nr.context.vertexAttrib2fv(t,e)},nr.vertexAttrib3f=function(t,e,i,s){nr.context.vertexAttrib3f(t,e,i,s)},nr.vertexAttrib3fv=function(t,e){nr.context.vertexAttrib3fv(t,e)},nr.vertexAttrib4f=function(t,e,i,s,n){nr.context.vertexAttrib4f(t,e,i,s,n)},nr.vertexAttrib4fv=function(t,e){nr.context.vertexAttrib4fv(t,e)},nr.vertexAttribPointer=function(t,e,i,s,n,a){nr.context.vertexAttribPointer(t,e,i,s,n,a)},nr.viewport=function(t,e,i,s){nr.context.viewport(t,e,i,s)},nr.get_version=function(){return 2};var ar=function(){};(i["lime.graphics.utils.ImageCanvasUtil"]=ar).__name__=["lime","graphics","utils","ImageCanvasUtil"],ar.colorTransform=function(t,e,i){ar.convertToCanvas(t),ar.createImageData(t),rr.colorTransform(t,e,i)},ar.convertToCanvas=function(t){var e=t.buffer;if(t.type==Ja.DATA&&null!=e.data)return ar.createCanvas(t,e.width,e.height),ar.createImageData(t),e.__srcContext.putImageData(e.__srcImageData,0,0),void(t.type=Ja.CANVAS);null!=e.__srcImage?(null==e.__srcCanvas&&(ar.createCanvas(t,e.__srcImage.width,e.__srcImage.height),e.__srcContext.drawImage(e.__srcImage,0,0)),e.__srcImage=null):null!=e.data&&null==e.__srcCanvas?(ar.createCanvas(t,e.width,e.height),ar.createImageData(t),e.__srcContext.putImageData(e.__srcImageData,0,0)):null==e.data&&null!=e.__srcImageData&&(e.data=e.__srcImageData.data)},ar.convertToData=function(t){null==t.buffer.data&&(ar.convertToCanvas(t),ar.sync(t,!1),ar.createImageData(t),t.buffer.__srcCanvas=null,t.buffer.__srcContext=null)},ar.copyChannel=function(t,e,i,s,n,a){ar.convertToCanvas(e),ar.createImageData(e),ar.convertToCanvas(t),ar.createImageData(t),rr.copyChannel(t,e,i,s,n,a)},ar.copyPixels=function(t,e,i,s,n,a,r){if(null==r&&(r=!1),!(null==s||s.x>=t.width||s.y>=t.height||null==i||i.width<1||i.height<1)){if(null!=n&&n.get_transparent()){null==a&&(a=new cr);var o=t.clone();o.copyChannel(n,new ur(a.x,a.y,i.width,i.height),new cr(i.x,i.y),qa.ALPHA,qa.ALPHA),e=o}ar.sync(t,!0),r||t.get_transparent()&&e.get_transparent()&&t.buffer.__srcContext.clearRect(s.x+t.offsetX,s.y+t.offsetY,i.width+t.offsetX,i.height+t.offsetY),ar.sync(e,!1),ar.convertToCanvas(e),null!=e.buffer.get_src()&&(t.buffer.__srcContext.drawImage(e.buffer.get_src(),i.x+e.offsetX|0,i.y+e.offsetY|0,0|i.width,0|i.height,s.x+t.offsetX|0,s.y+t.offsetY|0,0|i.width,0|i.height),t.dirty=!0)}},ar.createCanvas=function(t,e,i){var s=t.buffer;null==s.__srcCanvas&&(s.__srcCanvas=window.document.createElement("canvas"),s.__srcCanvas.width=e,s.__srcCanvas.height=i,t.get_transparent()?s.__srcContext=s.__srcCanvas.getContext("2d"):(t.get_transparent()||s.__srcCanvas.setAttribute("moz-opaque","true"),s.__srcContext=s.__srcCanvas.getContext("2d",{alpha:!1})),s.__srcContext.mozImageSmoothingEnabled=!1,s.__srcContext.msImageSmoothingEnabled=!1,s.__srcContext.imageSmoothingEnabled=!1)},ar.createImageData=function(t){var e=t.buffer;if(null==e.__srcImageData){null==e.data?e.__srcImageData=e.__srcContext.getImageData(0,0,e.width,e.height):(e.__srcImageData=e.__srcContext.createImageData(e.width,e.height),e.__srcImageData.data.set(e.data));var i,s=e.__srcImageData.data.buffer;i=null!=s?new Qf(s):null,e.data=i}},ar.fillRect=function(t,e,i,s){var n,a,r,o;(ar.convertToCanvas(t),ar.sync(t,!0),0==e.x&&0==e.y&&e.width==t.width&&e.height==t.height&&t.get_transparent()&&0==(255&i))?t.buffer.__srcCanvas.width=t.buffer.width:(o=1==s?(n=i>>16&255,a=i>>8&255,r=255&i,t.get_transparent()?i>>24&255:255):(n=i>>24&255,a=i>>16&255,r=i>>8&255,t.get_transparent()?255&i:255),t.buffer.__srcContext.fillStyle="rgba("+n+", "+a+", "+r+", "+o/255+")",t.buffer.__srcContext.fillRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY))},ar.floodFill=function(t,e,i,s,n){ar.convertToCanvas(t),ar.createImageData(t),rr.floodFill(t,e,i,s,n)},ar.getPixel=function(t,e,i,s){return ar.convertToCanvas(t),ar.createImageData(t),rr.getPixel(t,e,i,s)},ar.getPixel32=function(t,e,i,s){return ar.convertToCanvas(t),ar.createImageData(t),rr.getPixel32(t,e,i,s)},ar.getPixels=function(t,e,i){return ar.convertToCanvas(t),ar.createImageData(t),rr.getPixels(t,e,i)},ar.merge=function(t,e,i,s,n,a,r,o){ar.convertToCanvas(e),ar.createImageData(e),ar.convertToCanvas(t),ar.createImageData(t),rr.merge(t,e,i,s,n,a,r,o)},ar.resize=function(t,e,i){var s=t.buffer;if(null==s.__srcCanvas)ar.createCanvas(t,e,i),s.__srcContext.drawImage(s.get_src(),0,0,e,i);else{ar.sync(t,!0);var n=s.__srcCanvas;s.__srcCanvas=null,ar.createCanvas(t,e,i),s.__srcContext.drawImage(n,0,0,e,i)}},ar.scroll=function(t,e,i){e%t.width==0&&i%t.height==0||(ar.convertToCanvas(t),ar.sync(t,!0),t.buffer.__srcContext.clearRect(e,i,t.width,t.height),t.buffer.__srcContext.drawImage(t.buffer.__srcCanvas,e,i))},ar.setPixel=function(t,e,i,s,n){ar.convertToCanvas(t),ar.createImageData(t),rr.setPixel(t,e,i,s,n)},ar.setPixel32=function(t,e,i,s,n){ar.convertToCanvas(t),ar.createImageData(t),rr.setPixel32(t,e,i,s,n)},ar.setPixels=function(t,e,i,s){ar.convertToCanvas(t),ar.createImageData(t),rr.setPixels(t,e,i,s)},ar.sync=function(t,e){t.dirty&&null!=t.buffer.__srcImageData&&t.type!=Ja.DATA&&(t.buffer.__srcContext.putImageData(t.buffer.__srcImageData,0,0),t.buffer.data=null,t.dirty=!1),e&&(t.buffer.__srcImageData=null,t.buffer.data=null)};var rr=function(){};(i["lime.graphics.utils.ImageDataUtil"]=rr).__name__=["lime","graphics","utils","ImageDataUtil"],rr.colorTransform=function(t,e,i){var s=t.buffer.data;if(null!=s){for(var n,a,r,o=t.buffer.format,h=t.buffer.premultiplied,_=new or(t,e),l=hr.getAlphaTable(i),u=hr.getRedTable(i),c=hr.getGreenTable(i),f=hr.getBlueTable(i),d=0,p=_.height;d<p;){var g=d++;n=_.offset+_.stride*g;for(var m=0,v=_.width;m<v;){switch(a=n+4*m++,o){case 0:r=(255&s[a])<<24|(255&s[a+1])<<16|(255&s[a+2])<<8|255&s[a+3];break;case 1:r=(255&s[a+1])<<24|(255&s[a+2])<<16|(255&s[a+3])<<8|255&s[a];break;case 2:r=(255&s[a+2])<<24|(255&s[a+1])<<16|(255&s[a])<<8|255&s[a+3]}switch(h&&0!=(255&r)&&255!=(255&r)&&(gr.unmult=255/(255&r),r=(255&gr.__clamp[Math.round((r>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((r>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((r>>8&255)*gr.unmult)])<<8|255&r),r=(255&u[r>>24&255])<<24|(255&c[r>>16&255])<<16|(255&f[r>>8&255])<<8|255&l[255&r],h&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(gr.a16=gr.__alpha16[255&r],r=((r>>24&255)*gr.a16>>16&255)<<24|((r>>16&255)*gr.a16>>16&255)<<16|((r>>8&255)*gr.a16>>16&255)<<8|255&r)),o){case 0:s[a]=r>>24&255,s[a+1]=r>>16&255,s[a+2]=r>>8&255,s[a+3]=255&r;break;case 1:s[a]=255&r,s[a+1]=r>>24&255,s[a+2]=r>>16&255,s[a+3]=r>>8&255;break;case 2:s[a]=r>>8&255,s[a+1]=r>>16&255,s[a+2]=r>>24&255,s[a+3]=255&r}}}t.dirty=!0}},rr.copyChannel=function(t,e,i,s,n,a){var r,o;switch(a[1]){case 0:r=0;break;case 1:r=1;break;case 2:r=2;break;case 3:r=3}switch(n[1]){case 0:o=0;break;case 1:o=1;break;case 2:o=2;break;case 3:o=3}var h=e.buffer.data,_=t.buffer.data;if(null!=h&&null!=_){for(var l,u,c,f,d=new or(e,i),p=new or(t,new ur(s.x,s.y,d.width,d.height)),g=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,b=t.buffer.premultiplied,y=0,w=0,x=p.height;w<x;){var T=w++;l=d.offset+d.stride*T,u=p.offset+p.stride*T;for(var S=0,C=p.width;S<C;){S++;switch(g){case 0:c=(255&h[l])<<24|(255&h[l+1])<<16|(255&h[l+2])<<8|255&h[l+3];break;case 1:c=(255&h[l+1])<<24|(255&h[l+2])<<16|(255&h[l+3])<<8|255&h[l];break;case 2:c=(255&h[l+2])<<24|(255&h[l+1])<<16|(255&h[l])<<8|255&h[l+3]}switch(v&&0!=(255&c)&&255!=(255&c)&&(gr.unmult=255/(255&c),c=(255&gr.__clamp[Math.round((c>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((c>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((c>>8&255)*gr.unmult)])<<8|255&c),m){case 0:f=(255&_[u])<<24|(255&_[u+1])<<16|(255&_[u+2])<<8|255&_[u+3];break;case 1:f=(255&_[u+1])<<24|(255&_[u+2])<<16|(255&_[u+3])<<8|255&_[u];break;case 2:f=(255&_[u+2])<<24|(255&_[u+1])<<16|(255&_[u])<<8|255&_[u+3]}switch(b&&0!=(255&f)&&255!=(255&f)&&(gr.unmult=255/(255&f),f=(255&gr.__clamp[Math.round((f>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((f>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((f>>8&255)*gr.unmult)])<<8|255&f),o){case 0:y=c>>24&255;break;case 1:y=c>>16&255;break;case 2:y=c>>8&255;break;case 3:y=255&c}switch(r){case 0:f=(255&y)<<24|(255&f>>16)<<16|(255&f>>8)<<8|255&f;break;case 1:f=(255&f>>24)<<24|(255&y)<<16|(255&f>>8)<<8|255&f;break;case 2:f=(255&f>>24)<<24|(255&f>>16)<<16|(255&y)<<8|255&f;break;case 3:f=(255&f>>24)<<24|(255&f>>16)<<16|(255&f>>8)<<8|255&y}switch(b&&(0==(255&f)?0!=f&&(f=0):255!=(255&f)&&(gr.a16=gr.__alpha16[255&f],f=((f>>24&255)*gr.a16>>16&255)<<24|((f>>16&255)*gr.a16>>16&255)<<16|((f>>8&255)*gr.a16>>16&255)<<8|255&f)),m){case 0:_[u]=f>>24&255,_[u+1]=f>>16&255,_[u+2]=f>>8&255,_[u+3]=255&f;break;case 1:_[u]=255&f,_[u+1]=f>>24&255,_[u+2]=f>>16&255,_[u+3]=f>>8&255;break;case 2:_[u]=f>>8&255,_[u+1]=f>>16&255,_[u+2]=f>>24&255,_[u+3]=255&f}l+=4,u+=4}}t.dirty=!0}},rr.copyPixels=function(t,e,i,s,n,a,r){null==r&&(r=!1);var o=e.buffer.data,h=t.buffer.data;if(null!=o&&null!=h){var _,l,u,c,f,d,p,g,m=new or(e,i),v=new or(t,new ur(s.x,s.y,m.width,m.height)),b=e.buffer.format,y=t.buffer.format,w=e.buffer.premultiplied,x=t.buffer.premultiplied;if(r&&e.get_transparent())if(null==n)for(var T=0,S=v.height;T<S;){var C=T++;_=m.offset+m.stride*C,l=v.offset+v.stride*C;for(var E=0,I=v.width;E<I;){E++;switch(b){case 0:u=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:u=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_];break;case 2:u=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(gr.unmult=255/(255&u),u=(255&gr.__clamp[Math.round((u>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((u>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((u>>8&255)*gr.unmult)])<<8|255&u),y){case 0:g=(255&h[l])<<24|(255&h[l+1])<<16|(255&h[l+2])<<8|255&h[l+3];break;case 1:g=(255&h[l+1])<<24|(255&h[l+2])<<16|(255&h[l+3])<<8|255&h[l];break;case 2:g=(255&h[l+2])<<24|(255&h[l+1])<<16|(255&h[l])<<8|255&h[l+3]}if(x&&0!=(255&g)&&255!=(255&g)&&(gr.unmult=255/(255&g),g=(255&gr.__clamp[Math.round((g>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((g>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((g>>8&255)*gr.unmult)])<<8|255&g),0==(p=(c=(255&u)/255)+(f=(255&g)/255)*(d=1-c)))g=0;else g=(255&(g=(255&(g=(255&(g=(255&gr.__clamp[Math.round(((u>>24&255)*c+(g>>24&255)*f*d)/p)])<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&gr.__clamp[Math.round(((u>>16&255)*c+(g>>16&255)*f*d)/p)])<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&gr.__clamp[Math.round(((u>>8&255)*c+(g>>8&255)*f*d)/p)])<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&gr.__clamp[Math.round(255*p)];switch(x&&(0==(255&g)?0!=g&&(g=0):255!=(255&g)&&(gr.a16=gr.__alpha16[255&g],g=((g>>24&255)*gr.a16>>16&255)<<24|((g>>16&255)*gr.a16>>16&255)<<16|((g>>8&255)*gr.a16>>16&255)<<8|255&g)),y){case 0:h[l]=g>>24&255,h[l+1]=g>>16&255,h[l+2]=g>>8&255,h[l+3]=255&g;break;case 1:h[l]=255&g,h[l+1]=g>>24&255,h[l+2]=g>>16&255,h[l+3]=g>>8&255;break;case 2:h[l]=g>>8&255,h[l+1]=g>>16&255,h[l+2]=g>>24&255,h[l+3]=255&g}_+=4,l+=4}}else{null==a&&(a=new cr);for(var P,k,D=n.buffer.data,A=n.buffer.format,M=n.buffer.premultiplied,R=new or(n,new ur(a.x,a.y,v.width,v.height)),F=0,B=R.height;F<B;){var L=F++;_=m.offset+m.stride*L,l=v.offset+v.stride*L,P=R.offset+R.stride*L;for(var N=0,O=R.width;N<O;){N++;switch(b){case 0:u=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:u=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_];break;case 2:u=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(gr.unmult=255/(255&u),u=(255&gr.__clamp[Math.round((u>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((u>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((u>>8&255)*gr.unmult)])<<8|255&u),y){case 0:g=(255&h[l])<<24|(255&h[l+1])<<16|(255&h[l+2])<<8|255&h[l+3];break;case 1:g=(255&h[l+1])<<24|(255&h[l+2])<<16|(255&h[l+3])<<8|255&h[l];break;case 2:g=(255&h[l+2])<<24|(255&h[l+1])<<16|(255&h[l])<<8|255&h[l+3]}switch(x&&0!=(255&g)&&255!=(255&g)&&(gr.unmult=255/(255&g),g=(255&gr.__clamp[Math.round((g>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((g>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((g>>8&255)*gr.unmult)])<<8|255&g),A){case 0:k=(255&D[P])<<24|(255&D[P+1])<<16|(255&D[P+2])<<8|255&D[P+3];break;case 1:k=(255&D[P+1])<<24|(255&D[P+2])<<16|(255&D[P+3])<<8|255&D[P];break;case 2:k=(255&D[P+2])<<24|(255&D[P+1])<<16|(255&D[P])<<8|255&D[P+3]}if(M&&0!=(255&k)&&255!=(255&k)&&(gr.unmult=255/(255&k),k=(255&gr.__clamp[Math.round((k>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((k>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((k>>8&255)*gr.unmult)])<<8|255&k),0==(p=(c=(255&k)/255)+(f=(255&g)/255)*(d=1-c)))g=0;else g=(255&(g=(255&(g=(255&(g=(255&gr.__clamp[Math.round(((u>>24&255)*c+(g>>24&255)*f*d)/p)])<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&gr.__clamp[Math.round(((u>>16&255)*c+(g>>16&255)*f*d)/p)])<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&gr.__clamp[Math.round(((u>>8&255)*c+(g>>8&255)*f*d)/p)])<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&gr.__clamp[Math.round(255*p)];switch(x&&(0==(255&g)?0!=g&&(g=0):255!=(255&g)&&(gr.a16=gr.__alpha16[255&g],g=((g>>24&255)*gr.a16>>16&255)<<24|((g>>16&255)*gr.a16>>16&255)<<16|((g>>8&255)*gr.a16>>16&255)<<8|255&g)),y){case 0:h[l]=g>>24&255,h[l+1]=g>>16&255,h[l+2]=g>>8&255,h[l+3]=255&g;break;case 1:h[l]=255&g,h[l+1]=g>>24&255,h[l+2]=g>>16&255,h[l+3]=g>>8&255;break;case 2:h[l]=g>>8&255,h[l+1]=g>>16&255,h[l+2]=g>>24&255,h[l+3]=255&g}_+=4,l+=4}}}else for(var U=0,z=v.height;U<z;){var G=U++;_=m.offset+m.stride*G,l=v.offset+v.stride*G;for(var X=0,V=v.width;X<V;){X++;switch(b){case 0:u=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:u=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_];break;case 2:u=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(gr.unmult=255/(255&u),u=(255&gr.__clamp[Math.round((u>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((u>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((u>>8&255)*gr.unmult)])<<8|255&u),x&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(gr.a16=gr.__alpha16[255&u],u=((u>>24&255)*gr.a16>>16&255)<<24|((u>>16&255)*gr.a16>>16&255)<<16|((u>>8&255)*gr.a16>>16&255)<<8|255&u)),y){case 0:h[l]=u>>24&255,h[l+1]=u>>16&255,h[l+2]=u>>8&255,h[l+3]=255&u;break;case 1:h[l]=255&u,h[l+1]=u>>24&255,h[l+2]=u>>16&255,h[l+3]=u>>8&255;break;case 2:h[l]=u>>8&255,h[l+1]=u>>16&255,h[l+2]=u>>24&255,h[l+3]=255&u}_+=4,l+=4}}t.dirty=!0}},rr.fillRect=function(t,e,i,s){var n;switch(s){case 1:n=(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24;break;case 2:n=(255&i>>8)<<24|(255&i>>16)<<16|(255&i>>24)<<8|255&i;break;default:n=i}t.get_transparent()||(n=(255&n>>24)<<24|(255&n>>16)<<16|(255&n>>8)<<8|255);var a=t.buffer.data;if(null!=a){for(var r,o=t.buffer.format,h=t.buffer.premultiplied,_=new or(t,e),l=0,u=_.height;l<u;){var c=l++;r=_.offset+_.stride*c;for(var f=0,d=_.width;f<d;){var p=r+4*f++;switch(h&&(0==(255&n)?0!=n&&(n=0):255!=(255&n)&&(gr.a16=gr.__alpha16[255&n],n=((n>>24&255)*gr.a16>>16&255)<<24|((n>>16&255)*gr.a16>>16&255)<<16|((n>>8&255)*gr.a16>>16&255)<<8|255&n)),o){case 0:a[p]=n>>24&255,a[p+1]=n>>16&255,a[p+2]=n>>8&255,a[p+3]=255&n;break;case 1:a[p]=255&n,a[p+1]=n>>24&255,a[p+2]=n>>16&255,a[p+3]=n>>8&255;break;case 2:a[p]=n>>8&255,a[p+1]=n>>16&255,a[p+2]=n>>24&255,a[p+3]=255&n}}}t.dirty=!0}},rr.floodFill=function(t,e,i,s,n){var a=t.buffer.data;if(null!=a){1==n&&(s=(16777215&s)<<8|s>>24&255);var r,o=t.buffer.format,h=t.buffer.premultiplied,_=s,l=(i+t.offsetY)*(4*t.buffer.width)+4*(e+t.offsetX);switch(o){case 0:r=(255&a[l])<<24|(255&a[1+l])<<16|(255&a[2+l])<<8|255&a[3+l];break;case 1:r=(255&a[1+l])<<24|(255&a[2+l])<<16|(255&a[3+l])<<8|255&a[l];break;case 2:r=(255&a[2+l])<<24|(255&a[1+l])<<16|(255&a[l])<<8|255&a[3+l]}if(h&&0!=(255&r)&&255!=(255&r)&&(gr.unmult=255/(255&r),r=(255&gr.__clamp[Math.round((r>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((r>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((r>>8&255)*gr.unmult)])<<8|255&r),t.get_transparent()||(_=(255&_>>24)<<24|(255&_>>16)<<16|(255&_>>8)<<8|255,r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255),_!=r){var u,c,f,d,p,g,m=[0,-1,1,0],v=[-1,0,0,1],b=-t.offsetX,y=-t.offsetY,w=b+t.width,x=y+t.height,T=[];for(T.push(e),T.push(i);0<T.length;){c=T.pop(),u=T.pop();for(var S=0;S<4;){var C=S++;if(d=c+v[C],!((f=u+m[C])<b||d<y||w<=f||x<=d)){switch(p=4*(d*t.width+f),o){case 0:g=(255&a[p])<<24|(255&a[1+p])<<16|(255&a[2+p])<<8|255&a[3+p];break;case 1:g=(255&a[1+p])<<24|(255&a[2+p])<<16|(255&a[3+p])<<8|255&a[p];break;case 2:g=(255&a[2+p])<<24|(255&a[1+p])<<16|(255&a[p])<<8|255&a[3+p]}if(h&&0!=(255&g)&&255!=(255&g)&&(gr.unmult=255/(255&g),g=(255&gr.__clamp[Math.round((g>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((g>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((g>>8&255)*gr.unmult)])<<8|255&g),g==r){switch(h&&(0==(255&_)?0!=_&&(_=0):255!=(255&_)&&(gr.a16=gr.__alpha16[255&_],_=((_>>24&255)*gr.a16>>16&255)<<24|((_>>16&255)*gr.a16>>16&255)<<16|((_>>8&255)*gr.a16>>16&255)<<8|255&_)),o){case 0:a[p]=_>>24&255,a[1+p]=_>>16&255,a[2+p]=_>>8&255,a[3+p]=255&_;break;case 1:a[p]=255&_,a[1+p]=_>>24&255,a[2+p]=_>>16&255,a[3+p]=_>>8&255;break;case 2:a[p]=_>>8&255,a[1+p]=_>>16&255,a[2+p]=_>>24&255,a[3+p]=255&_}T.push(f),T.push(d)}}}}t.dirty=!0}}},rr.getColorBoundsRect=function(t,e,i,s,n){null==s&&(s=!0);var a,r,o,h,_=t.width+1,l=0,u=t.height+1,c=0;switch(n){case 1:a=(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24;r=(255&e>>16)<<24|(255&e>>8)<<16|(255&e)<<8|255&e>>24;break;case 2:a=(255&i>>8)<<24|(255&i>>16)<<16|(255&i>>24)<<8|255&i;r=(255&e>>8)<<24|(255&e>>16)<<16|(255&e>>24)<<8|255&e;break;default:a=i,r=e}t.get_transparent()||(a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255,r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255);for(var f,d=0,p=t.width;d<p;){var g=d++;h=!1;for(var m=0,v=t.height;m<v;){var b=m++;if(o=t.getPixel32(g,b,0),h=s?(o&r)==a:(o&r)!=a){g<_&&(_=g);break}}if(h)break}for(var y=0,w=t.width;y<w;){var x=y++;f=t.width-1-x,h=!1;for(var T=0,S=t.height;T<S;){var C=T++;if(o=t.getPixel32(f,C,0),h=s?(o&r)==a:(o&r)!=a){l<f&&(l=f);break}}if(h)break}for(var E,I=0,P=t.height;I<P;){var k=I++;h=!1;for(var D=0,A=t.width;D<A;){var M=D++;if(o=t.getPixel32(M,k,0),h=s?(o&r)==a:(o&r)!=a){k<u&&(u=k);break}}if(h)break}for(var R=0,F=t.height;R<F;){var B=R++;E=t.height-1-B,h=!1;for(var L=0,N=t.width;L<N;){var O=L++;if(o=t.getPixel32(O,E,0),h=s?(o&r)==a:(o&r)!=a){c<E&&(c=E);break}}if(h)break}var U=l-_,z=c-u;return 0<U&&++U,0<z&&++z,U<0&&(U=0),z<0&&(z=0),_==l&&(U=1),u==c&&(z=1),_>t.width&&(_=0),u>t.height&&(u=0),new ur(_,u,U,z)},rr.getPixel=function(t,e,i,s){var n,a=t.buffer.data,r=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),o=t.buffer.premultiplied;switch(t.buffer.format){case 0:n=(255&a[r])<<24|(255&a[1+r])<<16|(255&a[2+r])<<8|255&a[3+r];break;case 1:n=(255&a[1+r])<<24|(255&a[2+r])<<16|(255&a[3+r])<<8|255&a[r];break;case 2:n=(255&a[2+r])<<24|(255&a[1+r])<<16|(255&a[r])<<8|255&a[3+r]}switch(o&&0!=(255&n)&&255!=(255&n)&&(gr.unmult=255/(255&n),n=(255&gr.__clamp[Math.round((n>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((n>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((n>>8&255)*gr.unmult)])<<8|255&n),n=(255&n>>24)<<24|(255&n>>16)<<16|(255&n>>8)<<8|0,s){case 1:return(255&n)<<24|(255&n>>24)<<16|(255&n>>16)<<8|255&n>>8;case 2:return(255&n>>8)<<24|(255&n>>16)<<16|(255&n>>24)<<8|255&n;default:return n}},rr.getPixel32=function(t,e,i,s){var n,a=t.buffer.data,r=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),o=t.buffer.premultiplied;switch(t.buffer.format){case 0:n=(255&a[r])<<24|(255&a[1+r])<<16|(255&a[2+r])<<8|255&a[3+r];break;case 1:n=(255&a[1+r])<<24|(255&a[2+r])<<16|(255&a[3+r])<<8|255&a[r];break;case 2:n=(255&a[2+r])<<24|(255&a[1+r])<<16|(255&a[r])<<8|255&a[3+r]}switch(o&&0!=(255&n)&&255!=(255&n)&&(gr.unmult=255/(255&n),n=(255&gr.__clamp[Math.round((n>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((n>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((n>>8&255)*gr.unmult)])<<8|255&n),s){case 1:return(255&n)<<24|(255&n>>24)<<16|(255&n>>16)<<8|255&n>>8;case 2:return(255&n>>8)<<24|(255&n>>16)<<16|(255&n>>24)<<8|255&n;default:return n}},rr.getPixels=function(t,e,i){if(null==t.buffer.data)return null;for(var s,n,a=e.width*e.height|0,r=new tn(new qf(4*a)),o=t.buffer.data,h=t.buffer.format,_=t.buffer.premultiplied,l=new or(t,e),u=0,c=0,f=l.height;c<f;){var d=c++;s=l.offset+l.stride*d;for(var p=0,g=l.width;p<g;){p++;switch(h){case 0:n=(255&o[s])<<24|(255&o[s+1])<<16|(255&o[s+2])<<8|255&o[s+3];break;case 1:n=(255&o[s+1])<<24|(255&o[s+2])<<16|(255&o[s+3])<<8|255&o[s];break;case 2:n=(255&o[s+2])<<24|(255&o[s+1])<<16|(255&o[s])<<8|255&o[s+3]}switch(_&&0!=(255&n)&&255!=(255&n)&&(gr.unmult=255/(255&n),n=(255&gr.__clamp[Math.round((n>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((n>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((n>>8&255)*gr.unmult)])<<8|255&n),i){case 1:n=(255&n)<<24|(255&n>>24)<<16|(255&n>>16)<<8|255&n>>8;break;case 2:n=(255&n>>8)<<24|(255&n>>16)<<16|(255&n>>24)<<8|255&n}r.b[u++]=255&n>>24,r.b[u++]=255&n>>16,r.b[u++]=255&n>>8,r.b[u++]=255&n,s+=4}}return r},rr.merge=function(t,e,i,s,n,a,r,o){if(null!=t.buffer.data&&null!=e.buffer.data){for(var h,_,l,u,c=new or(e,i),f=new or(t,new ur(s.x,s.y,c.width,c.height)),d=e.buffer.data,p=t.buffer.data,g=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,b=t.buffer.premultiplied,y=0,w=f.height;y<w;){var x=y++;h=c.offset+c.stride*x,_=f.offset+f.stride*x;for(var T=0,S=f.width;T<S;){T++;switch(g){case 0:l=(255&d[h])<<24|(255&d[h+1])<<16|(255&d[h+2])<<8|255&d[h+3];break;case 1:l=(255&d[h+1])<<24|(255&d[h+2])<<16|(255&d[h+3])<<8|255&d[h];break;case 2:l=(255&d[h+2])<<24|(255&d[h+1])<<16|(255&d[h])<<8|255&d[h+3]}switch(v&&0!=(255&l)&&255!=(255&l)&&(gr.unmult=255/(255&l),l=(255&gr.__clamp[Math.round((l>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((l>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((l>>8&255)*gr.unmult)])<<8|255&l),m){case 0:u=(255&p[_])<<24|(255&p[_+1])<<16|(255&p[_+2])<<8|255&p[_+3];break;case 1:u=(255&p[_+1])<<24|(255&p[_+2])<<16|(255&p[_+3])<<8|255&p[_];break;case 2:u=(255&p[_+2])<<24|(255&p[_+1])<<16|(255&p[_])<<8|255&p[_+3]}switch(b&&0!=(255&u)&&255!=(255&u)&&(gr.unmult=255/(255&u),u=(255&gr.__clamp[Math.round((u>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((u>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((u>>8&255)*gr.unmult)])<<8|255&u),u=(255&(u=(255&(u=(255&(u=(255&(((l>>24&255)*n+(u>>24&255)*(256-n))/256|0))<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&(((l>>16&255)*a+(u>>16&255)*(256-a))/256|0))<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&(((l>>8&255)*r+(u>>8&255)*(256-r))/256|0))<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&(((255&l)*o+(255&u)*(256-o))/256|0),b&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(gr.a16=gr.__alpha16[255&u],u=((u>>24&255)*gr.a16>>16&255)<<24|((u>>16&255)*gr.a16>>16&255)<<16|((u>>8&255)*gr.a16>>16&255)<<8|255&u)),m){case 0:p[_]=u>>24&255,p[_+1]=u>>16&255,p[_+2]=u>>8&255,p[_+3]=255&u;break;case 1:p[_]=255&u,p[_+1]=u>>24&255,p[_+2]=u>>16&255,p[_+3]=u>>8&255;break;case 2:p[_]=u>>8&255,p[_+1]=u>>16&255,p[_+2]=u>>24&255,p[_+3]=255&u}h+=4,_+=4}}t.dirty=!0}},rr.multiplyAlpha=function(t){var e=t.buffer.data;if(null!=e&&t.buffer.transparent){for(var i,s=t.buffer.format,n=0,a=e.length/4|0;n<a;){var r=n++,o=4*r;switch(s){case 0:i=(255&e[o])<<24|(255&e[1+o])<<16|(255&e[2+o])<<8|255&e[3+o];break;case 1:i=(255&e[1+o])<<24|(255&e[2+o])<<16|(255&e[3+o])<<8|255&e[o];break;case 2:i=(255&e[2+o])<<24|(255&e[1+o])<<16|(255&e[o])<<8|255&e[3+o]}var h=4*r;switch(0==(255&i)?0!=i&&(i=0):255!=(255&i)&&(gr.a16=gr.__alpha16[255&i],i=((i>>24&255)*gr.a16>>16&255)<<24|((i>>16&255)*gr.a16>>16&255)<<16|((i>>8&255)*gr.a16>>16&255)<<8|255&i),s){case 0:e[h]=i>>24&255,e[1+h]=i>>16&255,e[2+h]=i>>8&255,e[3+h]=255&i;break;case 1:e[h]=255&i,e[1+h]=i>>24&255,e[2+h]=i>>16&255,e[3+h]=i>>8&255;break;case 2:e[h]=i>>8&255,e[1+h]=i>>16&255,e[2+h]=i>>24&255,e[3+h]=255&i}}t.buffer.premultiplied=!0,t.dirty=!0}},rr.resize=function(t,e,i){var s=t.buffer;if(s.width!=e||s.height!=i){var n,a=e*i*4;n=null!=a?new Qf(a):null;for(var r,o,h,_,l,u,c,f,d,p,g,m,v,b=new Ka(n,e,i),y=t.width,w=t.height,x=t.get_data(),T=b.data,S=0,C=i;S<C;)for(var E=S++,I=0,P=e;I<P;){var k=I++;r=4*((c=0|(d=(.5+E)/i*w-.5))*y+(u=0|(f=(.5+k)/e*y-.5))),h=c<w-1?r+4*y:r,_=(o=u<y-1?4+r:r)!=r?h+4:h,m=1-(p=f-u),v=1-(g=d-c),T[l=4*(E*e+k)]=(At.toFloat(x[r])*m+At.toFloat(x[o])*p)*v+(At.toFloat(x[h])*m+At.toFloat(x[_])*p)*g|0,T[1+l]=(At.toFloat(x[1+r])*m+At.toFloat(x[o+1])*p)*v+(At.toFloat(x[h+1])*m+At.toFloat(x[_+1])*p)*g|0,T[2+l]=(At.toFloat(x[2+r])*m+At.toFloat(x[o+2])*p)*v+(At.toFloat(x[h+2])*m+At.toFloat(x[_+2])*p)*g|0,0==x[o+3]||0==x[h+3]||0==x[_+3]?T[3+l]=0:T[3+l]=x[3+r]}s.data=b.data,s.width=e,s.height=i}},rr.resizeBuffer=function(t,e,i){for(var s,n,a=t.buffer,r=t.get_data(),o=e*i*4,h=null!=o?new Qf(o):null,_=0,l=a.height;_<l;)for(var u=_++,c=0,f=a.width;c<f;){var d=c++;s=4*(u*a.width+d),h[n=4*(u*e+d)]=r[s],h[1+n]=r[1+s],h[2+n]=r[2+s],h[3+n]=r[3+s]}a.data=h,a.width=e,a.height=i},rr.setFormat=function(t,e){var i=t.buffer.data;if(null!=i){var s,n,a,r,o,h,_,l,u,c,f,d,p,g=i.length/4|0;switch(t.get_format()){case 0:n=0,a=1,r=2,o=3;break;case 1:n=1,a=2,r=3,o=0;break;case 2:n=2,a=1,r=0,o=3}switch(e){case 0:h=0,_=1,l=2,u=3;break;case 1:h=1,_=2,l=3,u=0;break;case 2:h=2,_=1,l=0,u=3}for(var m=0,v=g;m<v;){c=i[(s=4*m++)+n],f=i[s+a],d=i[s+r],p=i[s+o],i[s+h]=c,i[s+_]=f,i[s+l]=d,i[s+u]=p}t.buffer.format=e,t.dirty=!0}},rr.setPixel=function(t,e,i,s,n){var a;switch(n){case 1:a=(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24;break;case 2:a=(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s;break;default:a=s}var r=0,o=t.buffer.data,h=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),_=t.buffer.premultiplied;switch(t.buffer.format){case 0:r=(255&o[h])<<24|(255&o[1+h])<<16|(255&o[2+h])<<8|255&o[3+h];break;case 1:r=(255&o[1+h])<<24|(255&o[2+h])<<16|(255&o[3+h])<<8|255&o[h];break;case 2:r=(255&o[2+h])<<24|(255&o[1+h])<<16|(255&o[h])<<8|255&o[3+h]}_&&0!=(255&r)&&255!=(255&r)&&(gr.unmult=255/(255&r),r=(255&gr.__clamp[Math.round((r>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((r>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((r>>8&255)*gr.unmult)])<<8|255&r),a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255&(255&r);var l=t.buffer.data,u=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(gr.a16=gr.__alpha16[255&a],a=((a>>24&255)*gr.a16>>16&255)<<24|((a>>16&255)*gr.a16>>16&255)<<16|((a>>8&255)*gr.a16>>16&255)<<8|255&a)),t.buffer.format){case 0:l[u]=a>>24&255,l[1+u]=a>>16&255,l[2+u]=a>>8&255,l[3+u]=255&a;break;case 1:l[u]=255&a,l[1+u]=a>>24&255,l[2+u]=a>>16&255,l[3+u]=a>>8&255;break;case 2:l[u]=a>>8&255,l[1+u]=a>>16&255,l[2+u]=a>>24&255,l[3+u]=255&a}t.dirty=!0},rr.setPixel32=function(t,e,i,s,n){var a;switch(n){case 1:a=(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24;break;case 2:a=(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s;break;default:a=s}t.get_transparent()||(a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255);var r=t.buffer.data,o=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(gr.a16=gr.__alpha16[255&a],a=((a>>24&255)*gr.a16>>16&255)<<24|((a>>16&255)*gr.a16>>16&255)<<16|((a>>8&255)*gr.a16>>16&255)<<8|255&a)),t.buffer.format){case 0:r[o]=a>>24&255,r[1+o]=a>>16&255,r[2+o]=a>>8&255,r[3+o]=255&a;break;case 1:r[o]=255&a,r[1+o]=a>>24&255,r[2+o]=a>>16&255,r[3+o]=a>>8&255;break;case 2:r[o]=a>>8&255,r[1+o]=a>>16&255,r[2+o]=a>>24&255,r[3+o]=255&a}t.dirty=!0},rr.setPixels=function(t,e,i,s){if(null!=t.buffer.data){for(var n,a,r,o=t.buffer.data,h=t.buffer.format,_=t.buffer.premultiplied,l=new or(t,e),u=t.get_transparent(),c=0,f=0,d=l.height;f<d;){var p=f++;n=l.offset+l.stride*p;for(var g=0,m=l.width;g<m;){var v=g++;switch(a=i.b[c+3]|i.b[c+2]<<8|i.b[c+1]<<16|i.b[c]<<24,c+=4,s){case 1:r=(255&a>>16)<<24|(255&a>>8)<<16|(255&a)<<8|255&a>>24;break;case 2:r=(255&a>>8)<<24|(255&a>>16)<<16|(255&a>>24)<<8|255&a;break;default:r=a}u||(r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255);var b=n+4*v;switch(_&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(gr.a16=gr.__alpha16[255&r],r=((r>>24&255)*gr.a16>>16&255)<<24|((r>>16&255)*gr.a16>>16&255)<<16|((r>>8&255)*gr.a16>>16&255)<<8|255&r)),h){case 0:o[b]=r>>24&255,o[b+1]=r>>16&255,o[b+2]=r>>8&255,o[b+3]=255&r;break;case 1:o[b]=255&r,o[b+1]=r>>24&255,o[b+2]=r>>16&255,o[b+3]=r>>8&255;break;case 2:o[b]=r>>8&255,o[b+1]=r>>16&255,o[b+2]=r>>24&255,o[b+3]=255&r}}}t.dirty=!0}},rr.threshold=function(t,e,i,s,n,a,r,o,h,_){var l,u,c,f;switch(_){case 1:l=(255&r>>16)<<24|(255&r>>8)<<16|(255&r)<<8|255&r>>24;u=(255&o>>16)<<24|(255&o>>8)<<16|(255&o)<<8|255&o>>24;c=(255&a>>16)<<24|(255&a>>8)<<16|(255&a)<<8|255&a>>24;break;case 2:l=(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r;u=(255&o>>8)<<24|(255&o>>16)<<16|(255&o>>24)<<8|255&o;c=(255&a>>8)<<24|(255&a>>16)<<16|(255&a>>24)<<8|255&a;break;default:l=r,u=o,c=a}switch(n){case"!=":f=0;break;case"<":f=2;break;case"<=":f=3;break;case"==":f=1;break;case">":f=4;break;case">=":f=5;break;default:f=-1}if(-1==f)return 0;var d=e.buffer.data,p=t.buffer.data;if(null==d||null==p)return 0;for(var g,m,v,b,y,w,x=0,T=new or(e,i),S=new or(t,new ur(s.x,s.y,T.width,T.height)),C=e.buffer.format,E=t.buffer.format,I=e.buffer.premultiplied,P=t.buffer.premultiplied,k=0,D=S.height;k<D;){var A=k++;g=T.offset+T.stride*A,m=S.offset+S.stride*A;for(var M=0,R=S.width;M<R;){var F,B;M++;switch(C){case 0:v=(255&d[g])<<24|(255&d[g+1])<<16|(255&d[g+2])<<8|255&d[g+3];break;case 1:v=(255&d[g+1])<<24|(255&d[g+2])<<16|(255&d[g+3])<<8|255&d[g];break;case 2:v=(255&d[g+2])<<24|(255&d[g+1])<<16|(255&d[g])<<8|255&d[g+3]}switch(I&&0!=(255&v)&&255!=(255&v)&&(gr.unmult=255/(255&v),v=(255&gr.__clamp[Math.round((v>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((v>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((v>>8&255)*gr.unmult)])<<8|255&v),w=(F=(b=v&u)>>24&255)!=(B=c>>24&255)?B<F?1:-1:(F=b>>16&255)!=(B=c>>16&255)?B<F?1:-1:(F=b>>8&255)!=(B=c>>8&255)?B<F?1:-1:(F=255&b)!=(B=255&c)?B<F?1:-1:0,f){case 0:y=0!=w;break;case 1:y=0==w;break;case 2:y=-1==w;break;case 3:y=0==w||-1==w;break;case 4:y=1==w;break;case 5:y=0==w||1==w;break;default:y=!1}if(y){switch(P&&(0==(255&l)?0!=l&&(l=0):255!=(255&l)&&(gr.a16=gr.__alpha16[255&l],l=((l>>24&255)*gr.a16>>16&255)<<24|((l>>16&255)*gr.a16>>16&255)<<16|((l>>8&255)*gr.a16>>16&255)<<8|255&l)),E){case 0:p[m]=l>>24&255,p[m+1]=l>>16&255,p[m+2]=l>>8&255,p[m+3]=255&l;break;case 1:p[m]=255&l,p[m+1]=l>>24&255,p[m+2]=l>>16&255,p[m+3]=l>>8&255;break;case 2:p[m]=l>>8&255,p[m+1]=l>>16&255,p[m+2]=l>>24&255,p[m+3]=255&l}++x}else if(h)switch(P&&(0==(255&v)?0!=v&&(v=0):255!=(255&v)&&(gr.a16=gr.__alpha16[255&v],v=((v>>24&255)*gr.a16>>16&255)<<24|((v>>16&255)*gr.a16>>16&255)<<16|((v>>8&255)*gr.a16>>16&255)<<8|255&v)),E){case 0:p[m]=v>>24&255,p[m+1]=v>>16&255,p[m+2]=v>>8&255,p[m+3]=255&v;break;case 1:p[m]=255&v,p[m+1]=v>>24&255,p[m+2]=v>>16&255,p[m+3]=v>>8&255;break;case 2:p[m]=v>>8&255,p[m+1]=v>>16&255,p[m+2]=v>>24&255,p[m+3]=255&v}g+=4,m+=4}}return 0<x&&(t.dirty=!0),x},rr.unmultiplyAlpha=function(t){var e=t.buffer.data;if(null!=e){for(var i,s=t.buffer.format,n=0,a=e.length/4|0;n<a;){var r=n++,o=4*r;switch(s){case 0:i=(255&e[o])<<24|(255&e[1+o])<<16|(255&e[2+o])<<8|255&e[3+o];break;case 1:i=(255&e[1+o])<<24|(255&e[2+o])<<16|(255&e[3+o])<<8|255&e[o];break;case 2:i=(255&e[2+o])<<24|(255&e[1+o])<<16|(255&e[o])<<8|255&e[3+o]}0!=(255&i)&&255!=(255&i)&&(gr.unmult=255/(255&i),i=(255&gr.__clamp[Math.round((i>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((i>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((i>>8&255)*gr.unmult)])<<8|255&i);var h=4*r;switch(s){case 0:e[h]=i>>24&255,e[1+h]=i>>16&255,e[2+h]=i>>8&255,e[3+h]=255&i;break;case 1:e[h]=255&i,e[1+h]=i>>24&255,e[2+h]=i>>16&255,e[3+h]=i>>8&255;break;case 2:e[h]=i>>8&255,e[1+h]=i>>16&255,e[2+h]=i>>24&255,e[3+h]=255&i}}t.buffer.premultiplied=!1,t.dirty=!0}},rr.__pixelCompare=function(t,e){var i,s;return(i=t>>24&255)!=(s=e>>24&255)?s<i?1:-1:(i=t>>16&255)!=(s=e>>16&255)?s<i?1:-1:(i=t>>8&255)!=(s=e>>8&255)?s<i?1:-1:(i=255&t)!=(s=255&e)?s<i?1:-1:0};var or=function(t,e){this.image=t,null==e?this.rect=t.get_rect():(e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.width<0&&(e.width=0),e.height<0&&(e.height=0),this.rect=e),this.stride=t.buffer.get_stride(),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+t.offsetY)+4*(this.x+t.offsetX)};(i["lime.graphics.utils._ImageDataUtil.ImageDataView"]=or).__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"],or.prototype={clip:function(t,e,i,s){this.rect.__contract(t,e,i,s),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},row:function(t){return this.offset+this.stride*t},__class__:or};var hr={};(i["lime.math._ColorMatrix.ColorMatrix_Impl_"]=hr).__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"],hr.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},hr._new=function(t){var e;if(null!=t&&20==t.length)e=t;else{var i=hr.__identity;e=null!=i?new Zf(i):null}return e},hr.clone=function(t){var e;return e=null!=t?new Zf(t):null,hr._new(e)},hr.concat=function(t,e){t[0]+=e[0],t[6]+=e[6],t[12]+=e[12],t[18]+=e[18]},hr.copyFrom=function(t,e){t.set(e)},hr.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0},hr.getAlphaTable=function(t){for(var e,i=new Qf(256),s=t[18],n=255*t[19],a=0;a<256;){var r=a++;255<(e=Math.floor(r*s+n))&&(e=255),e<0&&(e=0),i[r]=e}return i},hr.getBlueTable=function(t){for(var e,i=new Qf(256),s=t[12],n=255*t[14],a=0;a<256;){var r=a++;255<(e=Math.floor(r*s+n))&&(e=255),e<0&&(e=0),i[r]=e}return i},hr.getGreenTable=function(t){for(var e,i=new Qf(256),s=t[6],n=255*t[9],a=0;a<256;){var r=a++;255<(e=Math.floor(r*s+n))&&(e=255),e<0&&(e=0),i[r]=e}return i},hr.getRedTable=function(t){for(var e,i=new Qf(256),s=t[0],n=255*t[4],a=0;a<256;){var r=a++;255<(e=Math.floor(r*s+n))&&(e=255),e<0&&(e=0),i[r]=e}return i},hr.__toFlashColorTransform=function(t){return null},hr.get_alphaMultiplier=function(t){return t[18]},hr.set_alphaMultiplier=function(t,e){return t[18]=e},hr.get_alphaOffset=function(t){return 255*t[19]},hr.set_alphaOffset=function(t,e){return t[19]=e/255},hr.get_blueMultiplier=function(t){return t[12]},hr.set_blueMultiplier=function(t,e){return t[12]=e},hr.get_blueOffset=function(t){return 255*t[14]},hr.set_blueOffset=function(t,e){return t[14]=e/255},hr.get_color=function(t){return(255*t[4]|0)<<16|(255*t[9]|0)<<8|255*t[14]|0},hr.set_color=function(t,e){return t[4]=(e>>16&255)/255,t[9]=(e>>8&255)/255,t[14]=(255&e)/255,t[0]=0,t[6]=0,t[12]=0,hr.get_color(t)},hr.get_greenMultiplier=function(t){return t[6]},hr.set_greenMultiplier=function(t,e){return t[6]=e},hr.get_greenOffset=function(t){return 255*t[9]},hr.set_greenOffset=function(t,e){return t[9]=e/255},hr.get_redMultiplier=function(t){return t[0]},hr.set_redMultiplier=function(t,e){return t[0]=e},hr.get_redOffset=function(t){return 255*t[4]},hr.set_redOffset=function(t,e){return t[4]=e/255},hr.get=function(t,e){return t[e]},hr.set=function(t,e,i){return t[e]=i};function _r(t,e,i,s,n,a){null==a&&(a=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=a}(i["lime.math.Matrix3"]=_r).__name__=["lime","math","Matrix3"],_r.prototype={clone:function(){return new _r(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var s=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=s},copyColumnFrom:function(t,e){if(2<t)throw new qn("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw new qn("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw new qn("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(2<t)throw new qn("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):(e.x=0,e.y=0,e.z=1)},createBox:function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),this.a=t,this.d=e,this.b=i,this.tx=s,this.ty=n},createGradientBox:function(t,e,i,s,n){if(null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var a=Math.cos(i),r=Math.sin(i);this.b=r*this.d,this.c=-r*this.a,this.a*=a,this.d*=a}else this.b=0,this.c=0;this.tx=s+t/2,this.ty=n+e/2},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},deltaTransformVector2:function(t){return new cr(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},mult:function(t){var e=new _r(this.a,this.b,this.c,this.d,this.tx,this.ty);return e.concat(t),e},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),s=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=s;var n=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=n;var a=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=a},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,s,n,a){this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=a},to3DString:function(t){return null==t&&(t=!1),t?"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformVector2:function(t){return new cr(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__transformX:function(t){return t.x*this.a+t.y*this.c+this.tx},__transformY:function(t){return t.x*this.b+t.y*this.d+this.ty},__translateTransformed:function(t){this.tx=t.x*this.a+t.y*this.c+this.tx,this.ty=t.x*this.b+t.y*this.d+this.ty},__class__:_r};var lr={};(i["lime.math._Matrix4.Matrix4_Impl_"]=lr).__name__=["lime","math","_Matrix4","Matrix4_Impl_"],lr.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},lr._new=function(t){var e;if(null!=t&&16==t.length)e=t;else{var i=lr.__identity;e=null!=i?new Zf(i):null}return e},lr.append=function(t,e){var i=t[0],s=t[4],n=t[8],a=t[12],r=t[1],o=t[5],h=t[9],_=t[13],l=t[2],u=t[6],c=t[10],f=t[14],d=t[3],p=t[7],g=t[11],m=t[15],v=lr.get(e,0),b=lr.get(e,4),y=lr.get(e,8),w=lr.get(e,12),x=lr.get(e,1),T=lr.get(e,5),S=lr.get(e,9),C=lr.get(e,13),E=lr.get(e,2),I=lr.get(e,6),P=lr.get(e,10),k=lr.get(e,14),D=lr.get(e,3),A=lr.get(e,7),M=lr.get(e,11),R=lr.get(e,15);t[0]=i*v+r*b+l*y+d*w,t[1]=i*x+r*T+l*S+d*C,t[2]=i*E+r*I+l*P+d*k,t[3]=i*D+r*A+l*M+d*R,t[4]=s*v+o*b+u*y+p*w,t[5]=s*x+o*T+u*S+p*C,t[6]=s*E+o*I+u*P+p*k,t[7]=s*D+o*A+u*M+p*R,t[8]=n*v+h*b+c*y+g*w,t[9]=n*x+h*T+c*S+g*C,t[10]=n*E+h*I+c*P+g*k,t[11]=n*D+h*A+c*M+g*R,t[12]=a*v+_*b+f*y+m*w,t[13]=a*x+_*T+f*S+m*C,t[14]=a*E+_*I+f*P+m*k,t[15]=a*D+_*A+f*M+m*R},lr.appendRotation=function(t,e,i,s){var n=lr.getAxisRotation(i.x,i.y,i.z,e);if(null!=s){var a=s;lr.appendTranslation(n,a.x,a.y,a.z)}lr.append(t,n)},lr.appendScale=function(t,e,i,s){var n,a=[e,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1];n=null!=a?new Zf(a):null,lr.append(t,lr._new(n))},lr.appendTranslation=function(t,e,i,s){t[12]+=e,t[13]+=i,t[14]+=s},lr.clone=function(t){var e;return e=null!=t?new Zf(t):null,lr._new(e)},lr.copyColumnFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[1]=i.y,t[2]=i.z,t[3]=i.w;break;case 1:t[4]=i.x,t[5]=i.y,t[6]=i.z,t[7]=i.w;break;case 2:t[8]=i.x,t[9]=i.y,t[10]=i.z,t[11]=i.w;break;case 3:t[12]=i.x,t[13]=i.y,t[14]=i.z,t[15]=i.w;break;default:throw new qn("Error, Column "+e+" out of bounds [0, ..., 3]")}},lr.copyColumnTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[1],i.z=t[2],i.w=t[3];break;case 1:i.x=t[4],i.y=t[5],i.z=t[6],i.w=t[7];break;case 2:i.x=t[8],i.y=t[9],i.z=t[10],i.w=t[11];break;case 3:i.x=t[12],i.y=t[13],i.z=t[14],i.w=t[15];break;default:throw new qn("Error, Column "+e+" out of bounds [0, ..., 3]")}},lr.copyFrom=function(t,e){t.set(e)},lr.copythisFrom=function(t,e,i,s){null==s&&(s=!1),null==i&&(i=0),s&&lr.transpose(t);for(var n=0,a=e.length-i;n<a;){var r=n++;t[r]=e[r+i]}s&&lr.transpose(t)},lr.copythisTo=function(t,e,i,s){null==s&&(s=!1),null==i&&(i=0),s&&lr.transpose(t);for(var n=0,a=t.length;n<a;){var r=n++;e[r+i]=t[r]}s&&lr.transpose(t)},lr.copyRowFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[4]=i.y,t[8]=i.z,t[12]=i.w;break;case 1:t[1]=i.x,t[5]=i.y,t[9]=i.z,t[13]=i.w;break;case 2:t[2]=i.x,t[6]=i.y,t[10]=i.z,t[14]=i.w;break;case 3:t[3]=i.x,t[7]=i.y,t[11]=i.z,t[15]=i.w;break;default:throw new qn("Error, Row "+O.string(At.toFloat(e))+" out of bounds [0, ..., 3]")}},lr.create2D=function(t,e,i,s){null==s&&(s=0),null==i&&(i=1);var n,a=s*Math.PI/180,r=Math.cos(a),o=Math.sin(a),h=[r*i,-o*i,0,0,o*i,r*i,0,0,0,0,1,0,t,e,0,1];return n=null!=h?new Zf(h):null,lr._new(n)},lr.createABCD=function(t,e,i,s,n,a){var r,o=[t,e,0,0,i,s,0,0,0,0,1,0,n,a,0,1];return r=null!=o?new Zf(o):null,lr._new(r)},lr.createOrtho=function(t,e,i,s,n,a){var r,o=1/(e-t),h=1/(s-i),_=1/(a-n),l=[2*o,0,0,0,0,2*h,0,0,0,0,-2*_,0,-(t+e)*o,-(i+s)*h,-(n+a)*_,1];return r=null!=l?new Zf(l):null,lr._new(r)},lr.copyRowTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[4],i.z=t[8],i.w=t[12];break;case 1:i.x=t[1],i.y=t[5],i.z=t[9],i.w=t[13];break;case 2:i.x=t[2],i.y=t[6],i.z=t[10],i.w=t[14];break;case 3:i.x=t[3],i.y=t[7],i.z=t[11],i.w=t[15];break;default:throw new qn("Error, Row "+e+" out of bounds [0, ..., 3]")}},lr.copyToMatrix4=function(t,e){Jn.__cast(e,Zf).set(t)},lr.deltaTransformVector=function(t,e){var i=e.x,s=e.y,n=e.z;return new fr(i*t[0]+s*t[4]+n*t[8]+t[3],i*t[1]+s*t[5]+n*t[9]+t[7],i*t[2]+s*t[6]+n*t[10]+t[11],0)},lr.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},lr.interpolate=function(t,e,i){for(var s=lr._new(),n=0;n<16;){var a=n++;lr.set(s,a,lr.get(t,a)+(lr.get(e,a)-lr.get(t,a))*i)}return s},lr.interpolateTo=function(t,e,i){for(var s=0;s<16;){var n=s++;t[n]+=(lr.get(e,n)-t[n])*i}},lr.invert=function(t){var e=lr.get_determinant(t),i=1e-11<Math.abs(e);if(i){e=1/e;var s=t[0],n=t[4],a=t[8],r=t[12],o=t[1],h=t[5],_=t[9],l=t[13],u=t[2],c=t[6],f=t[10],d=t[14],p=t[3],g=t[7],m=t[11],v=t[15];t[0]=e*(h*(f*v-d*m)-_*(c*v-d*g)+l*(c*m-f*g)),t[1]=-e*(o*(f*v-d*m)-_*(u*v-d*p)+l*(u*m-f*p)),t[2]=e*(o*(c*v-d*g)-h*(u*v-d*p)+l*(u*g-c*p)),t[3]=-e*(o*(c*m-f*g)-h*(u*m-f*p)+_*(u*g-c*p)),t[4]=-e*(n*(f*v-d*m)-a*(c*v-d*g)+r*(c*m-f*g)),t[5]=e*(s*(f*v-d*m)-a*(u*v-d*p)+r*(u*m-f*p)),t[6]=-e*(s*(c*v-d*g)-n*(u*v-d*p)+r*(u*g-c*p)),t[7]=e*(s*(c*m-f*g)-n*(u*m-f*p)+a*(u*g-c*p)),t[8]=e*(n*(_*v-l*m)-a*(h*v-l*g)+r*(h*m-_*g)),t[9]=-e*(s*(_*v-l*m)-a*(o*v-l*p)+r*(o*m-_*p)),t[10]=e*(s*(h*v-l*g)-n*(o*v-l*p)+r*(o*g-h*p)),t[11]=-e*(s*(h*m-_*g)-n*(o*m-_*p)+a*(o*g-h*p)),t[12]=-e*(n*(_*d-l*f)-a*(h*d-l*c)+r*(h*f-_*c)),t[13]=e*(s*(_*d-l*f)-a*(o*d-l*u)+r*(o*f-_*u)),t[14]=-e*(s*(h*d-l*c)-n*(o*d-l*u)+r*(o*c-h*u)),t[15]=e*(s*(h*f-_*c)-n*(o*f-_*u)+a*(o*c-h*u))}return i},lr.pointAt=function(t,e,i,s){null==i&&(i=new fr(0,0,-1)),null==s&&(s=new fr(0,-1,0));var n,a=new fr(i.x-e.x,i.y-e.y,i.z-e.z),r=new fr(s.x,s.y,s.z,s.w),o=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);0!=o&&(a.x/=o,a.y/=o,a.z/=o);var h=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z);0!=h&&(r.x/=h,r.y/=h,r.z/=h);var _=new fr(a.x,a.y,a.z,a.w),l=r.x*a.x+r.y*a.y+r.z*a.z;if(_.x*=l,_.y*=l,_.z*=l,r=new fr(r.x-_.x,r.y-_.y,r.z-_.z),0<Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z)){var u=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z);0!=u&&(r.x/=u,r.y/=u,r.z/=u)}else r=0!=a.x?new fr(-a.y,a.x,0):new fr(1,0,0);n=new fr(r.y*a.z-r.z*a.y,r.z*a.x-r.x*a.z,r.x*a.y-r.y*a.x,1);var c=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);0!=c&&(n.x/=c,n.y/=c,n.z/=c),t[0]=n.x,t[4]=n.y,t[8]=n.z,t[12]=0,t[1]=r.x,t[5]=r.y,t[9]=r.z,t[13]=0,t[2]=a.x,t[6]=a.y,t[10]=a.z,t[14]=0,t[3]=e.x,t[7]=e.y,t[11]=e.z,t[15]=1},lr.prepend=function(t,e){var i=lr.get(e,0),s=lr.get(e,4),n=lr.get(e,8),a=lr.get(e,12),r=lr.get(e,1),o=lr.get(e,5),h=lr.get(e,9),_=lr.get(e,13),l=lr.get(e,2),u=lr.get(e,6),c=lr.get(e,10),f=lr.get(e,14),d=lr.get(e,3),p=lr.get(e,7),g=lr.get(e,11),m=lr.get(e,15),v=t[0],b=t[4],y=t[8],w=t[12],x=t[1],T=t[5],S=t[9],C=t[13],E=t[2],I=t[6],P=t[10],k=t[14],D=t[3],A=t[7],M=t[11],R=t[15];t[0]=i*v+r*b+l*y+d*w,t[1]=i*x+r*T+l*S+d*C,t[2]=i*E+r*I+l*P+d*k,t[3]=i*D+r*A+l*M+d*R,t[4]=s*v+o*b+u*y+p*w,t[5]=s*x+o*T+u*S+p*C,t[6]=s*E+o*I+u*P+p*k,t[7]=s*D+o*A+u*M+p*R,t[8]=n*v+h*b+c*y+g*w,t[9]=n*x+h*T+c*S+g*C,t[10]=n*E+h*I+c*P+g*k,t[11]=n*D+h*A+c*M+g*R,t[12]=a*v+_*b+f*y+m*w,t[13]=a*x+_*T+f*S+m*C,t[14]=a*E+_*I+f*P+m*k,t[15]=a*D+_*A+f*M+m*R},lr.prependRotation=function(t,e,i,s){var n=lr.getAxisRotation(i.x,i.y,i.z,e);if(null!=s){var a=s;lr.appendTranslation(n,a.x,a.y,a.z)}lr.prepend(t,n)},lr.prependScale=function(t,e,i,s){var n,a=[e,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1];n=null!=a?new Zf(a):null,lr.prepend(t,lr._new(n))},lr.prependTranslation=function(t,e,i,s){var n=lr._new();lr.set_position(n,new fr(e,i,s)),lr.prepend(t,n)},lr.transformVector=function(t,e){var i=e.x,s=e.y,n=e.z;return new fr(i*t[0]+s*t[4]+n*t[8]+t[12],i*t[1]+s*t[5]+n*t[9]+t[13],i*t[2]+s*t[6]+n*t[10]+t[14],i*t[3]+s*t[7]+n*t[11]+t[15])},lr.transformVectors=function(t,e,i){for(var s=0;s+3<=e.length;){var n=e[s],a=e[s+1],r=e[s+2];i[s]=n*t[0]+a*t[4]+r*t[8]+t[12],i[s+1]=n*t[1]+a*t[5]+r*t[9]+t[13],i[s+2]=n*t[2]+a*t[6]+r*t[10]+t[14],s+=3}},lr.transpose=function(t){var e=null!=t?new Zf(t):null;t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11]},lr.getAxisRotation=function(t,e,i,s){var n=lr._new(),a=new fr(t,e,i),r=-s*(Math.PI/180),o=Math.cos(r),h=Math.sin(r),_=1-o;lr.set(n,0,o+a.x*a.x*_),lr.set(n,5,o+a.y*a.y*_),lr.set(n,10,o+a.z*a.z*_);var l=a.x*a.y*_,u=a.z*h;return lr.set(n,4,l+u),lr.set(n,1,l-u),l=a.x*a.z*_,u=a.y*h,lr.set(n,8,l-u),lr.set(n,2,l+u),l=a.y*a.z*_,u=a.x*h,lr.set(n,9,l+u),lr.set(n,6,l-u),n},lr.get_determinant=function(t){return(t[0]*t[5]-t[4]*t[1])*(t[10]*t[15]-t[14]*t[11])-(t[0]*t[9]-t[8]*t[1])*(t[6]*t[15]-t[14]*t[7])+(t[0]*t[13]-t[12]*t[1])*(t[6]*t[11]-t[10]*t[7])+(t[4]*t[9]-t[8]*t[5])*(t[2]*t[15]-t[14]*t[3])-(t[4]*t[13]-t[12]*t[5])*(t[2]*t[11]-t[10]*t[3])+(t[8]*t[13]-t[12]*t[9])*(t[2]*t[7]-t[6]*t[3])},lr.get_position=function(t){return new fr(t[12],t[13],t[14])},lr.set_position=function(t,e){return t[12]=e.x,t[13]=e.y,t[14]=e.z,e},lr.get=function(t,e){return t[e]},lr.set=function(t,e,i){return t[e]=i};var ur=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=s};(i["lime.math.Rectangle"]=ur).__name__=["lime","math","Rectangle"],ur.prototype={clone:function(){return new ur(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,i=this.get_right()>t.get_right()?t.get_right():this.get_right();if(i<=e)return new ur;var s=this.y<t.y?t.y:this.y,n=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return n<=s?new ur:new ur(e,s,i-e,n-s)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(this.y<t.y?t.y:this.y)<(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s},transform:function(t){var e=t.a*this.x+t.c*this.y,i=e,s=t.b*this.x+t.d*this.y,n=s,a=t.a*(this.x+this.width)+t.c*this.y,r=t.b*(this.x+this.width)+t.d*this.y;return a<e&&(e=a),r<s&&(s=r),i<a&&(i=a),n<r&&(n=r),(a=t.a*(this.x+this.width)+t.c*(this.y+this.height))<e&&(e=a),(r=t.b*(this.x+this.width)+t.d*(this.y+this.height))<s&&(s=r),i<a&&(i=a),n<r&&(n=r),(a=t.a*this.x+t.c*(this.y+this.height))<e&&(e=a),(r=t.b*this.x+t.d*(this.y+this.height))<s&&(s=r),i<a&&(i=a),n<r&&(n=r),new ur(e+t.tx,s+t.ty,i-e,n-s)},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,i=this.get_right()<t.get_right()?t.get_right():this.get_right(),s=this.y>t.y?t.y:this.y,n=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new ur(e,s,i-e,n-s)},__contract:function(t,e,i,s){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+s&&(this.height=e+s-this.y))},__expand:function(t,e,i,s){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=s);var n=this.get_right(),a=this.get_bottom();this.x>t&&(this.x=t),this.y>e&&(this.y=e),n<t+i&&(this.width=t+i-this.x),a<e+s&&(this.height=e+s-this.y)},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new cr(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new cr(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new cr(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:ur,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var cr=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};(i["lime.math.Vector2"]=cr).__name__=["lime","math","Vector2"],cr.distance=function(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)},cr.interpolate=function(t,e,i){return new cr(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},cr.polar=function(t,e){return new cr(t*Math.cos(e),t*Math.sin(e))},cr.prototype={add:function(t){return new cr(t.x+this.x,t.y+this.y)},clone:function(){return new cr(this.x,this.y)},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new cr(this.x-t.x,this.y-t.y)},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:cr,__properties__:{get_length:"get_length"}};var fr=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=s,this.x=t,this.y=e,this.z=i};(i["lime.math.Vector4"]=fr).__name__=["lime","math","Vector4"],fr.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},fr.X_AXIS=null,fr.Y_AXIS=null,fr.Z_AXIS=null,fr.angleBetween=function(t,e){var i=new fr(t.x,t.y,t.z,t.w),s=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z);0!=s&&(i.x/=s,i.y/=s,i.z/=s);var n=new fr(e.x,e.y,e.z,e.w),a=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);return 0!=a&&(n.x/=a,n.y/=a,n.z/=a),Math.acos(i.x*n.x+i.y*n.y+i.z*n.z)},fr.distance=function(t,e){var i=e.x-t.x,s=e.y-t.y,n=e.z-t.z;return Math.sqrt(i*i+s*s+n*n)},fr.get_X_AXIS=function(){return new fr(1,0,0)},fr.get_Y_AXIS=function(){return new fr(0,1,0)},fr.get_Z_AXIS=function(){return new fr(0,0,1)},fr.prototype={add:function(t){return new fr(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new fr(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new fr(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new fr(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:fr,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var dr={};(i["lime.math.color._ARGB.ARGB_Impl_"]=dr).__name__=["lime","math","color","_ARGB","ARGB_Impl_"],dr.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},dr.a16=null,dr.unmult=null,dr._new=function(t){return null==t&&(t=0),t},dr.create=function(t,e,i,s){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&s},dr.multiplyAlpha=function(t){0==(t>>24&255)?t=0:255!=(t>>24&255)&&(dr.a16=gr.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*dr.a16>>16&255)<<16|((t>>8&255)*dr.a16>>16&255)<<8|(255&t)*dr.a16>>16&255)},dr.readUInt8=function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),s){case 0:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 1:t=(255&e[i+2])<<24|(255&e[i+3])<<16|(255&e[i])<<8|255&e[i+1];break;case 2:t=(255&e[i+1])<<24|(255&e[i])<<16|(255&e[i+3])<<8|255&e[i+2]}n&&0!=(t>>24&255)&&255!=(t>>24&255)&&(dr.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&gr.__clamp[Math.floor((t>>16&255)*dr.unmult)])<<16|(255&gr.__clamp[Math.floor((t>>8&255)*dr.unmult)])<<8|255&gr.__clamp[Math.floor((255&t)*dr.unmult)])},dr.set=function(t,e,i,s,n){(255&e)<<24|(255&i)<<16|(255&s)<<8|255&n},dr.unmultiplyAlpha=function(t){0!=(t>>24&255)&&255!=(t>>24&255)&&(dr.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&gr.__clamp[Math.floor((t>>16&255)*dr.unmult)])<<16|(255&gr.__clamp[Math.floor((t>>8&255)*dr.unmult)])<<8|255&gr.__clamp[Math.floor((255&t)*dr.unmult)])},dr.writeUInt8=function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),n&&(0==(t>>24&255)?t=0:255!=(t>>24&255)&&(dr.a16=gr.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*dr.a16>>16&255)<<16|((t>>8&255)*dr.a16>>16&255)<<8|(255&t)*dr.a16>>16&255)),s){case 0:e[i]=t>>16&255,e[i+1]=t>>8&255,e[i+2]=255&t,e[i+3]=t>>24&255;break;case 1:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 2:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255}},dr.__fromBGRA=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},dr.__fromRGBA=function(t){return(255&t)<<24|(255&t>>24)<<16|(255&t>>16)<<8|255&t>>8},dr.get_a=function(t){return t>>24&255},dr.set_a=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},dr.get_b=function(t){return 255&t},dr.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},dr.get_g=function(t){return t>>8&255},dr.set_g=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},dr.get_r=function(t){return t>>16&255},dr.set_r=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e};var pr={};(i["lime.math.color._BGRA.BGRA_Impl_"]=pr).__name__=["lime","math","color","_BGRA","BGRA_Impl_"],pr.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},pr.a16=null,pr.unmult=null,pr._new=function(t){return null==t&&(t=0),t},pr.create=function(t,e,i,s){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&s},pr.multiplyAlpha=function(t){0==(255&t)?t=0:255!=(255&t)&&(pr.a16=gr.__alpha16[255&t],t=((t>>24&255)*pr.a16>>16&255)<<24|((t>>16&255)*pr.a16>>16&255)<<16|((t>>8&255)*pr.a16>>16&255)<<8|255&t)},pr.readUInt8=function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),s){case 0:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3];break;case 1:t=(255&e[i+3])<<24|(255&e[i+2])<<16|(255&e[i+1])<<8|255&e[i];break;case 2:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3]}n&&0!=(255&t)&&255!=(255&t)&&(pr.unmult=255/(255&t),t=(255&gr.__clamp[Math.floor((t>>24&255)*pr.unmult)])<<24|(255&gr.__clamp[Math.floor((t>>16&255)*pr.unmult)])<<16|(255&gr.__clamp[Math.floor((t>>8&255)*pr.unmult)])<<8|255&t)},pr.set=function(t,e,i,s,n){(255&e)<<24|(255&i)<<16|(255&s)<<8|255&n},pr.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(pr.unmult=255/(255&t),t=(255&gr.__clamp[Math.floor((t>>24&255)*pr.unmult)])<<24|(255&gr.__clamp[Math.floor((t>>16&255)*pr.unmult)])<<16|(255&gr.__clamp[Math.floor((t>>8&255)*pr.unmult)])<<8|255&t)},pr.writeUInt8=function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),n&&(0==(255&t)?t=0:255!=(255&t)&&(pr.a16=gr.__alpha16[255&t],t=((t>>24&255)*pr.a16>>16&255)<<24|((t>>16&255)*pr.a16>>16&255)<<16|((t>>8&255)*pr.a16>>16&255)<<8|255&t)),s){case 0:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255;break;case 2:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t}},pr.__fromARGB=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},pr.__fromRGBA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},pr.get_a=function(t){return 255&t},pr.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},pr.get_b=function(t){return t>>24&255},pr.set_b=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},pr.get_g=function(t){return t>>16&255},pr.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},pr.get_r=function(t){return t>>8&255},pr.set_r=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e};var gr={};(i["lime.math.color._RGBA.RGBA_Impl_"]=gr).__name__=["lime","math","color","_RGBA","RGBA_Impl_"],gr.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},gr.__alpha16=null,gr.__clamp=null,gr.a16=null,gr.unmult=null,gr._new=function(t){return null==t&&(t=0),t},gr.create=function(t,e,i,s){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&s},gr.multiplyAlpha=function(t){0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(gr.a16=gr.__alpha16[255&t],t=((t>>24&255)*gr.a16>>16&255)<<24|((t>>16&255)*gr.a16>>16&255)<<16|((t>>8&255)*gr.a16>>16&255)<<8|255&t)},gr.readUInt8=function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),s){case 0:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3];break;case 1:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 2:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3]}n&&0!=(255&t)&&255!=(255&t)&&(gr.unmult=255/(255&t),t=(255&gr.__clamp[Math.round((t>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((t>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((t>>8&255)*gr.unmult)])<<8|255&t)},gr.set=function(t,e,i,s,n){(255&e)<<24|(255&i)<<16|(255&s)<<8|255&n},gr.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(gr.unmult=255/(255&t),t=(255&gr.__clamp[Math.round((t>>24&255)*gr.unmult)])<<24|(255&gr.__clamp[Math.round((t>>16&255)*gr.unmult)])<<16|(255&gr.__clamp[Math.round((t>>8&255)*gr.unmult)])<<8|255&t)},gr.writeUInt8=function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),n&&(0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(gr.a16=gr.__alpha16[255&t],t=((t>>24&255)*gr.a16>>16&255)<<24|((t>>16&255)*gr.a16>>16&255)<<16|((t>>8&255)*gr.a16>>16&255)<<8|255&t)),s){case 0:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>24&255,e[i+2]=t>>16&255,e[i+3]=t>>8&255;break;case 2:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t}},gr.__fromARGB=function(t){return(255&t>>16)<<24|(255&t>>8)<<16|(255&t)<<8|255&t>>24},gr.__fromBGRA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},gr.get_a=function(t){return 255&t},gr.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},gr.get_b=function(t){return t>>8&255},gr.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},gr.get_g=function(t){return t>>16&255},gr.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},gr.get_r=function(t){return t>>24&255},gr.set_r=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e};var mr=function(){this.responseType="arraybuffer",this.response={bytes:null,text:null},this.promise=new Ma};(i["lime.net.HTTPRequest"]=mr).__name__=["lime","net","HTTPRequest"],mr.prototype={load:function(t){var e=this;this.bytesLoaded=0,this.bytesTotal=0;var i=new XMLHttpRequest;return i.addEventListener("progress",Gf(this,this.request_onProgress),!1),i.onreadystatechange=function(){4==i.readyState&&(null!=i.status&&200<=i.status&&i.status<=400?("arraybuffer"==i.responseType?e.response.bytes=qr.ofData(i.response):e.response.text=i.response,e.promise.complete(e.response)):e.promise.error(i.responseURL))},i.open("GET",t,!0),i.responseType=this.responseType,i.send(""),this.promise.future},curl_onProgress:function(t,e,i,s){return(s>this.bytesLoaded||e>this.bytesLoaded||i>this.bytesTotal||t>this.bytesTotal)&&(s>this.bytesLoaded&&(this.bytesLoaded=0|s),e>this.bytesLoaded&&(this.bytesLoaded=0|e),i>this.bytesTotal&&(this.bytesTotal=0|i),t>this.bytesTotal&&(this.bytesTotal=0|t),this.promise.progress(this.bytesLoaded/this.bytesTotal)),0},curl_onWrite:function(t,e,i){var s=this.response.bytes;return this.response.bytes=qr.alloc(this.response.bytes.length+t.length),this.response.bytes.blit(0,s,0,s.length),this.response.bytes.blit(s.length,t,0,t.length),e*i},request_onProgress:function(t){this.promise.progress(t.loaded/t.total)},__class__:mr};var vr={};(i["lime.net.curl._CURL.CURL_Impl_"]=vr).__name__=["lime","net","curl","_CURL","CURL_Impl_"],vr.getDate=function(t,e){return 0},vr.globalCleanup=function(){},vr.globalInit=function(t){return 0},vr.version=function(){return null},vr.versionInfo=function(t){return null},vr.intGt=function(t,e){return e<t};function br(){}(i["lime.net.curl.CURLEasy"]=br).__name__=["lime","net","curl","CURLEasy"],br.cleanup=function(t){},br.duphandle=function(t){return 0},br.escape=function(t,e,i){return null},br.getinfo=function(t,e){return null},br.init=function(){return 0},br.pause=function(t,e){return 0},br.perform=function(t){return 0},br.reset=function(t){},br.setopt=function(t,e,i){return 0},br.strerror=function(t){return null},br.unescape=function(t,e,i,s){return null},br.__writeCallback=function(t,e,i,s){return 0};function yr(){this.onProgress=new fa,this.onError=new fa,this.onComplete=new fa,this.doWork=new fa}(i["lime.system.BackgroundWorker"]=yr).__name__=["lime","system","BackgroundWorker"],yr.prototype={cancel:function(){this.canceled=!0},run:function(t){this.canceled=!1,this.__runMessage=t,this.__doWork()},sendComplete:function(t){this.canceled||(this.canceled=!0,this.onComplete.dispatch(t))},sendError:function(t){this.canceled||(this.canceled=!0,this.onError.dispatch(t))},sendProgress:function(t){this.canceled||this.onProgress.dispatch(t)},__doWork:function(){this.doWork.dispatch(this.__runMessage)},__update:function(t){},__class__:yr};function wr(){}(i["lime.system.CFFI"]=wr).__name__=["lime","system","CFFI"],wr.available=null,wr.enabled=null,wr.load=function(t,e,i,s){if(null==s&&(s=!1),null==i&&(i=0),!wr.enabled)return Dt.makeVarArgs(function(t){return{}});return null},wr.__findHaxelib=function(t){return""},wr.__loaderTrace=function(t){},wr.__sysName=function(){return null},wr.__tryLoad=function(t,e,i,s){return null};var xr={};(i["lime.system._CFFIPointer.CFFIPointer_Impl_"]=xr).__name__=["lime","system","_CFFIPointer","CFFIPointer_Impl_"],xr._new=function(t){return t},xr.get=function(t){return 0},xr.equals=function(t,e){return xr.get(t)==e},xr.equalsPointer=function(t,e){return xr.get(t)==xr.get(e)},xr.greaterThan=function(t,e){return xr.get(t)>e},xr.greaterThanPointer=function(t,e){return xr.get(t)>xr.get(e)},xr.greaterThanOrEqual=function(t,e){return xr.get(t)>=e},xr.greaterThanOrEqualPointer=function(t,e){return xr.get(t)>=xr.get(e)},xr.lessThan=function(t,e){return xr.get(t)<e},xr.lessThanPointer=function(t,e){return xr.get(t)<xr.get(e)},xr.lessThanOrEqual=function(t,e){return xr.get(t)<=e},xr.lessThanOrEqualPointer=function(t,e){return xr.get(t)<=xr.get(e)},xr.notEquals=function(t,e){return xr.get(t)!=e},xr.notEqualsPointer=function(t,e){return xr.get(t)!=xr.get(e)};var Tr=function(){};(i["lime.system.Clipboard"]=Tr).__name__=["lime","system","Clipboard"],Tr.__properties__={set_text:"set_text",get_text:"get_text"},Tr.get_text=function(){return null},Tr.set_text=function(t){try{clipboard.copy(t)}catch(t){cn.lastException=t,pn.trace("Failed to copy text.",{fileName:"Clipboard.hx",lineNumber:56,className:"lime.system.Clipboard",methodName:"set_text"})}return t};function Sr(){}(i["lime.system.Display"]=Sr).__name__=["lime","system","Display"],Sr.prototype={__class__:Sr};function Cr(t,e,i,s){this.width=t,this.height=e,this.refreshRate=i,this.pixelFormat=s}(i["lime.system.DisplayMode"]=Cr).__name__=["lime","system","DisplayMode"],Cr.prototype={__class__:Cr};var Er=i["lime.system.Endian"]={__ename__:!0,__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"]};Er.LITTLE_ENDIAN=["LITTLE_ENDIAN",0],Er.LITTLE_ENDIAN.toString=f,(Er.LITTLE_ENDIAN.__enum__=Er).BIG_ENDIAN=["BIG_ENDIAN",1],Er.BIG_ENDIAN.toString=f,Er.BIG_ENDIAN.__enum__=Er;var Ir=function(){};(i["lime.system.System"]=Ir).__name__=["lime","system","System"],Ir.__properties__={get_userDirectory:"get_userDirectory",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},Ir.applicationDirectory=null,Ir.applicationStorageDirectory=null,Ir.desktopDirectory=null,Ir.disableCFFI=null,Ir.documentsDirectory=null,Ir.endianness=null,Ir.fontsDirectory=null,Ir.numDisplays=null,Ir.userDirectory=null,Ir.embed=t.lime.embed=function(t,e,i,s,n){var a=null;a="string"==typeof t?window.document.getElementById(Jn.__cast(t,String)):null==t?window.document.createElement("div"):t;var r=null;null!=s&&(r=-1<(s=In.replace(s,"#","")).indexOf("0x")?O.parseInt(s):O.parseInt("0x"+s)),null==e&&(e=0),null==i&&(i=0),Zt.config.windows[0].background=r,Zt.config.windows[0].element=a,Zt.config.windows[0].width=e,Zt.config.windows[0].height=i,Zt.config.assetsPrefix=n,Zt.create()},Ir.exit=function(t){},Ir.getDisplay=function(t){if(0!=t)return null;var e=new Sr;return e.id=0,e.name="Generic Display",e.dpi=96,e.currentMode=new Cr(window.screen.width,window.screen.height,60,1),e.supportedModes=[e.currentMode],e.bounds=new ur(0,0,e.currentMode.width,e.currentMode.height),e},Ir.getTimer=function(){return Date.now()},Ir.load=function(t,e,i,s){return null==s&&(s=!1),null==i&&(i=0),wr.load(t,e,i,s)},Ir.get_allowScreenTimeout=function(){return!0},Ir.set_allowScreenTimeout=function(t){return!0},Ir.get_applicationDirectory=function(){return null},Ir.get_applicationStorageDirectory=function(){return null!=ua.current&&null!=ua.current.config&&(null!=ua.current.config.company&&ua.current.config.company,null!=ua.current.config.file&&ua.current.config.file),null},Ir.get_desktopDirectory=function(){return null},Ir.get_documentsDirectory=function(){return null},Ir.get_fontsDirectory=function(){return null},Ir.get_numDisplays=function(){return 1},Ir.get_userDirectory=function(){return null},Ir.get_endianness=function(){return Er.LITTLE_ENDIAN};var Pr=function(t,e){null==e&&(e=1),null==t&&(t=0),this.onProgress=new fa,this.onError=new fa,this.onComplete=new fa,this.doWork=new fa,this.minThreads=t,this.maxThreads=e,this.currentThreads=0};(i["lime.system.ThreadPool"]=Pr).__name__=["lime","system","ThreadPool"],Pr.prototype={queue:function(t){this.doWork.dispatch(t)},sendComplete:function(t){this.onComplete.dispatch(t)},sendError:function(t){this.onError.dispatch(t)},sendProgress:function(t){this.onProgress.dispatch(t)},__class__:Pr};var kr=i["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:!0,__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"]};kr.COMPLETE=["COMPLETE",0],kr.COMPLETE.toString=f,(kr.COMPLETE.__enum__=kr).ERROR=["ERROR",1],kr.ERROR.toString=f,(kr.ERROR.__enum__=kr).EXIT=["EXIT",2],kr.EXIT.toString=f,(kr.EXIT.__enum__=kr).PROGRESS=["PROGRESS",3],kr.PROGRESS.toString=f,(kr.PROGRESS.__enum__=kr).WORK=["WORK",4],kr.WORK.toString=f,kr.WORK.__enum__=kr;function Dr(t,e){this.type=t,this.state=e}(i["lime.system._ThreadPool.ThreadPoolMessage"]=Dr).__name__=["lime","system","_ThreadPool","ThreadPoolMessage"],Dr.prototype={__class__:Dr};var Ar={};(i["lime.text._Glyph.Glyph_Impl_"]=Ar).__name__=["lime","text","_Glyph","Glyph_Impl_"],Ar._new=function(t){return t};function Mr(){}(i["lime.text.GlyphMetrics"]=Mr).__name__=["lime","text","GlyphMetrics"],Mr.prototype={__class__:Mr};function Rr(t,e,i){this.glyph=t,this.advance=e,this.offset=null!=i?i:new cr}(i["lime.text.GlyphPosition"]=Rr).__name__=["lime","text","GlyphPosition"],Rr.prototype={__class__:Rr};var Fr={};(i["lime.text._TextDirection.TextDirection_Impl_"]=Fr).__name__=["lime","text","_TextDirection","TextDirection_Impl_"],Fr.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"},Fr.reverse=function(t){1},Fr.toString=function(t){switch(t){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}},Fr.get_backward=function(t){return 5==(-3&t)},Fr.get_forward=function(t){return 4==(-3&t)},Fr.get_horizontal=function(t){return 4==(-2&t)},Fr.get_vertical=function(t){return 6==(-2&t)};function Br(t,e,i,s,n,a){null==a&&(a="en"),null==n&&(n="Zyyy"),null==s&&(s=4),null==i&&(i=12),null==t&&(t=""),this.set_text(t),this.set_font(e),this.set_size(i),this.__direction=s,this.__script=n,this.__language=a,this.positions=[],this.__dirty=!0}(i["lime.text.TextLayout"]=Br).__name__=["lime","text","TextLayout"],Br.prototype={__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(t){return t==this.__direction||(this.__direction=t,this.__dirty=!0),t},set_font:function(t){return t==this.font||(this.font=t,this.__dirty=!0),t},get_glyphs:function(){for(var t=[],e=0,i=this.get_positions();e<i.length;){var s=i[e];++e,t.push(s.glyph)}return t},get_language:function(){return this.__language},set_language:function(t){return t==this.__language||(this.__language=t,this.__dirty=!0),t},get_script:function(){return this.__script},set_script:function(t){return t==this.__script||(this.__script=t,this.__dirty=!0),t},set_size:function(t){return t==this.size||(this.size=t,this.__dirty=!0),t},set_text:function(t){return t==this.text||(this.text=t,this.__dirty=!0),t},__class__:Br,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var Lr={};(i["lime.text._TextScript.TextScript_Impl_"]=Lr).__name__=["lime","text","_TextScript","TextScript_Impl_"],Lr.__properties__={get_rightToLeft:"get_rightToLeft"},Lr.get_rightToLeft=function(t){switch(t){case"Arab":case"Armi":case"Avst":case"Cprt":case"Hebr":case"Khar":case"Lydi":case"Mand":case"Nkoo":case"Orkh":case"Phli":case"Phlp":case"Phnx":case"Samr":case"Sarb":case"Syrc":case"Thaa":return!0;default:return!1}};var Nr=function(t){this.onDisconnect=new na,this.onButtonUp=new Ca,this.onButtonDown=new Ca,this.onAxisMove=new Sa,this.id=t,this.connected=!0};(i["lime.ui.Gamepad"]=Nr).__name__=["lime","ui","Gamepad"],Nr.addMappings=function(t){},Nr.__connect=function(t){if(!Nr.devices.h.hasOwnProperty(t)){var e=new Nr(t);Nr.devices.h[t]=e,Nr.onConnect.dispatch(e)}},Nr.__disconnect=function(t){var e=Nr.devices.h[t];null!=e&&(e.connected=!1),Nr.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},Nr.prototype={get_guid:function(){return zr.__getDeviceData()[this.id].id},get_name:function(){return zr.__getDeviceData()[this.id].id},__class__:Nr,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var Or={};(i["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=Or).__name__=["lime","ui","_GamepadAxis","GamepadAxis_Impl_"],Or.toString=function(t){switch(t){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+t+")"}};var Ur={};(i["lime.ui._GamepadButton.GamepadButton_Impl_"]=Ur).__name__=["lime","ui","_GamepadButton","GamepadButton_Impl_"],Ur.toString=function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+t+")"}};var zr=function(t){this.onTrackballMove=new ga,this.onHatMove=new ya,this.onDisconnect=new na,this.onButtonUp=new ba,this.onButtonDown=new ba,this.onAxisMove=new ga,this.id=t,this.connected=!0};(i["lime.ui.Joystick"]=zr).__name__=["lime","ui","Joystick"],zr.__connect=function(t){if(!zr.devices.h.hasOwnProperty(t)){var e=new zr(t);zr.devices.h[t]=e,zr.onConnect.dispatch(e)}},zr.__disconnect=function(t){var e=zr.devices.h[t];null!=e&&(e.connected=!1),zr.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},zr.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},zr.prototype={get_guid:function(){return zr.__getDeviceData()[this.id].id},get_name:function(){return zr.__getDeviceData()[this.id].id},get_numAxes:function(){return zr.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return zr.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:zr,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var Gr={};(i["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=Gr).__name__=["lime","ui","_JoystickHatPosition","JoystickHatPosition_Impl_"],Gr.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"},Gr._new=function(t){return t},Gr.get_center=function(t){return 0==t},Gr.set_center=function(t,e){return e&&0,e},Gr.get_down=function(t){return 0<(4&t)},Gr.set_down=function(t,e){return e?4:268435451,e},Gr.get_left=function(t){return 0<(8&t)},Gr.set_left=function(t,e){return e?8:268435447,e},Gr.get_right=function(t){return 0<(2&t)},Gr.set_right=function(t,e){return e?2:268435453,e},Gr.get_up=function(t){return 0<(1&t)},Gr.set_up=function(t,e){return e?1:268435454,e};var Xr={};(i["lime.ui._KeyCode.KeyCode_Impl_"]=Xr).__name__=["lime","ui","_KeyCode","KeyCode_Impl_"],Xr.gt=function(t,e){return e<t},Xr.gte=function(t,e){return e<=t},Xr.lt=function(t,e){return t<e},Xr.lte=function(t,e){return t<=e},Xr.plus=function(t,e){return t+e};var Vr={};(i["lime.ui._KeyModifier.KeyModifier_Impl_"]=Vr).__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"],Vr.__properties__={set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},Vr.get_altKey=function(t){return!((256&t)<=0)||0<(512&t)},Vr.set_altKey=function(t,e){return e?768:268434687,e},Vr.get_capsLock=function(t){return!((8192&t)<=0)||0<(8192&t)},Vr.set_capsLock=function(t,e){return e?8192:268427263,e},Vr.get_ctrlKey=function(t){return!((64&t)<=0)||0<(128&t)},Vr.set_ctrlKey=function(t,e){return e?192:268435263,e},Vr.get_metaKey=function(t){return!((1024&t)<=0)||0<(2048&t)},Vr.set_metaKey=function(t,e){return e?3072:268432383,e},Vr.get_numLock=function(t){return!((4096&t)<=0)||0<(4096&t)},Vr.set_numLock=function(t,e){return e?4096:268431359,e},Vr.get_shiftKey=function(t){return!((1&t)<=0)||0<(2&t)},Vr.set_shiftKey=function(t,e){return e?3:268435452,e};function Hr(){}(i["lime.ui.Mouse"]=Hr).__name__=["lime","ui","Mouse"],Hr.__properties__={set_lock:"set_lock",get_lock:"get_lock",set_cursor:"set_cursor",get_cursor:"get_cursor"},Hr.hide=function(){ha.hide()},Hr.show=function(){ha.show()},Hr.warp=function(t,e,i){ha.warp(t,e,i)},Hr.get_cursor=function(){return ha.get_cursor()},Hr.set_cursor=function(t){return ha.set_cursor(t)},Hr.get_lock=function(){return ha.get_lock()},Hr.set_lock=function(t){return ha.set_lock(t)};var Yr=i["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"]};Yr.ARROW=["ARROW",0],Yr.ARROW.toString=f,(Yr.ARROW.__enum__=Yr).CROSSHAIR=["CROSSHAIR",1],Yr.CROSSHAIR.toString=f,(Yr.CROSSHAIR.__enum__=Yr).DEFAULT=["DEFAULT",2],Yr.DEFAULT.toString=f,(Yr.DEFAULT.__enum__=Yr).MOVE=["MOVE",3],Yr.MOVE.toString=f,(Yr.MOVE.__enum__=Yr).POINTER=["POINTER",4],Yr.POINTER.toString=f,(Yr.POINTER.__enum__=Yr).RESIZE_NESW=["RESIZE_NESW",5],Yr.RESIZE_NESW.toString=f,(Yr.RESIZE_NESW.__enum__=Yr).RESIZE_NS=["RESIZE_NS",6],Yr.RESIZE_NS.toString=f,(Yr.RESIZE_NS.__enum__=Yr).RESIZE_NWSE=["RESIZE_NWSE",7],Yr.RESIZE_NWSE.toString=f,(Yr.RESIZE_NWSE.__enum__=Yr).RESIZE_WE=["RESIZE_WE",8],Yr.RESIZE_WE.toString=f,(Yr.RESIZE_WE.__enum__=Yr).TEXT=["TEXT",9],Yr.TEXT.toString=f,(Yr.TEXT.__enum__=Yr).WAIT=["WAIT",10],Yr.WAIT.toString=f,(Yr.WAIT.__enum__=Yr).WAIT_ARROW=["WAIT_ARROW",11],Yr.WAIT_ARROW.toString=f,(Yr.WAIT_ARROW.__enum__=Yr).CUSTOM=["CUSTOM",12],Yr.CUSTOM.toString=f,Yr.CUSTOM.__enum__=Yr;var Wr=function(t,e,i,s,n,a,r){this.x=t,this.y=e,this.id=i,this.dx=s,this.dy=n,this.pressure=a,this.device=r};(i["lime.ui.Touch"]=Wr).__name__=["lime","ui","Touch"],Wr.prototype={__class__:Wr};var jr=function(t){this.onTextInput=new xa,this.onTextEdit=new wa,this.onRestore=new na,this.onResize=new va,this.onMove=new pa,this.onMouseWheel=new pa,this.onMouseUp=new da,this.onMouseMoveRelative=new pa,this.onMouseMove=new pa,this.onMouseDown=new da,this.onMinimize=new na,this.onLeave=new na,this.onKeyUp=new Pa,this.onKeyDown=new Pa,this.onFullscreen=new na,this.onFocusOut=new na,this.onFocusIn=new na,this.onEnter=new na,this.onDeactivate=new na,this.onCreate=new na,this.onClose=new na,this.onActivate=new na,this.config=t,this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title="",this.id=-1,null!=t&&(Object.prototype.hasOwnProperty.call(t,"width")&&(this.__width=t.width,this.__originalWidth=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.__height=t.height,this.__originalHeight=t.height),Object.prototype.hasOwnProperty.call(t,"x")&&(this.__x=t.x),Object.prototype.hasOwnProperty.call(t,"y")&&(this.__y=t.y),Object.prototype.hasOwnProperty.call(t,"fullscreen")&&(this.__fullscreen=t.fullscreen),Object.prototype.hasOwnProperty.call(t,"borderless")&&(this.__borderless=t.borderless),Object.prototype.hasOwnProperty.call(t,"resizable")&&(this.__resizable=t.resizable),Object.prototype.hasOwnProperty.call(t,"title")&&(this.__title=t.title)),this.backend=new la(this)};(i["lime.ui.Window"]=jr).__name__=["lime","ui","Window"],jr.prototype={alert:function(t,e){this.backend.alert(t,e)},close:function(){this.backend.close()},create:function(t){this.application=t,this.backend.create(t),null!=this.renderer&&this.renderer.create()},focus:function(){this.backend.focus()},move:function(t,e){this.backend.move(t,e),this.__x=t,this.__y=e},resize:function(t,e){this.__width=t,this.__height=e,this.backend.resize(t,e)},resizeViewport:function(t,e){this.backend.resizeViewport(t,e)},setIcon:function(t){null!=t&&this.backend.setIcon(t)},toString:function(){return"[object Window]"},get_display:function(){return this.backend.getDisplay()},get_borderless:function(){return this.__borderless},set_borderless:function(t){return this.__borderless=this.backend.setBorderless(t)},get_originalWidth:function(){return this.__originalWidth},get_originalHeight:function(){return this.__originalHeight},get_enableTextEvents:function(){return this.backend.getEnableTextEvents()},set_enableTextEvents:function(t){return this.backend.setEnableTextEvents(t)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(t){return this.__fullscreen=this.backend.setFullscreen(t)},get_height:function(){return this.__height},set_height:function(t){return this.resize(this.__width,t),this.__height},get_minimized:function(){return this.__minimized},set_minimized:function(t){return this.__minimized=this.backend.setMinimized(t)},get_resizable:function(){return this.__resizable},set_resizable:function(t){return this.__resizable=this.backend.setResizable(t),this.__resizable},get_scale:function(){return this.__scale},get_screenWidth:function(){return this.backend.getScreenWidth()},get_screenHeight:function(){return this.backend.getScreenHeight()},get_title:function(){return this.__title},set_title:function(t){return this.__title=this.backend.setTitle(this.__title)},get_width:function(){return this.__width},set_width:function(t){return this.resize(t,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(t){return this.move(t,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(t){return this.move(this.__x,t),this.__y},__class__:jr,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",get_screenHeight:"get_screenHeight",get_screenWidth:"get_screenWidth",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",get_originalHeight:"get_originalHeight",get_originalWidth:"get_originalWidth",set_minimized:"set_minimized",get_minimized:"get_minimized",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_enableTextEvents:"set_enableTextEvents",get_enableTextEvents:"get_enableTextEvents",get_display:"get_display",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var Kr=i["lime.utils.TAError"]={__ename__:!0,__constructs__:["RangeError"]};Kr.RangeError=["RangeError",0],Kr.RangeError.toString=f,Kr.RangeError.__enum__=Kr;var qr=function(t,e){tn.call(this,e)};(i["lime.utils.Bytes"]=qr).__name__=["lime","utils","Bytes"],qr.alloc=function(t){var e=new tn(new qf(t));return new qr(e.length,e.b.bufferValue)},qr.fastGet=function(t,e){return t.bytes[e]},qr.ofData=function(t){var e=tn.ofData(t);return new qr(e.length,e.b.bufferValue)},qr.ofString=function(t){var e=tn.ofString(t);return new qr(e.length,e.b.bufferValue)},qr.readFile=function(t){return null},qr.lime_bytes_from_data_pointer=function(t,e){return qr.cffi_lime_bytes_from_data_pointer(t,e)},qr.lime_bytes_get_data_pointer=function(t){return qr.cffi_lime_bytes_get_data_pointer(t)},qr.lime_bytes_read_file=function(t){return qr.cffi_lime_bytes_read_file(t)},qr.__super__=tn,qr.prototype=s(tn.prototype,{__class__:qr});var Jr={};(i["lime.utils._Float32Array.Float32Array_Impl_"]=Jr).__name__=["lime","utils","_Float32Array","Float32Array_Impl_"],Jr.__set=function(t,e,i){return t[e]=i},Jr.__get=function(t,e){return t[e]},Jr.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Zf(t.b.bufferValue):null==i?new Zf(t.b.bufferValue,e):new Zf(t.b.bufferValue,e,i)},Jr.toBytes=function(t){return new tn(new Qf(t.buffer))},Jr.toString=function(t){return null!=t?"Float32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};function Zr(){}(i["lime.utils.GLUtils"]=Zr).__name__=["lime","utils","GLUtils"],Zr.compileShader=function(t,e){var i=nr.context.createShader(e);if(nr.context.shaderSource(i,t),nr.context.compileShader(i),0==nr.context.getShaderParameter(i,35713))switch(e){case 35632:throw new qn("Error compiling fragment shader");case 35633:throw new qn("Error compiling vertex shader");default:throw new qn("Error compiling unknown shader type")}return i},Zr.createProgram=function(t,e){var i=Zr.compileShader(t,35633),s=Zr.compileShader(e,35632),n=nr.context.createProgram();if(nr.context.attachShader(n,i),nr.context.attachShader(n,s),nr.context.linkProgram(n),0==nr.context.getProgramParameter(n,35714))throw new qn("Unable to initialize the shader program.");return n};var Qr={};(i["lime.utils._Int16Array.Int16Array_Impl_"]=Qr).__name__=["lime","utils","_Int16Array","Int16Array_Impl_"],Qr.__set=function(t,e,i){return t[e]=i},Qr.__get=function(t,e){return t[e]},Qr.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int16Array(t.b.bufferValue):null==i?new Int16Array(t.b.bufferValue,e):new Int16Array(t.b.bufferValue,e,i)},Qr.toBytes=function(t){return new tn(new Qf(t.buffer))},Qr.toString=function(t){return null!=t?"Int16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var $r={};(i["lime.utils._Int32Array.Int32Array_Impl_"]=$r).__name__=["lime","utils","_Int32Array","Int32Array_Impl_"],$r.__set=function(t,e,i){return t[e]=i},$r.__get=function(t,e){return t[e]},$r.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int32Array(t.b.bufferValue):null==i?new Int32Array(t.b.bufferValue,e):new Int32Array(t.b.bufferValue,e,i)},$r.toBytes=function(t){return new tn(new Qf(t.buffer))},$r.toString=function(t){return null!=t?"Int32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};function to(){}(i["lime.utils.LZMA"]=to).__name__=["lime","utils","LZMA"],to.decode=function(t){return null},to.encode=function(t){return null};var eo={};(i["lime.utils._UInt16Array.UInt16Array_Impl_"]=eo).__name__=["lime","utils","_UInt16Array","UInt16Array_Impl_"],eo.__set=function(t,e,i){return t[e]=i},eo.__get=function(t,e){return t[e]},eo.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint16Array(t.b.bufferValue):null==i?new Uint16Array(t.b.bufferValue,e):new Uint16Array(t.b.bufferValue,e,i)},eo.toBytes=function(t){return new tn(new Qf(t.buffer))},eo.toString=function(t){return null!=t?"UInt16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var io={};(i["lime.utils._UInt32Array.UInt32Array_Impl_"]=io).__name__=["lime","utils","_UInt32Array","UInt32Array_Impl_"],io.__set=function(t,e,i){return t[e]=i},io.__get=function(t,e){return t[e]},io.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint32Array(t.b.bufferValue):null==i?new Uint32Array(t.b.bufferValue,e):new Uint32Array(t.b.bufferValue,e,i)},io.toBytes=function(t){return new tn(new Qf(t.buffer))},io.toString=function(t){return null!=t?"UInt32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var so={};(i["lime.utils._UInt8Array.UInt8Array_Impl_"]=so).__name__=["lime","utils","_UInt8Array","UInt8Array_Impl_"],so.__set=function(t,e,i){return t[e]=i},so.__get=function(t,e){return t[e]},so.fromBytes=function(t,e,i){return null==e?new Qf(t.b.bufferValue):null==i?new Qf(t.b.bufferValue,e):new Qf(t.b.bufferValue,e,i)},so.toBytes=function(t){return new tn(new Qf(t.buffer))},so.toString=function(t){return null!=t?"UInt8Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};function no(){}(i["openfl.IAssetCache"]=no).__name__=["openfl","IAssetCache"],no.prototype={__class__:no,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};function ao(){this.__enabled=!0,this.bitmapData=new Tn,this.font=new Tn,this.sound=new Tn}(i["openfl.AssetCache"]=ao).__name__=["openfl","AssetCache"],ao.__interfaces__=[no],ao.prototype={clear:function(t){if(null==t)this.bitmapData=new Tn,this.font=new Tn,this.sound=new Tn;else{for(var e=this.bitmapData.keys();e.hasNext();){var i=e.next();In.startsWith(i,t)&&this.bitmapData.remove(i)}for(var s=this.font.keys();s.hasNext();){var n=s.next();In.startsWith(n,t)&&this.font.remove(n)}for(var a=this.sound.keys();a.hasNext();){var r=a.next();In.startsWith(r,t)&&this.sound.remove(r)}}},getBitmapData:function(t){var e=this.bitmapData;return null!=Kf[t]?e.getReserved(t):e.h[t]},getFont:function(t){var e=this.font;return null!=Kf[t]?e.getReserved(t):e.h[t]},getSound:function(t){var e=this.sound;return null!=Kf[t]?e.getReserved(t):e.h[t]},hasBitmapData:function(t){var e=this.bitmapData;return null!=Kf[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasFont:function(t){var e=this.font;return null!=Kf[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasSound:function(t){var e=this.sound;return null!=Kf[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},removeBitmapData:function(t){return this.bitmapData.remove(t)},removeFont:function(t){return this.font.remove(t)},removeSound:function(t){return this.sound.remove(t)},setBitmapData:function(t,e){var i=this.bitmapData;null!=Kf[t]?i.setReserved(t,e):i.h[t]=e},setFont:function(t,e){var i=this.font;null!=Kf[t]?i.setReserved(t,e):i.h[t]=e},setSound:function(t,e){var i=this.sound;null!=Kf[t]?i.setReserved(t,e):i.h[t]=e},get_enabled:function(){return this.__enabled},set_enabled:function(t){return this.__enabled=t},__class__:ao,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var ro=function(){};(i["openfl.Assets"]=ro).__name__=["openfl","Assets"],ro.addEventListener=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),aa.onChange.has(ro.LimeAssets_onChange)||aa.onChange.add(ro.LimeAssets_onChange),ro.dispatcher.addEventListener(t,e,i,s,n)},ro.dispatchEvent=function(t){return ro.dispatcher.dispatchEvent(t)},ro.exists=function(t,e){return aa.exists(t,e)},ro.getBitmapData=function(t,e){if(null==e&&(e=!0),e&&ro.cache.get_enabled()&&ro.cache.hasBitmapData(t)){var i=ro.cache.getBitmapData(t);if(ro.isValidBitmapData(i))return i}var s=aa.getImage(t,!1);if(null==s)return null;var n=mh.fromImage(s);return e&&ro.cache.get_enabled()&&ro.cache.setBitmapData(t,n),n},ro.getBitmapDataFromSymbol=function(t,e){return null==e&&(e=!0),mh.isSpritesheetImage(t.path)?mh.getFromSpritesheet(t.id,t.path):ro.getBitmapData(t.path,e)},ro.getBytes=function(t){return su.fromBytes(aa.getBytes(t))},ro.getFont=function(t,e){if(null==e&&(e=!0),e&&ro.cache.get_enabled()&&ro.cache.hasFont(t))return ro.cache.getFont(t);var i=aa.getFont(t,!1);if(null==i)return new se;var s=se.__fromLimeFont(i);return e&&ro.cache.get_enabled()&&ro.cache.setFont(t,s),s},ro.getLibrary=function(t){return aa.getLibrary(t)},ro.getMovieClip=function(t){var e=t.substring(0,t.indexOf(":")),i=L.substr(t,t.indexOf(":")+1,null),s=ro.getLibrary(e);if(null!=s)if(s.exists(i,"MOVIE_CLIP")){if(s.isLocal(i,"MOVIE_CLIP"))return s.getMovieClip(i);pn.trace('[openfl.Assets] MovieClip asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:232,className:"openfl.Assets",methodName:"getMovieClip"})}else pn.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:238,className:"openfl.Assets",methodName:"getMovieClip"});else pn.trace('[openfl.Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:244,className:"openfl.Assets",methodName:"getMovieClip"});return null},ro.getMusic=function(t,e){null==e&&(e=!0);var i=aa.getPath(t);return null!=i?new Dl(new Ll(i)):null},ro.getPath=function(t){return aa.getPath(t)},ro.getSound=function(t,e){if(null==e&&(e=!0),e&&ro.cache.get_enabled()&&ro.cache.hasSound(t)){var i=ro.cache.getSound(t);if(ro.isValidSound(i))return i}var s=aa.getPath(t);return null!=s?new Dl(new Ll(s)):null},ro.getText=function(t){return aa.getText(t)},ro.hasEventListener=function(t){return ro.dispatcher.hasEventListener(t)},ro.isLocal=function(t,e,i){if(null==i&&(i=!0),i&&ro.cache.get_enabled()){if(("IMAGE"==e||null==e)&&ro.cache.hasBitmapData(t))return!0;if(("FONT"==e||null==e)&&ro.cache.hasFont(t))return!0;if(("SOUND"==e||"MUSIC"==e||null==e)&&ro.cache.hasSound(t))return!0}var s=t.substring(0,t.indexOf(":")),n=L.substr(t,t.indexOf(":")+1,null),a=ro.getLibrary(s);return null!=a&&a.isLocal(n,e)},ro.isValidBitmapData=function(t){return null!=t&&null!=t.get_bd().get_image()},ro.isValidSound=function(t){return!0},ro.list=function(t){return aa.list(t)},ro.loadBitmapData=function(i,s,e){null==s&&(s=!0),null==s&&(s=!0);var n=new Ma;if(null!=e&&(n.future.onComplete(e),n.future.onError(function(t){e(null)})),s&&ro.cache.get_enabled()&&ro.cache.hasBitmapData(i)){var t=ro.cache.getBitmapData(i);if(ro.isValidBitmapData(t))return n.complete(t),n.future}return aa.loadImage(i,!1).onComplete(function(t){if(null!=t){var e=mh.fromImage(t);s&&ro.cache.get_enabled()&&ro.cache.setBitmapData(i,e),n.complete(e)}else n.error('[Assets] Could not load Image "'+i+'"')}).onError(Gf(n,n.error)).onProgress(Gf(n,n.progress)),n.future},ro.loadBytes=function(t,e){var i=new Ma,s=aa.loadBytes(t);return null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}),s.onComplete(function(t){i.complete(su.fromBytes(t))}),s.onProgress(function(t){i.progress(t)}),s.onError(function(t){i.error(t)})),i.future},ro.loadFont=function(i,s,e){null==s&&(s=!0),null==s&&(s=!0);var n=new Ma;if(null!=e&&(n.future.onComplete(e),n.future.onError(function(t){e(null)})),s&&ro.cache.get_enabled()&&ro.cache.hasFont(i)){var t=ro.cache.getFont(i);return n.complete(t),n.future}return aa.loadFont(i).onComplete(function(t){var e=se.__fromLimeFont(t);s&&ro.cache.get_enabled()&&ro.cache.setFont(i,e),n.complete(e)}).onError(Gf(n,n.error)).onProgress(Gf(n,n.progress)),n.future},ro.loadLibrary=function(t,e){var i=aa.loadLibrary(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},ro.loadMusic=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new Da(function(){return ro.getMusic(t,e)})},ro.loadMovieClip=function(t,e){var i=new Ma;null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}));var s=t.substring(0,t.indexOf(":")),n=L.substr(t,t.indexOf(":")+1,null),a=ro.getLibrary(s);return null!=a?a.exists(n,"MOVIE_CLIP")?i.completeWith(a.loadMovieClip(n)):i.error('[Assets] There is no MovieClip asset with an ID of "'+t+'"'):i.error('[Assets] There is no asset library named "'+s+'"'),i.future},ro.loadSound=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new Da(function(){return ro.getSound(t,e)})},ro.loadText=function(t,e){var i=aa.loadText(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},ro.registerLibrary=function(t,e){aa.registerLibrary(t,e)},ro.removeEventListener=function(t,e,i){null==i&&(i=!1),ro.dispatcher.removeEventListener(t,e,i)},ro.resolveClass=function(t){return mi.resolveClass(t)},ro.resolveEnum=function(t){return mi.resolveEnum(t)},ro.unloadLibrary=function(t){aa.unloadLibrary(t)},ro.LimeAssets_onChange=function(){ro.dispatchEvent(new Ne("change"))};var oo=function(t,e,i,s,n,a,r,o){null==o&&(o=0),null==r&&(r=0),null==a&&(a=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.__uid=at.SEQ<<24|++at.UID,this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=s,this.redOffset=n,this.greenOffset=a,this.blueOffset=r,this.alphaOffset=o};(i["openfl.geom.ColorTransform"]=oo).__name__=["openfl","geom","ColorTransform"],oo.__interfaces__=[nt],oo.prototype={concat:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset=t.redMultiplier*this.redOffset+t.redOffset,this.greenOffset=t.greenMultiplier*this.greenOffset+t.greenOffset,this.blueOffset=t.blueMultiplier*this.blueOffset+t.blueOffset,this.alphaOffset=t.alphaMultiplier*this.alphaOffset+t.alphaOffset},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new oo(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset+=t.redOffset,this.greenOffset+=t.greenOffset,this.blueOffset+=t.blueOffset,this.alphaOffset+=t.alphaOffset},__equals:function(t,e){return null==e&&(e=!1),!(null==t||this.redMultiplier!=t.redMultiplier||this.greenMultiplier!=t.greenMultiplier||this.blueMultiplier!=t.blueMultiplier||!e&&this.alphaMultiplier!=t.alphaMultiplier||this.redOffset!=t.redOffset||this.greenOffset!=t.greenOffset||this.blueOffset!=t.blueOffset)&&this.alphaOffset==t.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},reset:function(){var t=!this.__isDefault();return t&&(this.redMultiplier=this.greenMultiplier=this.blueMultiplier=this.alphaMultiplier=1,this.redOffset=this.greenOffset=this.blueOffset=this.alphaOffset=0),t},setFromCombination:function(t,e){this.redMultiplier=t.redMultiplier*e.redMultiplier,this.greenMultiplier=t.greenMultiplier*e.greenMultiplier,this.blueMultiplier=t.blueMultiplier*e.blueMultiplier,this.alphaMultiplier=t.alphaMultiplier*e.alphaMultiplier,this.redOffset=t.redOffset+e.redOffset,this.greenOffset=t.greenOffset+e.greenOffset,this.blueOffset=t.blueOffset+e.blueOffset,this.alphaOffset=t.alphaOffset+e.alphaOffset},copyFrom:function(t){this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaMultiplier=t.alphaMultiplier,this.redOffset=t.redOffset,this.greenOffset=t.greenOffset,this.blueOffset=t.blueOffset,this.alphaOffset=t.alphaOffset},get_color:function(){return(0|this.redOffset)<<16|(0|this.greenOffset)<<8|0|this.blueOffset},set_color:function(t){return this.redOffset=t>>16&255,this.greenOffset=t>>8&255,this.blueOffset=255&t,this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){var t=[this.redMultiplier,0,0,0,this.redOffset/255,0,this.greenMultiplier,0,0,this.greenOffset/255,0,0,this.blueMultiplier,0,this.blueOffset/255,0,0,0,this.alphaMultiplier,this.alphaOffset/255];return null!=t?new Zf(t):null},getCLID:function(){return oo.__clid},serialize:function(t){t.out.addInt32(Dn.floatToI32(this.alphaMultiplier)),t.out.addInt32(Dn.floatToI32(this.alphaOffset)),t.out.addInt32(Dn.floatToI32(this.blueMultiplier)),t.out.addInt32(Dn.floatToI32(this.blueOffset)),t.out.addInt32(Dn.floatToI32(this.greenMultiplier)),t.out.addInt32(Dn.floatToI32(this.greenOffset)),t.out.addInt32(Dn.floatToI32(this.redMultiplier)),t.out.addInt32(Dn.floatToI32(this.redOffset))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("alphaMultiplier"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("alphaOffset"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("blueMultiplier"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("blueOffset"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("greenMultiplier"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("greenOffset"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("redMultiplier"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("redOffset"),t.fieldsTypes.push(Xn.PFloat),t.isFinal=at.isClassFinal(oo.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.alphaMultiplier=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.alphaOffset=i;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.blueMultiplier=s;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.blueOffset=n;var a=t.input.getFloat(t.inPos);t.inPos+=4,this.greenMultiplier=a;var r=t.input.getFloat(t.inPos);t.inPos+=4,this.greenOffset=r;var o=t.input.getFloat(t.inPos);t.inPos+=4,this.redMultiplier=o;var h=t.input.getFloat(t.inPos);t.inPos+=4,this.redOffset=h},__class__:oo,__properties__:{set_color:"set_color",get_color:"get_color"}};var ho=function(t,e,i,s,n,a){null==a&&(a=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.__uid=at.SEQ<<24|++at.UID,this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=a};(i["openfl.geom.Matrix"]=ho).__name__=["openfl","geom","Matrix"],ho.__interfaces__=[nt],ho.prototype={clone:function(){return new ho(this.a,this.b,this.c,this.d,this.tx,this.ty)},preTransform:function(t){this.tx=t.tx*this.a+t.ty*this.c+this.tx,this.ty=t.tx*this.b+t.ty*this.d+this.ty;var e=t.a*this.a+t.b*this.c;this.c=t.c*this.a+t.d*this.c,this.a=e;var i=t.a*this.b+t.b*this.d;this.d=t.c*this.b+t.d*this.d,this.b=i},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var s=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=s},copyColumnFrom:function(t,e){if(2<t)throw new qn("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw new qn("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw new qn("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(2<t)throw new qn("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},createBox:function(t,e,i,s,n){if(null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),0!=i){var a=Math.cos(i),r=Math.sin(i);this.a=a*t,this.b=r*e,this.c=-r*t,this.d=a*e}else this.a=t,this.b=0,this.c=0,this.d=e;this.tx=s,this.ty=n},createGradientBox:function(t,e,i,s,n){if(null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var a=Math.cos(i),r=Math.sin(i);this.b=r*this.d,this.c=-r*this.a,this.a*=a,this.d*=a}else this.b=0,this.c=0;this.tx=s+t/2,this.ty=n+e/2},deltaTransformPoint:function(t){return new _o(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),s=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=s;var n=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=n;var a=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=a},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,s,n,a){this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=a},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(t){return new _o(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){if(null==t&&(t=!1),null==this.__array){var e=new Zf(9);this.__array=e}return t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0),this.__array[8]=1,this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return new _r(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(t){var e=this.a*this.d-this.b*this.c;if(0==e)t.x=-this.tx,t.y=-this.ty;else{var i=1/e*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx));t.y=1/e*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=i}},__transformInverseX:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.tx:1/i*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.ty:1/i*(this.a*(e-this.ty)+this.b*(this.tx-t))},__transformPoint:function(t){var e=t.x,i=t.y;t.x=e*this.a+i*this.c+this.tx,t.y=e*this.b+i*this.d+this.ty},__transformX:function(t,e){return t*this.a+e*this.c+this.tx},__transformY:function(t,e){return t*this.b+e*this.d+this.ty},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},getCLID:function(){return ho.__clid},serialize:function(t){t.out.addInt32(Dn.floatToI32(this.a)),t.out.addInt32(Dn.floatToI32(this.b)),t.out.addInt32(Dn.floatToI32(this.c)),t.out.addInt32(Dn.floatToI32(this.d)),t.out.addInt32(Dn.floatToI32(this.tx)),t.out.addInt32(Dn.floatToI32(this.ty))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("a"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("b"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("c"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("d"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("tx"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("ty"),t.fieldsTypes.push(Xn.PFloat),t.isFinal=at.isClassFinal(ho.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.a=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.b=i;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.c=s;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.d=n;var a=t.input.getFloat(t.inPos);t.inPos+=4,this.tx=a;var r=t.input.getFloat(t.inPos);t.inPos+=4,this.ty=r},__class__:ho};var _o=function(t,e){null==e&&(e=0),null==t&&(t=0),this.__uid=at.SEQ<<24|++at.UID,this.x=t,this.y=e};(i["openfl.geom.Point"]=_o).__name__=["openfl","geom","Point"],_o.__interfaces__=[nt],_o.squareDistance=function(t,e){var i=t.x-e.x,s=t.y-e.y;return i*i+s*s},_o.distance=function(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)},_o.interpolate=function(t,e,i){return new _o(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},_o.polar=function(t,e){return new _o(t*Math.cos(e),t*Math.sin(e))},_o.prototype={add:function(t){return new _o(t.x+this.x,t.y+this.y)},clone:function(){return new _o(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new _o(this.x-t.x,this.y-t.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){return new cr(this.x,this.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getCLID:function(){return _o.__clid},serialize:function(t){t.out.addInt32(Dn.floatToI32(this.x)),t.out.addInt32(Dn.floatToI32(this.y))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("x"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(Xn.PFloat),t.isFinal=at.isClassFinal(_o.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.x=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.y=i},__class__:_o,__properties__:{get_length:"get_length"}};var lo=function(){};(i["openfl.Lib"]=lo).__name__=["openfl","Lib"],lo.application=null,lo.as=function(t,e){return Jn.__instanceof(t,e)?t:null},lo.attach=function(t){return new h},lo.embed=t.openfl.embed=function(t,e,i,s,n){Ir.embed(t,e,i,s,n)},lo.getTimer=function(){return Date.now()},lo.getURL=function(t,e){null==e&&(e="_blank"),window.open(t.url,e)},lo.notImplemented=function(t){var e=lo.__sentWarnings;if(!(null!=Kf[t]?e.existsReserved(t):e.h.hasOwnProperty(t))){var i=lo.__sentWarnings;null!=Kf[t]?i.setReserved(t,!0):i.h[t]=!0,pn.trace("Warning: "+t+" is not implemented",{fileName:"Lib.hx",lineNumber:113,className:"openfl.Lib",methodName:"notImplemented"})}},lo.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},lo.trace=function(t){pn.trace(t,{fileName:"Lib.hx",lineNumber:144,className:"openfl.Lib",methodName:"trace"})};var uo={};(i["openfl._Vector.Vector_Impl_"]=uo).__name__=["openfl","_Vector","Vector_Impl_"],uo.__properties__={set_fixed:"set_fixed",get_fixed:"get_fixed",set_length:"set_length",get_length:"get_length"},uo._new=function(t,e){null==e&&(e=!1),null==t&&(t=0);var i=new Le,s=new Array(t);return i.data=s,i.length=t,i.fixed=e,i},uo.concat=function(t,e){var i=new Le;i.length=null!=e?t.length+e.length:t.length,i.fixed=!1;var s=i.length,n=new Array(s);return i.data=n,Sn.blit(t.data,0,i.data,0,t.length),null!=e&&Sn.blit(e.data,0,i.data,t.length,e.length),i},uo.copy=function(t){var e=new Le;e.length=t.length,e.fixed=t.fixed;var i=t.length,s=new Array(i);return e.data=s,Sn.blit(t.data,0,e.data,0,t.length),e},uo.iterator=function(t){return new co(t)},uo.join=function(t,e){for(var i="",s=0,n=t.length;s<n;){var a=s++;0<a&&(i+=e),i+=O.string(t.data[a])}return i},uo.pop=function(t){var e=null;return t.fixed||0<t.length&&(t.length--,e=t.data[t.length]),e},uo.push=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i=t.data.length+10,s=new Array(i);Sn.blit(t.data,0,s,0,t.data.length),t.data=s}t.data[t.length-1]=e}return t.length},uo.reverse=function(t){for(var e=t.length,i=new Array(e),s=0,n=t.length;s<n;){var a=s++;i[t.length-1-a]=t.data[a]}t.data=i},uo.shift=function(t){if(!t.fixed&&0<t.length){t.length--;var e=t.data[0];return Sn.blit(t.data,1,t.data,0,t.length),e}return null},uo.unshift=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i=t.length+10,s=new Array(i);Sn.blit(t.data,0,s,1,t.data.length),t.data=s}else Sn.blit(t.data,0,t.data,1,t.length-1);t.data[0]=e}},uo.slice=function(t,e,i){null==i&&(i=0),null==e&&(e=0),e<0&&(e+=t.length),i<=0&&(i+=t.length),i>t.length&&(i=t.length);var s=i-e;(s<=0||s>t.length)&&(s=t.length);var n=new Le;n.length=i-e,n.fixed=!0;var a=new Array(s);return n.data=a,Sn.blit(t.data,e,n.data,0,s),n},uo.sort=function(t,e){var i=t.data.slice(0);i.sort(e),t.data=i.slice(0)},uo.splice=function(t,e,i){e<0&&(e+=t.length),e+i>t.length&&(i=t.length-e),i<0&&(i=0);var s=new Le;s.length=i,s.fixed=!1;var n=new Array(i);return s.data=n,Sn.blit(t.data,e,s.data,0,i),0<i&&(t.length-=i,Sn.blit(t.data,e+i,t.data,e,t.length-e)),s},uo.toString=function(t){return t.data.slice(0).toString()},uo.indexOf=function(t,e,i){null==i&&(i=0);for(var s=-1,n=i,a=t.length;n<a;){var r=n++;if(t.data[r]==e){s=r;break}}return s},uo.lastIndexOf=function(t,e,i){null==i&&(i=0);for(var s=-1,n=t.length-1;i<=n;){if(t.data[n]==e){s=n;break}--n}return s},uo.ofArray=function(t){var e=new Le;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},uo.convert=function(t){return t},uo.get=function(t,e){return t.data[e]},uo.set=function(t,e,i){if(!t.fixed&&(e>=t.length&&(t.length=e+1),t.data.length<t.length)){var s=t.data.length+10,n=new Array(s);Sn.blit(t.data,0,n,0,t.data.length),t.data=n}return t.data[e]=i},uo.fromArray=function(t){var e=new Le;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},uo.toArray=function(t){for(var e=[],i=0,s=t.data.length;i<s;){var n=i++;e.push(t.data[n])}return e},uo.fromHaxeVector=function(t){var e=new Le;return e.length=t.length,e.fixed=!0,e.data=t,e},uo.toHaxeVector=function(t){return t.data},uo.fromVectorData=function(t){return t},uo.toVectorData=function(t){return t},uo.get_length=function(t){return t.length},uo.set_length=function(t,e){if(!t.fixed){if(e>t.length){var i=new Array(e);Sn.blit(t.data,0,i,0,0|Math.min(t.data.length,e)),t.data=i}t.length=e}return e},uo.get_fixed=function(t){return t.fixed},uo.set_fixed=function(t,e){return t.fixed=e};var co=function(t){this.index=0,this.vectorData=t};(i["openfl.VectorDataIterator"]=co).__name__=["openfl","VectorDataIterator"],co.prototype={hasNext:function(){return this.index<this.vectorData.length},next:function(){return this.vectorData.data[this.index++]},__class__:co};function fo(t){this.renderSession=t}(i["openfl._internal.renderer.AbstractMaskManager"]=fo).__name__=["openfl","_internal","renderer","AbstractMaskManager"],fo.prototype={pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:fo};function po(t,e){this.width=t,this.height=e}(i["openfl._internal.renderer.AbstractRenderer"]=po).__name__=["openfl","_internal","renderer","AbstractRenderer"],po.prototype={render:function(t){},renderShape:function(t){},setViewport:function(t,e,i,s,n){null==n&&(n=!1)},resize:function(t,e){},__class__:po};function go(){this.__uid=at.SEQ<<24|++at.UID;var t=new zt;t._items=[],t._length=t._items.length,this.cf=t;var e=new zt;e._items=[],e._length=e._items.length,this.bd=e;var i=new zt;i._items=[],i._length=i._items.length,this.bd_ids=i;var s=new zt;s._items=[],s._length=s._items.length,this.vi=s;var n=new zt;n._items=[],n._length=n._items.length,this.vf=n;var a=new zt;a._items=[],a._length=a._items.length,this.m=a;var r=new zt;r._items=[],r._length=r._items.length,this.ii=r;var o=new zt;o._items=[],o._length=o._items.length,this.i=o;var h=new zt;h._items=[],h._length=h._items.length,this.ff=h;var _=new zt;_._items=[],_._length=_._items.length,this.t=_;var l=new zt;l._items=[],l._length=l._items.length,this.b=l;var u=new zt;u._items=[],u._length=u._items.length,this.types=u}(i["openfl._internal.renderer.DrawCommandBuffer"]=go).__name__=["openfl","_internal","renderer","DrawCommandBuffer"],go.__interfaces__=[nt],go.prototype={pushClampedFloat:function(t){var e=this.cf;e._items[e._length++]=255*t|0},pushTwip:function(t){var e=this.t;e._items[e._length++]=20*t|0},append:function(t){for(var e=new mo(t),i=0,s=t.types;i<s._length;){var n=i>=s._length?null:s._items[i];switch(++i,n){case 0:e.advance(),e.prev=0;var a=e,r=a.buffer.bd,o=a.bdPos,h=a.buffer.m,_=a.mPos,l=a.buffer.b,u=a.bPos,c=a.buffer.b,f=a.bPos+1;this.beginBitmapFill(o>=r._length?null:r._items[o],_>=h._length?null:h._items[_],u>=l._length?null:l._items[u],f>=c._length?null:c._items[f]);break;case 1:e.advance(),e.prev=1;var d=e,p=d.buffer.i,g=d.iPos;this.beginFill(g>=p._length?null:p._items[g],d.buffer.clampedFloats[d.cfPos]/255);break;case 2:e.advance(),e.prev=2;var m=e,v=m.buffer.i,b=m.iPos,y=m.buffer.ii,w=m.iiPos,x=m.buffer.ff,T=m.ffPos,S=m.buffer.ii,C=m.iiPos+1,E=m.buffer.m,I=m.mPos,P=m.buffer.i,k=m.iPos+1,D=m.buffer.i,A=m.iPos+2;this.beginGradientFill(b>=v._length?null:v._items[b],w>=y._length?null:y._items[w],T>=x._length?null:x._items[T],C>=S._length?null:S._items[C],I>=E._length?null:E._items[I],k>=P._length?null:P._items[k],A>=D._length?null:D._items[A],m.buffer.twips[m.fPos]/20);break;case 3:e.advance(),e.prev=3;var M=e;this.cubicCurveTo(M.buffer.twips[M.fPos]/20,M.buffer.twips[M.fPos+1]/20,M.buffer.twips[M.fPos+2]/20,M.buffer.twips[M.fPos+3]/20,M.buffer.twips[M.fPos+4]/20,M.buffer.twips[M.fPos+5]/20);break;case 4:e.advance(),e.prev=4;var R=e;this.curveTo(R.buffer.twips[R.fPos]/20,R.buffer.twips[R.fPos+1]/20,R.buffer.twips[R.fPos+2]/20,R.buffer.twips[R.fPos+3]/20);break;case 5:e.advance(),e.prev=5;var F=e;this.drawCircle(F.buffer.twips[F.fPos]/20,F.buffer.twips[F.fPos+1]/20,F.buffer.twips[F.fPos+2]/20);break;case 6:e.advance(),e.prev=6;var B=e;this.drawArc(B.buffer.twips[B.fPos]/20,B.buffer.twips[B.fPos+1]/20,B.buffer.twips[B.fPos+2]/20,B.buffer.twips[B.fPos+3]/20,B.buffer.twips[B.fPos+4]/20);break;case 7:e.advance(),e.prev=7;var L=e;this.drawEllipse(L.buffer.twips[L.fPos]/20,L.buffer.twips[L.fPos+1]/20,L.buffer.twips[L.fPos+2]/20,L.buffer.twips[L.fPos+3]/20);break;case 8:e.advance(),e.prev=8;var N=e,O=N.buffer.bd,U=N.bdPos,z=N.buffer.m,G=N.mPos,X=N.buffer.b,V=N.bPos;this.drawImage(U>=O._length?null:O._items[U],G>=z._length?null:z._items[G],V>=X._length?null:X._items[V]);break;case 9:e.advance(),e.prev=9;var H=e,Y=H.buffer.vi,W=H.viPos,j=H.buffer.vf,K=H.vfPos,q=H.buffer.i,J=H.iPos;this.drawPath(W>=Y._length?null:Y._items[W],K>=j._length?null:j._items[K],J>=q._length?null:q._items[J]);break;case 10:e.advance(),e.prev=10;var Z=e;this.drawRect(Z.buffer.twips[Z.fPos]/20,Z.buffer.twips[Z.fPos+1]/20,Z.buffer.twips[Z.fPos+2]/20,Z.buffer.twips[Z.fPos+3]/20);break;case 11:e.advance(),e.prev=11;var Q=e;this.drawRoundRect(Q.buffer.twips[Q.fPos]/20,Q.buffer.twips[Q.fPos+1]/20,Q.buffer.twips[Q.fPos+2]/20,Q.buffer.twips[Q.fPos+3]/20,Q.buffer.twips[Q.fPos+4]/20,Q.buffer.twips[Q.fPos+5]/20);break;case 13:e.advance(),e.prev=13;var $=e,tt=$.buffer.vf,et=$.vfPos,it=$.buffer.vi,st=$.viPos+1,nt=$.buffer.vf,at=$.vfPos+2,rt=$.buffer.i,ot=$.iPos+3;this.drawTriangles(et>=tt._length?null:tt._items[et],st>=it._length?null:it._items[st],at>=nt._length?null:nt._items[at],ot>=rt._length?null:rt._items[ot]);break;case 14:e.advance(),e.prev=14;this.endFill();break;case 15:e.advance(),e.prev=15;var ht=e,_t=ht.buffer.bd,lt=ht.bdPos,ut=ht.buffer.m,ct=ht.mPos,ft=ht.buffer.b,dt=ht.bPos,pt=ht.buffer.b,gt=ht.bPos+1;this.lineBitmapStyle(lt>=_t._length?null:_t._items[lt],ct>=ut._length?null:ut._items[ct],dt>=ft._length?null:ft._items[dt],gt>=pt._length?null:pt._items[gt]);break;case 16:e.advance(),e.prev=16;var mt=e,vt=mt.buffer.i,bt=mt.iPos,yt=mt.buffer.ii,wt=mt.iiPos,xt=mt.buffer.ff,Tt=mt.ffPos,St=mt.buffer.ii,Ct=mt.iiPos+1,Et=mt.buffer.m,It=mt.mPos,Pt=mt.buffer.i,kt=mt.iPos+1,Dt=mt.buffer.i,At=mt.iPos+2;this.lineGradientStyle(bt>=vt._length?null:vt._items[bt],wt>=yt._length?null:yt._items[wt],Tt>=xt._length?null:xt._items[Tt],Ct>=St._length?null:St._items[Ct],It>=Et._length?null:Et._items[It],kt>=Pt._length?null:Pt._items[kt],At>=Dt._length?null:Dt._items[At],mt.buffer.twips[mt.fPos]/20);break;case 17:e.advance(),e.prev=17;var Mt=e,Rt=Mt.buffer.i,Ft=Mt.iPos,Bt=Mt.buffer.b,Lt=Mt.bPos,Nt=Mt.buffer.i,Ot=Mt.iPos+1,Ut=Mt.buffer.i,zt=Mt.iPos+2,Gt=Mt.buffer.i,Xt=Mt.iPos+3;this.lineStyle(Mt.buffer.twips[Mt.fPos]/20,Ft>=Rt._length?null:Rt._items[Ft],Mt.buffer.clampedFloats[Mt.cfPos]/255,Lt>=Bt._length?null:Bt._items[Lt],Ot>=Nt._length?null:Nt._items[Ot],zt>=Ut._length?null:Ut._items[zt],Xt>=Gt._length?null:Gt._items[Xt],Mt.buffer.twips[Mt.fPos+1]/20);break;case 18:e.advance(),e.prev=18;var Vt=e;this.lineTo(Vt.buffer.twips[Vt.fPos]/20,Vt.buffer.twips[Vt.fPos+1]/20);break;case 19:e.advance(),e.prev=19;var Ht=e;this.moveTo(Ht.buffer.twips[Ht.fPos]/20,Ht.buffer.twips[Ht.fPos+1]/20);break;case 20:e.advance(),e.prev=20;var Yt=e,Wt=Yt.buffer.m,jt=Yt.mPos;this.overrideMatrix(jt>=Wt._length?null:Wt._items[jt])}}return e.destroy(),t},beginBitmapFill:function(t,e,i,s){var n=this.types;n._items[n._length++]=0;var a=this.bd;a._items[a._length++]=t;var r=this.m;r._items[r._length++]=e;var o=this.b;o._items[o._length++]=i;var h=this.b;h._items[h._length++]=s},beginBitmapFillWithId:function(t,e,i,s){var n=this.types;n._items[n._length++]=0;var a=this.bd_ids;a._items[a._length++]=t;var r=this.m;r._items[r._length++]=e;var o=this.b;o._items[o._length++]=i;var h=this.b;h._items[h._length++]=s},beginFill:function(t,e){var i=this.types;i._items[i._length++]=1;var s=this.i;s._items[s._length++]=t;var n=this.cf;n._items[n._length++]=255*e|0},beginGradientFill:function(t,e,i,s,n,a,r,o){var h=this.types;h._items[h._length++]=2;var _=this.i;_._items[_._length++]=t;var l=this.ii;l._items[l._length++]=e;var u=this.ff;u._items[u._length++]=i;var c=this.ii;c._items[c._length++]=s;var f=this.m;f._items[f._length++]=n;var d=this.i;d._items[d._length++]=a;var p=this.i;p._items[p._length++]=r;var g=this.t;g._items[g._length++]=20*o|0},clear:function(){for(var t=this.types,e=0,i=t._length;e<i;){var s=e++;t._items[s]=null}t._length=0;for(var n=this.b,a=0,r=n._length;a<r;){var o=a++;n._items[o]=null}n._length=0;for(var h=this.i,_=0,l=h._length;_<l;){var u=_++;h._items[u]=null}h._length=0;for(var c=this.t,f=0,d=c._length;f<d;){var p=f++;c._items[p]=null}c._length=0;for(var g=this.m,m=0,v=g._length;m<v;){var b=m++;g._items[b]=null}g._length=0;for(var y=this.vi,w=0,x=y._length;w<x;){var T=w++;y._items[T]=null}y._length=0;for(var S=this.vf,C=0,E=S._length;C<E;){var I=C++;S._items[I]=null}S._length=0;for(var P=this.bd_ids,k=0,D=P._length;k<D;){var A=k++;P._items[A]=null}P._length=0;for(var M=this.ff,R=0,F=M._length;R<F;){var B=R++;M._items[B]=null}M._length=0;for(var L=this.ii,N=0,O=L._length;N<O;){var U=N++;L._items[U]=null}L._length=0;for(var z=this.bd,G=0,X=z._length;G<X;){var V=G++;z._items[V]=null}z._length=0;for(var H=this.cf,Y=0,W=H._length;Y<W;){var j=Y++;H._items[j]=null}H._length=0,this.drawCommandTypes=null,this.floats=null,this.clampedFloats=null,this.twips=null},copy:function(){var t=new go;return t.append(this),t},cubicCurveTo:function(t,e,i,s,n,a){var r=this.types;r._items[r._length++]=3;var o=this.t;o._items[o._length++]=20*t|0;var h=this.t;h._items[h._length++]=20*e|0;var _=this.t;_._items[_._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*s|0;var u=this.t;u._items[u._length++]=20*n|0;var c=this.t;c._items[c._length++]=20*a|0},curveTo:function(t,e,i,s){var n=this.types;n._items[n._length++]=4;var a=this.t;a._items[a._length++]=20*t|0;var r=this.t;r._items[r._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var h=this.t;h._items[h._length++]=20*s|0},destroy:function(){this.clear(),this.types=null,this.b=null,this.i=null,this.t=null,this.ff=null,this.ii=null,this.m=null,this.vf=null,this.vi=null,this.bd_ids=null},drawCircle:function(t,e,i){var s=this.types;s._items[s._length++]=5;var n=this.t;n._items[n._length++]=20*t|0;var a=this.t;a._items[a._length++]=20*e|0;var r=this.t;r._items[r._length++]=20*i|0},drawArc:function(t,e,i,s,n){var a=this.types;a._items[a._length++]=6;var r=this.t;r._items[r._length++]=20*t|0;var o=this.t;o._items[o._length++]=20*e|0;var h=this.t;h._items[h._length++]=20*i|0;var _=this.t;_._items[_._length++]=20*s|0;var l=this.t;l._items[l._length++]=20*n|0},drawEllipse:function(t,e,i,s){var n=this.types;n._items[n._length++]=7;var a=this.t;a._items[a._length++]=20*t|0;var r=this.t;r._items[r._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var h=this.t;h._items[h._length++]=20*s|0},drawImage:function(t,e,i){var s=this.types;s._items[s._length++]=8;var n=this.bd;n._items[n._length++]=t;var a=this.m;a._items[a._length++]=e;var r=this.b;r._items[r._length++]=i},drawImageWithId:function(t,e,i){var s=this.types;s._items[s._length++]=8;var n=this.bd_ids;n._items[n._length++]=t;var a=this.m;a._items[a._length++]=e;var r=this.b;r._items[r._length++]=i},drawPath:function(t,e,i){throw new qn("Unsupported drawPath")},drawRect:function(t,e,i,s){var n=this.types;n._items[n._length++]=10;var a=this.t;a._items[a._length++]=20*t|0;var r=this.t;r._items[r._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var h=this.t;h._items[h._length++]=20*s|0},drawRoundRect:function(t,e,i,s,n,a){var r=this.types;r._items[r._length++]=11;var o=this.t;o._items[o._length++]=20*t|0;var h=this.t;h._items[h._length++]=20*e|0;var _=this.t;_._items[_._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*s|0;var u=this.t;u._items[u._length++]=20*n|0;var c=this.t;c._items[c._length++]=20*a|0},drawTriangles:function(t,e,i,s){throw new qn("Unsupported drawTriangles")},endFill:function(){var t=this.types;t._items[t._length++]=14},lineBitmapStyle:function(t,e,i,s){var n=this.types;n._items[n._length++]=15;var a=this.bd;a._items[a._length++]=t;var r=this.m;r._items[r._length++]=e;var o=this.b;o._items[o._length++]=i;var h=this.b;h._items[h._length++]=s},lineBitmapStyleWithId:function(t,e,i,s){var n=this.types;n._items[n._length++]=15;var a=this.bd_ids;a._items[a._length++]=t;var r=this.m;r._items[r._length++]=e;var o=this.b;o._items[o._length++]=i;var h=this.b;h._items[h._length++]=s},lineGradientStyle:function(t,e,i,s,n,a,r,o){var h=this.types;h._items[h._length++]=16;var _=this.i;_._items[_._length++]=t;var l=this.ii;l._items[l._length++]=e;var u=this.ff;u._items[u._length++]=i;var c=this.ii;c._items[c._length++]=s;var f=this.m;f._items[f._length++]=n;var d=this.i;d._items[d._length++]=a;var p=this.i;p._items[p._length++]=r;var g=this.t;g._items[g._length++]=20*o|0},lineStyle:function(t,e,i,s,n,a,r,o){var h=this.types;h._items[h._length++]=17;var _=this.t;_._items[_._length++]=20*(null==t?-1:t)|0;var l=this.i;l._items[l._length++]=e;var u=this.cf;u._items[u._length++]=255*i|0;var c=this.b;c._items[c._length++]=s;var f=this.i;f._items[f._length++]=n,null==a&&(a=1);var d=this.i;d._items[d._length++]=a,null==r&&(r=2);var p=this.i;p._items[p._length++]=r;var g=this.t;g._items[g._length++]=20*o|0},lineTo:function(t,e){var i=this.types;i._items[i._length++]=18;var s=this.t;s._items[s._length++]=20*t|0;var n=this.t;n._items[n._length++]=20*e|0},moveTo:function(t,e){var i=this.types;i._items[i._length++]=19;var s=this.t;s._items[s._length++]=20*t|0;var n=this.t;n._items[n._length++]=20*e|0},overrideMatrix:function(t){var e=this.types;e._items[e._length++]=20;var i=this.m;i._items[i._length++]=t},get_length:function(){return this.validate(),this.drawCommandTypes.length},resolveBitmapDatas:function(t){var e=new zt;e._items=[],e._length=e._items.length,this.bd=e;for(var i=0,s=this.bd_ids._length;i<s;){var n=i++,a=this.bd_ids,r=t.symbols.h[n>=a._length?null:a._items[n]];if(null!=r){var o=this.bd,h=mh.getFromSymbol(r);o._items[o._length++]=h}else{var _=this.bd;_._items[_._length++]=null}}},validate:function(){null==this.drawCommandTypes&&(this.drawCommandTypes=Fn.fromArray(this.types._items),this.clampedFloats=Fn.fromArray(this.cf._items),this.twips=An.fromArray(this.t._items))},needsHighPrecision:function(){for(var t=0,e=this.twips.length;t<e;){var i=t++;if(this.twips[i]<-32768||32767<this.twips[i])return!0}return!1},customSerialize:function(t){this.validate();var e=tn.ofData(this.drawCommandTypes.buffer);if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=t.out,n=(s.b,e.b),a=0,r=e.length;a<r;){var o=a++;s.b.push(n[o])}}var h=this.b._items;if(null==h)t.out.b.push(0);else{var _=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var l=0;l<h.length;){var u=h[l];++l,t.out.b.push(u?1:0)}}var c=this.i._items;if(null==c)t.out.b.push(0);else{var f=c.length+1;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f));for(var d=0;d<c.length;){var p=c[d];++d,0<=p&&p<128?t.out.b.push(p):(t.out.b.push(128),t.out.addInt32(p))}}if(this.needsHighPrecision()){t.out.b.push(1);var g=tn.ofData(this.twips.buffer);if(null==g)t.out.b.push(0);else{var m=g.length+1;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m));for(var v=t.out,b=(v.b,g.b),y=0,w=g.length;y<w;){var x=y++;v.b.push(b[x])}}}else{t.out.b.push(0);for(var T=new Uint16Array(this.twips.length),S=0,C=this.twips.length;S<C;){var E=S++;T[E]=this.twips[E]+32768&65535}var I=tn.ofData(T.buffer);if(null==I)t.out.b.push(0);else{var P=I.length+1;0<=P&&P<128?t.out.b.push(P):(t.out.b.push(128),t.out.addInt32(P));for(var k=t.out,D=(k.b,I.b),A=0,M=I.length;A<M;){var R=A++;k.b.push(D[R])}}}var F=this.ff._items;if(null==F)t.out.b.push(0);else{var B=F.length+1;0<=B&&B<128?t.out.b.push(B):(t.out.b.push(128),t.out.addInt32(B));for(var L=0;L<F.length;){var N=F[L];if(++L,null==N)t.out.b.push(0);else{var O=N.length+1;0<=O&&O<128?t.out.b.push(O):(t.out.b.push(128),t.out.addInt32(O));for(var U=0;U<N.length;){var z=N[U];++U,t.out.addInt32(Dn.floatToI32(z))}}}}var G=this.ii._items;if(null==G)t.out.b.push(0);else{var X=G.length+1;0<=X&&X<128?t.out.b.push(X):(t.out.b.push(128),t.out.addInt32(X));for(var V=0;V<G.length;){var H=G[V];if(++V,null==H)t.out.b.push(0);else{var Y=H.length+1;0<=Y&&Y<128?t.out.b.push(Y):(t.out.b.push(128),t.out.addInt32(Y));for(var W=0;W<H.length;){var j=H[W];++W,0<=j&&j<128?t.out.b.push(j):(t.out.b.push(128),t.out.addInt32(j))}}}}var K=this.m._items;if(null==K)t.out.b.push(0);else{var q=K.length+1;0<=q&&q<128?t.out.b.push(q):(t.out.b.push(128),t.out.addInt32(q));for(var J=0;J<K.length;){var Z=K[J];++J,t.out.addInt32(Dn.floatToI32(Z.a)),t.out.addInt32(Dn.floatToI32(Z.b)),t.out.addInt32(Dn.floatToI32(Z.c)),t.out.addInt32(Dn.floatToI32(Z.d)),t.out.addInt32(Dn.floatToI32(Z.tx)),t.out.addInt32(Dn.floatToI32(Z.ty))}}var Q=this.bd_ids._items;if(null==Q)t.out.b.push(0);else{var $=Q.length+1;0<=$&&$<128?t.out.b.push($):(t.out.b.push(128),t.out.addInt32($));for(var tt=0;tt<Q.length;){var et=Q[tt];++tt,0<=et&&et<128?t.out.b.push(et):(t.out.b.push(128),t.out.addInt32(et))}}var it=tn.ofData(this.clampedFloats.buffer);if(null==it)t.out.b.push(0);else{var st=it.length+1;0<=st&&st<128?t.out.b.push(st):(t.out.b.push(128),t.out.addInt32(st));for(var nt=t.out,at=(nt.b,it.b),rt=0,ot=it.length;rt<ot;){var ht=rt++;nt.b.push(at[ht])}}},customUnserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,s=e;if(0==s)i=null;else{--s;var n=t.input.sub(t.inPos,s);t.inPos+=s,i=n}this.drawCommandTypes=Fn.fromBytes(i);var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4);var r,o=a;if(0==o)r=null;else{for(var h=[],_=0,l=--o;_<l;){h[_++]=0!=t.input.b[t.inPos++]}r=h}var u=new zt;u._items=null!=r?r:[],u._length=u._items.length,this.b=u;var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{for(var p=[],g=0,m=--d;g<m;){var v=g++,b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),p[v]=b}f=p}var y=new zt;if(y._items=null!=f?f:[],y._length=y._items.length,this.i=y,0!=t.input.b[t.inPos++]){var w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x,T=w;if(0==T)x=null;else{--T;var S=t.input.sub(t.inPos,T);t.inPos+=T,x=S}this.twips=An.fromBytes(x)}else{var C=t.input.b[t.inPos++];128==C&&(C=t.input.getInt32(t.inPos),t.inPos+=4);var E,I=C;if(0==I)E=null;else{--I;var P=t.input.sub(t.inPos,I);t.inPos+=I,E=P}var k=Rn.fromBytes(E),D=new Int32Array(k.length);this.twips=D;for(var A=0,M=this.twips.length;A<M;){var R=A++;this.twips[R]=k[R]-32768|0}}var F=t.input.b[t.inPos++];128==F&&(F=t.input.getInt32(t.inPos),t.inPos+=4);var B,L=F;if(0==L)B=null;else{for(var N=[],O=0,U=--L;O<U;){var z=O++,G=t.input.b[t.inPos++];128==G&&(G=t.input.getInt32(t.inPos),t.inPos+=4);var X,V=G;if(0==V)X=null;else{for(var H=[],Y=0,W=--V;Y<W;){var j=Y++,K=t.input.getFloat(t.inPos);t.inPos+=4,H[j]=K}X=H}N[z]=X}B=N}var q=new zt;q._items=null!=B?B:[],q._length=q._items.length,this.ff=q;var J=t.input.b[t.inPos++];128==J&&(J=t.input.getInt32(t.inPos),t.inPos+=4);var Z,Q=J;if(0==Q)Z=null;else{for(var $=[],tt=0,et=--Q;tt<et;){var it=tt++,st=t.input.b[t.inPos++];128==st&&(st=t.input.getInt32(t.inPos),t.inPos+=4);var nt,at=st;if(0==at)nt=null;else{for(var rt=[],ot=0,ht=--at;ot<ht;){var _t=ot++,lt=t.input.b[t.inPos++];128==lt&&(lt=t.input.getInt32(t.inPos),t.inPos+=4),rt[_t]=lt}nt=rt}$[it]=nt}Z=$}var ut=new zt;ut._items=null!=Z?Z:[],ut._length=ut._items.length,this.ii=ut;var ct=t.input.b[t.inPos++];128==ct&&(ct=t.input.getInt32(t.inPos),t.inPos+=4);var ft,dt=ct;if(0==dt)ft=null;else{for(var pt=[],gt=0,mt=--dt;gt<mt;){var vt=gt++,bt=new ho,yt=t.input.getFloat(t.inPos);t.inPos+=4,bt.a=yt;var wt=t.input.getFloat(t.inPos);t.inPos+=4,bt.b=wt;var xt=t.input.getFloat(t.inPos);t.inPos+=4,bt.c=xt;var Tt=t.input.getFloat(t.inPos);t.inPos+=4,bt.d=Tt;var St=t.input.getFloat(t.inPos);t.inPos+=4,bt.tx=St;var Ct=t.input.getFloat(t.inPos);t.inPos+=4,bt.ty=Ct,pt[vt]=bt}ft=pt}var Et=new zt;Et._items=null!=ft?ft:[],Et._length=Et._items.length,this.m=Et;var It=t.input.b[t.inPos++];128==It&&(It=t.input.getInt32(t.inPos),t.inPos+=4);var Pt,kt=It;if(0==kt)Pt=null;else{for(var Dt=[],At=0,Mt=--kt;At<Mt;){var Rt=At++,Ft=t.input.b[t.inPos++];128==Ft&&(Ft=t.input.getInt32(t.inPos),t.inPos+=4),Dt[Rt]=Ft}Pt=Dt}var Bt=new zt;Bt._items=null!=Pt?Pt:[],Bt._length=Bt._items.length,this.bd_ids=Bt;var Lt=t.input.b[t.inPos++];128==Lt&&(Lt=t.input.getInt32(t.inPos),t.inPos+=4);var Nt,Ot=Lt;if(0==Ot)Nt=null;else{--Ot;var Ut=t.input.sub(t.inPos,Ot);t.inPos+=Ot,Nt=Ut}this.clampedFloats=Fn.fromBytes(Nt)},getCLID:function(){return go.__clid},serialize:function(t){this.customSerialize(t)},getSerializeSchema:function(){var t=new Hn;return t.isFinal=at.isClassFinal(go.__clid),t},unserializeInit:function(){var t=new zt;t._items=[],t._length=t._items.length,this.types=t;var e=new zt;e._items=[],e._length=e._items.length,this.b=e;var i=new zt;i._items=[],i._length=i._items.length,this.t=i;var s=new zt;s._items=[],s._length=s._items.length,this.ff=s;var n=new zt;n._items=[],n._length=n._items.length,this.i=n;var a=new zt;a._items=[],a._length=a._items.length,this.ii=a;var r=new zt;r._items=[],r._length=r._items.length,this.m=r;var o=new zt;o._items=[],o._length=o._items.length,this.vf=o;var h=new zt;h._items=[],h._length=h._items.length,this.vi=h;var _=new zt;_._items=[],_._length=_._items.length,this.bd_ids=_;var l=new zt;l._items=[],l._length=l._items.length,this.bd=l;var u=new zt;u._items=[],u._length=u._items.length,this.cf=u},unserialize:function(t){this.customUnserialize(t)},__class__:go,__properties__:{get_length:"get_length"}};var mo=function(t){this.reset(t)};(i["openfl._internal.renderer.DrawCommandReader"]=mo).__name__=["openfl","_internal","renderer","DrawCommandReader"],mo.prototype={endCheck:function(){this.advance()},advance:function(){switch(this.prev){case 0:this.bdPos+=1,this.mPos+=1,this.bPos+=2;break;case 1:this.iPos+=1,this.cfPos+=1;break;case 2:this.mPos+=1,this.iiPos+=2,this.ffPos+=1,this.fPos+=1,this.iPos+=3;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=5;break;case 7:this.fPos+=4;break;case 8:this.bdPos+=1,this.mPos+=1,this.bPos+=1;break;case 9:this.viPos+=1,this.vfPos+=1,this.iPos+=1;break;case 10:this.fPos+=4;break;case 11:this.fPos+=6;break;case 12:throw new qn("Unsupported DRAW_TILES");case 13:this.vfPos+=2,this.viPos+=1,this.iPos+=1;break;case 14:break;case 15:this.bdPos+=1,this.mPos+=1,this.bPos+=2;break;case 16:this.mPos+=1,this.iiPos+=2,this.ffPos+=1,this.fPos+=1,this.iPos+=3;break;case 17:this.iPos+=4,this.fPos+=2,this.cfPos+=1,this.bPos+=1;break;case 18:case 19:this.fPos+=2;break;case 20:this.mPos+=1}},destroy:function(){this.buffer=null,this.reset()},bool:function(t){var e=this.buffer.b,i=this.bPos+t;return i>=e._length?null:e._items[i]},fArr:function(t){var e=this.buffer.ff,i=this.ffPos+t;return i>=e._length?null:e._items[i]},float:function(t){return this.buffer.twips[this.fPos+t]/20},clampedFloat:function(t){return this.buffer.clampedFloats[this.cfPos+t]/255},iArr:function(t){var e=this.buffer.ii,i=this.iiPos+t;return i>=e._length?null:e._items[i]},int:function(t){var e=this.buffer.i,i=this.iPos+t;return i>=e._length?null:e._items[i]},matrix:function(t){var e=this.buffer.m,i=this.mPos+t;return i>=e._length?null:e._items[i]},iVec:function(t){var e=this.buffer.vi,i=this.viPos+t;return i>=e._length?null:e._items[i]},fVec:function(t){var e=this.buffer.vf,i=this.vfPos+t;return i>=e._length?null:e._items[i]},bitmapData:function(t){var e=this.buffer.bd,i=this.bdPos+t;return i>=e._length?null:e._items[i]},readBeginBitmapFill:function(){this.advance(),this.prev=0;return this},readBeginFill:function(){this.advance(),this.prev=1;return this},readBeginGradientFill:function(){this.advance(),this.prev=2;return this},readCubicCurveTo:function(){this.advance(),this.prev=3;return this},readCurveTo:function(){this.advance(),this.prev=4;return this},readDrawCircle:function(){this.advance(),this.prev=5;return this},readDrawArc:function(){this.advance(),this.prev=6;return this},readDrawEllipse:function(){this.advance(),this.prev=7;return this},readDrawImage:function(){this.advance(),this.prev=8;return this},readDrawPath:function(){this.advance(),this.prev=9;return this},readDrawRect:function(){this.advance(),this.prev=10;return this},readDrawRoundRect:function(){this.advance(),this.prev=11;return this},readDrawTriangles:function(){this.advance(),this.prev=13;return this},readEndFill:function(){this.advance(),this.prev=14;return this},readLineBitmapStyle:function(){this.advance(),this.prev=15;return this},readLineGradientStyle:function(){this.advance(),this.prev=16;return this},readLineStyle:function(){this.advance(),this.prev=17;return this},readLineTo:function(){this.advance(),this.prev=18;return this},readMoveTo:function(){this.advance(),this.prev=19;return this},readOverrideMatrix:function(){this.advance(),this.prev=20;return this},reset:function(t){this.buffer=t,this.bPos=this.iPos=this.fPos=this.mPos=this.viPos=this.vfPos=this.ffPos=this.iiPos=this.bdPos=this.cfPos=0,this.prev=21,null!=t&&t.validate()},skip:function(t){this.advance(),this.prev=t},__class__:mo};var vo={};(i["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=vo).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"],vo.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},vo._new=function(t){return t},vo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},vo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},vo.get_repeat=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},vo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos+1;return i>=e._length?null:e._items[i]};var bo={};(i["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=bo).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"],bo.__properties__={get_alpha:"get_alpha",get_color:"get_color"},bo._new=function(t){return t},bo.get_color=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},bo.get_alpha=function(t){return t.buffer.clampedFloats[t.cfPos]/255};var yo={};(i["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=yo).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"],yo.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},yo._new=function(t){return t},yo.get_type=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},yo.get_colors=function(t){var e=t.buffer.ii,i=t.iiPos;return i>=e._length?null:e._items[i]},yo.get_alphas=function(t){var e=t.buffer.ff,i=t.ffPos;return i>=e._length?null:e._items[i]},yo.get_ratios=function(t){var e=t.buffer.ii,i=t.iiPos+1;return i>=e._length?null:e._items[i]},yo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},yo.get_spreadMethod=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},yo.get_interpolationMethod=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},yo.get_focalPointRatio=function(t){return t.buffer.twips[t.fPos]/20};var wo={};(i["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=wo).__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"],wo.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"},wo._new=function(t){return t},wo.get_controlX1=function(t){return t.buffer.twips[t.fPos]/20},wo.get_controlY1=function(t){return t.buffer.twips[t.fPos+1]/20},wo.get_controlX2=function(t){return t.buffer.twips[t.fPos+2]/20},wo.get_controlY2=function(t){return t.buffer.twips[t.fPos+3]/20},wo.get_anchorX=function(t){return t.buffer.twips[t.fPos+4]/20},wo.get_anchorY=function(t){return t.buffer.twips[t.fPos+5]/20};var xo={};(i["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=xo).__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"],xo.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"},xo._new=function(t){return t},xo.get_controlX=function(t){return t.buffer.twips[t.fPos]/20},xo.get_controlY=function(t){return t.buffer.twips[t.fPos+1]/20},xo.get_anchorX=function(t){return t.buffer.twips[t.fPos+2]/20},xo.get_anchorY=function(t){return t.buffer.twips[t.fPos+3]/20};var To={};(i["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=To).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"],To.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},To._new=function(t){return t},To.get_x=function(t){return t.buffer.twips[t.fPos]/20},To.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},To.get_radius=function(t){return t.buffer.twips[t.fPos+2]/20};var So={};(i["openfl._internal.renderer._DrawCommandReader.DrawArcView_Impl_"]=So).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawArcView_Impl_"],So.__properties__={get_endAngle:"get_endAngle",get_startAngle:"get_startAngle",get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},So._new=function(t){return t},So.get_x=function(t){return t.buffer.twips[t.fPos]/20},So.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},So.get_radius=function(t){return t.buffer.twips[t.fPos+2]/20},So.get_startAngle=function(t){return t.buffer.twips[t.fPos+3]/20},So.get_endAngle=function(t){return t.buffer.twips[t.fPos+4]/20};var Co={};(i["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=Co).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"],Co.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},Co._new=function(t){return t},Co.get_x=function(t){return t.buffer.twips[t.fPos]/20},Co.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},Co.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},Co.get_height=function(t){return t.buffer.twips[t.fPos+3]/20};var Eo={};(i["openfl._internal.renderer._DrawCommandReader.DrawImageView_Impl_"]=Eo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawImageView_Impl_"],Eo.__properties__={get_smooth:"get_smooth",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},Eo._new=function(t){return t},Eo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},Eo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},Eo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]};var Io={};(i["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=Io).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawPathView_Impl_"],Io.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"},Io._new=function(t){return t},Io.get_commands=function(t){var e=t.buffer.vi,i=t.viPos;return i>=e._length?null:e._items[i]},Io.get_data=function(t){var e=t.buffer.vf,i=t.vfPos;return i>=e._length?null:e._items[i]},Io.get_winding=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]};var Po={};(i["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=Po).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"],Po.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},Po._new=function(t){return t},Po.get_x=function(t){return t.buffer.twips[t.fPos]/20},Po.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},Po.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},Po.get_height=function(t){return t.buffer.twips[t.fPos+3]/20};var ko={};(i["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=ko).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"],ko.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},ko._new=function(t){return t},ko.get_x=function(t){return t.buffer.twips[t.fPos]/20},ko.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},ko.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},ko.get_height=function(t){return t.buffer.twips[t.fPos+3]/20},ko.get_ellipseWidth=function(t){return t.buffer.twips[t.fPos+4]/20},ko.get_ellipseHeight=function(t){return t.buffer.twips[t.fPos+5]/20};var Do={};(i["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Do).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"],Do.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"},Do._new=function(t){return t},Do.get_vertices=function(t){var e=t.buffer.vf,i=t.vfPos;return i>=e._length?null:e._items[i]},Do.get_indices=function(t){var e=t.buffer.vi,i=t.viPos+1;return i>=e._length?null:e._items[i]},Do.get_uvtData=function(t){var e=t.buffer.vf,i=t.vfPos+2;return i>=e._length?null:e._items[i]},Do.get_culling=function(t){var e=t.buffer.i,i=t.iPos+3;return i>=e._length?null:e._items[i]};var Ao={};(i["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=Ao).__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"],Ao._new=function(t){return t};var Mo={};(i["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=Mo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"],Mo.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},Mo._new=function(t){return t},Mo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},Mo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},Mo.get_repeat=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},Mo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos+1;return i>=e._length?null:e._items[i]};var Ro={};(i["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=Ro).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"],Ro.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},Ro._new=function(t){return t},Ro.get_type=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},Ro.get_colors=function(t){var e=t.buffer.ii,i=t.iiPos;return i>=e._length?null:e._items[i]},Ro.get_alphas=function(t){var e=t.buffer.ff,i=t.ffPos;return i>=e._length?null:e._items[i]},Ro.get_ratios=function(t){var e=t.buffer.ii,i=t.iiPos+1;return i>=e._length?null:e._items[i]},Ro.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},Ro.get_spreadMethod=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},Ro.get_interpolationMethod=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},Ro.get_focalPointRatio=function(t){return t.buffer.twips[t.fPos]/20};var Fo={};(i["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=Fo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"],Fo.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"},Fo._new=function(t){return t},Fo.get_thickness=function(t){return t.buffer.twips[t.fPos]/20},Fo.get_color=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},Fo.get_alpha=function(t){return t.buffer.clampedFloats[t.cfPos]/255},Fo.get_pixelHinting=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},Fo.get_scaleMode=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},Fo.get_caps=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},Fo.get_joints=function(t){var e=t.buffer.i,i=t.iPos+3;return i>=e._length?null:e._items[i]},Fo.get_miterLimit=function(t){return t.buffer.twips[t.fPos+1]/20};var Bo={};(i["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=Bo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"],Bo.__properties__={get_y:"get_y",get_x:"get_x"},Bo._new=function(t){return t},Bo.get_x=function(t){return t.buffer.twips[t.fPos]/20},Bo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20};var Lo={};(i["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=Lo).__name__=["openfl","_internal","renderer","_DrawCommandReader","MoveToView_Impl_"],Lo.__properties__={get_y:"get_y",get_x:"get_x"},Lo._new=function(t){return t},Lo.get_x=function(t){return t.buffer.twips[t.fPos]/20},Lo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20};var No={};(i["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=No).__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"],No.__properties__={get_matrix:"get_matrix"},No._new=function(t){return t},No.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]};function Oo(){}(i["openfl._internal.renderer.DrawCommandType"]=Oo).__name__=["openfl","_internal","renderer","DrawCommandType"];function Uo(){this.activeTextures=0;var t=new zt;t._items=[],t._length=t._items.length,this.renderTargetBaseTransformStack=t,this.pushRenderTargetBaseTransform(null,null)}(i["openfl._internal.renderer.RenderSession"]=Uo).__name__=["openfl","_internal","renderer","RenderSession"],Uo.prototype={pushRenderTargetBaseTransform:function(t,e){var i=ho.pool.get(),s=Dt.field(t,"__renderTransform");null!=s?(i.copyFrom(s),i.invert()):i.identity(),null!=e&&i.concat(e);var n=this.renderTargetBaseTransformStack;n._items[n._length++]=i},popRenderTargetBaseTransform:function(){var t=this.renderTargetBaseTransformStack,e=t._items[--t._length];t._items[t._length]=null;var i=e;ho.pool.put(i)},getRenderTargetBaseTransform:function(){var t=this.renderTargetBaseTransformStack;return t._items[t._length-1]},get_usesMainSpriteBatch:function(){var t=this.renderer;return this.spriteBatch==t.mainSpriteBatch},__class__:Uo,__properties__:{get_usesMainSpriteBatch:"get_usesMainSpriteBatch"}};var zo=function(){};(i["openfl._internal.renderer.canvas.CanvasGraphics"]=zo).__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"],zo.hasFill=null,zo.hasStroke=null,zo.hitTesting=null,zo.inversePendingMatrix=null,zo.pendingMatrix=null,zo.context=null,zo.__hitTestContext=null,zo.__hitTestCanvas=null,zo.closePath=function(){var t=zo.context;null!=t.strokeStyle&&(t.closePath(),t.stroke(),t.beginPath())},zo.createBitmapFill=function(t,e){return t.get_bd().__sync(),0==t.get_src().width?null:zo.context.createPattern(t.get_src(),e?"repeat":"no-repeat")},zo.createGradientPattern=function(t,e,i,s,n,a,r,o){var h=null,_=zo.context;switch(0!=o&&(o=Math.min(Math.max(o,-1),1)),t){case 0:h=_.createLinearGradient(-819.2,0,819.2,0);break;case 1:h=_.createRadialGradient(819.2*o,0,0,0,0,819.2)}for(var l=0,u=e.length;l<u;){var c=l++,f=e[c],d=i[c],p=(16711680&f)>>>16,g=(65280&f)>>>8,m=255&f,v=s[c]/255;v<0&&(v=0),1<v&&(v=1),h.addColorStop(v,"rgba("+p+", "+g+", "+m+", "+d+")")}return h},zo.drawRoundRect=function(t,e,i,s,n,a){null==a&&(a=n),i/2<(n*=.5)&&(n=i/2),s/2<(a*=.5)&&(a=s/2);var r=t+i,o=e+s,h=-n+n*zo.SIN45,_=-n+n*zo.TAN22,l=-a+a*zo.SIN45,u=-a+a*zo.TAN22,c=zo.context;c.moveTo(r,o-a),c.quadraticCurveTo(r,o+u,r+h,o+l),c.quadraticCurveTo(r+_,o,r-n,o),c.lineTo(t+n,o),c.quadraticCurveTo(t-_,o,t-h,o+l),c.quadraticCurveTo(t,o+u,t,o-a),c.lineTo(t,e+a),c.quadraticCurveTo(t,e-u,t-h,e-l),c.quadraticCurveTo(t-_,e,t+n,e),c.lineTo(r-n,e),c.quadraticCurveTo(r+_,e,r+h,e-l),c.quadraticCurveTo(r,e-u,r,e+a),c.lineTo(r,o-a)},zo.beginRenderStep=function(){zo.context.beginPath(),zo.positionX=0,zo.positionY=0,zo.closeGap=!1,zo.startX=0,zo.startY=0,zo.hasFill=!1,zo.hasStroke=!1},zo.resetFillStyle=function(){zo.hasFill=!1,zo.hasStroke=!1},zo.endRenderStep=function(){var t=zo;if(t.hasStroke||t.hasFill){if(t.hasStroke){zo.context.save();var e=t.pendingMatrix;null!=e&&e.a*e.d-e.c*e.b!=0&&(zo.snapCoordinates&&zo.context.setTransform(zo.currentTransform.a,zo.currentTransform.b,zo.currentTransform.c,zo.currentTransform.d,zo.currentTransform.tx,zo.currentTransform.ty),zo.context.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),null!=e&&e.a==e.d&&(zo.context.lineWidth=zo.context.lineWidth/e.a),t.hitTesting||zo.context.stroke(),zo.context.restore(),zo.context.closePath()}if(t.hasFill&&zo.closeGap?zo.context.lineTo(zo.startX,zo.startY):zo.closeGap&&zo.positionX==zo.startX&&zo.positionY==zo.startY&&zo.context.closePath(),t.hasFill){zo.context.save();var i=t.pendingMatrix;null!=i&&i.a*i.d-i.c*i.b!=0&&(zo.snapCoordinates&&zo.context.setTransform(zo.currentTransform.a,zo.currentTransform.b,zo.currentTransform.c,zo.currentTransform.d,zo.currentTransform.tx,zo.currentTransform.ty),zo.context.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)),t.hitTesting||zo.context.fill(t.canvasWindingRule),zo.context.restore(),zo.context.closePath()}t.pendingMatrix=null}},zo.hitTest=function(t,e,i){var s=t.__bounds,n=zo;if(null==t.__commands||0==t.__commands.get_length()||null==s||s.width<=0||s.height<=0)return!1;zo.hitTesting=!0,null==zo.__hitTestCanvas&&(zo.__hitTestCanvas=window.document.createElement("canvas"),zo.__hitTestCanvas.width=1024,zo.__hitTestCanvas.height=1024,zo.__hitTestContext=zo.__hitTestCanvas.getContext("2d")),zo.context=zo.__hitTestContext;var a=zo.__hitTestContext;a.setTransform(1,0,0,1,0,0),e*=1,i*=1,zo.beginRenderStep();var r=zo.drawCommandReaderPool.get();r.reset(t.__commands);for(var o=0,h=t.__commands.drawCommandTypes;o<h.length;){var _=h[o];switch(++o,_){case 0:case 1:case 2:if(zo.endRenderStep(),zo.hasFill&&a.isPointInPath(e,i,zo.canvasWindingRule))return zo.drawCommandReaderPool.put(r),!0;if(zo.hasStroke&&a.isPointInStroke(e,i))return zo.drawCommandReaderPool.put(r),!0;if(zo.beginRenderStep(),0==_){r.advance(),r.prev=0}else if(2==_){r.advance(),r.prev=2}else{r.advance(),r.prev=1}zo.hasFill=!0;break;case 3:r.advance(),r.prev=3;var l=r;zo.context.bezierCurveTo(l.buffer.twips[l.fPos]/20,l.buffer.twips[l.fPos+1]/20,l.buffer.twips[l.fPos+2]/20,l.buffer.twips[l.fPos+3]/20,l.buffer.twips[l.fPos+4]/20,l.buffer.twips[l.fPos+5]/20);break;case 4:r.advance(),r.prev=4;var u=r;zo.context.quadraticCurveTo(u.buffer.twips[u.fPos]/20,u.buffer.twips[u.fPos+1]/20,u.buffer.twips[u.fPos+2]/20,u.buffer.twips[u.fPos+3]/20);break;case 5:r.advance(),r.prev=5;var c=r;zo.context.moveTo(c.buffer.twips[c.fPos]/20,c.buffer.twips[c.fPos+1]/20),zo.context.arc(c.buffer.twips[c.fPos]/20,c.buffer.twips[c.fPos+1]/20,c.buffer.twips[c.fPos+2]/20,0,2*Math.PI,!0);break;case 6:r.advance(),r.prev=6;var f=r;zo.context.moveTo(f.buffer.twips[f.fPos]/20,f.buffer.twips[f.fPos+1]/20),zo.context.arc(f.buffer.twips[f.fPos]/20,f.buffer.twips[f.fPos+1]/20,f.buffer.twips[f.fPos+2]/20,f.buffer.twips[f.fPos+3]/20,f.buffer.twips[f.fPos+4]/20,!0);break;case 7:r.advance(),r.prev=7;var d=r,p=d.buffer.twips[d.fPos]/20,g=d.buffer.twips[d.fPos+1]/20,m=d.buffer.twips[d.fPos+2]/20,v=d.buffer.twips[d.fPos+3]/20,b=m/2*.5522848,y=v/2*.5522848,w=p+m,x=g+v,T=p+m/2,S=g+v/2;zo.context.moveTo(p,S),zo.context.bezierCurveTo(p,S-y,T-b,g,T,g),zo.context.bezierCurveTo(T+b,g,w,S-y,w,S),zo.context.bezierCurveTo(w,S+y,T+b,x,T,x),zo.context.bezierCurveTo(T-b,x,p,S+y,p,S);break;case 8:r.advance(),r.prev=8;var C=r;zo.context.save();var E=C.buffer.m,I=C.mPos,P=C.buffer.m,k=C.mPos,D=C.buffer.m,A=C.mPos,M=C.buffer.m,R=C.mPos,F=C.buffer.m,B=C.mPos,L=C.buffer.m,N=C.mPos;zo.context.transform((I>=E._length?null:E._items[I]).a,(k>=P._length?null:P._items[k]).b,(A>=D._length?null:D._items[A]).c,(R>=M._length?null:M._items[R]).d,(B>=F._length?null:F._items[B]).tx,(N>=L._length?null:L._items[N]).ty);var O=C.buffer.bd,U=C.bdPos;if(null!=(U>=O._length?null:O._items[U])&&!zo.hitTesting){var z=C.buffer.bd,G=C.bdPos,X=G>=z._length?null:z._items[G],V=X.get_uvData(),H=X.get_bd().get_image().get_src();if(null==V)zo.context.drawImage(H,0,0,1,1);else{var Y=H.width,W=H.height;zo.context.drawImage(H,V.x0*Y,V.y0*W,(V.x1-V.x0)*Y,(V.y2-V.y0)*W,0,0,1,1)}}else zo.context.rect(0,0,1,1);if(zo.context.restore(),a.isPointInPath(e,i,zo.canvasWindingRule))return zo.drawCommandReaderPool.put(r),!0;break;case 10:r.advance(),r.prev=10;var j=r;zo.context.rect(j.buffer.twips[j.fPos]/20,j.buffer.twips[j.fPos+1]/20,j.buffer.twips[j.fPos+2]/20,j.buffer.twips[j.fPos+3]/20);break;case 11:r.advance(),r.prev=11;var K=r;zo.drawRoundRect(K.buffer.twips[K.fPos]/20,K.buffer.twips[K.fPos+1]/20,K.buffer.twips[K.fPos+2]/20,K.buffer.twips[K.fPos+3]/20,K.buffer.twips[K.fPos+4]/20,K.buffer.twips[K.fPos+5]/20);break;case 14:r.advance(),r.prev=14;if(zo.endRenderStep(),n.hasFill&&a.isPointInPath(e,i,n.canvasWindingRule))return zo.drawCommandReaderPool.put(r),!0;if(n.hasStroke&&a.isPointInStroke(e,i))return zo.drawCommandReaderPool.put(r),!0;zo.beginRenderStep();break;case 15:r.advance(),r.prev=15;zo.hasStroke&&zo.closePath(),zo.context.moveTo(zo.positionX,zo.positionY),zo.context.strokeStyle="white",zo.hasStroke=!0;break;case 16:r.advance(),r.prev=16;var q=r;zo.hasStroke&&zo.closePath(),zo.context.moveTo(zo.positionX,zo.positionY),zo.context.strokeStyle="white";var J=q.buffer.m,Z=q.mPos;zo.pendingMatrix=Z>=J._length?null:J._items[Z],zo.hasStroke=!0;break;case 17:r.advance(),r.prev=17;var Q=r;if((zo.hasStroke||zo.hasFill)&&(zo.hitTesting?zo.context.closePath():(zo.hasStroke&&zo.context.stroke(),zo.context.closePath(),zo.hasFill&&zo.context.fill(zo.canvasWindingRule)),zo.context.beginPath()),zo.context.moveTo(zo.positionX,zo.positionY),Q.buffer.twips[Q.fPos]/20==null||Q.buffer.twips[Q.fPos]/20==-1)zo.hasStroke=!1;else{zo.context.lineWidth=0<Q.buffer.twips[Q.fPos]/20?Math.max(Q.buffer.twips[Q.fPos]/20,1):1;var $=Q.buffer.i,tt=Q.iPos+3;zo.context.lineJoin=zh.toString(tt>=$._length?null:$._items[tt]).toLowerCase();var et,it=Q.buffer.i,st=Q.iPos+2;if(0==(st>=it._length?null:it._items[st]))et="butt";else{var nt=Q.buffer.i,at=Q.iPos+2;et=bh.toString(at>=nt._length?null:nt._items[at]).toLowerCase()}zo.context.lineCap=et,zo.context.miterLimit=Q.buffer.twips[Q.fPos+1]/20,zo.context.strokeStyle="white",zo.hasStroke=0<Q.buffer.clampedFloats[Q.cfPos]/255}break;case 18:r.advance(),r.prev=18;var rt=r;zo.context.lineTo(rt.buffer.twips[rt.fPos]/20,rt.buffer.twips[rt.fPos+1]/20),zo.positionX=rt.buffer.twips[rt.fPos]/20,zo.positionY=rt.buffer.twips[rt.fPos+1]/20;break;case 19:r.advance(),r.prev=19;var ot=r;zo.context.moveTo(ot.buffer.twips[ot.fPos]/20,ot.buffer.twips[ot.fPos+1]/20),zo.positionX=ot.buffer.twips[ot.fPos]/20,zo.positionY=ot.buffer.twips[ot.fPos+1]/20,zo.closeGap=!0,zo.startX=ot.buffer.twips[ot.fPos]/20,zo.startY=ot.buffer.twips[ot.fPos+1]/20;break;default:r.advance(),r.prev=_}}return zo.endRenderStep(),zo.hasFill&&a.isPointInPath(e,i,n.canvasWindingRule)?(zo.drawCommandReaderPool.put(r),!0):zo.hasStroke&&a.isPointInStroke(e,i)?(zo.drawCommandReaderPool.put(r),!0):(zo.drawCommandReaderPool.put(r),!1)},zo.isCCW=function(t,e,i,s,n,a){return(i-t)*(a-e)-(s-e)*(n-t)<0},zo.normalizeUVT=function(t,e){null==e&&(e=!1);for(var i=-1/0,s=-1/0,n=t.length,a=1,r=n+1;a<r;){var o=a++;e&&o%3==0||i<(s=t.data[o-1])&&(i=s)}var h=new Le,_=new Array(0);h.data=_,h.length=0,h.fixed=!1;for(var l=h,u=1,c=n+1;u<c;){var f=u++;if(!e||f%3!=0){var d=t.data[f-1]/i;if(!l.fixed){if(l.length++,l.data.length<l.length){var p=l.data.length+10,g=new Array(p);Sn.blit(l.data,0,g,0,l.data.length),l.data=g}l.data[l.length-1]=d}}}return{max:i,uvt:l}},zo.render=function(t,e,i,s,n){if(null==n&&(n=!1),null==s&&(s=!1),t.get_dirty()){if(0==zo.glMaxTextureSize){e.gl;zo.glMaxTextureSize=nr.context.getParameter(e.gl.MAX_TEXTURE_SIZE)-2*zo.padding-1}zo.hitTesting=!1;var a=t.__bounds;if(!s&&!t.__visible||0==t.__commands.get_length()||null==a||a.width<=0||a.height<=0)t.__canvas=null,t.__context=null,t.set___bitmap(null);else{var r=i;if(null!=t.__symbol&&Jn.__instanceof(t.__symbol,Pn)){var o=null,h=Jn.__cast(t.__symbol,Pn);h.registerGraphics(t);var _=h.renderScale,l=El.pool.get();for(a.transform(l,r);l.width>zo.glMaxTextureSize||l.height>zo.glMaxTextureSize;)_*=.9,l.width*=.9,l.height*=.9;if(r.scale(_,_),El.pool.put(l),!n&&null!=(o=h.getCachedBitmapData(r)))return t.set___bitmap(o),void t.set_dirty(!1)}else{var u=El.pool.get(),c=1;for(a.transform(u,r);u.width>zo.glMaxTextureSize||u.height>zo.glMaxTextureSize;)c*=.9,u.width*=.9,u.height*=.9;r.scale(c,c),El.pool.put(u)}null==t.__canvas&&(t.__canvas=zo.pool.get(),t.__context=t.__canvas.getContext("2d")),zo.context=t.__context;var f=zo.context,d=El.pool.get();a.transform(d,r);var p=Math.floor(d.x),g=Math.floor(d.y),m=Math.ceil(d.width+d.x-p)+2*zo.padding,v=Math.ceil(d.height+d.y-g)+2*zo.padding;t.__canvas.width=m,t.__canvas.height=v,zo.snapCoordinates=null!=t.__symbol&&Jn.__instanceof(t.__symbol,Pn)&&Jn.__cast(t.__symbol,Pn).snapCoordinates;var b=ho.pool.get();b.copyFrom(r),b.translate(zo.padding-p,zo.padding-g),El.pool.put(d),zo.snapCoordinates?zo.currentTransform.setTo(b.a,b.b,b.c,b.d,Math.round(b.tx),Math.round(b.ty)):f.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty),zo.beginRenderStep();var y=zo.drawCommandReaderPool.get();if(y.reset(t.__commands),zo.snapCoordinates)for(var w=0,x=t.__commands.drawCommandTypes;w<x.length;){var T=x[w];switch(++w,T){case 0:zo.endRenderStep(),zo.beginRenderStep(),y.advance(),y.prev=0;var S,C=y;if(s)S=!0;else{var E=C.buffer.bd,I=C.bdPos;S=null==(I>=E._length?null:E._items[I])}if(S)zo.context.fillStyle="white";else{var P=C.buffer.bd,k=C.bdPos,D=C.buffer.b,A=C.bPos;zo.context.fillStyle=zo.createBitmapFill(k>=P._length?null:P._items[k],A>=D._length?null:D._items[A]),zo.hasFill=!0;var M=C.buffer.m,R=C.mPos;if(null!=(R>=M._length?null:M._items[R])){var F=C.buffer.m,B=C.mPos;zo.pendingMatrix=B>=F._length?null:F._items[B],null==zo.inversePendingMatrix&&(zo.inversePendingMatrix=ho.pool.get());var L=C.buffer.m,N=C.mPos;zo.inversePendingMatrix.copyFrom(N>=L._length?null:L._items[N]),zo.inversePendingMatrix.invert()}else(zo.pendingMatrix=null)!=zo.inversePendingMatrix&&(ho.pool.put(zo.inversePendingMatrix),zo.inversePendingMatrix=null)}break;case 1:zo.endRenderStep(),zo.beginRenderStep(),y.advance(),y.prev=1;var O=y;if(O.buffer.clampedFloats[O.cfPos]/255<.005&&!s)zo.hasFill=!1;else{if(s)zo.context.fillStyle="white";else if(O.buffer.clampedFloats[O.cfPos]/255==1){var U=O.buffer.i,z=O.iPos,G=In.hex(z>=U._length?null:U._items[z],6);zo.context.fillStyle="#"+G}else{var X=O.buffer.i,V=O.iPos,H=(16711680&(V>=X._length?null:X._items[V]))>>>16,Y=O.buffer.i,W=O.iPos,j=(65280&(W>=Y._length?null:Y._items[W]))>>>8,K=O.buffer.i,q=O.iPos,J=255&(q>=K._length?null:K._items[q]);zo.context.fillStyle="rgba("+H+", "+j+", "+J+", "+O.buffer.clampedFloats[O.cfPos]/255+")"}zo.hasFill=!0}break;case 2:zo.endRenderStep(),zo.beginRenderStep(),y.advance(),y.prev=2;var Z=y;if(s)zo.context.fillStyle="white";else{var Q=Z.buffer.i,$=Z.iPos,tt=Z.buffer.ii,et=Z.iiPos,it=Z.buffer.ff,st=Z.ffPos,nt=Z.buffer.ii,at=Z.iiPos+1,rt=Z.buffer.m,ot=Z.mPos,ht=Z.buffer.i,_t=Z.iPos+1,lt=Z.buffer.i,ut=Z.iPos+2;zo.context.fillStyle=zo.createGradientPattern($>=Q._length?null:Q._items[$],et>=tt._length?null:tt._items[et],st>=it._length?null:it._items[st],at>=nt._length?null:nt._items[at],ot>=rt._length?null:rt._items[ot],_t>=ht._length?null:ht._items[_t],ut>=lt._length?null:lt._items[ut],Z.buffer.twips[Z.fPos]/20)}var ct=Z.buffer.m,ft=Z.mPos;zo.pendingMatrix=ft>=ct._length?null:ct._items[ft],zo.hasFill=!0;break;case 4:y.advance(),y.prev=4;var dt=y,pt=zo.currentTransform,gt=dt.buffer.twips[dt.fPos+2]/20*pt.a+dt.buffer.twips[dt.fPos+3]/20*pt.c+pt.tx,mt=zo.currentTransform,vt=dt.buffer.twips[dt.fPos+2]/20*mt.b+dt.buffer.twips[dt.fPos+3]/20*mt.d+mt.ty,bt=Math.round(gt),yt=Math.round(vt),wt=bt-gt,xt=yt-vt,Tt=zo.currentTransform,St=dt.buffer.twips[dt.fPos]/20*Tt.a+dt.buffer.twips[dt.fPos+1]/20*Tt.c+Tt.tx+wt,Ct=zo.currentTransform,Et=dt.buffer.twips[dt.fPos]/20*Ct.b+dt.buffer.twips[dt.fPos+1]/20*Ct.d+Ct.ty+xt;zo.context.quadraticCurveTo(St,Et,bt,yt);break;case 8:y.advance(),y.prev=8;var It=y;zo.context.save();var Pt=ho.pool.get(),kt=It.buffer.m,Dt=It.mPos;if(Pt.copyFrom(Dt>=kt._length?null:kt._items[Dt]),Pt.concat(zo.currentTransform),0!=Pt.b||0!=Pt.c)throw ho.pool.put(Pt),new qn("can't use snapping on rotated images");if(zo.context.setTransform(Math.round(Pt.a),Math.round(Pt.b),Math.round(Pt.c),Math.round(Pt.d),Math.round(Pt.tx),Math.round(Pt.ty)),ho.pool.put(Pt),zo.hitTesting)zo.context.fillStyle="white",zo.context.fillRect(0,0,1,1);else{var At=It.buffer.bd,Mt=It.bdPos,Rt=Mt>=At._length?null:At._items[Mt],Ft=Rt.get_uvData(),Bt=Rt.get_bd().get_image().get_src();if(null==Ft)zo.context.drawImage(Bt,0,0,1,1);else{var Lt=Bt.width,Nt=Bt.height;zo.context.drawImage(Bt,Ft.x0*Lt,Ft.y0*Nt,(Ft.x1-Ft.x0)*Lt,(Ft.y2-Ft.y0)*Nt,0,0,1,1)}}zo.context.restore();break;case 14:y.advance(),y.prev=14;zo.endRenderStep(),zo.beginRenderStep();break;case 17:y.advance(),y.prev=17;var Ot=y;if((zo.hasStroke||zo.hasFill)&&(zo.hitTesting?zo.context.closePath():(zo.hasStroke&&zo.context.stroke(),zo.context.closePath(),zo.hasFill&&zo.context.fill(zo.canvasWindingRule)),zo.context.beginPath()),zo.context.moveTo(zo.positionX,zo.positionY),Ot.buffer.twips[Ot.fPos]/20==null||Ot.buffer.twips[Ot.fPos]/20==-1)zo.hasStroke=!1;else{zo.context.lineWidth=0<Ot.buffer.twips[Ot.fPos]/20?Math.max(Ot.buffer.twips[Ot.fPos]/20,1):1;var Ut=Ot.buffer.i,zt=Ot.iPos+3;zo.context.lineJoin=zh.toString(zt>=Ut._length?null:Ut._items[zt]).toLowerCase();var Gt,Xt=Ot.buffer.i,Vt=Ot.iPos+2;if(0==(Vt>=Xt._length?null:Xt._items[Vt]))Gt="butt";else{var Ht=Ot.buffer.i,Yt=Ot.iPos+2;Gt=bh.toString(Yt>=Ht._length?null:Ht._items[Yt]).toLowerCase()}if(zo.context.lineCap=Gt,zo.context.miterLimit=Ot.buffer.twips[Ot.fPos+1]/20,s)zo.context.strokeStyle="white";else if(Ot.buffer.clampedFloats[Ot.cfPos]/255==1){var Wt=Ot.buffer.i,jt=Ot.iPos,Kt=In.hex(16777215&(jt>=Wt._length?null:Wt._items[jt]),6);zo.context.strokeStyle="#"+Kt}else{var qt=Ot.buffer.i,Jt=Ot.iPos,Zt=(16711680&(Jt>=qt._length?null:qt._items[Jt]))>>>16,Qt=Ot.buffer.i,$t=Ot.iPos,te=(65280&($t>=Qt._length?null:Qt._items[$t]))>>>8,ee=Ot.buffer.i,ie=Ot.iPos,se=255&(ie>=ee._length?null:ee._items[ie]);zo.context.strokeStyle="rgba("+Zt+", "+te+", "+se+", "+Ot.buffer.clampedFloats[Ot.cfPos]/255+")"}zo.hasStroke=0<Ot.buffer.clampedFloats[Ot.cfPos]/255}break;case 18:y.advance(),y.prev=18;var ne=y,ae=zo.currentTransform,re=Math.round(ne.buffer.twips[ne.fPos]/20*ae.a+ne.buffer.twips[ne.fPos+1]/20*ae.c+ae.tx),oe=zo.currentTransform,he=Math.round(ne.buffer.twips[ne.fPos]/20*oe.b+ne.buffer.twips[ne.fPos+1]/20*oe.d+oe.ty);zo.context.lineTo(re,he),zo.positionX=re,zo.positionY=he;break;case 19:y.advance(),y.prev=19;var _e=y,le=zo.currentTransform,ue=Math.round(_e.buffer.twips[_e.fPos]/20*le.a+_e.buffer.twips[_e.fPos+1]/20*le.c+le.tx),ce=zo.currentTransform,fe=Math.round(_e.buffer.twips[_e.fPos]/20*ce.b+_e.buffer.twips[_e.fPos+1]/20*ce.d+ce.ty);zo.context.moveTo(ue,fe),zo.positionX=ue,zo.positionY=fe,zo.closeGap=!0,zo.startX=ue,zo.startY=fe;break;default:throw new qn(":TODO:")}}else for(var de=0,pe=t.__commands.drawCommandTypes;de<pe.length;){var ge=pe[de];switch(++de,ge){case 0:zo.endRenderStep(),zo.beginRenderStep(),y.advance(),y.prev=0;var me,ve=y;if(s)me=!0;else{var be=ve.buffer.bd,ye=ve.bdPos;me=null==(ye>=be._length?null:be._items[ye])}if(me)zo.context.fillStyle="white";else{var we=ve.buffer.bd,xe=ve.bdPos,Te=ve.buffer.b,Se=ve.bPos;zo.context.fillStyle=zo.createBitmapFill(xe>=we._length?null:we._items[xe],Se>=Te._length?null:Te._items[Se]),zo.hasFill=!0;var Ce=ve.buffer.m,Ee=ve.mPos;if(null!=(Ee>=Ce._length?null:Ce._items[Ee])){var Ie=ve.buffer.m,Pe=ve.mPos;zo.pendingMatrix=Pe>=Ie._length?null:Ie._items[Pe],null==zo.inversePendingMatrix&&(zo.inversePendingMatrix=ho.pool.get());var ke=ve.buffer.m,De=ve.mPos;zo.inversePendingMatrix.copyFrom(De>=ke._length?null:ke._items[De]),zo.inversePendingMatrix.invert()}else(zo.pendingMatrix=null)!=zo.inversePendingMatrix&&(ho.pool.put(zo.inversePendingMatrix),zo.inversePendingMatrix=null)}break;case 1:zo.endRenderStep(),zo.beginRenderStep(),y.advance(),y.prev=1;var Ae=y;if(Ae.buffer.clampedFloats[Ae.cfPos]/255<.005&&!s)zo.hasFill=!1;else{if(s)zo.context.fillStyle="white";else if(Ae.buffer.clampedFloats[Ae.cfPos]/255==1){var Me=Ae.buffer.i,Re=Ae.iPos,Fe=In.hex(Re>=Me._length?null:Me._items[Re],6);zo.context.fillStyle="#"+Fe}else{var Be=Ae.buffer.i,Le=Ae.iPos,Ne=(16711680&(Le>=Be._length?null:Be._items[Le]))>>>16,Oe=Ae.buffer.i,Ue=Ae.iPos,ze=(65280&(Ue>=Oe._length?null:Oe._items[Ue]))>>>8,Ge=Ae.buffer.i,Xe=Ae.iPos,Ve=255&(Xe>=Ge._length?null:Ge._items[Xe]);zo.context.fillStyle="rgba("+Ne+", "+ze+", "+Ve+", "+Ae.buffer.clampedFloats[Ae.cfPos]/255+")"}zo.hasFill=!0}break;case 2:zo.endRenderStep(),zo.beginRenderStep(),y.advance(),y.prev=2;var He=y;if(s)zo.context.fillStyle="white";else{var Ye=He.buffer.i,We=He.iPos,je=He.buffer.ii,Ke=He.iiPos,qe=He.buffer.ff,Je=He.ffPos,Ze=He.buffer.ii,Qe=He.iiPos+1,$e=He.buffer.m,ti=He.mPos,ei=He.buffer.i,ii=He.iPos+1,si=He.buffer.i,ni=He.iPos+2;zo.context.fillStyle=zo.createGradientPattern(We>=Ye._length?null:Ye._items[We],Ke>=je._length?null:je._items[Ke],Je>=qe._length?null:qe._items[Je],Qe>=Ze._length?null:Ze._items[Qe],ti>=$e._length?null:$e._items[ti],ii>=ei._length?null:ei._items[ii],ni>=si._length?null:si._items[ni],He.buffer.twips[He.fPos]/20)}var ai=He.buffer.m,ri=He.mPos;zo.pendingMatrix=ri>=ai._length?null:ai._items[ri],zo.hasFill=!0;break;case 3:y.advance(),y.prev=3;var oi=y;zo.context.bezierCurveTo(oi.buffer.twips[oi.fPos]/20,oi.buffer.twips[oi.fPos+1]/20,oi.buffer.twips[oi.fPos+2]/20,oi.buffer.twips[oi.fPos+3]/20,oi.buffer.twips[oi.fPos+4]/20,oi.buffer.twips[oi.fPos+5]/20);break;case 4:y.advance(),y.prev=4;var hi=y;zo.context.quadraticCurveTo(hi.buffer.twips[hi.fPos]/20,hi.buffer.twips[hi.fPos+1]/20,hi.buffer.twips[hi.fPos+2]/20,hi.buffer.twips[hi.fPos+3]/20);break;case 5:y.advance(),y.prev=5;var _i=y;zo.context.moveTo(_i.buffer.twips[_i.fPos]/20,_i.buffer.twips[_i.fPos+1]/20),zo.context.arc(_i.buffer.twips[_i.fPos]/20,_i.buffer.twips[_i.fPos+1]/20,_i.buffer.twips[_i.fPos+2]/20,0,2*Math.PI,!0);break;case 6:y.advance(),y.prev=6;var li=y;zo.context.moveTo(li.buffer.twips[li.fPos]/20,li.buffer.twips[li.fPos+1]/20),zo.context.arc(li.buffer.twips[li.fPos]/20,li.buffer.twips[li.fPos+1]/20,li.buffer.twips[li.fPos+2]/20,li.buffer.twips[li.fPos+3]/20,li.buffer.twips[li.fPos+4]/20,!0);break;case 7:y.advance(),y.prev=7;var ui=y,ci=ui.buffer.twips[ui.fPos]/20,fi=ui.buffer.twips[ui.fPos+1]/20,di=ui.buffer.twips[ui.fPos+2]/20,pi=ui.buffer.twips[ui.fPos+3]/20,gi=di/2*.5522848,mi=pi/2*.5522848,vi=ci+di,bi=fi+pi,yi=ci+di/2,wi=fi+pi/2;zo.context.moveTo(ci,wi),zo.context.bezierCurveTo(ci,wi-mi,yi-gi,fi,yi,fi),zo.context.bezierCurveTo(yi+gi,fi,vi,wi-mi,vi,wi),zo.context.bezierCurveTo(vi,wi+mi,yi+gi,bi,yi,bi),zo.context.bezierCurveTo(yi-gi,bi,ci,wi+mi,ci,wi);break;case 8:y.advance(),y.prev=8;var xi=y;zo.context.save();var Ti=xi.buffer.m,Si=xi.mPos,Ci=xi.buffer.m,Ei=xi.mPos,Ii=xi.buffer.m,Pi=xi.mPos,ki=xi.buffer.m,Di=xi.mPos,Ai=xi.buffer.m,Mi=xi.mPos,Ri=xi.buffer.m,Fi=xi.mPos;zo.context.transform((Si>=Ti._length?null:Ti._items[Si]).a,(Ei>=Ci._length?null:Ci._items[Ei]).b,(Pi>=Ii._length?null:Ii._items[Pi]).c,(Di>=ki._length?null:ki._items[Di]).d,(Mi>=Ai._length?null:Ai._items[Mi]).tx,(Fi>=Ri._length?null:Ri._items[Fi]).ty);var Bi=xi.buffer.bd,Li=xi.bdPos;if(null!=(Li>=Bi._length?null:Bi._items[Li])&&!zo.hitTesting){var Ni=xi.buffer.bd,Oi=xi.bdPos,Ui=Oi>=Ni._length?null:Ni._items[Oi],zi=Ui.get_uvData(),Gi=Ui.get_bd().get_image().get_src();if(null==zi)zo.context.drawImage(Gi,0,0,1,1);else{var Xi=Gi.width,Vi=Gi.height;zo.context.drawImage(Gi,zi.x0*Xi,zi.y0*Vi,(zi.x1-zi.x0)*Xi,(zi.y2-zi.y0)*Vi,0,0,1,1)}}else zo.context.rect(0,0,1,1);zo.context.restore();break;case 10:y.advance(),y.prev=10;var Hi=y;zo.context.rect(Hi.buffer.twips[Hi.fPos]/20,Hi.buffer.twips[Hi.fPos+1]/20,Hi.buffer.twips[Hi.fPos+2]/20,Hi.buffer.twips[Hi.fPos+3]/20);break;case 11:y.advance(),y.prev=11;var Yi=y;zo.drawRoundRect(Yi.buffer.twips[Yi.fPos]/20,Yi.buffer.twips[Yi.fPos+1]/20,Yi.buffer.twips[Yi.fPos+2]/20,Yi.buffer.twips[Yi.fPos+3]/20,Yi.buffer.twips[Yi.fPos+4]/20,Yi.buffer.twips[Yi.fPos+5]/20);break;case 13:zo.endRenderStep(),zo.beginRenderStep(),y.advance(),y.prev=13;for(var Wi,ji,Ki,qi,Ji,Zi,Qi,$i,ts,es,is,ss,ns,as,rs,os,hs,_s,ls,us,cs,fs,ds,ps,gs,ms,vs,bs,ys=y,ws=ys.buffer.vf,xs=ys.vfPos,Ts=xs>=ws._length?null:ws._items[xs],Ss=ys.buffer.vi,Cs=ys.viPos+1,Es=Cs>=Ss._length?null:Ss._items[Cs],Is=ys.buffer.vf,Ps=ys.vfPos+2,ks=Ps>=Is._length?null:Is._items[Ps],Ds=0,As=Es.length;Ds<As;){ji=(Wi=Ds)+1,Ki=Ds+2,qi=2*Es.data[Wi],Ji=2*Es.data[Wi]+1,Zi=2*Es.data[ji],Qi=2*Es.data[ji]+1,$i=2*Es.data[Ki],ts=2*Es.data[Ki]+1,es=Ts.data[qi],is=Ts.data[Ji],ss=Ts.data[Zi],ns=Ts.data[Qi],as=Ts.data[$i],rs=Ts.data[ts];var Ms=ys.buffer.i,Rs=ys.iPos+3;switch(Rs>=Ms._length?null:Ms._items[Rs]){case 0:if((ss-es)*(rs-is)-(ns-is)*(as-es)<0){Ds+=3;continue}break;case 2:if((ss-es)*(rs-is)-(ns-is)*(as-es)<0)break;Ds+=3;continue}var Fs=f;Fs.save(),Fs.beginPath(),Fs.moveTo(es,is),Fs.lineTo(ss,ns),Fs.lineTo(as,rs),Fs.closePath(),Fs.clip(),os=ks.data[qi]*null.width,_s=ks.data[Zi]*null.width,us=ks.data[$i]*null.width,hs=ks.data[Ji]*null.height,ls=ks.data[Qi]*null.height,0!=(fs=os*((cs=ks.data[ts]*null.height)-ls)-_s*cs+us*ls+(_s-us)*hs)?(ds=-(hs*(as-ss)-ls*as+cs*ss+(ls-cs)*es)/fs,ps=(ls*rs+hs*(ns-rs)-cs*ns+(cs-ls)*is)/fs,gs=(os*(as-ss)-_s*as+us*ss+(_s-us)*es)/fs,ms=-(_s*rs+os*(ns-rs)-us*ns+(us-_s)*is)/fs,vs=(os*(cs*ss-ls*as)+hs*(_s*as-us*ss)+(us*ls-_s*cs)*es)/fs,bs=(os*(cs*ns-ls*rs)+hs*(_s*rs-us*ns)+(us*ls-_s*cs)*is)/fs,Fs.transform(ds,ps,gs,ms,vs,bs),Fs.drawImage(null,0,0),Fs.restore(),Ds+=3):Ds+=3}break;case 14:y.advance(),y.prev=14;zo.endRenderStep(),zo.beginRenderStep();break;case 15:y.advance(),y.prev=15;var Bs=y;if(zo.hasStroke&&zo.closePath(),zo.context.moveTo(zo.positionX,zo.positionY),s)zo.context.strokeStyle="white";else{var Ls=Bs.buffer.bd,Ns=Bs.bdPos,Os=Bs.buffer.b,Us=Bs.bPos;zo.context.strokeStyle=zo.createBitmapFill(Ns>=Ls._length?null:Ls._items[Ns],Us>=Os._length?null:Os._items[Us])}zo.hasStroke=!0;break;case 16:y.advance(),y.prev=16;var zs=y;if(zo.hasStroke&&zo.closePath(),zo.context.moveTo(zo.positionX,zo.positionY),s)zo.context.strokeStyle="white";else{var Gs=zs.buffer.i,Xs=zs.iPos,Vs=zs.buffer.ii,Hs=zs.iiPos,Ys=zs.buffer.ff,Ws=zs.ffPos,js=zs.buffer.ii,Ks=zs.iiPos+1,qs=zs.buffer.m,Js=zs.mPos,Zs=zs.buffer.i,Qs=zs.iPos+1,$s=zs.buffer.i,tn=zs.iPos+2;zo.context.strokeStyle=zo.createGradientPattern(Xs>=Gs._length?null:Gs._items[Xs],Hs>=Vs._length?null:Vs._items[Hs],Ws>=Ys._length?null:Ys._items[Ws],Ks>=js._length?null:js._items[Ks],Js>=qs._length?null:qs._items[Js],Qs>=Zs._length?null:Zs._items[Qs],tn>=$s._length?null:$s._items[tn],zs.buffer.twips[zs.fPos]/20)}var en=zs.buffer.m,sn=zs.mPos;zo.pendingMatrix=sn>=en._length?null:en._items[sn],zo.hasStroke=!0;break;case 17:y.advance(),y.prev=17;var nn=y;if((zo.hasStroke||zo.hasFill)&&(zo.hitTesting?zo.context.closePath():(zo.hasStroke&&zo.context.stroke(),zo.context.closePath(),zo.hasFill&&zo.context.fill(zo.canvasWindingRule)),zo.context.beginPath()),zo.context.moveTo(zo.positionX,zo.positionY),nn.buffer.twips[nn.fPos]/20==null||nn.buffer.twips[nn.fPos]/20==-1)zo.hasStroke=!1;else{zo.context.lineWidth=0<nn.buffer.twips[nn.fPos]/20?Math.max(nn.buffer.twips[nn.fPos]/20,1):1;var an=nn.buffer.i,rn=nn.iPos+3;zo.context.lineJoin=zh.toString(rn>=an._length?null:an._items[rn]).toLowerCase();var on,hn=nn.buffer.i,_n=nn.iPos+2;if(0==(_n>=hn._length?null:hn._items[_n]))on="butt";else{var ln=nn.buffer.i,un=nn.iPos+2;on=bh.toString(un>=ln._length?null:ln._items[un]).toLowerCase()}if(zo.context.lineCap=on,zo.context.miterLimit=nn.buffer.twips[nn.fPos+1]/20,s)zo.context.strokeStyle="white";else if(nn.buffer.clampedFloats[nn.cfPos]/255==1){var cn=nn.buffer.i,fn=nn.iPos,dn=In.hex(16777215&(fn>=cn._length?null:cn._items[fn]),6);zo.context.strokeStyle="#"+dn}else{var pn=nn.buffer.i,gn=nn.iPos,mn=(16711680&(gn>=pn._length?null:pn._items[gn]))>>>16,vn=nn.buffer.i,bn=nn.iPos,yn=(65280&(bn>=vn._length?null:vn._items[bn]))>>>8,wn=nn.buffer.i,xn=nn.iPos,Tn=255&(xn>=wn._length?null:wn._items[xn]);zo.context.strokeStyle="rgba("+mn+", "+yn+", "+Tn+", "+nn.buffer.clampedFloats[nn.cfPos]/255+")"}zo.hasStroke=0<nn.buffer.clampedFloats[nn.cfPos]/255}break;case 18:y.advance(),y.prev=18;var Sn=y;zo.context.lineTo(Sn.buffer.twips[Sn.fPos]/20,Sn.buffer.twips[Sn.fPos+1]/20),zo.positionX=Sn.buffer.twips[Sn.fPos]/20,zo.positionY=Sn.buffer.twips[Sn.fPos+1]/20;break;case 19:y.advance(),y.prev=19;var Cn=y;zo.context.moveTo(Cn.buffer.twips[Cn.fPos]/20,Cn.buffer.twips[Cn.fPos+1]/20),zo.positionX=Cn.buffer.twips[Cn.fPos]/20,zo.positionY=Cn.buffer.twips[Cn.fPos+1]/20,zo.closeGap=!0,zo.startX=Cn.buffer.twips[Cn.fPos]/20,zo.startY=Cn.buffer.twips[Cn.fPos+1]/20;break;default:y.advance(),y.prev=ge}}zo.endRenderStep(),zo.drawCommandReaderPool.put(y);var En=ho.pool.get();En.copyFrom(b),En.invert(),t.set___bitmap(mh.fromGraphics(t,null,En)),t.__canvas=null,ho.pool.put(En),ho.pool.put(b),n||null==t.__symbol||Jn.__instanceof(t.__symbol,Pn)&&Jn.__cast(t.__symbol,Pn).setCachedBitmapData(t.__bitmap,r)}t.set_dirty(!1)}},zo.cubicCurveTo=function(t){t.advance(),t.prev=3;var e=t;zo.context.bezierCurveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,e.buffer.twips[e.fPos+5]/20)},zo.curveTo=function(t){t.advance(),t.prev=4;var e=t;zo.context.quadraticCurveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20)},zo.snappedCurveTo=function(t){t.advance(),t.prev=4;var e=t,i=zo.currentTransform,s=e.buffer.twips[e.fPos+2]/20*i.a+e.buffer.twips[e.fPos+3]/20*i.c+i.tx,n=zo.currentTransform,a=e.buffer.twips[e.fPos+2]/20*n.b+e.buffer.twips[e.fPos+3]/20*n.d+n.ty,r=Math.round(s),o=Math.round(a),h=r-s,_=o-a,l=zo.currentTransform,u=e.buffer.twips[e.fPos]/20*l.a+e.buffer.twips[e.fPos+1]/20*l.c+l.tx+h,c=zo.currentTransform,f=e.buffer.twips[e.fPos]/20*c.b+e.buffer.twips[e.fPos+1]/20*c.d+c.ty+_;zo.context.quadraticCurveTo(u,f,r,o)},zo.drawCircle=function(t){t.advance(),t.prev=5;var e=t;zo.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),zo.context.arc(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,0,2*Math.PI,!0)},zo.drawArc=function(t){t.advance(),t.prev=6;var e=t;zo.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),zo.context.arc(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,!0)},zo.drawEllipse=function(t){t.advance(),t.prev=7;var e=t,i=e.buffer.twips[e.fPos]/20,s=e.buffer.twips[e.fPos+1]/20,n=e.buffer.twips[e.fPos+2]/20,a=e.buffer.twips[e.fPos+3]/20,r=n/2*.5522848,o=a/2*.5522848,h=i+n,_=s+a,l=i+n/2,u=s+a/2;zo.context.moveTo(i,u),zo.context.bezierCurveTo(i,u-o,l-r,s,l,s),zo.context.bezierCurveTo(l+r,s,h,u-o,h,u),zo.context.bezierCurveTo(h,u+o,l+r,_,l,_),zo.context.bezierCurveTo(l-r,_,i,u+o,i,u)},zo.drawImageFromBitmapData=function(t){var e=t.get_uvData(),i=t.get_bd().get_image().get_src();if(null==e)zo.context.drawImage(i,0,0,1,1);else{var s=i.width,n=i.height;zo.context.drawImage(i,e.x0*s,e.y0*n,(e.x1-e.x0)*s,(e.y2-e.y0)*n,0,0,1,1)}},zo.drawImage=function(t){t.advance(),t.prev=8;var e=t;zo.context.save();var i=e.buffer.m,s=e.mPos,n=e.buffer.m,a=e.mPos,r=e.buffer.m,o=e.mPos,h=e.buffer.m,_=e.mPos,l=e.buffer.m,u=e.mPos,c=e.buffer.m,f=e.mPos;zo.context.transform((s>=i._length?null:i._items[s]).a,(a>=n._length?null:n._items[a]).b,(o>=r._length?null:r._items[o]).c,(_>=h._length?null:h._items[_]).d,(u>=l._length?null:l._items[u]).tx,(f>=c._length?null:c._items[f]).ty);var d=e.buffer.bd,p=e.bdPos;if(null!=(p>=d._length?null:d._items[p])&&!zo.hitTesting){var g=e.buffer.bd,m=e.bdPos,v=m>=g._length?null:g._items[m],b=v.get_uvData(),y=v.get_bd().get_image().get_src();if(null==b)zo.context.drawImage(y,0,0,1,1);else{var w=y.width,x=y.height;zo.context.drawImage(y,b.x0*w,b.y0*x,(b.x1-b.x0)*w,(b.y2-b.y0)*x,0,0,1,1)}}else zo.context.rect(0,0,1,1);zo.context.restore()},zo.snappedDrawImage=function(t){t.advance(),t.prev=8;var e=t;zo.context.save();var i=ho.pool.get(),s=e.buffer.m,n=e.mPos;if(i.copyFrom(n>=s._length?null:s._items[n]),i.concat(zo.currentTransform),0!=i.b||0!=i.c)throw ho.pool.put(i),new qn("can't use snapping on rotated images");if(zo.context.setTransform(Math.round(i.a),Math.round(i.b),Math.round(i.c),Math.round(i.d),Math.round(i.tx),Math.round(i.ty)),ho.pool.put(i),zo.hitTesting)zo.context.fillStyle="white",zo.context.fillRect(0,0,1,1);else{var a=e.buffer.bd,r=e.bdPos,o=r>=a._length?null:a._items[r],h=o.get_uvData(),_=o.get_bd().get_image().get_src();if(null==h)zo.context.drawImage(_,0,0,1,1);else{var l=_.width,u=_.height;zo.context.drawImage(_,h.x0*l,h.y0*u,(h.x1-h.x0)*l,(h.y2-h.y0)*u,0,0,1,1)}}zo.context.restore()},zo.drawRoundRect2=function(t){t.advance(),t.prev=11;var e=t;zo.drawRoundRect(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,e.buffer.twips[e.fPos+5]/20)},zo.lineTo=function(t){t.advance(),t.prev=18;var e=t;zo.context.lineTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),zo.positionX=e.buffer.twips[e.fPos]/20,zo.positionY=e.buffer.twips[e.fPos+1]/20},zo.snappedLineTo=function(t){t.advance(),t.prev=18;var e=t,i=zo.currentTransform,s=Math.round(e.buffer.twips[e.fPos]/20*i.a+e.buffer.twips[e.fPos+1]/20*i.c+i.tx),n=zo.currentTransform,a=Math.round(e.buffer.twips[e.fPos]/20*n.b+e.buffer.twips[e.fPos+1]/20*n.d+n.ty);zo.context.lineTo(s,a),zo.positionX=s,zo.positionY=a},zo.moveTo=function(t){t.advance(),t.prev=19;var e=t;zo.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),zo.positionX=e.buffer.twips[e.fPos]/20,zo.positionY=e.buffer.twips[e.fPos+1]/20,zo.closeGap=!0,zo.startX=e.buffer.twips[e.fPos]/20,zo.startY=e.buffer.twips[e.fPos+1]/20},zo.snappedMoveTo=function(t){t.advance(),t.prev=19;var e=t,i=zo.currentTransform,s=Math.round(e.buffer.twips[e.fPos]/20*i.a+e.buffer.twips[e.fPos+1]/20*i.c+i.tx),n=zo.currentTransform,a=Math.round(e.buffer.twips[e.fPos]/20*n.b+e.buffer.twips[e.fPos+1]/20*n.d+n.ty);zo.context.moveTo(s,a),zo.positionX=s,zo.positionY=a,zo.closeGap=!0,zo.startX=s,zo.startY=a},zo.lineStyle=function(t,e){t.advance(),t.prev=17;var i=t;if((zo.hasStroke||zo.hasFill)&&(zo.hitTesting?zo.context.closePath():(zo.hasStroke&&zo.context.stroke(),zo.context.closePath(),zo.hasFill&&zo.context.fill(zo.canvasWindingRule)),zo.context.beginPath()),zo.context.moveTo(zo.positionX,zo.positionY),i.buffer.twips[i.fPos]/20==null||i.buffer.twips[i.fPos]/20==-1)zo.hasStroke=!1;else{zo.context.lineWidth=0<i.buffer.twips[i.fPos]/20?Math.max(i.buffer.twips[i.fPos]/20,1):1;var s=i.buffer.i,n=i.iPos+3;zo.context.lineJoin=zh.toString(n>=s._length?null:s._items[n]).toLowerCase();var a,r=i.buffer.i,o=i.iPos+2;if(0==(o>=r._length?null:r._items[o]))a="butt";else{var h=i.buffer.i,_=i.iPos+2;a=bh.toString(_>=h._length?null:h._items[_]).toLowerCase()}if(zo.context.lineCap=a,zo.context.miterLimit=i.buffer.twips[i.fPos+1]/20,e)zo.context.strokeStyle="white";else if(i.buffer.clampedFloats[i.cfPos]/255==1){var l=i.buffer.i,u=i.iPos,c=In.hex(16777215&(u>=l._length?null:l._items[u]),6);zo.context.strokeStyle="#"+c}else{var f=i.buffer.i,d=i.iPos,p=(16711680&(d>=f._length?null:f._items[d]))>>>16,g=i.buffer.i,m=i.iPos,v=(65280&(m>=g._length?null:g._items[m]))>>>8,b=i.buffer.i,y=i.iPos,w=255&(y>=b._length?null:b._items[y]);zo.context.strokeStyle="rgba("+p+", "+v+", "+w+", "+i.buffer.clampedFloats[i.cfPos]/255+")"}zo.hasStroke=0<i.buffer.clampedFloats[i.cfPos]/255}},zo.lineGradientStyle=function(t,e){t.advance(),t.prev=16;var i=t;if(zo.hasStroke&&zo.closePath(),zo.context.moveTo(zo.positionX,zo.positionY),e)zo.context.strokeStyle="white";else{var s=i.buffer.i,n=i.iPos,a=i.buffer.ii,r=i.iiPos,o=i.buffer.ff,h=i.ffPos,_=i.buffer.ii,l=i.iiPos+1,u=i.buffer.m,c=i.mPos,f=i.buffer.i,d=i.iPos+1,p=i.buffer.i,g=i.iPos+2;zo.context.strokeStyle=zo.createGradientPattern(n>=s._length?null:s._items[n],r>=a._length?null:a._items[r],h>=o._length?null:o._items[h],l>=_._length?null:_._items[l],c>=u._length?null:u._items[c],d>=f._length?null:f._items[d],g>=p._length?null:p._items[g],i.buffer.twips[i.fPos]/20)}var m=i.buffer.m,v=i.mPos;zo.pendingMatrix=v>=m._length?null:m._items[v],zo.hasStroke=!0},zo.lineBitmapStyle=function(t,e){t.advance(),t.prev=15;var i=t;if(zo.hasStroke&&zo.closePath(),zo.context.moveTo(zo.positionX,zo.positionY),e)zo.context.strokeStyle="white";else{var s=i.buffer.bd,n=i.bdPos,a=i.buffer.b,r=i.bPos;zo.context.strokeStyle=zo.createBitmapFill(n>=s._length?null:s._items[n],r>=a._length?null:a._items[r])}zo.hasStroke=!0},zo.beginBitmapFill=function(t,e){t.advance(),t.prev=0;var i,s=t;if(e)i=!0;else{var n=s.buffer.bd,a=s.bdPos;i=null==(a>=n._length?null:n._items[a])}if(i)zo.context.fillStyle="white";else{var r=s.buffer.bd,o=s.bdPos,h=s.buffer.b,_=s.bPos;zo.context.fillStyle=zo.createBitmapFill(o>=r._length?null:r._items[o],_>=h._length?null:h._items[_]),zo.hasFill=!0;var l=s.buffer.m,u=s.mPos;if(null!=(u>=l._length?null:l._items[u])){var c=s.buffer.m,f=s.mPos;zo.pendingMatrix=f>=c._length?null:c._items[f],null==zo.inversePendingMatrix&&(zo.inversePendingMatrix=ho.pool.get());var d=s.buffer.m,p=s.mPos;zo.inversePendingMatrix.copyFrom(p>=d._length?null:d._items[p]),zo.inversePendingMatrix.invert()}else(zo.pendingMatrix=null)!=zo.inversePendingMatrix&&(ho.pool.put(zo.inversePendingMatrix),zo.inversePendingMatrix=null)}},zo.beginFill=function(t,e){t.advance(),t.prev=1;var i=t;if(i.buffer.clampedFloats[i.cfPos]/255<.005&&!e)zo.hasFill=!1;else{if(e)zo.context.fillStyle="white";else if(i.buffer.clampedFloats[i.cfPos]/255==1){var s=i.buffer.i,n=i.iPos,a=In.hex(n>=s._length?null:s._items[n],6);zo.context.fillStyle="#"+a}else{var r=i.buffer.i,o=i.iPos,h=(16711680&(o>=r._length?null:r._items[o]))>>>16,_=i.buffer.i,l=i.iPos,u=(65280&(l>=_._length?null:_._items[l]))>>>8,c=i.buffer.i,f=i.iPos,d=255&(f>=c._length?null:c._items[f]);zo.context.fillStyle="rgba("+h+", "+u+", "+d+", "+i.buffer.clampedFloats[i.cfPos]/255+")"}zo.hasFill=!0}},zo.beginGradientFill=function(t,e){t.advance(),t.prev=2;var i=t;if(e)zo.context.fillStyle="white";else{var s=i.buffer.i,n=i.iPos,a=i.buffer.ii,r=i.iiPos,o=i.buffer.ff,h=i.ffPos,_=i.buffer.ii,l=i.iiPos+1,u=i.buffer.m,c=i.mPos,f=i.buffer.i,d=i.iPos+1,p=i.buffer.i,g=i.iPos+2;zo.context.fillStyle=zo.createGradientPattern(n>=s._length?null:s._items[n],r>=a._length?null:a._items[r],h>=o._length?null:o._items[h],l>=_._length?null:_._items[l],c>=u._length?null:u._items[c],d>=f._length?null:f._items[d],g>=p._length?null:p._items[g],i.buffer.twips[i.fPos]/20)}var m=i.buffer.m,v=i.mPos;zo.pendingMatrix=v>=m._length?null:m._items[v],zo.hasFill=!0},zo.drawRect=function(t){t.advance(),t.prev=10;var e=t;zo.context.rect(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20)};function Go(t){fo.call(this,t)}(i["openfl._internal.renderer.canvas.CanvasMaskManager"]=Go).__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"],Go.__super__=fo,Go.prototype=s(fo.prototype,{pushMask:function(t){var e=this.renderSession.context;e.save();var i=t.__getWorldTransform();e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.beginPath(),t.__renderCanvasMask(this.renderSession),e.clip()},pushRect:function(t,e){var i=this.renderSession.context;i.save(),i.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:Go});function Xo(t,e,i){po.call(this,t,e),this.context=i,this.renderSession=new Uo,this.renderSession.context=i,(this.renderSession.renderer=this).renderSession.maskManager=new Go(this.renderSession)}(i["openfl._internal.renderer.canvas.CanvasRenderer"]=Xo).__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"],Xo.__super__=po,Xo.prototype=s(po.prototype,{render:function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!t.__transparent&&t.__clearBeforeRender?(this.context.fillStyle=t.__colorString,this.context.fillRect(0,0,t.stageWidth,t.stageHeight)):t.__transparent&&t.__clearBeforeRender&&this.context.clearRect(0,0,t.stageWidth,t.stageHeight),t.__renderCanvas(this.renderSession)},__class__:Xo});function Vo(){}(i["openfl._internal.renderer.canvas.CanvasTextField"]=Vo).__name__=["openfl","_internal","renderer","canvas","CanvasTextField"],Vo.disableInputMode=function(t){},Vo.enableInputMode=function(t){if(t.__cursorPosition=-1,null==t.__hiddenInput){t.__hiddenInput=window.document.createElement("input");var e=t.__hiddenInput;e.type="text",e.style.position="absolute",e.style.opacity="0",e.style.color="transparent",e.style.left="0px",e.style.top="50%",new b("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(e.style.fontSize="0px",e.style.width="0px",e.style.height="0px"):(e.style.width="1px",e.style.height="1px"),e.style.pointerEvents="none",e.style.zIndex="-10000000",0<t.maxChars&&(e.maxLength=t.maxChars),window.document.body.appendChild(e),e.value=t.text}},Vo.render=function(t,e){var i=t.__graphics;if(t.__dirty||null==i||i.get_dirty()||null==i.__bitmap){var s=t.__textEngine;if(t.__updateLayout(),(t.__showCursor||null!=s.text&&""!=s.text||s.background||s.border||s.__hasFocus)&&(!(s.width<=0||s.height<=0)||2==s.autoSize)){var n=El.pool.get(),a=El.pool.get(),r=t.__renderTransform;t.__getBounds(a),a.transform(n,r),null!=i&&null!=i.__canvas||(null==i&&(t.__graphics=new Sh(!1),i=t.__graphics),i.__canvas=zo.pool.get(),i.__context=i.__canvas.getContext("2d"),i.__bounds=new El(0,0,a.width,a.height));var o=i.__context;i.__canvas.width=Math.ceil(n.width),i.__canvas.height=Math.ceil(n.height);var h=ho.pool.get();if(h.copyFrom(r),h.translate(-Math.floor(n.x),-Math.floor(n.y)),o.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty),null!=s.text&&""!=s.text||s.__hasFocus){var _=s.text;if(s.displayAsPassword){var l=_.length;_=ln.repeat(l,"*")}0!=s.antiAliasType||1!=s.gridFitType?(i.__context.mozImageSmoothingEnabled=!0,i.__context.msImageSmoothingEnabled=!0,i.__context.imageSmoothingEnabled=!0):(i.__context.mozImageSmoothingEnabled=!1,i.__context.msImageSmoothingEnabled=!1,i.__context.imageSmoothingEnabled=!1),(s.border||s.background)&&(o.rect(.5,.5,n.width-1,n.height-1),s.background&&(o.fillStyle="#"+In.hex(s.backgroundColor,6),o.fill()),s.border&&(o.lineWidth=1,o.strokeStyle="#"+In.hex(s.borderColor,6),o.stroke())),o.textBaseline="alphabetic",o.textAlign="start";for(var u,c=-t.get_scrollH(),f=0,d=0,p=t.get_scrollV()-1;d<p;){var g=d++;f-=s.lineHeights[g]}var m=0;if(t.__showCursor&&0==s.layoutGroups.length){var v=t.__textFormat,b=uh.getFont(v);o.font=b.name,o.fillStyle="#"+In.hex(v.color,6);var y=s.calculateFontDimensions(t.__textFormat,b);o.fillRect(2,2,1,y.height)}for(var w=0,x=s.layoutGroups;w<x.length;){var T=x[w];if(++w,!(T.lineIndex<t.get_scrollV()-1)){if(T.lineIndex>t.get_scrollV()+s.bottomScrollV-2)break;var S=uh.getFont(T.format);m=S.ascent*T.format.size,o.font=S.name,o.fillStyle="#"+In.hex(T.format.color,6);var C=_.substring(T.startIndex,T.endIndex),E=new RegExp("\n","g".split("u").join(""));if(C=C.replace(E,""),o.fillText(C,T.offsetX+c,T.offsetY+m+f),-1<t.__caretIndex&&s.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&T.startIndex<=t.__caretIndex&&(T.endIndex>t.__caretIndex||T.endIndex==s.text.length&&s.text.length==t.__caretIndex)){for(var I=u=0,P=t.__caretIndex-T.startIndex;I<P;){var k=I++;if(T.advances.length<=k)break;u+=T.advances[k]}o.fillRect(T.offsetX+u,T.offsetY,1,T.height)}}else if(!(T.endIndex<Math.min(t.__caretIndex,t.__selectionIndex)||T.startIndex>Math.max(t.__caretIndex,t.__selectionIndex))){var D,A,M=0|Math.min(t.__selectionIndex,t.__caretIndex),R=0|Math.max(t.__selectionIndex,t.__caretIndex);T.startIndex>M&&(M=T.startIndex),T.endIndex<R&&(R=T.endIndex),D=t.getCharBoundariesInGroup(M,T),R>=s.text.length?(A=t.getCharBoundariesInGroup(s.text.length-1,T)).x+=A.width+2:A=t.getCharBoundariesInGroup(R,T),null!=D&&null!=A&&(o.fillStyle="#000000",o.fillRect(D.x,D.y,A.x-D.x,T.height),o.fillStyle="#FFFFFF",o.fillText(_.substring(M,R),c+D.x,T.offsetY+m+f))}}}}else(s.border||s.background)&&(s.border?o.rect(.5,.5,n.width-1,n.height-1):o.rect(0,0,n.width,n.height),s.background&&(o.fillStyle="#"+In.hex(s.backgroundColor,6),o.fill()),s.border&&(o.lineWidth=1,o.lineCap="square",o.strokeStyle="#"+In.hex(s.borderColor,6),o.stroke()));var F=ho.pool.get();F.copyFrom(h),F.invert(),i.set___bitmap(mh.fromGraphics(i,null,F)),i.__canvas=null,t.__graphicsSavedScale.x=t.renderScaleX,t.__graphicsSavedScale.y=t.renderScaleY,t.__dirty=!1,i.set_dirty(!1),ho.pool.put(h),ho.pool.put(F),El.pool.put(n),El.pool.put(a)}else i.__canvas=null,i.__context=null,i.set_dirty(!1),null!=i.__bitmap&&i.__bitmap.dispose(),t.__dirty=!1}};function Ho(){}(i["openfl._internal.renderer.opengl.FrameBufferDataItem"]=Ho).__name__=["openfl","_internal","renderer","opengl","FrameBufferDataItem"],Ho.prototype={set:function(t,e,i){this.texture=t,this.viewPort=e,this.transparent=i},__class__:Ho};var Yo=function(){};(i["openfl._internal.renderer.opengl.GLBitmap"]=Yo).__name__=["openfl","_internal","renderer","opengl","GLBitmap"],Yo.render=function(t,e){if(t.isRenderable()&&!(t.__worldAlpha<=0)&&null!=t.bitmapData&&t.bitmapData.get_valid()){var i=ho.pool.get();i.copyFrom(t.__renderTransform);var s=t.bitmapData,n=t.smoothing,a=t.__renderColorTransform,r=t.__renderAlpha,o=t.__blendMode,h=t.__shader,_=t.pixelSnapping;null!=s&&e.spriteBatch.renderBitmapDataEx(s,s.physicalWidth,s.physicalHeight,s.get_uvData(),n,i,a,r,o,h,_),ho.pool.put(i)}},Yo.pushFramebuffer=function(t,e,i,s,n,a,r){null==r&&(r=!0),null==a&&(a=!1),null==n&&(n=!0);var o=t.gl;if(null==o)return null;var h=t.renderer;t.spriteBatch!=h.mainSpriteBatch&&t.spriteBatch.stop();var _=t.renderer,l=0|i.x,u=0|i.y,c=0|i.width,f=0|i.height;if(Yo.fbData.length<=0){var d=Yo.fbDataPool.get();d.texture=null,d.viewPort=null,d.transparent=_.transparent,Yo.fbData.push(d)}null==e&&(e=new sh(o,c,f,s,r)),e.resize(c,f),_.transparent=n,t.maskManager.saveState(),nr.context.bindFramebuffer(o.FRAMEBUFFER,(e.__swapped?e.__texture1:e.__texture0).frameBuffer),Jn.__cast(_,Wo).set_renderToTexture(!0),_.setViewport(l,u,c,f),nr.context.colorMask(!0,!0,!0,!0),t.blendModeManager.setBlendMode(10),a&&(e.__swapped?e.__texture1:e.__texture0).clear(0,0,0,0,null);var p=Yo.fbDataPool.get();return p.texture=e,p.viewPort=i,p.transparent=n,Yo.fbData.push(p),e},Yo.drawBitmapDrawable=function(t,e,i,s,n,a,r){var o=Yo.fbData[Yo.fbData.length-1];if(null==o)throw new qn("No data to draw to");if(null!=t.gl){if(Jn.__instanceof(i,W)){var h=Jn.__cast(i,W);if(null==h.stage){if(null!=Yo.dataToClean.h.__keys__[h.__id__])Yo.dataToClean.h[h.__id__].stop();var _=Yo.dataToClean,l=gn.delay(function(){null==h.stage&&h.__releaseResources(),Yo.dataToClean.remove(h)},1);_.set(h,l)}}var u=o.viewPort,c=t.spriteBatch,f=null!=e,d=El.pool.get();if(null!=n?d.copyFrom(n):d.setTo(u.x,u.y,u.width,u.height),c.begin(t,f?null:d,a,r),f){e.__worldTransform.identity();var p=e.__worldTransform,g=u.height,m=p.tx,v=p.ty;if(p.tx=0,p.ty=0,p.scale(1,-1),p.translate(0,g),p.tx+=m,p.ty-=v,e.__renderGL(t),c.stop(),null!=e.__texture){var b=e.__texture;nr.textureStateCache.remove(b),nr.context.deleteTexture(b)}e.__texture=null,c.start(d,null,null)}var y=i.__resolvedCacheAsBitmap,w=i.__blendMode;t.pushRenderTargetBaseTransform(i,s),i.__resolvedCacheAsBitmap=!1,i.__blendMode=null,i.__renderGL(t),i.__blendMode=w,i.__resolvedCacheAsBitmap=y,t.popRenderTargetBaseTransform(),c.finish(),El.pool.put(d)}},Yo.popFramebuffer=function(t,e){var i=t.gl;if(null!=i){if(t.spriteBatch.finish(),null!=e){var s,n,a,r,o=Yo.fbData[Yo.fbData.length-1];r=null==o.viewPort?(s=n=0,a=t.renderer.width,t.renderer.height):(s=Math.floor(o.viewPort.x),n=Math.floor(o.viewPort.y),a=Math.ceil(o.viewPort.width),Math.ceil(o.viewPort.height)),e.width==a&&e.height==r||e.resize(a,r),nr.context.readPixels(s,n,a,r,i.RGBA,i.UNSIGNED_BYTE,e.buffer.data),e.dirty=!1,e.set_premultiplied(!0)}Yo.fbDataPool.put(Yo.fbData.pop());var h,_,l,u,c,f=Yo.fbData[Yo.fbData.length-1];if(null==f)throw new qn("oh");if(u=null==f.viewPort?(h=_=0,l=t.renderer.width,t.renderer.height):(h=Math.floor(f.viewPort.x),_=Math.floor(f.viewPort.y),l=Math.ceil(f.viewPort.width),Math.ceil(f.viewPort.height)),null==f.texture)c=t.defaultFramebuffer;else{var d=f.texture;c=(d.__swapped?d.__texture1:d.__texture0).frameBuffer}nr.context.bindFramebuffer(i.FRAMEBUFFER,c),Jn.__cast(t.renderer,Wo).set_renderToTexture(1<Yo.fbData.length),t.renderer.setViewport(h,_,l,u),t.renderer.transparent=f.transparent,t.maskManager.restoreState()}},Yo.flipMatrix=function(t,e){var i=t.tx,s=t.ty;t.tx=0,t.ty=0,t.scale(1,-1),t.translate(0,e),t.tx+=i,t.ty-=s};var Wo=function(t,e,i,s,n,a){null==a&&(a=!1),null==n&&(n=!1),null==s&&(s=!1),null==e&&(e=600),null==t&&(t=800),this.vpHeight=0,this.vpWidth=0,this.vpY=0,this.vpX=0,this.renderToTexture=!1,po.call(this,t,e),this.transparent=s,this.preserveDrawingBuffer=a,this.width=t,this.height=e,this.viewport=new El,this.options={alpha:s,antialias:n,premultipliedAlpha:s,stencil:!0,preserveDrawingBuffer:a},this._glContextId=Wo.glContextId++,this.gl=i,this.defaultFramebuffer=null,Wo.glContexts[this._glContextId]=i,this.projectionMatrix=new ho,this.projection=new _o,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.offset=new _o(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.shaderManager=new ah(i),this.mainSpriteBatch=new oh(i),this.offscreenSpriteBatch=new oh(i),this.filterManager=new eh(i,this.transparent),this.blendModeManager=new th(i),this.renderSession=new Uo,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.mainSpriteBatch,(this.renderSession.renderer=this).renderSession.defaultFramebuffer=this.defaultFramebuffer,this.renderSession.projectionMatrix=this.projectionMatrix,this.maskManager=new ih(this.renderSession),this.renderSession.maskManager=this.maskManager,sl.initialize(this.renderSession),this.shaderManager.setShader(this.shaderManager.defaultShader,!0),nr.context.disable(i.DEPTH_TEST),nr.context.disable(i.CULL_FACE),nr.context.enable(i.BLEND),nr.context.colorMask(!0,!0,!0,this.transparent)};(i["openfl._internal.renderer.opengl.GLRenderer"]=Wo).__name__=["openfl","_internal","renderer","opengl","GLRenderer"],Wo.renderBitmap=function(t,e,i){if(t.isRenderable()&&!(t.__worldAlpha<=0)&&null!=t.__graphics&&null!=t.__graphics.__bitmap){var s=ho.__temp,n=t.__graphics.__bitmap;s.copyFrom(t.__renderTransform);var a=t.__renderColorTransform,r=t.__renderAlpha,o=t.__blendMode;null!=n&&e.spriteBatch.renderBitmapDataEx(n,n.physicalWidth,n.physicalHeight,n.get_uvData(),i,s,a,r,o,null,null)}},Wo.__super__=po,Wo.prototype=s(po.prototype,{destroy:function(){Wo.glContexts[this._glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.mainSpriteBatch.destroy(),this.offscreenSpriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.mainSpriteBatch=null,this.offscreenSpriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},setViewport:function(t,e,i,s,n){if(null==n&&(n=!1),n||this.vpX!=t||this.vpY!=e||this.vpWidth!=i||this.vpHeight!=s){this.vpX=t,this.vpY=e,this.vpWidth=i,this.vpHeight=s;this.gl;nr.context.viewport(t,e,i,s),this.setOrtho(t,e,i,s),this.viewport.setTo(t,e,i,s)}},setOrtho:function(t,e,i,s){var n=this.projectionMatrix;if(n.identity(),n.a=1/i*2,n.d=-1/s*2,n.tx=-1-t*n.a,n.ty=1-e*n.d,this.renderToTexture){var a=n.tx,r=n.ty;n.tx=0,n.ty=0,n.scale(1,-1),n.translate(0,0),n.tx+=a,n.ty-=r}},handleContextLost:function(t){t.preventDefault(),this.contextLost=!0},handleContextRestored:function(){var t=this.gl;Wo.glContextId++,this.shaderManager.setContext(t),this.mainSpriteBatch.setContext(t),this.offscreenSpriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.renderSession.gl=t,this.defaultFramebuffer=null,nr.context.disable(t.DEPTH_TEST),nr.context.disable(t.CULL_FACE),nr.context.enable(t.BLEND),nr.context.colorMask(!0,!0,!0,this.transparent),this.setViewport(0,0,this.width,this.height),this.contextLost=!1},render:function(t){if(!this.contextLost){var e=this.gl;this.setViewport(0,0,this.width,this.height),nr.context.bindFramebuffer(e.FRAMEBUFFER,this.defaultFramebuffer),this.transparent?nr.context.clearColor(0,0,0,0):nr.context.clearColor(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2],1),nr.context.clear(e.COLOR_BUFFER_BIT),this.renderDisplayObject(t,this.projection)}},renderDisplayObject:function(t,e,i){this.renderSession.blendModeManager.setBlendMode(10),this.renderSession.drawCount=0,this.renderSession.currentBlendMode=null,this.mainSpriteBatch.begin(this.renderSession),this.mainSpriteBatch.preventFlush=!0,this.filterManager.begin(this.renderSession,i),t.__renderGL(this.renderSession),this.mainSpriteBatch.preventFlush=!1,this.mainSpriteBatch.finish()},resize:function(t,e){this.width=t,this.height=e,po.prototype.resize.call(this,t,e),this.setViewport(0,0,t,e),this.projection.x=t/2,this.projection.y=-e/2},set_renderToTexture:function(t){return this.renderToTexture!=t&&(this.renderToTexture=t,this.renderSession.spriteBatch=t?this.offscreenSpriteBatch:this.mainSpriteBatch,this.setOrtho(this.vpX,this.vpY,this.vpWidth,this.vpHeight)),t},__class__:Wo,__properties__:{set_renderToTexture:"set_renderToTexture"}});var jo=function(t){this.uniformMatrix3fCache=new wn,this.uniform4fCache=new wn,this.uniform2fCache=new wn,this.uniform1iCache=new wn,this.wrapT=33071,this.wrapS=33071,this.compiled=!1,this.uniforms=new uu,this.attributes=new uu,this.ID=jo.UID++,this.gl=t,this.program=null};(i["openfl._internal.renderer.opengl.shaders2.Shader"]=jo).__name__=["openfl","_internal","renderer","opengl","shaders2","Shader"],jo.compileProgram=function(t,e,i){var s=ah.compiledShadersCache,n=bn.encode(e+i);if(null!=Kf[n]?s.existsReserved(n):s.h.hasOwnProperty(n))return null!=Kf[n]?s.getReserved(n):s.h[n];var a=jo.compileShader(t,e,t.VERTEX_SHADER),r=jo.compileShader(t,i,t.FRAGMENT_SHADER),o=nr.context.createProgram();return null!=a&&null!=r&&(nr.context.attachShader(o,a),nr.context.attachShader(o,r),nr.context.bindAttribLocation(o,0,"openfl_aPosition"),nr.context.bindAttribLocation(o,1,"openfl_aTexCoord0"),nr.context.bindAttribLocation(o,2,"openfl_aColor"),nr.context.linkProgram(o),nr.context.deleteShader(a),nr.context.deleteShader(r),0==nr.context.getProgramParameter(o,t.LINK_STATUS))?(pn.trace("Could not compile the program:\n\t"+nr.context.getProgramInfoLog(o),{fileName:"Shader.hx",lineNumber:272,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),pn.trace("VERTEX:\n"+e+"\nFRAGMENT:\n"+i,{fileName:"Shader.hx",lineNumber:273,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),null):(null!=Kf[n]?s.setReserved(n,o):s.h[n]=o,o)},jo.compileShader=function(t,e,i){var s=e,n=nr.context.createShader(i);return nr.context.shaderSource(n,s),nr.context.compileShader(n),0==nr.context.getShaderParameter(n,t.COMPILE_STATUS)?(pn.trace("Could not compile the shader:\n\t"+nr.context.getShaderInfoLog(n),{fileName:"Shader.hx",lineNumber:290,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),pn.trace(e,{fileName:"Shader.hx",lineNumber:291,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),null):n},jo.resetCache=function(){jo.currentVertexArray=null},jo.prototype={init:function(t){if(null==t&&(t=!1),!this.compiled||t){if(null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n")),null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n")),null==this.vertexString||null==this.fragmentString)throw new qn("No vertex or fragment source provided");if(this.program=jo.compileProgram(this.gl,this.vertexString,this.fragmentString),null!=this.program){this.gl;var e=this.program;e!=nr.currentProgram&&(nr.context.useProgram(e),e=nr.currentProgram),this.uniform1i(this.getUniformLocation("openfl_uSampler0"),0),this.uniform1i(this.getUniformLocation("openfl_uSampler1"),1),this.compiled=!0}}},destroy:function(){if(null!=this.program){this.gl;nr.context.deleteProgram(this.program)}this.compiled=!1,this.attributes=null},applyData:function(t,e){if(null!=t)for(var i,s,n,a,r=0,o=t.keys.length;r<o;){var h=r++,_=t.keys[h];if(s=this.getUniformLocation(_),null!=(i=t.values[h]))if(n=i.value,a=i.bitmap,null!=n||null!=a)switch(i.internalType){case 1:switch(i.size){case 1:this.uniform1i(s,0|n[0]);break;case 2:this.gl;nr.context.uniform2i(s,0|n[0],0|n[1]);break;case 3:this.gl;nr.context.uniform3i(s,0|n[0],0|n[1],0|n[2]);break;case 4:this.gl;nr.context.uniform4i(s,0|n[0],0|n[1],0|n[2],0|n[3])}break;case 2:switch(i.size){case 1:this.gl;nr.context.uniform1f(s,n[0]);break;case 2:this.uniform2f(s,n[0],n[1]);break;case 3:this.gl;nr.context.uniform3f(s,n[0],n[1],n[2]);break;case 4:this.uniform4f(s,n[0],n[1],n[2],n[3])}break;case 3:switch(i.size){case 2:this.gl;nr.context.uniformMatrix2fv(s,i.transpose,i.value);break;case 3:this.gl;nr.context.uniformMatrix3fv(s,i.transpose,i.value);break;case 4:this.gl;nr.context.uniformMatrix4fv(s,i.transpose,i.value)}break;case 4:if(null==a||!a.__isValid)continue;this.gl;var l=this.gl.TEXTURE0+e.activeTextures;l!=nr.currentActiveTexture&&(nr.context.activeTexture(l),nr.currentActiveTexture=l);this.gl;var u=this.gl.TEXTURE_2D,c=a.getTexture(this.gl);nr.currentBoundTexture[nr.currentActiveTexture]!=c&&(nr.context.bindTexture(u,c),null==(nr.currentBoundTexture[nr.currentActiveTexture]=c)||nr.textureStateCache.exists(c)||nr.textureStateCache.set(c,new yn)),this.uniform1i(s,e.activeTextures);this.gl;var f=this.gl.TEXTURE_2D,d=this.gl.TEXTURE_MAG_FILTER,p=i.smooth?this.gl.LINEAR:this.gl.NEAREST,g=nr.currentBoundTexture[nr.currentActiveTexture],m=nr.textureStateCache.get(g);m.h[d]!=p&&(nr.context.texParameteri(f,d,p),m.h[d]=p);this.gl;var v=this.gl.TEXTURE_2D,b=this.gl.TEXTURE_MIN_FILTER,y=i.smooth?this.gl.LINEAR:this.gl.NEAREST,w=nr.currentBoundTexture[nr.currentActiveTexture],x=nr.textureStateCache.get(w);x.h[b]!=y&&(nr.context.texParameteri(v,b,y),x.h[b]=y);this.gl;var T=this.gl.TEXTURE_2D,S=this.gl.TEXTURE_WRAP_S,C=i.repeatX,E=nr.currentBoundTexture[nr.currentActiveTexture],I=nr.textureStateCache.get(E);I.h[S]!=C&&(nr.context.texParameteri(T,S,C),I.h[S]=C);this.gl;var P=this.gl.TEXTURE_2D,k=this.gl.TEXTURE_WRAP_T,D=i.repeatY,A=nr.currentBoundTexture[nr.currentActiveTexture],M=nr.textureStateCache.get(A);M.h[k]!=D&&(nr.context.texParameteri(P,k,D),M.h[k]=D),e.activeTextures++}}},getAttribLocation:function(t){if(null==this.program)throw new qn("Shader isn't initialized");var e=this.attributes.h[t];if(null==e){this.gl;e=nr.context.getAttribLocation(this.program,t),this.attributes.h[t]=e}return e},getUniformLocation:function(t){if(null==this.program)throw new qn("Shader isn't initialized");var e=this.uniforms.h[t];if(null==e&&!this.uniforms.h.hasOwnProperty(t)){this.gl;e=nr.context.getUniformLocation(this.program,t),this.uniforms.h[t]=e}return e},enableVertexAttribute:function(t,e,i){var s=this.getAttribLocation(t.name);if(0<=s){this.gl;nr.context.enableVertexAttribArray(s);this.gl;nr.context.vertexAttribPointer(s,t.components,t.type,t.normalized,e,4*i)}},disableVertexAttribute:function(t,e){null==e&&(e=!0);var i=this.getAttribLocation(t.name);this.gl;if(nr.context.disableVertexAttribArray(i),e)switch(t.components){case 1:this.gl;var s=t.defaultValue.subarray(0,1);nr.context.vertexAttrib1fv(i,s);break;case 2:this.gl;var n=t.defaultValue.subarray(0,2);nr.context.vertexAttrib2fv(i,n);break;case 3:this.gl;var a=t.defaultValue.subarray(0,3);nr.context.vertexAttrib3fv(i,a);break;default:this.gl;var r=t.defaultValue.subarray(0,4);nr.context.vertexAttrib4fv(i,r)}},bindVertexArray:function(t){if(t!=jo.currentVertexArray){var e=0,i=t.get_stride();if(null!=jo.currentVertexArray&&t.attributes==jo.currentVertexArray.attributes)for(var s=0,n=t.attributes;s<n.length;){var a=n[s];if(++s,a.enabled){var r,o=this.getAttribLocation(a.name);if(0<=o){this.gl;nr.context.vertexAttribPointer(o,a.components,a.type,a.normalized,i,4*e)}switch(a.type){case 5120:case 5121:r=1;break;case 5122:case 5123:r=2;break;default:r=4}e+=Math.floor(a.components*r/4)}}else for(var h=0,_=t.attributes;h<_.length;){var l=_[h];if(++h,l.enabled){var u;switch(this.enableVertexAttribute(l,i,e),l.type){case 5120:case 5121:u=1;break;case 5122:case 5123:u=2;break;default:u=4}e+=Math.floor(l.components*u/4)}else this.disableVertexAttribute(l,!0)}jo.currentVertexArray=t}},unbindVertexArray:function(t){for(var e=0,i=t.attributes;e<i.length;){var s=i[e];++e,this.disableVertexAttribute(s,!1)}jo.currentVertexArray=null},uniform1i:function(t,e){if(null!=t&&this.uniform1iCache.h[t.__id__]!=e){this.gl;nr.context.uniform1i(t,e),this.uniform1iCache.set(t,e)}},uniform2f:function(t,e,i){if(null!=t){var s=this.uniform2fCache.h[t.__id__];if(null==s)s=new cr,this.uniform2fCache.set(t,s);else if(s.x==e&&s.y==i)return;this.gl;nr.context.uniform2f(t,e,i),s.x=e,s.y=i}},uniform4f:function(t,e,i,s,n){if(null!=t){var a=this.uniform4fCache.h[t.__id__];if(null==a)a=new fr,this.uniform4fCache.set(t,a);else if(a.x==e&&a.y==i&&a.z==s&&a.w==n)return;this.gl;nr.context.uniform4f(t,e,i,s,n),a.x=e,a.y=i,a.z=s,a.w=n}},uniformMatrix3fv:function(t,e,i){if(null!=t){var s=this.uniformMatrix3fCache.h[t.__id__];if(null==s)s=new ho,this.uniformMatrix3fCache.set(t,s);else if(i.equals(s))return;this.gl;var n=i.toArray(!0);nr.context.uniformMatrix3fv(t,e,n),s.copyFrom(i)}},__class__:jo};var Ko=function(t){jo.call(this,t),this.vertexSrc=Ko.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform sampler2D openfl_uSampler1;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","uniform vec2 openfl_uUVScale;","varying vec2 openfl_vTexCoord;","varying vec2 openfl_vMaskTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   vec4 mask = texture2D(openfl_uSampler1, openfl_vMaskTexCoord * openfl_uUVScale);","   float inside = step( 0.0, openfl_vMaskTexCoord.x ) * step( -1.0, -openfl_vMaskTexCoord.x );","   inside *= step( 0.0, openfl_vMaskTexCoord.y ) * step( -1.0, -openfl_vMaskTexCoord.y );","\tfloat maskAlpha = inside * mask.a;","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset)* maskAlpha;","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.DefaultMaskedShader"]=Ko).__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultMaskedShader"],Ko.__super__=jo,Ko.prototype=s(jo.prototype,{init:function(t){null==t&&(t=!1),jo.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uMaskMatrix"),this.getUniformLocation("openfl_uUVScale"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uSampler1"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:Ko});var qo=function(t){jo.call(this,t),this.vertexSrc=qo.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","\tvec4 result = unmultiply * tint * multiplier;","\tresult = result + offset;","\tresult = clamp(result, 0., 1.);","\tfloat finalMultiplier = 1. - step(0., -color.a);","\tresult.a *= finalMultiplier;","\tresult = vec4(result.rgb * result.a, result.a);","\treturn result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=qo).__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultShader"],qo.__super__=jo,qo.prototype=s(jo.prototype,{init:function(t){null==t&&(t=!1),jo.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:qo});function Jo(t){jo.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=Jo).__name__=["openfl","_internal","renderer","opengl","shaders2","DrawTrianglesShader"],Jo.__super__=jo,Jo.prototype=s(jo.prototype,{init:function(t){null==t&&(t=!1),jo.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uUseTexture"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Jo});function Zo(t){jo.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.FillShader"]=Zo).__name__=["openfl","_internal","renderer","opengl","shaders2","FillShader"],Zo.__super__=jo,Zo.prototype=s(jo.prototype,{init:function(t){null==t&&(t=!1),jo.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Zo});function Qo(t){jo.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);","   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=Qo).__name__=["openfl","_internal","renderer","opengl","shaders2","PatternFillShader"],Qo.__super__=jo,Qo.prototype=s(jo.prototype,{init:function(t){null==t&&(t=!1),jo.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uPatternMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uPatternTL"),this.getUniformLocation("openfl_uPatternBR"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Qo});function $o(t){jo.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()}(i["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=$o).__name__=["openfl","_internal","renderer","opengl","shaders2","PrimitiveShader"],$o.__super__=jo,$o.prototype=s(jo.prototype,{init:function(t){null==t&&(t=!1),jo.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:$o});var th=function(t){this.gl=t,this.currentBlendMode=null};(i["openfl._internal.renderer.opengl.utils.BlendModeManager"]=th).__name__=["openfl","_internal","renderer","opengl","utils","BlendModeManager"],th.prototype={destroy:function(){this.gl=null},setBlendMode:function(t,e){if(null==e&&(e=!1),null==t&&(t=10,e=!0),!e&&this.currentBlendMode==t)return!1;switch(this.currentBlendMode=t){case 0:this.gl;nr.context.blendEquation(32774);this.gl;nr.context.blendFunc(1,1);break;case 9:this.gl;nr.context.blendEquation(32774);this.gl;nr.context.blendFunc(774,771);break;case 12:this.gl;nr.context.blendEquation(32774);this.gl;nr.context.blendFunc(1,769);break;case 14:this.gl;nr.context.blendEquation(32779);this.gl;nr.context.blendFunc(1,1);break;default:this.gl;nr.context.blendEquation(32774);this.gl;nr.context.blendFunc(1,771)}return!0},__class__:th};var eh=function(t,e){this.transparent=e,this.filterStack=[],this.offsetX=0,this.offsetY=0,this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.FilterManager"]=eh).__name__=["openfl","_internal","renderer","opengl","utils","FilterManager"],eh.prototype={applyFilterPass:function(t,e,i,s){},begin:function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader,this.width=0,this.height=0,this.buffer=e},destroy:function(){this.gl;this.filterStack=null,this.offsetX=0;for(var t=this.offsetY=0,e=this.texturePool;t<e.length;){var i=e[t];++t,i.destroy()}this.texturePool=null,nr.context.deleteBuffer(this.vertexBuffer),nr.context.deleteBuffer(this.uvBuffer),nr.context.deleteBuffer(this.colorBuffer),nr.context.deleteBuffer(this.indexBuffer)},initShaderBuffers:function(){var t=this.gl;this.vertexBuffer=nr.context.createBuffer(),this.uvBuffer=nr.context.createBuffer(),this.colorBuffer=nr.context.createBuffer(),this.indexBuffer=nr.context.createBuffer();var e,i=[0,0,1,0,0,1,1,1];e=null!=i?new Zf(i):null,this.vertexArray=e,nr.context.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),nr.context.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW);var s,n=[0,0,1,0,0,1,1,1];s=null!=n?new Zf(n):null,this.uvArray=s,nr.context.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),nr.context.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW);var a,r=[1,16777215,1,16777215,1,16777215,1,16777215];a=null!=r?new Zf(r):null,this.colorArray=a,nr.context.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),nr.context.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),nr.context.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var o,h=t.ELEMENT_ARRAY_BUFFER,_=[0,1,2,1,3,2];o=null!=_?new Uint16Array(_):null,nr.context.bufferData(h,o,t.STATIC_DRAW)},popFilter:function(){},pushFilter:function(t){},setContext:function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},__class__:eh};var ih=function(t){fo.call(this,t),this.setContext(t.gl),this.clips=[];var e=new zt;e._items=[],e._length=e._items.length,this.maskBitmapTable=e;var i=new zt;i._items=[],i._length=i._items.length,this.maskMatrixTable=i,this.maskCount=0};(i["openfl._internal.renderer.opengl.utils.GLMaskManager"]=ih).__name__=["openfl","_internal","renderer","opengl","utils","GLMaskManager"],ih.__super__=fo,ih.prototype=s(fo.prototype,{destroy:function(){this.gl=null},pushRect:function(t,e){var i=e.clone(),s=this.renderSession.renderer.viewport.height,n=i.tx,a=i.ty;i.tx=0,i.ty=0,i.scale(1,-1),i.translate(0,s),i.tx+=n,i.ty-=a;var r=t.clone();r.transform(r,i),null!=this.currentClip&&(r=this.currentClip.intersection(r));var o=null==this.currentClip||r.isEmpty()||this.currentClip.containsRect(r);if(this.clips.push(r),this.currentClip=r,o){var h=this.maskBitmapTable,_=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,h._items[h._length-1],_._items[_._length-1])}},pushMask:function(t){var e=this.renderSession,i=e.renderer;e.spriteBatch!=i.mainSpriteBatch&&this.renderSession.spriteBatch.stop();var s=null,n=null;if(null!=t){if(null==t.__cachedBitmap||t.__updateCachedBitmap||0<this.maskCount){t.__visible=!0,t.__isMask=!1,W.__isCachingAsMask=!0,t.__update(!0,!1);var a=this.maskBitmapTable,r=this.maskMatrixTable;t.__updateCachedBitmapFn(this.renderSession,a._items[a._length-1],r._items[r._length-1]),W.__isCachingAsMask=!1,t.__isMask=!0,t.__visible=!1}s=t.__cachedBitmap}if(null!=s){var o=this.renderSession.getRenderTargetBaseTransform();n=ho.pool.get(),s.getLocalTransform(n),n.concat(t.__renderTransform),n.concat(o),n.invert(),n.scale(1/s.physicalWidth,1/s.physicalHeight),++this.maskCount}var h=this.maskBitmapTable;h._items[h._length++]=s;var _=this.maskMatrixTable;_._items[_._length++]=n,this.renderSession.spriteBatch.start(this.currentClip,s,n)},popMask:function(){var t=this.maskBitmapTable,e=t._items[--t._length];(t._items[t._length]=null)!=e&&--this.maskCount;var i=this.maskMatrixTable,s=i._items[--i._length];(i._items[i._length]=null)!=s&&ho.pool.put(s);var n=this.maskBitmapTable,a=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,n._items[n._length-1],a._items[a._length-1])},popRect:function(){this.clips.pop(),this.currentClip=this.clips[this.clips.length-1];var t=this.maskBitmapTable,e=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,t._items[t._length-1],e._items[e._length-1])},saveState:function(){this.savedClip=this.currentClip,this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip,this.savedClip=null},setContext:function(t){null!=this.renderSession&&(this.renderSession.gl=t),this.gl=t},__class__:ih});var sh=function(t,e,i,s,n){null==n&&(n=!0),null==s&&(s=!0),this.__swapped=!1,this.powerOfTwo=!0,this.useOldTexture=!1,this.gl=t,this.width=e,this.height=i,this.smoothing=s,this.powerOfTwo=n;var a=new nh(t,e,i,s,n);this.__swapped?this.__texture1=a:this.__texture0=a};(i["openfl._internal.renderer.opengl.utils.PingPongTexture"]=sh).__name__=["openfl","_internal","renderer","opengl","utils","PingPongTexture"],sh.prototype={swap:function(){if(this.__swapped=!this.__swapped,null==(this.__swapped?this.__texture1:this.__texture0)){var t=new nh(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo);this.__swapped?this.__texture1=t:this.__texture0=t}},clear:function(t,e,i,s,n){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),(this.__swapped?this.__texture1:this.__texture0).clear(t,e,i,s,n)},resize:function(t,e){this.width=t,this.height=e,(this.__swapped?this.__texture1:this.__texture0).resize(t,e)},destroyOldRenderTexture:function(){this.__swapped?null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null):null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null)},destroy:function(){null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null),null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null),this.__swapped=!1},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(t){return this.__swapped?this.__texture1=t:this.__texture0=t},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(t){return this.__swapped?this.__texture0=t:this.__texture1=t},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},get___otherTexture:function(){return this.__swapped?this.__texture0:this.__texture1},__class__:sh,__properties__:{get___otherTexture:"get___otherTexture",get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture"}};var nh=function(t,e,i,s,n){null==n&&(n=!0),null==s&&(s=!0),this.gl=t,this.powerOfTwo=n,this.frameBuffer=nr.context.createFramebuffer(),this.texture=nr.context.createTexture();var a=this.texture;nr.currentBoundTexture[nr.currentActiveTexture]!=a&&(nr.context.bindTexture(t.TEXTURE_2D,a),null==(nr.currentBoundTexture[nr.currentActiveTexture]=a)||nr.textureStateCache.exists(a)||nr.textureStateCache.set(a,new yn));var r=t.TEXTURE_2D,o=t.TEXTURE_MAG_FILTER,h=s?t.LINEAR:t.NEAREST,_=nr.currentBoundTexture[nr.currentActiveTexture],l=nr.textureStateCache.get(_);l.h[o]!=h&&(nr.context.texParameteri(r,o,h),l.h[o]=h);var u=t.TEXTURE_2D,c=t.TEXTURE_MIN_FILTER,f=s?t.LINEAR:t.NEAREST,d=nr.currentBoundTexture[nr.currentActiveTexture],p=nr.textureStateCache.get(d);p.h[c]!=f&&(nr.context.texParameteri(u,c,f),p.h[c]=f);var g=t.TEXTURE_2D,m=t.TEXTURE_WRAP_S,v=t.CLAMP_TO_EDGE,b=nr.currentBoundTexture[nr.currentActiveTexture],y=nr.textureStateCache.get(b);y.h[m]!=v&&(nr.context.texParameteri(g,m,v),y.h[m]=v);var w=t.TEXTURE_2D,x=t.TEXTURE_WRAP_T,T=t.CLAMP_TO_EDGE,S=nr.currentBoundTexture[nr.currentActiveTexture],C=nr.textureStateCache.get(S);C.h[x]!=T&&(nr.context.texParameteri(w,x,T),C.h[x]=T),nr.context.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),nr.context.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.resize(e,i)};(i["openfl._internal.renderer.opengl.utils.RenderTexture"]=nh).__name__=["openfl","_internal","renderer","opengl","utils","RenderTexture"],nh.prototype={clear:function(t,e,i,s,n){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0);this.gl;nr.context.clearColor(t,e,i,s);this.gl;nr.context.clear(null==n?this.gl.COLOR_BUFFER_BIT:n)},destroy:function(){if(null!=this.frameBuffer){this.gl;nr.context.deleteFramebuffer(this.frameBuffer)}if(null!=this.texture){this.gl;var t=this.texture;nr.textureStateCache.remove(t),nr.context.deleteTexture(t)}this.frameBuffer=null,this.texture=null},resize:function(t,e){if(this.width!=t||this.height!=e){var i=this.width=t,s=this.height=e;if(this.powerOfTwo){for(var n=1;n<t;)n<<=1;i=n;for(var a=1;a<e;)a<<=1;s=a}var r=this.__width,o=this.__height;if(this.__width=i,this.__height=s,this.createUVs(),r!=i||o!=s){if(0==nh.glMaxTextureSize){this.gl;nh.glMaxTextureSize=nr.context.getParameter(this.gl.MAX_TEXTURE_SIZE)}this.__width>nh.glMaxTextureSize&&(this.__width=nh.glMaxTextureSize),this.__height>nh.glMaxTextureSize&&(this.__height=nh.glMaxTextureSize);this.gl;var h=this.texture;nr.currentBoundTexture[nr.currentActiveTexture]!=h&&(nr.context.bindTexture(this.gl.TEXTURE_2D,h),null==(nr.currentBoundTexture[nr.currentActiveTexture]=h)||nr.textureStateCache.exists(h)||nr.textureStateCache.set(h,new yn));this.gl;nr.context.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null)}}},createUVs:function(){null==this.__uvData&&(this.__uvData=new Bh);var t=this.width/this.__width,e=this.height/this.__height;this.__uvData.x0=0,this.__uvData.y0=0,this.__uvData.x1=t,this.__uvData.y1=0,this.__uvData.x2=t,this.__uvData.y2=e,this.__uvData.x3=0,this.__uvData.y3=e},powOfTwo:function(t){for(var e=1;e<t;)e<<=1;return e},__class__:nh};var ah=function(t){this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.ShaderManager"]=ah).__name__=["openfl","_internal","renderer","opengl","utils","ShaderManager"],ah.prototype={setContext:function(t){this.gl=t,this.defaultShader=new qo(t),this.defaultMaskedShader=new Ko(t),this.fillShader=new Zo(t),this.patternFillShader=new Qo(t),this.drawTrianglesShader=new Jo(t),this.primitiveShader=new $o(t),this.setShader(this.defaultShader,!0)},destroy:function(){this.defaultShader.destroy(),this.fillShader.destroy(),this.patternFillShader.destroy(),this.drawTrianglesShader.destroy(),this.primitiveShader.destroy(),this.gl=null},setShader:function(t,e){if(null==e&&(e=!1),null==t){this.currentShader=null;this.gl;var i=null;return i!=nr.currentProgram&&(nr.context.useProgram(i),i=nr.currentProgram),!0}if(null!=this.currentShader&&!e&&this.currentShader.ID==t.ID)return!1;this.currentShader=t;this.gl;var s=t.program;return s!=nr.currentProgram&&(nr.context.useProgram(s),s=nr.currentProgram),!0},__class__:ah};function rh(){}(i["openfl._internal.renderer.opengl.utils.VertexBufferContext"]=rh).__name__=["openfl","_internal","renderer","opengl","utils","VertexBufferContext"],rh.prototype={__class__:rh};var oh=function(t,e,i){null==i&&(i=3),null==e&&(e=2e3),this.vertexBufferContextIndex=0,this.colorTransform=new oo,this.matrix=new ho,this.lastEnableColor=!0,this.enableColor=!0,this.attributes=[],this.writtenVertexBytes=0,this.preventFlush=!1,this.drawing=!1,this.states=[],this.maxSprites=e,this.attributes.push(new lh(2,5126,!1,"openfl_aPosition")),this.attributes.push(new lh(2,5126,!1,"openfl_aTexCoord0")),this.attributes.push(new lh(4,5121,!0,"openfl_aColor"));var s,n=[1,1,1,1];s=null!=n?new Zf(n):null,this.attributes[2].defaultValue=s;for(var a=this.maxElementsPerVertex=0,r=this.attributes;a<r.length;){var o=r[a];++a;var h,_=this.maxElementsPerVertex;switch(o.type){case 5120:case 5121:h=1;break;case 5122:case 5123:h=2;break;default:h=4}this.maxElementsPerVertex=_+Math.floor(o.components*h/4)}this.vertexArraySize=e*this.maxElementsPerVertex*4*4,this.indexArraySize=6*e,this.vertexBufferContexts=[];for(var l=0,u=i;l<u;){var c=l++;this.vertexBufferContexts.push(new rh);var f=this.vertexBufferContexts[c];f.vertexArray=new _h(this.attributes,this.vertexArraySize,!1);var d,p=f.vertexArray.buffer;d=null!=p?new Zf(p,0):null,f.positions=d;var g,m=f.vertexArray.buffer;g=null!=m?new Uint32Array(m,0):null,f.colors=g}this.vertexArray=this.vertexBufferContexts[0].vertexArray,this.positions=this.vertexBufferContexts[0].positions,this.colors=this.vertexBufferContexts[0].colors;var v,b=this.indexArraySize;v=null!=b?new Uint16Array(b):null,this.indices=v;for(var y=0,w=0;y<this.indexArraySize;)this.indices[y]=w,this.indices[y+1]=w+1,this.indices[y+2]=w+2,this.indices[y+3]=w,this.indices[y+4]=w+2,this.indices[y+5]=w+3,y+=6,w+=4;this.currentState=new hh,this.drawing=!1,this.batchedSprites=0,this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.SpriteBatch"]=oh).__name__=["openfl","_internal","renderer","opengl","utils","SpriteBatch"],oh.prototype={destroy:function(){for(var t=0,e=this.vertexBufferContexts;t<e.length;){var i=e[t];++t,i.vertexArray.destroy(),i.vertexArray=null}this.indices=null;this.gl;nr.context.deleteBuffer(this.indexBuffer),this.currentState.destroy();for(var s=0,n=this.states;s<n.length;){var a=n[s];++s,a.destroy()}this.colorTransform=null,this.gl=null},begin:function(t,e,i,s){this.renderSession=t,this.shader=t.shaderManager.defaultShader,this.start(e,i,s)},finish:function(){this.stop(),this.clipRect=null},start:function(t,e,i){this.drawing=!0,this.maskBitmap=e,this.maskMatrix=i,this.clipRect=t},stop:function(){this.drawing=!1,this.flush()},renderBitmapData:function(t,e,i,s,n,a,r,o){null==n&&(n=1),null!=t&&this.renderBitmapDataEx(t,t.physicalWidth,t.physicalHeight,t.get_uvData(),e,i,s,n,a,r,o)},renderBitmapDataEx:function(t,e,i,s,n,a,r,o,h,_,l){if(0!=e&&0!=i){var u=t.getTexture(this.gl);if(this.batchedSprites>=this.maxSprites&&this.flush(),null!=s){if(null!=_){_.__init(this.gl),_.__shader.wrapS=_.repeatX,_.__shader.wrapT=_.repeatY,_.__shader.smooth=_.smooth,_.__shader.blendMode=_.blendMode;var c=_.data.get(Kh.uObjectSize),f=_.data.get(Kh.uTextureSize);if(null!=t)if(c.value[0]=t.width,c.value[1]=t.height,null!=t.get_bd().__pingPongTexture){var d=f.value,p=t.get_bd().__pingPongTexture;d[0]=(p.__swapped?p.__texture1:p.__texture0).__width;var g=f.value,m=t.get_bd().__pingPongTexture;g[1]=(m.__swapped?m.__texture1:m.__texture0).__height}else f.value[0]=t.width,f.value[1]=t.height;else c.value[0]=0,c.value[1]=0,f.value[0]=0,f.value[1]=0}var v=(255&(255*o|0))<<24|16777215;this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var b=0,y=0,w=this.attributes;y<w.length;){var x=w[y];if(++y,x.enabled){var T;switch(x.type){case 5120:case 5121:T=1;break;case 5122:case 5123:T=2;break;default:T=4}b+=Math.floor(x.components*T/4)}}this.elementsPerVertex=b;var S=this.renderSession.getRenderTargetBaseTransform(),C=ho.pool.get();t.getLocalTransform(C),C.concat(a),C.concat(S),null==n&&(n=!(Math.abs(Math.abs(C.a)*e-t.physicalWidth)<.5&&Math.abs(Math.abs(C.d)*i-t.physicalHeight)<.5&&Math.abs(C.b)<.001&&Math.abs(C.c)<.001)),1==l&&(l=n&&0==a.b&&0==a.c&&Math.abs(1-a.a)<.001&&Math.abs(1-a.d)<.001?(a.a=1,a.d=1,0):2);var E=4*this.batchedSprites*this.elementsPerVertex,I=C.a,P=C.b,k=C.c,D=C.d,A=C.tx,M=C.ty;if(null==l||2==l?(this.positions[E]=A,this.positions[1+E]=M,this.positions[5+E]=I*e+A,this.positions[6+E]=P*e+M,this.positions[10+E]=I*e+k*i+A,this.positions[11+E]=D*i+P*e+M,this.positions[15+E]=k*i+A,this.positions[16+E]=D*i+M):(this.positions[E]=Math.round(A),this.positions[1+E]=Math.round(M),this.positions[5+E]=Math.round(A)+I*e,this.positions[6+E]=Math.round(M)+P*e,this.positions[10+E]=Math.round(A)+I*e+k*i,this.positions[11+E]=Math.round(M)+D*i+P*e,this.positions[15+E]=Math.round(A)+k*i,this.positions[16+E]=Math.round(M)+D*i),this.enableColor){var R=this.colors[19+E]=v,F=this.colors[14+E]=R,B=this.colors[9+E]=F;this.colors[4+E]=B}this.positions[2+E]=s.x0,this.positions[3+E]=s.y0,this.positions[7+E]=s.x1,this.positions[8+E]=s.y1,this.positions[12+E]=s.x2,this.positions[13+E]=s.y2,this.positions[17+E]=s.x3,this.positions[18+E]=s.y3,this.writtenVertexBytes=20+E;var L=this.batchedSprites,N=this.states[L];if(null==N&&(N=this.states[L]=new hh),N.texture=u,null!=this.maskBitmap&&null!=this.maskBitmap.get_uvData()){N.maskTexture=this.maskBitmap.getTexture(this.gl);var O=this.maskBitmap.get_uvData(),U=N.maskTextureUVScale;U.x=O.x1,U.y=O.y2,N.maskMatrix.copyFrom(this.maskMatrix)}else N.maskTexture=null;N.textureSmooth=n,N.blendMode=null!=h?h:10,N.skipColorTransform=null!=r&&r.__isDefault(),N.skipColorTransform||(N.colorTransform.redMultiplier=r.redMultiplier,N.colorTransform.greenMultiplier=r.greenMultiplier,N.colorTransform.blueMultiplier=r.blueMultiplier,N.colorTransform.alphaMultiplier=r.alphaMultiplier,N.colorTransform.redOffset=r.redOffset,N.colorTransform.greenOffset=r.greenOffset,N.colorTransform.blueOffset=r.blueOffset,N.colorTransform.alphaOffset=r.alphaOffset),null==_?(N.shader=null,N.shaderData=null):(N.shader=_.__shader,N.shaderData=_.data),this.batchedSprites++,ho.pool.put(C)}}},fillVertices:function(t,e,i,s,n,a,r){null==a&&(a=-1);var o=s.a,h=s.b,_=s.c,l=s.d,u=s.tx,c=s.ty;if(null==r||2==r?(this.positions[t]=u,this.positions[t+1]=c,this.positions[t+5]=o*e+u,this.positions[t+6]=h*e+c,this.positions[t+10]=o*e+_*i+u,this.positions[t+11]=l*i+h*e+c,this.positions[t+15]=_*i+u,this.positions[t+16]=l*i+c):(this.positions[t]=Math.round(u),this.positions[t+1]=Math.round(c),this.positions[t+5]=Math.round(u)+o*e,this.positions[t+6]=Math.round(c)+h*e,this.positions[t+10]=Math.round(u)+o*e+_*i,this.positions[t+11]=Math.round(c)+l*i+h*e,this.positions[t+15]=Math.round(u)+_*i,this.positions[t+16]=Math.round(c)+l*i),this.enableColor){var f=this.colors[t+19]=a,d=this.colors[t+14]=f,p=this.colors[t+9]=d;this.colors[t+4]=p}this.positions[t+2]=n.x0,this.positions[t+3]=n.y0,this.positions[t+7]=n.x1,this.positions[t+8]=n.y1,this.positions[t+12]=n.x2,this.positions[t+13]=n.y2,this.positions[t+17]=n.x3,this.positions[t+18]=n.y3,this.writtenVertexBytes=t+20},enableAttributes:function(t){null==t&&(t=-1),this.enableColor=-1!=t,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var e=0,i=0,s=this.attributes;i<s.length;){var n=s[i];if(++i,n.enabled){var a;switch(n.type){case 5120:case 5121:a=1;break;case 5122:case 5123:a=2;break;default:a=4}e+=Math.floor(n.components*a/4)}}this.elementsPerVertex=e},flush:function(){if(this.preventFlush)throw new qn("SpriteBatch flush forbidden");if(0!=this.batchedSprites){if(null!=this.clipRect){this.gl;nr.context.enable(this.gl.SCISSOR_TEST);this.gl;nr.context.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height))}this.renderSession.activeTextures=1;var t=this.vertexArray;t.gl;nr.context.bindBuffer(t.gl.ARRAY_BUFFER,t.glBuffer);this.gl;nr.context.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e,i=this.vertexArray,s=this.positions.subarray(0,this.writtenVertexBytes);i.gl;nr.context.bufferSubData(i.gl.ARRAY_BUFFER,0,s),this.vertexBufferContextIndex=(this.vertexBufferContextIndex+1)%this.vertexBufferContexts.length,this.vertexArray=this.vertexBufferContexts[this.vertexBufferContextIndex].vertexArray,this.positions=this.vertexBufferContexts[this.vertexBufferContextIndex].positions,this.colors=this.vertexBufferContexts[this.vertexBufferContextIndex].colors;var n=0,a=0;this.currentState.shader=null,this.currentState.shaderData=null,this.currentState.texture=null,this.currentState.maskTexture=null,this.currentState.maskMatrix=null,this.currentState.textureSmooth=!1,this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode,this.currentState.colorTransform=null;for(var r=0,o=this.batchedSprites;r<o;){var h=r++;e=this.states[h];var _=this.currentState;if(!(null==e.shader&&null==_.shader||null!=e.shader&&null!=_.shader&&e.shader.ID==_.shader.ID)||e.texture!=_.texture||e.maskTexture!=_.maskTexture||e.textureSmooth!=_.textureSmooth||e.blendMode!=_.blendMode||!(e.skipColorTransform&&_.skipColorTransform||!e.skipColorTransform&&!_.skipColorTransform&&e.colorTransform.__equals(_.colorTransform,!0))){this.renderBatch(this.currentState,n,a),a=h,n=0,this.currentState.shader=e.shader,this.currentState.shaderData=e.shaderData,this.currentState.texture=e.texture,this.currentState.maskTexture=e.maskTexture;var l=e.maskTextureUVScale,u=this.currentState.maskTextureUVScale;u.x=l.x,u.y=l.y,this.currentState.maskMatrix=e.maskMatrix,this.currentState.textureSmooth=e.textureSmooth,this.currentState.blendMode=e.blendMode,this.currentState.skipColorTransform=e.skipColorTransform,this.currentState.colorTransform=this.currentState.skipColorTransform?null:e.colorTransform}++n}if(this.renderBatch(this.currentState,n,a),this.batchedSprites=0,this.writtenVertexBytes=0,null!=this.clipRect){this.gl;nr.context.disable(this.gl.SCISSOR_TEST)}}},renderBatch:function(t,e,i){if(0!=e&&null!=t.texture){var s=null==t.shader?null!=t.maskTexture?this.renderSession.shaderManager.defaultMaskedShader:this.renderSession.shaderManager.defaultShader:t.shader;if(this.renderSession.shaderManager.setShader(s),s.bindVertexArray(this.vertexArray),!0,this.renderSession.blendModeManager.setBlendMode(null!=s.blendMode?s.blendMode:t.blendMode),s.uniformMatrix3fv(s.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix),null!=t.colorTransform){s.uniform1i(s.getUniformLocation("openfl_uUseColorTransform"),1);var n=t.colorTransform;s.uniform4f(s.getUniformLocation("openfl_uColorMultiplier"),n.redMultiplier,n.greenMultiplier,n.blueMultiplier,1),s.uniform4f(s.getUniformLocation("openfl_uColorOffset"),n.redOffset/255,n.greenOffset/255,n.blueOffset/255,n.alphaOffset/255)}else s.uniform1i(s.getUniformLocation("openfl_uUseColorTransform"),0),s.uniform4f(s.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),s.uniform4f(s.getUniformLocation("openfl_uColorOffset"),0,0,0,0);this.gl;var a=this.gl.TEXTURE0;a!=nr.currentActiveTexture&&(nr.context.activeTexture(a),nr.currentActiveTexture=a);this.gl;var r=t.texture;if(nr.currentBoundTexture[nr.currentActiveTexture]!=r&&(nr.context.bindTexture(this.gl.TEXTURE_2D,r),null==(nr.currentBoundTexture[nr.currentActiveTexture]=r)||nr.textureStateCache.exists(r)||nr.textureStateCache.set(r,new yn)),null!=s.smooth&&s.smooth||t.textureSmooth){this.gl;var o=this.gl.TEXTURE_2D,h=this.gl.TEXTURE_MAG_FILTER,_=this.gl.LINEAR,l=nr.currentBoundTexture[nr.currentActiveTexture],u=nr.textureStateCache.get(l);u.h[h]!=_&&(nr.context.texParameteri(o,h,_),u.h[h]=_);this.gl;var c=this.gl.TEXTURE_2D,f=this.gl.TEXTURE_MIN_FILTER,d=this.gl.LINEAR,p=nr.currentBoundTexture[nr.currentActiveTexture],g=nr.textureStateCache.get(p);g.h[f]!=d&&(nr.context.texParameteri(c,f,d),g.h[f]=d)}else{this.gl;var m=this.gl.TEXTURE_2D,v=this.gl.TEXTURE_MAG_FILTER,b=this.gl.NEAREST,y=nr.currentBoundTexture[nr.currentActiveTexture],w=nr.textureStateCache.get(y);w.h[v]!=b&&(nr.context.texParameteri(m,v,b),w.h[v]=b);this.gl;var x=this.gl.TEXTURE_2D,T=this.gl.TEXTURE_MIN_FILTER,S=this.gl.NEAREST,C=nr.currentBoundTexture[nr.currentActiveTexture],E=nr.textureStateCache.get(C);E.h[T]!=S&&(nr.context.texParameteri(x,T,S),E.h[T]=S)}this.gl;var I=this.gl.TEXTURE_2D,P=this.gl.TEXTURE_WRAP_S,k=s.wrapS,D=nr.currentBoundTexture[nr.currentActiveTexture],A=nr.textureStateCache.get(D);A.h[P]!=k&&(nr.context.texParameteri(I,P,k),A.h[P]=k);this.gl;var M=this.gl.TEXTURE_2D,R=this.gl.TEXTURE_WRAP_T,F=s.wrapT,B=nr.currentBoundTexture[nr.currentActiveTexture],L=nr.textureStateCache.get(B);if(L.h[R]!=F&&(nr.context.texParameteri(M,R,F),L.h[R]=F),null!=t.maskTexture){this.gl;var N=this.gl.TEXTURE1;N!=nr.currentActiveTexture&&(nr.context.activeTexture(N),nr.currentActiveTexture=N);this.gl;var O=t.maskTexture;nr.currentBoundTexture[nr.currentActiveTexture]!=O&&(nr.context.bindTexture(this.gl.TEXTURE_2D,O),null==(nr.currentBoundTexture[nr.currentActiveTexture]=O)||nr.textureStateCache.exists(O)||nr.textureStateCache.set(O,new yn)),s.uniformMatrix3fv(s.getUniformLocation("openfl_uMaskMatrix"),!1,t.maskMatrix),s.uniform2f(s.getUniformLocation("openfl_uUVScale"),t.maskTextureUVScale.x,t.maskTextureUVScale.y)}s.applyData(t.shaderData,this.renderSession);this.gl;nr.context.drawElements(this.gl.TRIANGLES,6*e,this.gl.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},setState:function(t,e,i,s,n,a){null==i&&(i=!1);var r=this.states[t];if(null==r&&(r=this.states[t]=new hh),r.texture=e,null!=this.maskBitmap&&null!=this.maskBitmap.get_uvData()){r.maskTexture=this.maskBitmap.getTexture(this.gl);var o=this.maskBitmap.get_uvData(),h=r.maskTextureUVScale;h.x=o.x1,h.y=o.y2,r.maskMatrix.copyFrom(this.maskMatrix)}else r.maskTexture=null;r.textureSmooth=i,r.blendMode=null!=s?s:10,r.skipColorTransform=null!=n&&n.__isDefault(),r.skipColorTransform||(r.colorTransform.redMultiplier=n.redMultiplier,r.colorTransform.greenMultiplier=n.greenMultiplier,r.colorTransform.blueMultiplier=n.blueMultiplier,r.colorTransform.alphaMultiplier=n.alphaMultiplier,r.colorTransform.redOffset=n.redOffset,r.colorTransform.greenOffset=n.greenOffset,r.colorTransform.blueOffset=n.blueOffset,r.colorTransform.alphaOffset=n.alphaOffset),null==a?(r.shader=null,r.shaderData=null):(r.shader=a.__shader,r.shaderData=a.data)},setContext:function(t){this.gl=t;for(var e=0,i=this.vertexBufferContexts;e<i.length;){var s=i[e];++e,s.vertexArray.setContext(t,s.positions)}this.indexBuffer=nr.context.createBuffer(),nr.context.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),nr.context.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},prepareShader:function(t,e){if(null!=t){t.__init(this.gl),t.__shader.wrapS=t.repeatX,t.__shader.wrapT=t.repeatY,t.__shader.smooth=t.smooth,t.__shader.blendMode=t.blendMode;var i=t.data.get(Kh.uObjectSize),s=t.data.get(Kh.uTextureSize);if(null!=e)if(i.value[0]=e.width,i.value[1]=e.height,null!=e.get_bd().__pingPongTexture){var n=s.value,a=e.get_bd().__pingPongTexture;n[0]=(a.__swapped?a.__texture1:a.__texture0).__width;var r=s.value,o=e.get_bd().__pingPongTexture;r[1]=(o.__swapped?o.__texture1:o.__texture0).__height}else s.value[0]=e.width,s.value[1]=e.height;else i.value[0]=0,i.value[1]=0,s.value[0]=0,s.value[1]=0}},getElementsPerVertex:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var s=i[e];if(++e,s.enabled){var n;switch(s.type){case 5120:case 5121:n=1;break;case 5122:case 5123:n=2;break;default:n=4}t+=Math.floor(s.components*n/4)}}return t},setNextVertexBufferContext:function(){this.vertexBufferContextIndex=(this.vertexBufferContextIndex+1)%this.vertexBufferContexts.length,this.vertexArray=this.vertexBufferContexts[this.vertexBufferContextIndex].vertexArray,this.positions=this.vertexBufferContexts[this.vertexBufferContextIndex].positions,this.colors=this.vertexBufferContexts[this.vertexBufferContextIndex].colors},__class__:oh};var hh=function(){this.maskMatrix=new ho,this.maskTextureUVScale=new cr,this.skipColorTransform=!1,this.textureSmooth=!0,this.colorTransform=oo.pool.get(),this.colorTransform.reset()};(i["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=hh).__name__=["openfl","_internal","renderer","opengl","utils","_SpriteBatch","State"],hh.prototype={equals:function(t){return(null==this.shader&&null==t.shader||null!=this.shader&&null!=t.shader&&this.shader.ID==t.shader.ID)&&this.texture==t.texture&&this.maskTexture==t.maskTexture&&this.textureSmooth==t.textureSmooth&&this.blendMode==t.blendMode&&(!(!this.skipColorTransform||!t.skipColorTransform)||!this.skipColorTransform&&!t.skipColorTransform&&this.colorTransform.__equals(t.colorTransform,!0))},destroy:function(){this.texture=null,this.colorTransform=null,this.maskTexture=null,oo.pool.put(this.colorTransform),null!=this.maskMatrix&&(this.maskMatrix=null)},__class__:hh};var _h=function(t,e,i){null==i&&(i=!1),null==e&&(e=0),this.isStatic=!1,this.size=0,this.attributes=[],this.size=e,this.attributes=t,0<e&&(this.buffer=new qf(e)),this.isStatic=i};(i["openfl._internal.renderer.opengl.utils.VertexArray"]=_h).__name__=["openfl","_internal","renderer","opengl","utils","VertexArray"],_h.prototype={bind:function(){this.gl;nr.context.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},unbind:function(){this.gl;nr.context.bindBuffer(this.gl.ARRAY_BUFFER,null)},upload:function(t){this.gl;nr.context.bufferSubData(this.gl.ARRAY_BUFFER,0,t)},destroy:function(){if(null!=this.gl){this.gl;nr.context.deleteBuffer(this.glBuffer)}this.buffer=null},setContext:function(t,e){this.gl=t,this.glBuffer=nr.context.createBuffer(),nr.context.bindBuffer(t.ARRAY_BUFFER,this.glBuffer),nr.context.bufferData(t.ARRAY_BUFFER,e,this.isStatic?t.STATIC_DRAW:t.DYNAMIC_DRAW)},get_stride:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var s=i[e];if(++e,s.enabled){var n;switch(s.type){case 5120:case 5121:n=1;break;case 5122:case 5123:n=2;break;default:n=4}t+=4*Math.floor(s.components*n/4)}}return t},__class__:_h,__properties__:{get_stride:"get_stride"}};var lh=function(t,e,i,s,n){var a;(null==i&&(i=!1),this.enabled=!0,this.normalized=!1,this.components=t,this.type=e,this.normalized=i,this.name=s,null==n)?(a=null!=t?new Zf(t):null,this.defaultValue=a):this.defaultValue=n};(i["openfl._internal.renderer.opengl.utils.VertexAttribute"]=lh).__name__=["openfl","_internal","renderer","opengl","utils","VertexAttribute"],lh.prototype={copy:function(){return new lh(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},get_elements:function(){var t;switch(this.type){case 5120:case 5121:t=1;break;case 5122:case 5123:t=2;break;default:t=4}return Math.floor(this.components*t/4)},__class__:lh,__properties__:{get_elements:"get_elements"}};var uh=function(t){this.textField=t,this.width=100,this.height=100,this.text="",this.bounds=new El(0,0,0,0),this.type=0,this.autoSize=2,this.displayAsPassword=!1,this.embedFonts=!1,this.selectable=!0,this.computeAdvances=!1,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.sharpness=0,this.scrollH=0,this.scrollV=1,this.wordWrap=!1,this.lineAscents=[],this.lineBreaks=[],this.lineDescents=[],this.lineLeadings=[],this.lineHeights=[],this.lineWidths=[],this.layoutGroups=[],this.lineLayoutGroups=[],this.textFormatRanges=[],uh.__canvas=window.document.createElement("canvas"),uh.__context=uh.__canvas.getContext("2d")};(i["openfl._internal.text.TextEngine"]=uh).__name__=["openfl","_internal","text","TextEngine"],uh.__canvas=null,uh.__context=null,uh.getFont=function(t){var e=t.font,i=t.italic?"italic ":"normal ";switch(i+="normal ",i+=t.bold?"bold ":"normal ",i+=t.size+"px",i+="/"+(t.size+t.leading+6)+"px ",t.font){case"_sans":i+="sans-serif";break;case"_serif":i+="serif";break;case"_typewriter":i+="monospace";break;default:i+="'"+e+"'"}var s=i,n=Dt.getProperty(ro.getLibrary("default"),"fontData").get(e);if(null==n){pn.trace("Warning: No font data found for font: "+e+". Falling back to "+t.font,{fileName:"TextEngine.hx",lineNumber:242,className:"openfl._internal.text.TextEngine",methodName:"getFont"}),n=Dt.getProperty(ro.getLibrary("default"),"fontData").get(t.font);var a=t.font,r="normal ";switch(r+="normal ",r+="normal ",r+=t.size+"px",r+="/"+(t.size+t.leading+6)+"px ",t.font){case"_sans":r+="sans-serif";break;case"_serif":r+="serif";break;case"_typewriter":r+="monospace";break;default:r+="'"+a+"'"}if(s=r,null==n)return pn.trace("Fallback didn't contain font data. Falling back to defaults.",{fileName:"TextEngine.hx",lineNumber:248,className:"openfl._internal.text.TextEngine",methodName:"getFont"}),{name:s,ascent:.825,descent:.175}}return{name:s,ascent:n.ascent,descent:n.descent}},uh.getFontInstance=function(t){return null},uh.prototype={getBounds:function(){var t=this.border?1:0;this.bounds.width=this.width+t,this.bounds.height=this.height+t},getLine:function(t){return t<0||t>this.lineBreaks.length+1?null:0==this.lineBreaks.length?this.text:this.text.substring(0<t?this.lineBreaks[t-1]:0,this.lineBreaks[t])},calculateFontDimensions:function(t,e){var i={};return i.ascent=t.size*e.ascent,i.descent=t.size*e.descent,i.leading=t.leading,i.height=i.ascent+i.descent+i.leading,i},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length);var t=0,e=0,i=null,s=0,n=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.bottomScrollV=0;for(var a=this.maxScrollH=0,r=this.lineLayoutGroups;a<r.length;){var o=r[a];if(++a,0<o.length){for(var h=o[0];h.lineIndex>this.numLines-1;)this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(s),this.lineWidths.push(n),i=null,n=s=e=t=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;t=Math.max(t,h.ascent),e=Math.max(e,h.descent),i=null==i?h.leading:0|Math.max(i,h.leading),s=Math.max(s,h.height),this.textHeight=h.offsetY-2+h.ascent+h.descent;for(var _=n=0;_<o.length;){var l=o[_];++_,(n+=l.width)>this.textWidth&&(this.textWidth=n)}}}this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(s),this.lineWidths.push(n),1==this.numLines?(this.bottomScrollV=1,0<i&&(this.textHeight+=i)):this.textHeight<=this.height-2&&this.bottomScrollV++,this.textWidth>this.width-4?this.maxScrollH=this.textWidth-this.width+4|0:this.maxScrollH=0,this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){var t=this;this.layoutGroups.splice(0,this.layoutGroups.length),this.lineLayoutGroups.splice(0,this.lineLayoutGroups.length);var e,i=-1,s=null,n=this.textField.get_defaultTextFormat(),a=0,r=0,o=0,h=0,_=[],l=0,u=2,c=2,f=0,d=0,p=this.text.length;if(i<t.textFormatRanges.length-1){++i,s=t.textFormatRanges[i],n.__merge(s.format);var g=uh.getFont(n);uh.__context.font=g.name;var m=t.calculateFontDimensions(n,g);r=m.ascent,o=m.descent,a=m.leading,l=m.height}var v=s.format;e=new fh(v,s.start,-1);var b=u,y=2==u;if(y&&0<v.leftMargin&&(b+=v.leftMargin),y&&v.bullet){b+=uh.__context.measureText("\t\t").width}for(e.offsetX=b,e.ascent=r,e.descent=o,e.leading=a,e.lineIndex=d,e.offsetY=c,e.height=l,h=0;f<p;){var w=p,x=t.text.indexOf(" ",f);0<=x&&x<w&&(w=x);var T=t.text.indexOf("-",f);0<=T&&T<w&&(w=T);var S=t.text.indexOf("\n",f);0<=S&&S<w&&(w=S);var C=this.text.charAt(w);s.end-1<w&&"\n"==C&&(w=s.end-1,C=this.text.charAt(w));var E=this.text,I=e.startIndex,P=null==I&&null==w?uh.__context.measureText(E).width:uh.__context.measureText(E.substring(I,w)).width;if(t.selectable||t.computeAdvances){for(var k=this.text,D=[],A=e.startIndex,M=w;A<M;){var R=A++,F=k.charAt(R),B=ln.repeat(64,F),L=uh.__context.measureText(B).width/64;D.push(L)}_=D}if(1<w-f&&this.wordWrap&&Math.floor(e.offsetX+P)>this.width-4){var N=this.text,O=null==f&&null==w?uh.__context.measureText(N).width:uh.__context.measureText(N.substring(f,w)).width;if(2==e.offsetX&&Math.floor(e.offsetX+O)>this.width-4){if(null==_||0==_.length){for(var U=this.text,z=[],G=e.startIndex,X=w;G<X;){var V=G++,H=U.charAt(V),Y=ln.repeat(64,H),W=uh.__context.measureText(Y).width/64;z.push(W)}_=z}for(var j=0,K=0;K<_.length;){if(j+=_[K],Math.floor(e.offsetX+j)>this.width-4){f=e.startIndex+K,_.splice(f-e.startIndex,w-f);break}++K}K==_.length&&(f=e.startIndex+K),h=this.width-4}var q=f;if(e.startIndex!=q){for(e.endIndex=q,e.width=h,e.advances=_,_=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}for(;" "==t.text.charAt(q);)++q;c+=l,u=2,++d;var J=s.format;e=new fh(J,q,-1);var Z=u,Q=2==u;if(Q&&0<J.leftMargin&&(Z+=J.leftMargin),Q&&J.bullet){Z+=uh.__context.measureText("\t\t").width}e.offsetX=Z,e.ascent=r,e.descent=o,e.leading=a,e.lineIndex=d,e.offsetY=c,e.height=l,h=0}else{if(f=w+1,h=P,"\n"==C){var $=f;if(e.startIndex!=$){for(e.endIndex=$,e.width=h,e.advances=_,_=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}for(;" "==t.text.charAt($);)++$;c+=l,u=2,++d;var tt=s.format;e=new fh(tt,$,-1);var et=u,it=2==u;if(it&&0<tt.leftMargin&&(et+=tt.leftMargin),it&&tt.bullet){et+=uh.__context.measureText("\t\t").width}e.offsetX=et,e.ascent=r,e.descent=o,e.leading=a,e.lineIndex=d,e.offsetY=c,e.height=l,h=0}else{for(var st=0;" "==C;)++st,C=this.text.charAt(w+st);0<st&&(f+=st-1)}if(f>=s.end){f=s.end;var nt=this.text,at=e.startIndex;if(h=null==at&&null==f?uh.__context.measureText(nt).width:uh.__context.measureText(nt.substring(at,f)).width,t.selectable||t.computeAdvances){for(var rt=this.text,ot=[],ht=e.startIndex,_t=f;ht<_t;){var lt=ht++,ut=rt.charAt(lt),ct=ln.repeat(64,ut),ft=uh.__context.measureText(ct).width/64;ot.push(ft)}_=ot}if(e.startIndex!=f){for(e.endIndex=f,e.width=h,e.advances=_,_=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}if(u=e.offsetX+h,i<t.textFormatRanges.length-1){++i,s=t.textFormatRanges[i],n.__merge(s.format);var dt=uh.getFont(n);uh.__context.font=dt.name;var pt=t.calculateFontDimensions(n,dt);r=pt.ascent,o=pt.descent,a=pt.leading,l=pt.height}var gt=s.format;e=new fh(gt,s.start,-1);var mt=u,vt=2==u;if(vt&&0<gt.leftMargin&&(mt+=gt.leftMargin),vt&&gt.bullet){mt+=uh.__context.measureText("\t\t").width}e.offsetX=mt,e.ascent=r,e.descent=o,e.leading=a,e.lineIndex=d,e.offsetY=c,e.height=l,h=0}else if(2==s.format.align){var bt=w;if(e.startIndex!=bt){for(e.endIndex=bt,e.width=h,e.advances=_,_=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}u=e.offsetX+e.width;var yt=s.format;e=new fh(yt,f,-1);var wt=u,xt=2==u;if(xt&&0<yt.leftMargin&&(wt+=yt.leftMargin),xt&&yt.bullet){wt+=uh.__context.measureText("\t\t").width}e.offsetX=wt,e.ascent=r,e.descent=o,e.leading=a,e.lineIndex=d,e.offsetY=c,e.height=l,h=0}}}if(i<this.textFormatRanges.length-1)throw new qn("not all text ranges were processed by the text engine.")},setTextAlignment:function(){var t,e,i=-1,s=0,n=this.width;if(2==this.autoSize||this.multiline||(n=this.textWidth),0<this.lineLayoutGroups.length)for(var a=0,r=this.lineLayoutGroups.length;a<r;){var o=a++;if(0<(e=this.lineLayoutGroups[o]).length)switch(i=(t=e[0]).lineIndex,t.format.align){case 0:s=this.lineWidths[i]<n-4?Math.round((n-4-this.lineWidths[i])/2):0;break;case 2:if(this.lineWidths[i]<n-4&&1<e.length){s=(t=e[e.length-1]).endIndex<this.text.length&&"\n"!=this.text.charAt(t.endIndex)?(n-4-this.lineWidths[i])/(e.length-1):uh.__context.measureText(" ").width;for(var h=0,_=e.length;h<_;){var l=h++;e[l].offsetX+=s*l}}s=0;break;case 4:s=this.lineWidths[i]<n-4?Math.round(n-4-this.lineWidths[i]):0;break;default:s=0}if(0<s)for(var u=0;u<e.length;){var c=e[u];++u,c.offsetX+=s}}},update:function(){null==this.text||""==In.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.lineLayoutGroups.splice(0,this.lineLayoutGroups.length),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},__class__:uh};var ch=function(t,e,i){this.format=t,this.start=e,this.end=i};(i["openfl._internal.text.TextFormatRange"]=ch).__name__=["openfl","_internal","text","TextFormatRange"],ch.prototype={__class__:ch};var fh=function(t,e,i){this.format=t,this.startIndex=e,this.endIndex=i};(i["openfl._internal.text.TextLayoutGroup"]=fh).__name__=["openfl","_internal","text","TextLayoutGroup"],fh.prototype={__class__:fh};var dh=function(){ua.call(this),null==lo.application&&(lo.application=this)};(i["openfl.display.Application"]=dh).__name__=["openfl","display","Application"],dh.__super__=ua,dh.prototype=s(ua.prototype,{create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var s=i[e];++e;var n=new n_(s);this.createWindow(n);break}null!=this.preloader&&!this.preloader.complete||this.onPreloadComplete()}},__class__:dh});var ph=function(t,e,i){null==i&&(i=!1),W.call(this),this.bitmapData=t,this.pixelSnapping=e,this.smoothing=i,this.__useSeparateRenderScaleTransform=!1,null==e&&(this.pixelSnapping=1)};(i["openfl.display.Bitmap"]=ph).__name__=["openfl","display","Bitmap"],ph.__super__=W,ph.prototype=s(W.prototype,{__getBounds:function(t){null!=this.bitmapData?t.setTo(0,0,this.bitmapData.width,this.bitmapData.height):t.setEmpty()},__hitTest:function(t,e,i,s,n,a){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>W.__lastMouseListenerBranchDepth)||!a.__visible)||this.__isMask)||null==this.bitmapData)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;this.__getWorldTransform();var r=this.__worldTransform,o=r.a*r.d-r.b*r.c,h=0==o?-r.tx:1/o*(r.c*(r.ty-e)+r.d*(t-r.tx)),_=this.__worldTransform,l=_.a*_.d-_.b*_.c,u=0==l?-_.ty:1/l*(_.a*(e-_.ty)+_.b*(_.tx-t));return 0<h&&0<u&&h<=this.bitmapData.width&&u<=this.bitmapData.height&&(null==s||n||(s._items[s._length++]=a),!0)},__hitTestMask:function(t,e){if(null==this.bitmapData)return!1;this.__getWorldTransform();var i=this.__worldTransform,s=i.a*i.d-i.b*i.c,n=0==s?-i.tx:1/s*(i.c*(i.ty-e)+i.d*(t-i.tx)),a=this.__worldTransform,r=a.a*a.d-a.b*a.c,o=0==r?-a.ty:1/r*(a.a*(e-a.ty)+a.b*(a.tx-t));return 0<n&&0<o&&n<=this.bitmapData.width&&o<=this.bitmapData.height},__renderCanvasMask:function(t){t.context.rect(0,0,this.get_width(),this.get_height())},__renderGL:function(t){if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,s=this.__cacheGLMatrix,n=this.__worldColorTransform,a=this.__worldAlpha,r=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,s,n,a,r,o,2)}this.__isCachingAsBitmap=!1}else{if(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.isRenderable()&&!(this.__worldAlpha<=0)&&null!=this.bitmapData&&this.bitmapData.get_valid()){var h=ho.pool.get();h.copyFrom(this.__renderTransform);var _=this.bitmapData,l=this.smoothing,u=this.__renderColorTransform,c=this.__renderAlpha,f=this.__blendMode,d=this.__shader,p=this.pixelSnapping;null!=_&&t.spriteBatch.renderBitmapDataEx(_,_.physicalWidth,_.physicalHeight,_.get_uvData(),l,h,u,c,f,d,p),ho.pool.put(h)}null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(t){return null!=this.bitmapData?(t!=this.bitmapData.height&&this.set_scaleY(t/this.bitmapData.height),t):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(t){return null!=this.bitmapData?(t!=this.bitmapData.width&&this.set_scaleX(t/this.bitmapData.width),t):0},__class__:ph});function gh(){}(i["openfl.display.IBitmapData"]=gh).__name__=["openfl","display","IBitmapData"],gh.prototype={__class__:gh,__properties__:{get_valid:"get_valid",set_uvData:"set_uvData",get_uvData:"get_uvData",get_src:"get_src",get_bd:"get_bd"}};var mh=function(t,e,i,s,n){null==s&&(s=-1),null==i&&(i=!0),this.__imageShouldBeSynced=!1,this.__usingPingPongTexture=!1,this.__renderToLocalMatrix=new ho,this.__keepSource=!1,this.transparent=i,(null==t||t<0)&&(t=0),(null==e||e<0)&&(e=0),this.width=this.physicalWidth=t,this.height=this.physicalHeight=e,0<t&&0<e&&(i?0==(-16777216&s)&&(s=0):s=-16777216|16777215&s,s=s<<8|s>>>24&255,this.__image=new ja(null,0,0,t,e,s,n),this.__image.set_transparent(i),this.__isValid=!0),this.__createUVs(),this.__worldTransform=new ho,this.__renderColorTransform=new oo};(i["openfl.display.BitmapData"]=mh).__name__=["openfl","display","BitmapData"],mh.__interfaces__=[gh,a],mh.spritesheet=null,mh.fromBase64=function(t,e,i){var s=new mh(0,0,!0),n=i,a=s;return ja.fromBase64(t,e,function(t){a.__fromImage(t,t.width,t.height),null!=n&&n(a)}),s},mh.fromBytes=function(t,e,i){var s=new mh(0,0,!0),n=e,a=i,r=s;return ja.fromBytes(su.toBytes(t),function(t){if(r.__fromImage(t,t.width,t.height),null!=n){ar.convertToCanvas(t),ar.createImageData(t);for(var e=t.buffer.data,i=0,s=su.get_length(n);i<s;){e[4*i+++3]=n.readUnsignedByte()}t.dirty=!0}null!=a&&a(r)}),s},mh.fromCanvas=function(t,e,i,s,n){if(null==e&&(e=!0),null==t)return null;var a=new mh(0,0,e);return a.__fromImage(ja.fromCanvas(t),i,s,n),a.__image.set_transparent(e),a},mh.fromGraphics=function(t,e,i){null==e&&(e=!0);var s=t.__bounds;return mh.fromCanvas(t.__canvas,null,s.width,s.height,i)},mh.fromFile=function(t,e,i){var s=new mh(0,0,!0);return s.__fromFile(t,e,i),s},mh.fromImage=function(t,e){if(null==e&&(e=!0),null==t||null==t.buffer)return null;var i=new mh(0,0,e);return i.__fromImage(t,t.width,t.height),i.__image.set_transparent(e),i},mh.__asRenderTexture=function(){return new mh(0,0)},mh.getFromSymbol=function(t){if(ro.cache.hasBitmapData(t.path))return ro.cache.getBitmapData(t.path);if(mh.isSpritesheetImage(t.path))return mh.getFromSpritesheet(t.id,t.path);var e=aa.getImage(t.path,!1);if(null!=e&&null!=t.alpha&&""!=t.alpha){var i=aa.getImage(t.alpha,!1);e.copyChannel(i,i.get_rect(),new cr,qa.RED,qa.ALPHA),e.buffer.premultiplied=!0,e.set_premultiplied(!1)}var s=mh.fromImage(e);return ro.cache.setBitmapData(t.path,s),s},mh.isSpritesheetImage=function(t){return null!=mh.spritesheet&&!mh.spritesheet.isBitmapExcluded(t)},mh.getFromSpritesheet=function(t,e){if(ro.cache.hasBitmapData(e))return ro.cache.getBitmapData(e);var i=mh.spritesheet.getBitmapDataByFrameName(e);return ro.cache.setBitmapData(e,i),i},mh.prototype={applyFilter:function(t,e,i,s){this.__isValid&&null!=t&&t.__isValid&&(ar.convertToCanvas(this.get_image()),ar.createImageData(this.get_image()),ar.convertToCanvas(t.get_image()),ar.createImageData(t.get_image()),s.__applyFilter(this.get_image().buffer.__srcImageData,t.get_image().buffer.__srcImageData,e,i),this.get_image().dirty=!0)},clone:function(){return this.__isValid?mh.fromImage(this.__image.clone(),this.transparent):new mh(this.physicalWidth,this.physicalHeight,this.transparent)},get_bd:function(){return this},get_src:function(){return this.get_image().get_src()},get_uvData:function(){return this.__uvData},set_uvData:function(t){return this.__createUVs(t.x0,t.y0,t.x1,t.y1,t.x2,t.y2,t.x3,t.y3),t},get_valid:function(){return this.__isValid},colorTransform:function(t,e){this.__isValid&&(this.get_image().colorTransform(t.__toLimeRectangle(),e.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},compare:function(t){if(t==this)return 0;if(null==t)return-1;if(0==this.__isValid||0==t.__isValid)return-2;if(this.physicalWidth!=t.physicalWidth)return-3;if(this.physicalHeight!=t.physicalHeight)return-4;if(null!=this.get_image()&&null!=t.get_image()&&this.get_image().get_format()==t.get_image().get_format()){for(var e=this.get_image().get_data(),i=t.get_image().get_data(),s=!0,n=0,a=e.length;n<a;){var r=n++;if(e[r]!=i[r]){s=!1;break}}if(s)return 0}for(var o,h,_,l,u,c,f,d,p=null,g=0,m=this.physicalHeight;g<m;)for(var v=g++,b=0,y=this.physicalWidth;b<y;){var w=b++;o=!1,l=0,(h=this.getPixel32(w,v))!=(_=t.getPixel32(w,v))&&((u=(h>>16&255)-(_>>16&255))<0&&(u*=-1),(c=(h>>8&255)-(_>>8&255))<0&&(c*=-1),(f=(255&h)-(255&_))<0&&(f*=-1),0==u&&0==c&&0==f?0!=(d=(h>>24&255)-(_>>24&255))&&(l=(255&d)<<24|(255&(l=(255&(l=(255&(l=(255&l>>24)<<24|16711680|(255&l>>8)<<8|255&l)>>24)<<24|(255&l>>16)<<16|65280|255&l)>>24)<<24|(255&l>>16)<<16|(255&l>>8)<<8|255)>>16)<<16|(255&l>>8)<<8|255&l,o=!0):(l=-16777216|(255&(l=(255&(l=(255&(l=(255&l>>24)<<24|(255&u)<<16|(255&l>>8)<<8|255&l)>>24)<<24|(255&l>>16)<<16|(255&c)<<8|255&l)>>24)<<24|(255&l>>16)<<16|(255&l>>8)<<8|255&f)>>16)<<16|(255&l>>8)<<8|255&l,o=!0)),o&&(null==p&&(p=new mh(this.physicalWidth,this.physicalHeight,this.transparent||t.transparent,0)),p.setPixel32(w,v,l))}return null==p?0:p},copyChannel:function(t,e,i,s,n){if(this.__isValid){var a,r;switch(s){case 1:a=qa.RED;break;case 2:a=qa.GREEN;break;case 4:a=qa.BLUE;break;case 8:a=qa.ALPHA;break;default:return}switch(n){case 1:r=qa.RED;break;case 2:r=qa.GREEN;break;case 4:r=qa.BLUE;break;case 8:r=qa.ALPHA;break;default:return}this.get_image().copyChannel(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),a,r),this.__usingPingPongTexture=!1}},copyPixels:function(t,e,i,s,n,a){null==a&&(a=!1),this.__isValid&&null!=t&&(this.get_image().copyPixels(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),null!=s?s.get_image():null,null!=n?n.__toLimeVector2():null,a),this.__usingPingPongTexture=!1)},dispose:function(){this.__image=null,this.width=0,this.height=0,this.__isValid=!1;var t=lo.current.stage.__renderer;if(null!=t&&null!=t.renderSession.gl){if(null!=this.__texture){var e=this.__texture;nr.textureStateCache.remove(e),nr.context.deleteTexture(e),this.__texture=null}null!=this.__buffer&&(nr.context.deleteBuffer(this.__buffer),this.__buffer=null)}null!=this.__pingPongTexture&&(this.__pingPongTexture.destroy(),this.__pingPongTexture=null),null!=this.__uvData&&(Bh.pool.put(this.__uvData),this.__uvData=null)},disposeBackBuffer:function(){null!=this.__pingPongTexture&&this.__pingPongTexture.destroyOldRenderTexture()},draw:function(t,e,i,s,n,a){if(null==a&&(a=!1),this.__isValid){if(null!=i&&!i.__isDefault()||null!=s)throw new qn(":TODO: Not supported");var r=lo.current.stage.__renderer.renderSession,o=!0;if(Jn.__instanceof(t,W)){var h=Jn.__cast(t,W);(o=!!h.__visible&&h.isRenderable())||(h.set_visible(!0),h.__update(!1,!0))}t.__updateTransforms(),t.__updateChildren(!0);var _=!this.__usingPingPongTexture;this.__pushFrameBuffer(r,a,!1,!0),Yo.drawBitmapDrawable(r,_?this:null,t,e,n,null,null),Yo.popFramebuffer(r,null),this.__imageShouldBeSynced=!0;var l=this.__pingPongTexture,u=(l.__swapped?l.__texture1:l.__texture0).__uvData;this.__createUVs(u.x0,u.y0,u.x1,u.y1,u.x2,u.y2,u.x3,u.y3),this.__isValid=!0,this.__usingPingPongTexture=!0,Jn.__instanceof(t,W)&&!o&&Jn.__cast(t,W).set_visible(o)}},encode:function(t,e,i){return this.__isValid&&null!=t?Jn.__instanceof(e,Yh)?su.fromBytes(this.get_image().encode("png")):Jn.__instanceof(e,Uh)?su.fromBytes(this.get_image().encode("jpg",Jn.__cast(e,Uh).quality)):null:null},fillRect:function(t,e){this.__isValid&&null!=t&&(this.transparent&&0==(-16777216&e)&&(e=0),this.get_image().fillRect(t.__toLimeRectangle(),e,1),this.__usingPingPongTexture=!1)},floodFill:function(t,e,i){this.__isValid&&(this.get_image().floodFill(t,e,i,1),this.__usingPingPongTexture=!1)},generateFilterRect:function(t,e){return t.clone()},getBuffer:function(t){if(null==this.__buffer){var e=[this.width,this.height,0,1,1,0,this.height,0,0,1,this.width,0,0,1,0,0,0,0,0,0];this.__buffer=nr.context.createBuffer(),nr.context.bindBuffer(t.ARRAY_BUFFER,this.__buffer);var i,s=t.ARRAY_BUFFER;i=null!=e?new Zf(e):null,nr.context.bufferData(s,i,t.STATIC_DRAW),nr.context.bindBuffer(t.ARRAY_BUFFER,null)}return this.__buffer},getColorBoundsRect:function(t,e,i){if(null==i&&(i=!0),!this.__isValid)return new El(0,0,this.width,this.height);if(!this.transparent||0<(t>>24&255)){0==(e>>24&255)&&0}var s=this.get_image().getColorBoundsRect(t,e,i,1);return new El(s.x,s.y,s.width,s.height)},getPixel:function(t,e){return this.__isValid?this.get_image().getPixel(t,e,1):0},getPixel32:function(t,e){return this.__isValid?this.get_image().getPixel32(t,e,1):0},getPixels:function(t){return this.__isValid?(null==t&&(t=El.__temp,this.getPhysicalRect(t)),su.fromBytes(this.get_image().getPixels(t.__toLimeRectangle(),1))):null},getTexture:function(t){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture){var e=this.__pingPongTexture;return e.useOldTexture?(e.__swapped?e.__texture0:e.__texture1).texture:(e.__swapped?e.__texture1:e.__texture0).texture}if(null==this.__texture){this.__texture=nr.context.createTexture();var i=this.__texture;nr.currentBoundTexture[nr.currentActiveTexture]!=i&&(nr.context.bindTexture(t.TEXTURE_2D,i),null==(nr.currentBoundTexture[nr.currentActiveTexture]=i)||nr.textureStateCache.exists(i)||nr.textureStateCache.set(i,new yn));var s=t.TEXTURE_2D,n=t.TEXTURE_WRAP_S,a=t.CLAMP_TO_EDGE,r=nr.currentBoundTexture[nr.currentActiveTexture],o=nr.textureStateCache.get(r);o.h[n]!=a&&(nr.context.texParameteri(s,n,a),o.h[n]=a);var h=t.TEXTURE_2D,_=t.TEXTURE_WRAP_T,l=t.CLAMP_TO_EDGE,u=nr.currentBoundTexture[nr.currentActiveTexture],c=nr.textureStateCache.get(u);c.h[_]!=l&&(nr.context.texParameteri(h,_,l),c.h[_]=l);var f=t.TEXTURE_2D,d=t.TEXTURE_MAG_FILTER,p=t.LINEAR,g=nr.currentBoundTexture[nr.currentActiveTexture],m=nr.textureStateCache.get(g);m.h[d]!=p&&(nr.context.texParameteri(f,d,p),m.h[d]=p);var v=t.TEXTURE_2D,b=t.TEXTURE_MIN_FILTER,y=t.LINEAR,w=nr.currentBoundTexture[nr.currentActiveTexture],x=nr.textureStateCache.get(w);x.h[b]!=y&&(nr.context.texParameteri(v,b,y),x.h[b]=y),this.__image.dirty=!0}if(null!=this.__image&&this.__image.dirty){var T,S;S=1==this.__image.buffer.bitsPerPixel?(T=t.ALPHA,t.ALPHA):(T=t.RGBA,t.RGBA);var C=this.__texture;nr.currentBoundTexture[nr.currentActiveTexture]!=C&&(nr.context.bindTexture(t.TEXTURE_2D,C),null==(nr.currentBoundTexture[nr.currentActiveTexture]=C)||nr.textureStateCache.exists(C)||nr.textureStateCache.set(C,new yn));var E=this.__image,I=t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,P=!E.get_premultiplied()&&E.get_transparent()?1:0;nr.context.pixelStorei(I,P);var k=E.buffer.get_glCompatibleBuffer();if(null==k){var D=t.TEXTURE_2D,A=this.physicalWidth,M=this.physicalHeight,R=t.UNSIGNED_BYTE,F=E.get_data();nr.context.texImage2D(D,0,T,A,M,0,S,R,F)}else nr.context.texImage2D(t.TEXTURE_2D,0,T,S,t.UNSIGNED_BYTE,k);this.__image.dirty=!1,this.__keepSource||null==this.__image.buffer.__srcCanvas||(zo.pool.put(this.__image.buffer.__srcCanvas),this.__image.buffer.__srcCanvas=null,this.__image=null)}return this.__texture},getVector:function(t){var e=this.getPixels(t),i=su.get_length(e)/4|0,s=new Le,n=new Array(i);s.data=n,s.length=i,s.fixed=!0;for(var a=s,r=0,o=i;r<o;){var h=r++,_=e.readUnsignedInt();if(!a.fixed&&(h>=a.length&&(a.length=1+h),a.data.length<a.length)){var l=a.data.length+10,u=new Array(l);Sn.blit(a.data,0,u,0,a.data.length),a.data=u}a.data[h]=_}return a},histogram:function(t){for(var e=null!=t?t:new El(0,0,this.physicalWidth,this.physicalHeight),i=this.getPixels(e),s=[],n=0;n<4;){n++;for(var a=[],r=0;r<256;){r++;a.push(0)}s.push(a)}for(var o=s,h=0,_=su.get_length(i);h<_;){++o[h++%4][i.readUnsignedByte()]}return o},hitTest:function(t,e,i,s,n){if(null==n&&(n=1),!this.__isValid)return!1;if(Jn.__instanceof(i,ph)&&(i=Jn.__cast(i,ph).bitmapData),Jn.__instanceof(i,_o)){var a=i;a.x,t.x,a.y,t.y;throw new qn(":TODO: compute rect")}if(Jn.__instanceof(i,mh)){throw null==s?0:(s.x-t.x|0,s.y-t.y|0),new qn(":TODO: compute rect")}if(Jn.__instanceof(i,El)){var r=El.__temp;if(r.copyFrom(i),r.offset(-t.x,-t.y),r.__contract(0,0,this.width,this.height),0<r.width&&0<r.height)for(var o=this.getPixels(r),h=0,_=su.get_length(o)/4|0;h<_;){h++;if(e<=(o.readUnsignedInt()>>24&255))return!0}}return!1},lock:function(){},merge:function(t,e,i,s,n,a,r){this.__isValid&&null!=t&&t.__isValid&&null!=e&&null!=i&&(this.get_image().merge(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),s,n,a,r),this.__usingPingPongTexture=!1)},noise:function(t,e,i,s,n){if(null==n&&(n=!1),null==s&&(s=7),null==i&&(i=255),null==e&&(e=0),this.__isValid){var a=function(){return t=1103515245*t+12345,(0|Math.abs(t/65536))%32768};a();for(var r=i-e,o=1==(1&s),h=(2&s)>>1==1,_=(4&s)>>2==1,l=(8&s)>>3==1,u=0,c=this.physicalHeight;u<c;)for(var f=u++,d=0,p=this.physicalWidth;d<p;){var g=d++,m=0,v=0,b=0,y=255;n?(m=b=v=e+a()%r,y=255):(o&&(m=e+a()%r),h&&(b=e+a()%r),_&&(v=e+a()%r),l&&(y=e+a()%r));var w=y;w=((w=((w=(w<<8)+m)<<8)+b)<<8)+v,this.setPixel32(g,f,w)}}},paletteMap:function(t,e,i,s,n,a,r){for(var o,h,_,l,u,c,f,d,p,g,m=0|e.width,v=0|e.height,b=this.getPixels(e),y=b.position=0,w=v*m;y<w;){var x=y++;o=b.readUnsignedInt(),255<(u=((f=null==r?-16777216&o:r[o>>24&255])>>24&255)+((d=null==s?16711680&o:s[o>>16&255])>>24&255)+((p=null==n?65280&o:n[o>>8&255])>>24&255)+((g=null==a?255&o:a[255&o])>>24&255))&&(u=255),255<(h=(f>>16&255)+(d>>16&255)+(p>>16&255)+(g>>16&255))&&(h=255),255<(_=(f>>8&255)+(d>>8&255)+(p>>8&255)+(g>>8&255))&&(_=255),255<(l=(255&f)+(255&d)+(255&p)+(255&g))&&(l=255),c=u<<24|h<<16|_<<8|l,b.position=4*x,b.writeUnsignedInt(c)}b.position=0;var T=new El(i.x,i.y,m,v);this.setPixels(T,b)},perlinNoise:function(t,e,i,s,n,a,r,o,h){null==o&&(o=!1),null==r&&(r=7),lo.notImplemented("BitmapData.perlinNoise")},scroll:function(t,e){this.__isValid&&(this.get_image().scroll(t,e),this.__usingPingPongTexture=!1)},setPixel:function(t,e,i){this.__isValid&&(this.get_image().setPixel(t,e,i,1),this.__usingPingPongTexture=!1)},setPixel32:function(t,e,i){this.__isValid&&(this.get_image().setPixel32(t,e,i,1),this.__usingPingPongTexture=!1)},setPixels:function(t,e){this.__isValid&&null!=t&&(this.get_image().setPixels(t.__toLimeRectangle(),su.toBytes(e),1),this.__usingPingPongTexture=!1)},setVector:function(t,e){var i=new nn(0);su.set_length(i,4*e.length);for(var s=0;s<e.length;){var n=e.data[s];++s,i.writeUnsignedInt(n)}i.position=0,this.setPixels(t,i)},threshold:function(t,e,i,s,n,a,r,o){return null==o&&(o=!1),null==r&&(r=-1),null==a&&(a=0),null==t||null==e||null==i||e.x>t.width||e.y>t.height||i.x>this.width||i.y>this.height?0:this.get_image().threshold(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),s,n,a,r,o,1)},unlock:function(t){},__createUVs:function(t,e,i,s,n,a,r,o){null==o&&(o=1),null==r&&(r=0),null==a&&(a=1),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),null==this.__uvData&&(this.__uvData=Bh.pool.get()),this.__uvData.x0=t,this.__uvData.y0=e,this.__uvData.x1=i,this.__uvData.y1=s,this.__uvData.x2=n,this.__uvData.y2=a,this.__uvData.x3=r,this.__uvData.y3=o},__pushFrameBuffer:function(t,e,i,s){null==s&&(s=!0),null==i&&(i=!1),null==e&&(e=!1);var n=El.pool.get();this.getPhysicalRect(n),this.__pingPongTexture=Yo.pushFramebuffer(t,this.__pingPongTexture,n,e,this.transparent,i,s),El.pool.put(n)},__drawGL:function(t,e,i,s,n,a,r,o,h,_,l){null==h&&(h=!0),null==o&&(o=!1),null==r&&(r=!1),null==a&&(a=!1),null==n&&(n=!1),this.__pushFrameBuffer(t,n,r,h),Yo.drawBitmapDrawable(t,a?this:null,e,i,s,_,l),Yo.popFramebuffer(t,o?this.__image:null),o||(this.__imageShouldBeSynced=!0);var u=this.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;this.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__popFrameBuffer:function(t,e){null==e&&(e=!1),Yo.popFramebuffer(t,e?this.__image:null),e||(this.__imageShouldBeSynced=!0);var i=this.__pingPongTexture,s=(i.__swapped?i.__texture1:i.__texture0).__uvData;this.__createUVs(s.x0,s.y0,s.x1,s.y1,s.x2,s.y2,s.x3,s.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__fromBase64:function(t,e,i){var s=this;ja.fromBase64(t,e,function(t){s.__fromImage(t,t.width,t.height),null!=i&&i(s)})},__fromBytes:function(t,n,a){var r=this;ja.fromBytes(su.toBytes(t),function(t){if(r.__fromImage(t,t.width,t.height),null!=n){ar.convertToCanvas(t),ar.createImageData(t);for(var e=t.buffer.data,i=0,s=su.get_length(n);i<s;){e[4*i+++3]=n.readUnsignedByte()}t.dirty=!0}null!=a&&a(r)})},__fromFile:function(t,e,i){var s=this;ja.fromFile(t,function(t){s.__fromImage(t,t.width,t.height),null!=e&&e(s)},i)},__fromImage:function(t,e,i,s){null!=t&&null!=t.buffer&&(this.__image=t,this.width=e,this.height=i,this.physicalWidth=t.width,this.physicalHeight=t.height,this.__renderToLocalMatrix.copyFrom(null!=s?s:ho.__identity),this.__isValid=!0)},__renderGL:function(t){var e=this.__worldTransform,i=this.__renderColorTransform,s=this.__blendMode,n=this.__shader;t.spriteBatch.renderBitmapDataEx(this,this.physicalWidth,this.physicalHeight,this.get_uvData(),null,e,i,1,s,n,null)},__resize:function(t,e,i,s){this.width=t,this.height=e,this.physicalWidth=i,this.physicalHeight=s,this.__renderToLocalMatrix.identity(),null!=this.__image&&this.__image.resize(i,s)},__resizeTo:function(t){this.__resize(t.width,t.height,t.physicalWidth,t.physicalHeight)},__sync:function(){ar.sync(this.get_image(),!1)},__updateChildren:function(t){},__updateMask:function(t){},__updateTransforms:function(){this.__worldTransform.identity()},get_image:function(){if(this.__imageShouldBeSynced){var t=lo.current.stage.__renderer.renderSession;this.__pushFrameBuffer(t),Yo.popFramebuffer(t,this.__image);var e=this.__pingPongTexture,i=(e.__swapped?e.__texture1:e.__texture0).__uvData;this.__createUVs(i.x0,i.y0,i.x1,i.y1,i.x2,i.y2,i.x3,i.y3),this.__isValid=!0,this.__usingPingPongTexture=!0,this.__imageShouldBeSynced=!1}return this.__image},getLocalTransform:function(t){t.copyFrom(this.__renderToLocalMatrix)},getPhysicalRect:function(t){t.x=0,t.y=0,t.width=this.physicalWidth,t.height=this.physicalHeight},__class__:mh,__properties__:{get_valid:"get_valid",set_uvData:"set_uvData",get_uvData:"get_uvData",get_src:"get_src",get_image:"get_image",get_bd:"get_bd"}};var vh={};(i["openfl.display._BlendMode.BlendMode_Impl_"]=vh).__name__=["openfl","display","_BlendMode","BlendMode_Impl_"],vh.fromString=function(t){switch(t){case"add":return 0;case"alpha":return 1;case"darken":return 2;case"difference":return 3;case"erase":return 4;case"hardlight":return 5;case"invert":return 6;case"layer":return 7;case"lighten":return 8;case"multiply":return 9;case"normal":return 10;case"overlay":return 11;case"screen":return 12;case"shader":return 13;case"subtract":return 14;default:return null}},vh.toString=function(t){switch(t){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}};var bh={};(i["openfl.display._CapsStyle.CapsStyle_Impl_"]=bh).__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"],bh.fromString=function(t){switch(t){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},bh.toString=function(t){switch(t){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};function yh(t){null==t&&(t="DirectRenderer"),W.call(this)}(i["openfl.display.DirectRenderer"]=yh).__name__=["openfl","display","DirectRenderer"],yh.__super__=W,yh.prototype=s(W.prototype,{get_render:function(){return this.__render},set_render:function(t){return this.__render=t},set_width:function(t){return this.__width=0|t},get_width:function(){return this.__width},set_height:function(t){return this.__height=0|t},get_height:function(){return this.__height},__class__:yh,__properties__:s(W.prototype.__properties__,{set_render:"set_render",get_render:"get_render"})});var wh=function(t,e){v.call(this),this.__name=t,this.__frame=e};(i["openfl.display.FrameLabel"]=wh).__name__=["openfl","display","FrameLabel"],wh.__super__=v,wh.prototype=s(v.prototype,{get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:wh,__properties__:{get_name:"get_name",get_frame:"get_frame"}});function xh(){this.values=[],this.keys=[]}(i["openfl.display.GLShaderData"]=xh).__name__=["openfl","display","GLShaderData"],xh.prototype={set:function(t,e){for(var i=0,s=this.keys.length;i<s;){var n=i++;if(this.keys[n]==t)return void(this.values[n]=e)}this.keys.push(t),this.values.push(e)},get:function(t){for(var e=0,i=this.keys.length;e<i;){var s=e++;if(this.keys[s]==t)return this.values[s]}throw new qn("Unknown parameter "+t)},__class__:xh};var Th={};(i["openfl.display._GradientType.GradientType_Impl_"]=Th).__name__=["openfl","display","_GradientType","GradientType_Impl_"],Th.fromString=function(t){switch(t){case"linear":return 0;case"radial":return 1;default:return null}},Th.toString=function(t){switch(t){case 0:return"linear";case 1:return"radial";default:return null}};var Sh=function(t){null==t&&(t=!0),this.__uid=at.SEQ<<24|++at.UID,this.keepBitmapData=!1,this.__dirty=!0,this.mustRefreshGraphicsCounter=-1,this.__commands=t?new go:null,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,null!=this.__commands&&this.moveTo(0,0)};(i["openfl.display.Graphics"]=Sh).__name__=["openfl","display","Graphics"],Sh.__interfaces__=[nt],Sh.prototype={beginBitmapFill:function(t,e,i,s){if(null==s&&(s=!1),null==i&&(i=!0),this.readOnly)throw new qn("don't fill readonly!");this.__commands.beginBitmapFill(t,null!=e?e.clone():null,i,s),this.__visible=!0},beginBitmapFillWithId:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.__commands.beginBitmapFillWithId(t,e,i,s),this.__visible=!0},drawImageWithId:function(t,e,i){var s=_o.pool.get();this.__inflateBounds(e.tx,e.ty),s.x=0,s.y=1;var n=s.x,a=s.y;s.x=n*e.a+a*e.c+e.tx,s.y=n*e.b+a*e.d+e.ty,this.__inflateBounds(s.x,s.y),s.x=1,s.y=0;var r=s.x,o=s.y;s.x=r*e.a+o*e.c+e.tx,s.y=r*e.b+o*e.d+e.ty,this.__inflateBounds(s.x,s.y),s.x=1,s.y=1;var h=s.x,_=s.y;s.x=h*e.a+_*e.c+e.tx,s.y=h*e.b+_*e.d+e.ty,this.__inflateBounds(s.x,s.y),this.__commands.drawImageWithId(t,e,i),this.__visible=!0,_o.pool.put(s)},beginFill:function(t,e){if(null==e&&(e=1),null==t&&(t=0),this.readOnly)throw new qn("don't fill readonly!");this.__commands.beginFill(16777215&t,e),0<e&&(this.__visible=!0)},beginGradientFill:function(t,e,i,s,n,a,r,o){if(null==o&&(o=0),null==r&&(r=1),null==a&&(a=0),this.readOnly)throw new qn("don't fill readonly!");this.__commands.beginGradientFill(t,e,i,s,n,a,r,o);for(var h=0;h<i.length;){var _=i[h];if(++h,0<_){this.__visible=!0;break}}},clear:function(){this.readOnly?(this.__commands=new go,this.readOnly=!1):this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set_dirty(!0),this.__bounds=null),this.__visible=!1,this.moveTo(0,0)},copyFrom:function(t,e){null==e&&(e=!1),e?(this.__bounds=t.__bounds,this.__commands=t.__commands):(this.__bounds=null!=t.__bounds?t.__bounds.clone():null,this.__commands=t.__commands.copy()),this.set_dirty(!0),this.__strokePadding=t.__strokePadding,this.__positionX=t.__positionX,this.__positionY=t.__positionY,this.__visible=t.__visible,this.__symbol=t.__symbol},cubicCurveTo:function(t,e,i,s,n,a){var r,o,h,_;if(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),!(t<(h=r=n)&&t>this.__positionX||n<t&&t<this.__positionX)||!(i<n&&i>this.__positionX||n<i&&i<this.__positionX)){var l=2*this.__positionX-4*t+2*i,u=t-this.__positionX,c=-this.__positionX+3*t+n-3*i,f=(-l+Math.sqrt(l*l-4*u*c))/(2*c),d=(-l-Math.sqrt(l*l-4*u*c))/(2*c);0<f&&f<1&&(r=this.__calculateBezierCubicPoint(f,this.__positionX,t,i,n)),0<d&&d<1&&(h=this.__calculateBezierCubicPoint(d,this.__positionX,t,i,n))}if(!(e<(_=o=a)&&e>this.__positionX||a<e&&e<this.__positionX)||!(s<a&&s>this.__positionX||a<s&&s<this.__positionX)){var p=2*this.__positionX-4*e+2*s,g=e-this.__positionX,m=-this.__positionX+3*e+a-3*s,v=(-p+Math.sqrt(p*p-4*g*m))/(2*m),b=(-p-Math.sqrt(p*p-4*g*m))/(2*m);0<v&&v<1&&(o=this.__calculateBezierCubicPoint(v,this.__positionX,e,s,a)),0<b&&b<1&&(_=this.__calculateBezierCubicPoint(b,this.__positionX,e,s,a))}this.__inflateBounds(r-this.__strokePadding,o-this.__strokePadding),this.__inflateBounds(r+this.__strokePadding,o+this.__strokePadding),this.__inflateBounds(h-this.__strokePadding,_-this.__strokePadding),this.__inflateBounds(h+this.__strokePadding,_+this.__strokePadding),this.__positionX=n,this.__positionY=a,this.__commands.cubicCurveTo(t,e,i,s,n,a),this.set_dirty(!0)},curveTo:function(t,e,i,s){var n,a;if(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),t<i&&t>this.__positionX||i<t&&t<this.__positionX)n=i;else{var r=(this.__positionX-t)/(this.__positionX-2*t+i);n=this.__calculateBezierQuadPoint(r,this.__positionX,t,i)}if(e<s&&e>this.__positionY||s<e&&e<this.__positionY)a=s;else{var o=(this.__positionY-e)/(this.__positionY-2*e+s);a=this.__calculateBezierQuadPoint(o,this.__positionY,e,s)}this.__inflateBounds(n-this.__strokePadding,a-this.__strokePadding),this.__inflateBounds(n+this.__strokePadding,a+this.__strokePadding),this.__positionX=i,this.__positionY=s,this.__commands.curveTo(t,e,i,s),this.set_dirty(!0)},drawCircle:function(t,e,i){i<=0||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawCircle(t,e,i),this.set_dirty(!0))},drawArc:function(t,e,i,s,n){i<=0||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.moveTo(t,e),this.__commands.drawArc(t,e,i,s,n),this.set_dirty(!0))},drawEllipse:function(t,e,i,s){i<=0||s<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+s+this.__strokePadding),this.__commands.drawEllipse(t,e,i,s),this.set_dirty(!0))},drawGraphicsData:function(t){for(var e,i,s,n,a,r=0;r<t.length;){var o=t.data[r];++r,Jn.__instanceof(o,Mh)?(e=o,this.beginFill(e.color,e.alpha)):Jn.__instanceof(o,Ih)?(i=o,this.beginBitmapFill(i.bitmapData,i.matrix,i.repeat,i.smooth)):Jn.__instanceof(o,kh)?(s=o,this.beginGradientFill(s.type,s.colors,s.alphas,s.ratios,s.matrix,s.spreadMethod,s.interpolationMethod,s.focalPointRatio)):Jn.__instanceof(o,Fh)?(n=o,Jn.__instanceof(n.fill,Mh)?(e=n.fill,this.lineStyle(n.thickness,e.color,e.alpha,n.pixelHinting,n.scaleMode,n.caps,n.joints,n.miterLimit)):(this.lineStyle(n.thickness,0,1,n.pixelHinting,n.scaleMode,n.caps,n.joints,n.miterLimit),Jn.__instanceof(n.fill,Ih)?(i=n.fill,this.lineBitmapStyle(i.bitmapData,i.matrix,i.repeat,i.smooth)):Jn.__instanceof(n.fill,kh)&&(s=n.fill,this.lineGradientStyle(s.type,s.colors,s.alphas,s.ratios,s.matrix,s.spreadMethod,s.interpolationMethod,s.focalPointRatio)))):Jn.__instanceof(o,Ah)?(a=o,this.drawPath(a.commands,a.data,a.winding)):Jn.__instanceof(o,Ph)&&this.endFill()}},drawPath:function(t,e,i){null==i&&(i="evenOdd");var s=0,n=0;try{for(;n<t.length;){var a=t.data[n];if(++n,null!=a)switch(a){case 1:this.moveTo(e.data[s],e.data[s+1]),s+=2;break;case 2:this.lineTo(e.data[s],e.data[s+1]),s+=2;break;case 3:this.curveTo(e.data[s],e.data[s+1],e.data[s+2],e.data[s+3]),s+=4;break;case 4:throw this.moveTo(e.data[s+2],e.data[s+3]),"__break__";case 5:throw this.lineTo(e.data[s+2],e.data[s+3]),"__break__";case 6:this.cubicCurveTo(e.data[s],e.data[s+1],e.data[s+2],e.data[s+3],e.data[s+4],e.data[s+5]),s+=6}}}catch(t){if("__break__"!=t)throw t}},drawRect:function(t,e,i,s){i<=0||s<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+s+this.__strokePadding),this.__commands.drawRect(t,e,i,s),this.set_dirty(!0))},drawRoundRect:function(t,e,i,s,n,a){i<=0||s<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+s+this.__strokePadding),this.__commands.drawRoundRect(t,e,i,s,n,a),this.set_dirty(!0))},drawRoundRectComplex:function(t,e,i,s,n,a,r,o){lo.notImplemented("Graphics.drawRoundRectComplex")},drawTriangles:function(t,e,i,s){null==s&&(s=1);var n=t.length/2|0;if(null==s&&(s=1),null==e){if(n%3!=0)throw new qn(new E_("Not enough vertices to close a triangle."));var a=new Le,r=new Array(0);a.data=r,a.length=0,a.fixed=!1,e=a;for(var o=0,h=n;o<h;){var _=o++;if(!e.fixed){if(e.length++,e.data.length<e.length){var l=e.data.length+10,u=new Array(l);Sn.blit(e.data,0,u,0,e.data.length),e.data=u}e.data[e.length-1]=_}}}this.__inflateBounds(0,0);for(var c=-1/0,f=-1/0,d=-1/0,p=-1/0,g=0,m=n;g<m;){var v=g++;d<(c=t.data[2*v])&&(d=c),p<(f=t.data[2*v+1])&&(p=f)}this.__inflateBounds(d,p),this.__commands.drawTriangles(t,e,i,s),this.set_dirty(!0),this.__visible=!0},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.__commands.lineBitmapStyle(t,null!=e?e.clone():null,i,s)},lineBitmapStyleWithId:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.__commands.lineBitmapStyleWithId(t,null!=e?e.clone():null,i,s)},lineGradientStyle:function(t,e,i,s,n,a,r,o){null==o&&(o=0),null==r&&(r=1),null==a&&(a=0),this.__commands.lineGradientStyle(t,e,i,s,n,a,r,o)},lineStyle:function(t,e,i,s,n,a,r,o){null==o&&(o=3),null==n&&(n=2),null==s&&(s=!1),null==i&&(i=1),null==e&&(e=0),null!=t&&(1==r?t>this.__strokePadding&&(this.__strokePadding=t):t/2>this.__strokePadding&&(this.__strokePadding=t/2)),this.__commands.lineStyle(t,e,i,s,n,a,r,o),null!=t&&(this.__visible=!0)},lineTo:function(t,e){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=t,this.__positionY=e,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(t,e),this.set_dirty(!0)},moveTo:function(t,e){this.__positionX=t,this.__positionY=e,this.__commands.moveTo(t,e)},createTextures:function(t){for(var e=this.__commands.bd,i=0;i<e._length;){var s=i>=e._length?null:e._items[i];++i,s.getTexture(t)}},__calculateBezierCubicPoint:function(t,e,i,s,n){var a=1-t;return e*(a*a*a)+3*i*t*(a*a)+3*s*a*(t*t)+n*(t*t*t)},__calculateBezierQuadPoint:function(t,e,i,s){var n=1-t;return n*n*e+2*n*t*i+t*t*s},__getBounds:function(t){null!=this.__bounds?t.copyFrom(this.__bounds):t.setEmpty()},__hitTest:function(t,e,i,s){if(null==this.__bounds)return!1;var n=s.a*s.d-s.b*s.c,a=0==n?-s.tx:1/n*(s.c*(s.ty-e)+s.d*(t-s.tx)),r=s.a*s.d-s.b*s.c,o=0==r?-s.ty:1/r*(s.a*(e-s.ty)+s.b*(s.tx-t));return!!this.__bounds.contains(a,o)&&(!i||zo.hitTest(this,a,o))},__inflateBounds:function(t,e){null!=this.__bounds?(t<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-t,this.__bounds.x=t),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e),t>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=t-this.__bounds.x),e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y)):this.__bounds=new El(t,e,0,0)},dispose:function(t){null==t&&(t=!0),this.set___bitmap(null),this.__dirty=!0,this.set_dirty(!0),t&&null!=this.__symbol&&Jn.__instanceof(this.__symbol,Pn)&&this.__symbol.unregisterGraphics(this)},__disposeBitmap:function(){this.set___bitmap(null),this.__dirty=!0},set_dirty:function(t){if(t&&null!=this.__owner){var e=this.__owner;e.__updateCachedBitmap=!0,e.__updateFilters=null!=e.__filters&&0<e.__filters.length,e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,W.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0)}return this.__dirty=t},get_dirty:function(){return this.__dirty},set___bitmap:function(t){return null==this.__bitmap||this.keepBitmapData||null!=this.__symbol&&Jn.__instanceof(this.__symbol,Pn)&&Jn.__cast(this.__symbol,Pn).useBitmapCache||this.__bitmap.dispose(),this.__bitmap=t},clearGraphicsCounter:function(){this.mustRefreshGraphicsCounter=1},resetGraphicsCounter:function(){this.mustRefreshGraphicsCounter=Sh.__dirtyGraphicsDelay,this.set_dirty(!1)},__enterFrame:function(){0<this.mustRefreshGraphicsCounter&&0==--this.mustRefreshGraphicsCounter&&this.set_dirty(!0)},get_snapCoordinates:function(){return!(null==this.__symbol||!Jn.__instanceof(this.__symbol,Pn))&&Jn.__cast(this.__symbol,Pn).snapCoordinates},getCLID:function(){return Sh.__clid},serialize:function(t){t.addKnownRef(this.__bounds),t.addKnownRef(this.__commands),t.out.addInt32(Dn.floatToI32(this.__positionX)),t.out.addInt32(Dn.floatToI32(this.__positionY)),t.out.addInt32(Dn.floatToI32(this.__strokePadding)),t.out.b.push(this.__visible?1:0),t.addKnownRef(this.__symbol)},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("__bounds"),t.fieldsTypes.push(Xn.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("__commands"),t.fieldsTypes.push(Xn.PSerializable("openfl._internal.renderer.DrawCommandBuffer")),t.fieldsNames.push("__positionX"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("__positionY"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("__strokePadding"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("__visible"),t.fieldsTypes.push(Xn.PBool),t.fieldsNames.push("__symbol"),t.fieldsTypes.push(Xn.PSerializable("format.swf.lite.symbols.SWFSymbol")),t.isFinal=at.isClassFinal(Sh.__clid),t},unserializeInit:function(){this.mustRefreshGraphicsCounter=-1,this.__dirty=!0,this.keepBitmapData=!1},unserialize:function(t){this.__bounds=t.getRef(El,El.__clid),this.__commands=t.getRef(go,go.__clid);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.__positionX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.__positionY=i;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.__strokePadding=s,this.__visible=0!=t.input.b[t.inPos++],this.__symbol=t.getRef(hi,hi.__clid)},__class__:Sh,__properties__:{set___bitmap:"set___bitmap",set_dirty:"set_dirty",get_dirty:"get_dirty",get_snapCoordinates:"get_snapCoordinates"}};function Ch(){}(i["openfl.display.IGraphicsFill"]=Ch).__name__=["openfl","display","IGraphicsFill"],Ch.prototype={__class__:Ch};function Eh(){}(i["openfl.display.IGraphicsData"]=Eh).__name__=["openfl","display","IGraphicsData"],Eh.prototype={__class__:Eh};var Ih=function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.bitmapData=t,this.matrix=e,this.repeat=i,this.smooth=s,this.__graphicsDataType=Lh.BITMAP,this.__graphicsFillType=Nh.BITMAP_FILL};(i["openfl.display.GraphicsBitmapFill"]=Ih).__name__=["openfl","display","GraphicsBitmapFill"],Ih.__interfaces__=[Ch,Eh],Ih.prototype={__class__:Ih};var Ph=function(){this.__graphicsDataType=Lh.END,this.__graphicsFillType=Nh.END_FILL};(i["openfl.display.GraphicsEndFill"]=Ph).__name__=["openfl","display","GraphicsEndFill"],Ph.__interfaces__=[Ch,Eh],Ph.prototype={__class__:Ph};var kh=function(t,e,i,s,n,a,r,o){null==o&&(o=0),null==t&&(t=0),null==a&&(a=0),null==r&&(r=1),this.type=t,this.colors=e,this.alphas=i,this.ratios=s,this.matrix=n,this.spreadMethod=a,this.interpolationMethod=r,this.focalPointRatio=o,this.__graphicsDataType=Lh.GRADIENT,this.__graphicsFillType=Nh.GRADIENT_FILL};(i["openfl.display.GraphicsGradientFill"]=kh).__name__=["openfl","display","GraphicsGradientFill"],kh.__interfaces__=[Ch,Eh],kh.prototype={__class__:kh};function Dh(){}(i["openfl.display.IGraphicsPath"]=Dh).__name__=["openfl","display","IGraphicsPath"];var Ah=function(t,e,i){null==i&&(i="evenOdd"),this.commands=t,this.data=e,this.winding=i,this.__graphicsDataType=Lh.PATH};(i["openfl.display.GraphicsPath"]=Ah).__name__=["openfl","display","GraphicsPath"],Ah.__interfaces__=[Dh,Eh],Ah.prototype={curveTo:function(t,e,i,s){if(null!=this.commands&&null!=this.data){var n=this.commands;if(!n.fixed){if(n.length++,n.data.length<n.length){var a=n.data.length+10,r=new Array(a);Sn.blit(n.data,0,r,0,n.data.length),n.data=r}n.data[n.length-1]=3}var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var h=o.data.length+10,_=new Array(h);Sn.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[o.length-1]=i}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var u=l.data.length+10,c=new Array(u);Sn.blit(l.data,0,c,0,l.data.length),l.data=c}l.data[l.length-1]=s}var f=this.data;if(!f.fixed){if(f.length++,f.data.length<f.length){var d=f.data.length+10,p=new Array(d);Sn.blit(f.data,0,p,0,f.data.length),f.data=p}f.data[f.length-1]=t}var g=this.data;if(!g.fixed){if(g.length++,g.data.length<g.length){var m=g.data.length+10,v=new Array(m);Sn.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[g.length-1]=e}}},lineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var s=i.data.length+10,n=new Array(s);Sn.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=2}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var r=a.data.length+10,o=new Array(r);Sn.blit(a.data,0,o,0,a.data.length),a.data=o}a.data[a.length-1]=t}var h=this.data;if(!h.fixed){if(h.length++,h.data.length<h.length){var _=h.data.length+10,l=new Array(_);Sn.blit(h.data,0,l,0,h.data.length),h.data=l}h.data[h.length-1]=e}}},moveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var s=i.data.length+10,n=new Array(s);Sn.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=1}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var r=a.data.length+10,o=new Array(r);Sn.blit(a.data,0,o,0,a.data.length),a.data=o}a.data[a.length-1]=t}var h=this.data;if(!h.fixed){if(h.length++,h.data.length<h.length){var _=h.data.length+10,l=new Array(_);Sn.blit(h.data,0,l,0,h.data.length),h.data=l}h.data[h.length-1]=e}}},wideLineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var s=i.data.length+10,n=new Array(s);Sn.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=2}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var r=a.data.length+10,o=new Array(r);Sn.blit(a.data,0,o,0,a.data.length),a.data=o}a.data[a.length-1]=t}var h=this.data;if(!h.fixed){if(h.length++,h.data.length<h.length){var _=h.data.length+10,l=new Array(_);Sn.blit(h.data,0,l,0,h.data.length),h.data=l}h.data[h.length-1]=e}}},wideMoveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var s=i.data.length+10,n=new Array(s);Sn.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=1}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var r=a.data.length+10,o=new Array(r);Sn.blit(a.data,0,o,0,a.data.length),a.data=o}a.data[a.length-1]=t}var h=this.data;if(!h.fixed){if(h.length++,h.data.length<h.length){var _=h.data.length+10,l=new Array(_);Sn.blit(h.data,0,l,0,h.data.length),h.data=l}h.data[h.length-1]=e}}},__class__:Ah};var Mh=function(t,e){null==e&&(e=1),null==t&&(t=0),this.alpha=e,this.color=t,this.__graphicsDataType=Lh.SOLID,this.__graphicsFillType=Nh.SOLID_FILL};(i["openfl.display.GraphicsSolidFill"]=Mh).__name__=["openfl","display","GraphicsSolidFill"],Mh.__interfaces__=[Ch,Eh],Mh.prototype={__class__:Mh};function Rh(){}(i["openfl.display.IGraphicsStroke"]=Rh).__name__=["openfl","display","IGraphicsStroke"];var Fh=function(t,e,i,s,n,a,r){null==a&&(a=3),null==e&&(e=!1),null==t&&(t=0),this.caps=null!=s?s:0,this.fill=r,this.joints=null!=n?n:2,this.miterLimit=a,this.pixelHinting=e,this.scaleMode=null!=i?i:2,this.thickness=t,this.__graphicsDataType=Lh.STROKE};(i["openfl.display.GraphicsStroke"]=Fh).__name__=["openfl","display","GraphicsStroke"],Fh.__interfaces__=[Rh,Eh],Fh.prototype={__class__:Fh};var Bh=function(){this.y3=0,this.y2=0,this.y1=0,this.y0=0,this.x3=0,this.x2=0,this.x1=0,this.x0=0};(i["openfl.display.TextureUvs"]=Bh).__name__=["openfl","display","TextureUvs"],Bh.prototype={reset:function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0},__class__:Bh};var Lh=i["openfl.display.GraphicsDataType"]={__ename__:!0,__constructs__:["STROKE","SOLID","GRADIENT","PATH","BITMAP","END"]};Lh.STROKE=["STROKE",0],Lh.STROKE.toString=f,(Lh.STROKE.__enum__=Lh).SOLID=["SOLID",1],Lh.SOLID.toString=f,(Lh.SOLID.__enum__=Lh).GRADIENT=["GRADIENT",2],Lh.GRADIENT.toString=f,(Lh.GRADIENT.__enum__=Lh).PATH=["PATH",3],Lh.PATH.toString=f,(Lh.PATH.__enum__=Lh).BITMAP=["BITMAP",4],Lh.BITMAP.toString=f,(Lh.BITMAP.__enum__=Lh).END=["END",5],Lh.END.toString=f,Lh.END.__enum__=Lh;var Nh=i["openfl.display.GraphicsFillType"]={__ename__:!0,__constructs__:["SOLID_FILL","GRADIENT_FILL","BITMAP_FILL","END_FILL"]};Nh.SOLID_FILL=["SOLID_FILL",0],Nh.SOLID_FILL.toString=f,(Nh.SOLID_FILL.__enum__=Nh).GRADIENT_FILL=["GRADIENT_FILL",1],Nh.GRADIENT_FILL.toString=f,(Nh.GRADIENT_FILL.__enum__=Nh).BITMAP_FILL=["BITMAP_FILL",2],Nh.BITMAP_FILL.toString=f,(Nh.BITMAP_FILL.__enum__=Nh).END_FILL=["END_FILL",3],Nh.END_FILL.toString=f,Nh.END_FILL.__enum__=Nh;var Oh={};(i["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=Oh).__name__=["openfl","display","_InterpolationMethod","InterpolationMethod_Impl_"],Oh.fromString=function(t){switch(t){case"linearRGB":return 0;case"rgb":return 1;default:return null}},Oh.toString=function(t){switch(t){case 0:return"linearRGB";case 1:return"rgb";default:return null}};var Uh=function(t){null==t&&(t=80),this.quality=t};(i["openfl.display.JPEGEncoderOptions"]=Uh).__name__=["openfl","display","JPEGEncoderOptions"],Uh.prototype={__class__:Uh};var zh={};(i["openfl.display._JointStyle.JointStyle_Impl_"]=zh).__name__=["openfl","display","_JointStyle","JointStyle_Impl_"],zh.fromString=function(t){switch(t){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},zh.toString=function(t){switch(t){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Gh={};(i["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=Gh).__name__=["openfl","display","_LineScaleMode","LineScaleMode_Impl_"],Gh.fromString=function(t){switch(t){case"horizontal":return 0;case"none":return 1;case"normal":return 2;case"vertical":return 3;default:return null}},Gh.toString=function(t){switch(t){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var Xh=function(){j.call(this),this.contentLoaderInfo=Vh.create(this)};(i["openfl.display.Loader"]=Xh).__name__=["openfl","display","Loader"],Xh.__super__=j,Xh.prototype=s(j.prototype,{close:function(){lo.notImplemented("Loader.close")},load:function(i,t){var e="",s=i.url.split(".");if(0<s.length&&(e=s[s.length-1].toLowerCase()),-1!=e.indexOf("?")&&(e=e.split("?")[0]),this.contentLoaderInfo.url=i.url,null==i.contentType&&""!=i.contentType){var n;switch(e){case"gif":n="image/gif";break;case"jpeg":case"jpg":n="image/jpeg";break;case"png":n="image/png";break;case"swf":n="application/x-shockwave-flash";break;default:n="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=n}else this.contentLoaderInfo.contentType=i.contentType;var a=new yr;a.doWork.add(function(t){var e=i.url;mh.fromFile(e,function(t){a.sendComplete(t)},function(){a.sendError("ioError")})}),a.onError.add(Gf(this,this.BitmapData_onError)),a.onComplete.add(Gf(this,this.BitmapData_onLoad)),a.run()},loadBytes:function(e,t){var i=new yr;i.doWork.add(function(t){mh.fromBytes(e,null,function(t){i.sendComplete(t)})}),i.onComplete.add(Gf(this,this.BitmapData_onLoad)),i.run()},unload:function(){if(0<this.__children._length){for(;0<this.__children._length;)this.removeChildAt(0);this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0;var t=new Ne("unload");(t.currentTarget=this).__dispatchEvent(t)}},unloadAndStop:function(t){null==t&&(t=!0),lo.notImplemented("Loader.unloadAndStop")},BitmapData_onLoad:function(t){this.contentLoaderInfo.content=new ph(t),this.content=this.contentLoaderInfo.content,this.addChildAt(this.contentLoaderInfo.content,this.__children._length);var e=new Ne("complete");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},BitmapData_onError:function(t){var e=new U_("ioError");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},__class__:Xh});var Vh=function(){v.call(this),this.applicationDomain=zl.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters=null==Vh.__parameters?{}:Vh.__parameters};(i["openfl.display.LoaderInfo"]=Vh).__name__=["openfl","display","LoaderInfo"],Vh.__parameters=null,Vh.create=function(t){var e=new Vh;return e.uncaughtErrorEvents=new Y_,null!=t?e.loader=t:e.url=Vh.__rootURL,e},Vh.__super__=v,Vh.prototype=s(v.prototype,{__class__:Vh});function Hh(){yh.call(this,"OpenGLView")}(i["openfl.display.OpenGLView"]=Hh).__name__=["openfl","display","OpenGLView"],Hh.__properties__={get_isSupported:"get_isSupported"},Hh.isSupported=null,Hh.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=nr.context)return!0;var t=window.document.createElement("canvas"),e=t.getContext("webgl");return null==e&&(e=t.getContext("experimental-webgl")),null!=e},Hh.__super__=yh,Hh.prototype=s(yh.prototype,{__renderCanvas:function(t){},__renderGL:function(t){if(null!=this.stage&&this.isRenderable()){var e=El.pool.get();null==this.__scrollRect?e.setTo(0,0,this.get_width(),this.get_height()):e.setTo(this.__transform.tx+this.__scrollRect.x,this.__transform.ty+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height),null!=this.__render&&this.__render(e),El.pool.put(e),t.shaderManager.setShader(null),t.blendModeManager.setBlendMode(null),t.renderer.setViewport(0,0,0|this.get_width(),0|this.get_height(),!0),jo.resetCache()}},__class__:Hh});var Yh=function(t){null==t&&(t=!1),this.fastCompression=t};(i["openfl.display.PNGEncoderOptions"]=Yh).__name__=["openfl","display","PNGEncoderOptions"],Yh.prototype={__class__:Yh};var Wh={};(i["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=Wh).__name__=["openfl","display","_PixelSnapping","PixelSnapping_Impl_"],Wh.fromString=function(t){switch(t){case"always":return 0;case"auto":return 1;case"never":return 2;default:return null}},Wh.toString=function(t){switch(t){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}};var jh=function(t){if(Aa.call(this),null!=t){this.display=t;var e=lo.current;e.addChildAt(t,e.__children._length),Jn.__instanceof(t,C)&&Jn.__cast(t,C).onInit()}};(i["openfl.display.Preloader"]=jh).__name__=["openfl","display","Preloader"],jh.__super__=Aa,jh.prototype=s(Aa.prototype,{load:function(t,e){for(var i=[],s=null,n=0,a=t.length;n<a;){var r=n++;switch(s=t[r],e[r]){case"MUSIC":case"SOUND":Mn.withoutExtension(s);this.total++,i.push(s)}}for(var o=new Rl(0),h=0;h<i.length;){var _=i[h];++h;var l=_,u=aa.getLogicalPath(l),c=aa.getExtraSoundOptions(u),f=null;null!=c&&null!=c.preload&&(f=c.preload);var d=new Dl;if(d.addEventListener("complete",Gf(this,this.sound_onComplete)),d.addEventListener("ioError",Gf(this,this.sound_onIOError)),d.load(new Ll(l),null,f,!0),null!=f)for(var p=0,g=f;p<g;){p++;d.prePlayHTML5(null,null,o)}}Aa.prototype.load.call(this,t,e)},start:function(){null!=this.display&&Jn.__instanceof(this.display,C)?(this.display.addEventListener("complete",Gf(this,this.display_onComplete)),Jn.__cast(this.display,C).onLoaded()):Aa.prototype.start.call(this)},update:function(t,e,i){null!=this.display&&Jn.__instanceof(this.display,C)&&Jn.__cast(this.display,C).onUpdate(t,e,i)},display_onComplete:function(t){this.display.removeEventListener("complete",Gf(this,this.display_onComplete)),lo.current.removeChild(this.display),lo.current.stage.set_focus(null),this.display=null,Aa.prototype.start.call(this)},sound_onComplete:function(){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},sound_onIOError:function(t){this.onError.dispatch(t.target.soundName),this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},__class__:jh});var Kh=function(t){null==t&&(t=1),this.__dirty=!0,this.repeatY=33071,this.repeatX=33071,this.precision=1,this.precision=t,this.data=new xh,this.data.set(Kh.uObjectSize,new qh("vec2")),this.data.set(Kh.uTextureSize,new qh("vec2"))};(i["openfl.display.Shader"]=Kh).__name__=["openfl","display","Shader"],Kh.prototype={__init:function(t){var e=this.__dirty;if(e){null!=this.__shader&&this.__shader.destroy(),this.__shader=new jo(t);var i=null!=this.__vertexCode?this.__vertexCode:qo.VERTEX_SRC.join("\n");this.__shader.vertexString=i,this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1}this.__shader.init(e)},__buildFragmentCode:function(t){var e,i=[];switch(i.push("#ifdef GL_ES"),this.precision){case 1:e="precision mediump float;";break;case 2:e="precision highp float;";break;default:e="precision lowp float;"}i.push(e),i.push("#endif"),(i=i.concat(Kh.fragmentHeader)).push(t),this.__fragmentCode=i.join("\n")},__buildVertexCode:function(t){var e,i=[];switch(i.push("#ifdef GL_ES"),this.precision){case 1:e="precision mediump float;";break;case 2:e="precision highp float;";break;default:e="precision lowp float;"}i.push(e),i.push("#endif"),(i=i.concat(Kh.vertexHeader)).push(t),this.__vertexCode=i.join("\n")},__class__:Kh};var qh=function(t,e){this.internalType=0,this.transpose=!1,this.repeatY=33071,this.repeatX=33071,this.smooth=!0,this.arraySize=0,this.size=0,this.type=t,this.arraySize=null==e?0:e,this.__init()};(i["openfl.display.GLShaderParameter"]=qh).__name__=["openfl","display","GLShaderParameter"],qh.prototype={__init:function(){var t=this.type;switch(t){case"bool":this.internalType=1,this.size=1;var e,i=[0];if(e=null!=i?new Zf(i):null,4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");this.value=e;break;case"float":this.internalType=2,this.size=1;var s,n=[0];if(s=null!=n?new Zf(n):null,4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");this.value=s;break;case"int":this.internalType=1,this.size=1;var a,r=[0];if(a=null!=r?new Zf(r):null,4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");this.value=a;break;case"sampler2D":case"samplerCube":if(-1<t.indexOf("vec")){In.startsWith(this.type,"b")||In.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var o=O.parseInt(this.type.charAt(this.type.length-1));this.size=o;for(var h=[],_=0,l=this.size;_<l;){_++;h.push(0)}var u;if(u=null!=h?new Zf(h):null,4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");this.value=u}else{if(-1<t.indexOf("mat")){this.internalType=3;var c,f,d=O.parseInt(this.type.charAt(this.type.length-1));switch(this.size=d,this.size){case 2:c=[1,0,1,0];break;case 3:c=[1,0,0,0,1,0,0,0,1];break;case 4:c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:c=[0]}if(f=null!=c?new Zf(c):null,4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");this.value=f}else this.internalType=4,this.size=0}break;default:if(-1<t.indexOf("vec")){In.startsWith(this.type,"b")||In.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var p=O.parseInt(this.type.charAt(this.type.length-1));this.size=p;for(var g=[],m=0,v=this.size;m<v;){m++;g.push(0)}var b;if(b=null!=g?new Zf(g):null,4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");this.value=b}else{if(-1<t.indexOf("mat")){this.internalType=3;var y,w,x=O.parseInt(this.type.charAt(this.type.length-1));switch(this.size=x,this.size){case 2:y=[1,0,1,0];break;case 3:y=[1,0,0,0,1,0,0,0,1];break;case 4:y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:y=[0]}if(w=null!=y?new Zf(y):null,4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");this.value=w}else this.internalType=0,pn.trace("Can't initialize value for type "+this.type,{fileName:"Shader.hx",lineNumber:308,className:"openfl.display.GLShaderParameter",methodName:"__init"})}}},set_value:function(t){if(4==this.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return this.value=t},set_bitmap:function(t){if(4!=this.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");return this.bitmap=t},__class__:qh,__properties__:{set_bitmap:"set_bitmap",set_value:"set_value"}};var Jh={};(i["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=Jh).__name__=["openfl","display","_SpreadMethod","SpreadMethod_Impl_"],Jh.fromString=function(t){switch(t){case"pad":return 0;case"reflect":return 1;case"repeat":return 2;default:return null}},Jh.toString=function(t){switch(t){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};function Zh(t,e){this.__mouseDownStates=new yn;var i=new zt;i._items=[],i._length=i._items.length,this.__inElements=i;var s=new zt;s._items=[],s._length=s._items.length,this.__outElements=s,this.__scaleMode=3,this.__pingPongIndex=0;var n=new zt;n._items=[],n._length=n._items.length;var a=new zt;a._items=[],a._length=a._items.length,this.__pingPongChildrenStack=[n,a];var r=new zt;r._items=[],r._length=r._items.length,this.__allChildrenTempStack=r,j.call(this),this.__worldTransform=new ho,this.__branchDepth=0,this.application=t.application,this.window=t,null==e?(this.__transparent=!0,this.set_color(0)):this.set_color(e),this.set_name(null),this.__deltaTime=0,this.__displayState=2,this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.stageWidth=t.get_originalWidth()*t.__scale|0,this.stageHeight=t.get_originalHeight()*t.__scale|0,(this.stage=this).align=6,this.allowsFullScreen=!0,this.allowsFullScreenInteractive=!0,this.quality=1,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0;var o=new zt;o._items=[],o._length=o._items.length,this.__stack=o;var h=new zt;h._items=[],h._length=h._items.length,this.__focusStack=h;var _=new zt;_._items=[],_._length=_._items.length,this.__mouseOutStack=_;var l=new Le,u=new Array(0);l.data=u,l.length=0,l.fixed=!1,this.stage3Ds=l;var c=this.stage3Ds,f=new Qh;if(!c.fixed){if(c.length++,c.data.length<c.length){var d=c.data.length+10,p=new Array(d);Sn.blit(c.data,0,p,0,c.data.length),c.data=p}c.data[c.length-1]=f}if(null==lo.current.stage){var g=this.stage;g.addChildAt(lo.current,g.__children._length)}this.__allChildrenStack=this.__pingPongChildrenStack[this.__pingPongIndex];var m=this.__allChildrenStack;m._items[m._length++]=this.stage}(i["openfl.display.Stage"]=Zh).__name__=["openfl","display","Stage"],Zh.__interfaces__=[ti],Zh.fireEvent=function(t,e){var i=e._length;if(0==i)t.eventPhase=2,t.target.__broadcast(t,!1);else{t.eventPhase=1;var s=e._length-1;t.target=s>=e._length?null:e._items[s],t.acquire();for(var n=0,a=i-1;n<a;){var r=n++;if((r>=e._length?null:e._items[r]).__broadcast(t,!1),t.__isCanceled)return void t.release()}if(t.eventPhase=2,t.target.__broadcast(t,!1),t.__isCanceled)return void t.release();if(t.bubbles){t.eventPhase=3;for(var o=i-2;0<=o;){if((o>=e._length?null:e._items[o]).__broadcast(t,!1),t.__isCanceled)return void t.release();--o}}t.release()}},Zh.__super__=j,Zh.prototype=s(j.prototype,{invalidate:function(){this.__invalidated=!0},onGamepadAxisMove:function(t,e,i){Ql.__onGamepadAxisMove(t,e,i)},onGamepadButtonDown:function(t,e){Ql.__onGamepadButtonDown(t,e)},onGamepadButtonUp:function(t,e){Ql.__onGamepadButtonUp(t,e)},onGamepadConnect:function(t){Ql.__onGamepadConnect(t)},onGamepadDisconnect:function(t){Ql.__onGamepadDisconnect(t)},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyDown",e,i)},onKeyUp:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyUp",e,i)},onModuleExit:function(t){null!=this.window&&this.__broadcastFromStage(Ne.__create("deactivate"),!0)},onMouseDown:function(t,e,i,s){if(null!=this.window&&this.window==t){var n;switch(s){case 1:n="middleMouseDown";break;case 2:n="rightMouseDown";break;default:n="mouseDown"}this.__onMouse(n,e*t.__scale|0,i*t.__scale|0,s)}},onMouseMove:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouse("mouseMove",e*t.__scale|0,i*t.__scale|0,0)},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,s){if(null!=this.window&&this.window==t){var n;switch(s){case 1:n="middleMouseUp";break;case 2:n="rightMouseUp";break;default:n="mouseUp"}this.__onMouse(n,e*t.__scale|0,i*t.__scale|0,s)}},onMouseWheel:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouseWheel(e*t.__scale|0,i*t.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(t,e,i){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,s){},onTextInput:function(t,e){if(null!=this.window&&this.window==t){for(var i=this.__stack,s=0,n=i._length;s<n;){var a=s++;i._items[a]=null}i._length=0,null==this.__focus?this.__getInteractive(this.__stack):this.__focus.__getInteractive(this.__stack);var r=new M_("textInput",!0,!1,e);if(0<this.__stack._length){for(var o=this.__stack,h=0,_=o._length-1;h<_;){var l=o._items[h];o._items[h]=o._items[_],o._items[_]=l,++h,--_}Zh.fireEvent(r,this.__stack)}else this.__broadcastFromStage(r,!0)}},onTouchMove:function(t){this.__onTouch("touchMove",t)},onTouchEnd:function(t){this.__onTouch("touchEnd",t)},onTouchStart:function(t){this.__onTouch("touchBegin",t)},onWindowActivate:function(t){if(null!=this.window&&this.window==t){var e=Ne.__create("activate");this.__broadcastFromStage(e,!0)}},onWindowClose:function(t){this.window==t&&(this.window=null)},onWindowCreate:function(t){if(null!=this.window&&this.window==t&&null!=t.renderer){var e=t.renderer.context;if(0==e[1]){var i=e[2];this.__renderer=new Wo(this.stageWidth,this.stageHeight,i)}t.__resizable&&Zt.resizeStatic({width:t.__width,height:t.__height})}},onWindowDeactivate:function(t){if(null!=this.window&&this.window==t){var e=Ne.__create("deactivate");this.__broadcastFromStage(e,!0)}},onWindowEnter:function(t){null!=this.window&&this.window==t&&this.__dispatchEvent(Ne.__create("mouseEnter"))},onWindowFocusIn:function(t){if(null!=this.window&&this.window==t){var e=new B_("focusIn",!0,!1,null,!1,0);this.__broadcastFromStage(e,!0)}},onWindowFocusOut:function(t){if(null!=this.window&&this.window==t){var e=new B_("focusOut",!0,!1,null,!1,0);this.__broadcastFromStage(e,!0)}},onWindowFullscreen:function(t){null!=this.window&&this.window==t&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(t){if(null!=this.window&&this.window==t){this.__dispatchEvent(Ne.__create("mouseLeave"));for(var e=this.__mouseDownStates.keys();e.hasNext();){var i=e.next();this.__mouseDownStates.h[i]&&this.onMouseUp(t,this.__mouseX,this.__mouseY,i)}}},onWindowMinimize:function(t){},onWindowMove:function(t,e,i){},onWindowResize:function(t,e,i){if(null!=this.window&&this.window==t){2==this.__displayState||t.__fullscreen||(this.__displayState=2),e=e*t.__scale|0,i=i*t.__scale|0;var s=this.get_scaleX(),n=this.get_scaleY(),a=this.stageWidth/this.stageHeight,r=e/i;if(a==r&&2!=this.get_scaleMode())this.set_scaleX(e/this.stageWidth),this.set_scaleY(i/this.stageHeight);else switch(this.get_scaleMode()){case 0:this.set_scaleX(e/this.stageWidth),this.set_scaleY(i/this.stageHeight);break;case 1:if(a<r){var o=e/this.stageWidth;this.set_scaleX(o),this.set_scaleY(o),i=Math.ceil(this.stageHeight*o)}else{var h=i/this.stageHeight;this.set_scaleX(h),this.set_scaleY(h),e=Math.ceil(this.stageWidth*h)}break;case 2:e=this.stageWidth,i=this.stageHeight;break;case 3:if(a<r){var _=i/this.stageHeight;this.set_scaleX(_),this.set_scaleY(_),e=Math.ceil(this.stageWidth*_)}else{var l=e/this.stageWidth;this.set_scaleX(l),this.set_scaleY(l),i=Math.ceil(this.stageHeight*l)}}if(this.__update(!1,!0),null!=this.__renderer&&(pn.trace("Resizing renderer to "+e+", "+i,{fileName:"Stage.hx",lineNumber:665,className:"openfl.display.Stage",methodName:"onWindowResize"}),this.__renderer.resize(e,i),t.resizeViewport(e,i)),s!=this.get_scaleX()||n!=this.get_scaleY()){var u=Ne.__create("resize");this.__broadcastFromStage(u,!1)}}},get_scaleMode:function(){return this.__scaleMode},set_scaleMode:function(t){return t!=this.__scaleMode&&this.onWindowResize(this.window,this.window.__width,this.window.__height),this.__scaleMode=t},onWindowRestore:function(t){},__concatDepthFirstChildren:function(t,e){var i=this.__allChildrenTempStack;for(i._items[i._length++]=0,null!=e&&(e.__branchDirty=!1,e.__branchDepth=null!=e.parent?e.parent.__branchDepth+1:0,t._items[t._length++]=e);0<this.__allChildrenTempStack._length;){var s=this.__allChildrenTempStack,n=s._items[s._length-1];if(null==e.__children||0==e.__children._length||n>=e.__children._length){var a=this.__allChildrenTempStack;a._items[--a._length];if(a._items[a._length]=null,0<this.__allChildrenTempStack._length){var r=this.__allChildrenTempStack,o=this.__allChildrenTempStack,h=o._items[--o._length];o._items[o._length]=null,r._items[r._length++]=h+1}e=e.parent}else{var _=e.__children;null!=(e=n>=_._length?null:_._items[n])&&(e.__branchDirty=!1,e.__branchDepth=null!=e.parent?e.parent.__branchDepth+1:0,t._items[t._length++]=e);var l=this.__allChildrenTempStack;l._items[l._length++]=0}}},__updateAllChildrenStack:function(){if(0!=W.__worldBranchDirty){W.__worldBranchDirty=0;var t=this.__pingPongIndex;this.__pingPongIndex^=1;for(var e=this.__pingPongChildrenStack[t],i=this.__pingPongChildrenStack[this.__pingPongIndex],s=0;s<e._length;){var n=s>=e._length?null:e._items[s];if(n.__branchDirty){this.__concatDepthFirstChildren(i,n);for(var a=n.__branchDepth,r=s;++r<e._length;){if((r>=e._length?null:e._items[r]).__branchDepth<=a)break}s=r}else++s,i._items[i._length++]=n}for(var o=0,h=e._length;o<h;){var _=o++;e._items[_]=null}e._length=0,this.__allChildrenStack=i}},__enterFrame:function(t){for(var e,i=1;i<this.__allChildrenStack._length;){var s=this.__allChildrenStack;null!=(e=i>=s._length?null:s._items[i]).stage&&e.__enterFrame(t),++i}},__broadcastFromStage:function(t,e){var i;if(null==t.target&&(t.target=this),t.acquire(),null!=this.__eventMap&&this.hasEventListener(t.type)){var s;if(t.acquire(),null==this.__eventMap||null==t)t.release(),s=!1;else{var n,a=t.type;if(this.__dispatching.get(a)?(null==(n=this.__newEventMap.get(a))&&(n=this.__eventMap.get(a)),null!=n&&(n=n.slice())):null!=(n=this.__eventMap.get(a))&&this.__dispatching.set(a,!0),null!=n){var r=null;r=null==t.target?null!=this.__targetDispatcher?this.__targetDispatcher:this:t.target;for(var o,h=1==t.eventPhase,_=0;_<n.length&&(t.target=r,t.currentTarget=this,(o=n[_]).useCapture!=h||(o.callback.call(o,t),!t.__isCanceledNow));)o==n[_]&&++_;if(null!=this.__newEventMap&&this.__newEventMap.exists(a)){var l=this.__newEventMap.get(a);0<l.length?this.__eventMap.set(a,l):this.__eventMap.remove(a),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(a):(this.__eventMap=null,this.__newEventMap=null)}this.__dispatching.set(t.type,!1),t.release(),s=!0}else t.release(),s=!1}i=!!t.__isCanceled||s}else i=!1;if(!t.__isCanceled&&e)for(var u,c=1;c<this.__allChildrenStack._length;){var f=this.__allChildrenStack;if((u=c>=f._length?null:f._items[c]).stage==this&&null!=u.__eventMap&&u.hasEventListener(t.type)){if(t.acquire(),null==u.__eventMap||null==t)t.release(),!1;else{var d,p=t.type;if(u.__dispatching.get(p)?(null==(d=u.__newEventMap.get(p))&&(d=u.__eventMap.get(p)),null!=d&&(d=d.slice())):null!=(d=u.__eventMap.get(p))&&u.__dispatching.set(p,!0),null!=d){var g=null;g=null==t.target?null!=u.__targetDispatcher?u.__targetDispatcher:u:t.target;for(var m,v=1==t.eventPhase,b=0;b<d.length&&(t.target=g,t.currentTarget=u,(m=d[b]).useCapture!=v||(m.callback.call(m,t),!t.__isCanceledNow));)m==d[b]&&++b;if(null!=u.__newEventMap&&u.__newEventMap.exists(p)){var y=u.__newEventMap.get(p);0<y.length?u.__eventMap.set(p,y):u.__eventMap.remove(p),u.__eventMap.iterator().hasNext()?u.__newEventMap.remove(p):(u.__eventMap=null,u.__newEventMap=null)}u.__dispatching.set(t.type,!1),t.release(),!0}else t.release(),!1}t.__isCanceled}if(t.__isCanceled)return t.release(),!0;++c}return t.release(),i},render:function(t){null!=t.window&&t.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),W.__worldTransformDirty++),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,W.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__rendering||(this.__rendering=!0,this.__broadcastFromStage(Ne.__create("enterFrame"),!0),this.__invalidated&&(this.__invalidated=!1,this.__broadcastFromStage(Ne.__create("render"),!0)),this.__updateAllChildrenStack(),this.__enterFrame(this.__deltaTime),this.__updateAllChildrenStack(),this.__deltaTime=0,this.__updateDirtyElements(!1,!0),null!=this.__renderer&&this.__renderer.render(this),this.__rendering=!1))},update:function(t){this.__deltaTime=t,Zh.__calledOnMouseThisFrame||this.__onMouse(null,this.__mouseX,this.__mouseY,0),Zh.__calledOnMouseThisFrame=!1,this.__updateAllChildrenStack()},__drag:function(t){var e=this.__dragObject.parent;null!=e&&(t=e.globalToLocal(t));var i=t.x+this.__dragOffsetX,s=t.y+this.__dragOffsetY;null!=this.__dragBounds&&(i<this.__dragBounds.x?i=this.__dragBounds.x:i>this.__dragBounds.get_right()&&(i=this.__dragBounds.get_right()),s<this.__dragBounds.y?s=this.__dragBounds.y:s>this.__dragBounds.get_bottom()&&(s=this.__dragBounds.get_bottom())),this.__dragObject.set_x(i),this.__dragObject.set_y(s)},__getInteractive:function(t){return null!=t&&(t._items[t._length++]=this),!0},__onKey:function(t,e,i){G_.__altKey=Vr.get_altKey(i),G_.__commandKey=Vr.get_metaKey(i),G_.__ctrlKey=Vr.get_ctrlKey(i),G_.__shiftKey=Vr.get_shiftKey(i);for(var s=this.__stack,n=0,a=s._length;n<a;){var r=n++;s._items[r]=null}if(s._length=0,null==this.__focus?this.__getInteractive(this.__stack):this.__focus.__getInteractive(this.__stack),0<this.__stack._length){var o,h;switch(e){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 108:case 110:case 111:case 1073741910:case 1073741911:case 1073741923:o=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:o=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:o=2;break;default:o=0}switch(e){case 8:h=8;break;case 9:h=9;break;case 13:h=13;break;case 27:h=27;break;case 32:h=32;break;case 33:h=49;break;case 34:h=222;break;case 35:h=51;break;case 36:h=52;break;case 37:h=53;break;case 38:h=55;break;case 39:h=222;break;case 40:h=57;break;case 41:h=48;break;case 42:h=56;break;case 44:h=188;break;case 45:h=189;break;case 46:h=190;break;case 47:h=191;break;case 48:h=48;break;case 49:h=49;break;case 50:h=50;break;case 51:h=51;break;case 52:h=52;break;case 53:h=53;break;case 54:h=54;break;case 55:h=55;break;case 56:h=56;break;case 57:h=57;break;case 58:case 59:h=186;break;case 60:h=60;break;case 61:h=187;break;case 62:h=190;break;case 63:h=191;break;case 64:h=50;break;case 91:h=219;break;case 92:h=220;break;case 93:h=221;break;case 94:h=54;break;case 95:h=189;break;case 96:h=192;break;case 97:h=65;break;case 98:h=66;break;case 99:h=67;break;case 100:h=68;break;case 101:h=69;break;case 102:h=70;break;case 103:h=71;break;case 104:h=72;break;case 105:h=73;break;case 106:h=74;break;case 107:h=75;break;case 108:h=76;break;case 109:h=77;break;case 110:h=78;break;case 111:h=79;break;case 112:h=80;break;case 113:h=81;break;case 114:h=82;break;case 115:h=83;break;case 116:h=84;break;case 117:h=85;break;case 118:h=86;break;case 119:h=87;break;case 120:h=88;break;case 121:h=89;break;case 122:h=90;break;case 127:h=46;break;case 1073741881:h=20;break;case 1073741882:h=112;break;case 1073741883:h=113;break;case 1073741884:h=114;break;case 1073741885:h=115;break;case 1073741886:h=116;break;case 1073741887:h=117;break;case 1073741888:h=118;break;case 1073741889:h=119;break;case 1073741890:h=120;break;case 1073741891:h=121;break;case 1073741892:h=122;break;case 1073741893:h=123;break;case 1073741894:h=301;break;case 1073741895:h=145;break;case 1073741896:h=19;break;case 1073741897:h=45;break;case 1073741898:h=36;break;case 1073741899:h=33;break;case 1073741901:h=35;break;case 1073741902:h=34;break;case 1073741903:h=39;break;case 1073741904:h=37;break;case 1073741905:h=40;break;case 1073741906:h=38;break;case 1073741907:h=144;break;case 1073741908:h=111;break;case 1073741909:h=106;break;case 1073741910:h=109;break;case 1073741911:h=107;break;case 1073741912:h=108;break;case 1073741913:h=97;break;case 1073741914:h=98;break;case 1073741915:h=99;break;case 1073741916:h=100;break;case 1073741917:h=101;break;case 1073741918:h=102;break;case 1073741919:h=103;break;case 1073741920:h=104;break;case 1073741921:h=105;break;case 1073741922:h=96;break;case 1073741923:h=110;break;case 1073741925:h=302;break;case 1073741928:h=124;break;case 1073741929:h=125;break;case 1073741930:h=126;break;case 1073741982:h=13;break;case 1073742044:h=110;break;case 1073742048:h=17;break;case 1073742049:h=16;break;case 1073742050:h=18;break;case 1073742051:h=15;break;case 1073742052:h=17;break;case 1073742053:h=16;break;case 1073742054:h=18;break;case 1073742055:h=15;break;default:h=e}for(var _=eu.__getCharCode(h,Vr.get_shiftKey(i)),l=new z_(t,!0,!1,_,h,o,this.__macKeyboard?Vr.get_ctrlKey(i)||Vr.get_metaKey(i):Vr.get_ctrlKey(i),Vr.get_altKey(i),Vr.get_shiftKey(i),Vr.get_ctrlKey(i),Vr.get_metaKey(i)),u=this.__stack,c=0,f=u._length-1;c<f;){var d=u._items[c];u._items[c]=u._items[f],u._items[f]=d,++c,--f}Zh.fireEvent(l,this.__stack),l.__isCanceled&&("keyDown"==t?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(t,e,i,s){var n=this;if(!(2<s)){Zh.__calledOnMouseThisFrame=!0,this.__mouseX=e,this.__mouseY=i;var a=e/this.get_scaleX(),r=i/this.get_scaleY(),o=null,h=_o.pool.get(),_=_o.pool.get();h.setTo(this.get_mouseX(),this.get_mouseY());for(var l=this.__stack,u=0,c=l._length;u<c;){var f=u++;l._items[f]=null}if(l._length=0,this.__hitTest(e,i,!0,this.__stack,!0,this)){var d=this.__stack,p=this.__stack._length-1;o=p>=d._length?null:d._items[p]}else{for(var g=(o=this).__stack,m=0,v=g._length;m<v;){var b=m++;g._items[b]=null}g._length=0;var y=this.__stack;y._items[y._length++]=this}if(null==o&&(o=this),_.copyFrom(h),null!=o.stage){var w=o.stage.__getWorldTransform(),x=_.x,T=_.y;_.x=x*w.a+T*w.c+w.tx,_.y=x*w.b+T*w.d+w.ty}var S=o.__getWorldTransform(),C=S.a*S.d-S.b*S.c;if(0==C)_.x=-S.tx,_.y=-S.ty;else{var E=1/C*(S.c*(S.ty-_.y)+S.d*(_.x-S.tx));_.y=1/C*(S.a*(_.y-S.ty)+S.b*(S.tx-_.x)),_.x=E}var I=null;switch(t){case"middleMouseDown":this.__mouseDownStates.set(s,!0),this.__mouseDownMiddle=o;break;case"middleMouseUp":this.__mouseDownStates.set(s,!1),this.__mouseDownMiddle==o&&(I="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":o.get_tabEnabled()?this.set_focus(o):this.set_focus(null),this.__mouseDownStates.set(s,!0),this.__mouseDownLeft=o;break;case"mouseUp":this.__mouseDownStates.set(s,!1),this.__mouseDownLeft==o&&(I="click"),this.__mouseDownLeft=null;break;case"rightMouseDown":this.__mouseDownStates.set(s,!0),this.__mouseDownRight=o;break;case"rightMouseUp":this.__mouseDownStates.set(s,!1),this.__mouseDownRight==o&&(I="rightClick"),this.__mouseDownRight=null}if(Zh.fireEvent(G_.__create(t,a,r,o==this?h:_,o,this),this.__stack),null!=I&&(Zh.fireEvent(G_.__create(I,a,r,o==this?h:_,o,this),this.__stack),"mouseUp"==t&&Jn.__cast(o,we).doubleClickEnabled)){var P=Date.now();P-this.__lastClickTime<500?(Zh.fireEvent(G_.__create("doubleClick",a,r,o==this?h:_,o,this),this.__stack),this.__lastClickTime=0):this.__lastClickTime=P}for(var k,D,A=null,M=0,R=this.__stack._length;M<R;){var F=M++,B=this.__stack;if(null!=(A=(F>=B._length?null:B._items[F]).__getCursor())){Hr.set_cursor(A);break}}if(null==A&&Hr.set_cursor(Yr.ARROW),0<this.__stack._length)if(0!=this.__mouseOutStack._length)if(0<this.__mouseOutStack._length){var L=this.__mouseOutStack,N=this.__mouseOutStack._length-1,O=this.__stack,U=this.__stack._length-1;D=(N>=L._length?null:L._items[N])!=(U>=O._length?null:O._items[U])}else D=!1;else D=!0;else D=!1;if(D){for(var z=this.__outElements,G=0,X=z._length;G<X;){var V=G++;z._items[V]=null}z._length=0;for(var H=this.__inElements,Y=0,W=H._length;Y<W;){var j=Y++;H._items[j]=null}if((H._length=0)==n.__mouseOutStack._length){var K=n.__inElements,q=n.__stack,J=K._length;K._length=q._length;for(var Z=0,Q=K._length;Z<Q;){var $=Z++,tt=$;K._items[$]=tt>=q._length?null:q._items[tt]}for(var et=K._length,it=J;et<it;){var st=et++;K._items[st]=null}}for(var nt=0,at=0|Math.max(n.__stack._length,n.__mouseOutStack._length);nt<at;){var rt=nt++,ot=n.__stack,ht=n.__mouseOutStack;if((rt>=ot._length?null:ot._items[rt])!=(rt>=ht._length?null:ht._items[rt])){var _t=n.__outElements,lt=n.__mouseOutStack,ut=_t._length;_t._length=lt._length-rt;for(var ct=0,ft=_t._length;ct<ft;){var dt=ct++,pt=rt+dt;_t._items[dt]=pt>=lt._length?null:lt._items[pt]}for(var gt=_t._length,mt=ut;gt<mt;){var vt=gt++;_t._items[vt]=null}var bt=n.__inElements,yt=n.__stack,wt=bt._length;bt._length=yt._length-rt;for(var xt=0,Tt=bt._length;xt<Tt;){var St=xt++,Ct=rt+St;bt._items[St]=Ct>=yt._length?null:yt._items[Ct]}for(var Et=bt._length,It=wt;Et<It;){var Pt=Et++;bt._items[Pt]=null}break}}if(0<this.__mouseOutStack._length){var kt=this.__mouseOutStack,Dt=this.__mouseOutStack._length-1,At=Dt>=kt._length?null:kt._items[Dt];if(_.copyFrom(h),null!=At.stage){var Mt=At.stage.__getWorldTransform(),Rt=_.x,Ft=_.y;_.x=Rt*Mt.a+Ft*Mt.c+Mt.tx,_.y=Rt*Mt.b+Ft*Mt.d+Mt.ty}var Bt=At.__getWorldTransform(),Lt=Bt.a*Bt.d-Bt.b*Bt.c;if(0==Lt)_.x=-Bt.tx,_.y=-Bt.ty;else{var Nt=1/Lt*(Bt.c*(Bt.ty-_.y)+Bt.d*(_.x-Bt.tx));_.y=1/Lt*(Bt.a*(_.y-Bt.ty)+Bt.b*(Bt.tx-_.x)),_.x=Nt}(k=G_.__create("mouseOut",a,r,_,At,n)).bubbles=!0,At.__dispatchEvent(k)}for(var Ot=this.__outElements._length-1;0<=Ot;){var Ut=this.__outElements,zt=Ot>=Ut._length?null:Ut._items[Ot];if(zt.hasEventListener("rollOut")){if(_.copyFrom(h),null!=zt.stage){var Gt=zt.stage.__getWorldTransform(),Xt=_.x,Vt=_.y;_.x=Xt*Gt.a+Vt*Gt.c+Gt.tx,_.y=Xt*Gt.b+Vt*Gt.d+Gt.ty}var Ht=zt.__getWorldTransform(),Yt=Ht.a*Ht.d-Ht.b*Ht.c;if(0==Yt)_.x=-Ht.tx,_.y=-Ht.ty;else{var Wt=1/Yt*(Ht.c*(Ht.ty-_.y)+Ht.d*(_.x-Ht.tx));_.y=1/Yt*(Ht.a*(_.y-Ht.ty)+Ht.b*(Ht.tx-_.x)),_.x=Wt}(k=G_.__create("rollOut",a,r,_,zt,n)).bubbles=!1,zt.__dispatchEvent(k)}--Ot}for(var jt=0,Kt=this.__inElements;jt<Kt._length;){var qt=jt>=Kt._length?null:Kt._items[jt];if(++jt,qt.hasEventListener("rollOver")){if(_.copyFrom(h),null!=qt.stage){var Jt=qt.stage.__getWorldTransform(),Zt=_.x,Qt=_.y;_.x=Zt*Jt.a+Qt*Jt.c+Jt.tx,_.y=Zt*Jt.b+Qt*Jt.d+Jt.ty}var $t=qt.__getWorldTransform(),te=$t.a*$t.d-$t.b*$t.c;if(0==te)_.x=-$t.tx,_.y=-$t.ty;else{var ee=1/te*($t.c*($t.ty-_.y)+$t.d*(_.x-$t.tx));_.y=1/te*($t.a*(_.y-$t.ty)+$t.b*($t.tx-_.x)),_.x=ee}(k=G_.__create("rollOver",a,r,_,qt,n)).bubbles=!1,qt.__dispatchEvent(k)}}var ie=this.__stack,se=this.__stack._length-1,ne=se>=ie._length?null:ie._items[se];if(_.copyFrom(h),null!=ne.stage){var ae=ne.stage.__getWorldTransform(),re=_.x,oe=_.y;_.x=re*ae.a+oe*ae.c+ae.tx,_.y=re*ae.b+oe*ae.d+ae.ty}var he=ne.__getWorldTransform(),_e=he.a*he.d-he.b*he.c;if(0==_e)_.x=-he.tx,_.y=-he.ty;else{var le=1/_e*(he.c*(he.ty-_.y)+he.d*(_.x-he.tx));_.y=1/_e*(he.a*(_.y-he.ty)+he.b*(he.tx-_.x)),_.x=le}(k=G_.__create("mouseOver",a,r,_,ne,n)).bubbles=!0,ne.__dispatchEvent(k)}null!=this.__dragObject&&this.__drag(h);var ue=this.__mouseOutStack,ce=this.__stack,fe=ue._length;ue._length=ce._length;for(var de=0,pe=ue._length;de<pe;){var ge=de++,me=ge;ue._items[ge]=me>=ce._length?null:ce._items[me]}for(var ve=ue._length,be=fe;ve<be;){var ye=ve++;ue._items[ye]=null}_o.pool.put(h),_o.pool.put(_)}},__onMouseWheel:function(t,e){for(var i=this.__mouseX,s=this.__mouseY,n=this.__stack,a=0,r=n._length;a<r;){var o=a++;n._items[o]=null}if(n._length=0,!this.__hitTest(i,s,!1,this.__stack,!0,this)){for(var h=this.__stack,_=0,l=h._length;_<l;){var u=_++;h._items[u]=null}h._length=0;var c=this.__stack;c._items[c._length++]=this}var f=this.__stack,d=this.__stack._length-1,p=d>=f._length?null:f._items[d],g=_o.pool.get();g.setTo(i,s);var m=0|e;Zh.fireEvent(G_.__create("mouseWheel",this.__mouseX,this.__mouseY,p==this?g:p.globalToLocal(g),p,this,m),this.__stack),_o.pool.put(g)},__onTouch:function(t,e){this.__mouseX=e.x*this.stageWidth,this.__mouseY=e.y*this.stageHeight;var i=this.__mouseX/this.get_scaleX(),s=this.__mouseY/this.get_scaleY(),n=null,a=_o.pool.get(),r=_o.pool.get();a.setTo(this.get_mouseX(),this.get_mouseY());for(var o=this.__stack,h=0,_=o._length;h<_;){var l=h++;o._items[l]=null}if(o._length=0,this.__hitTest(this.__mouseX,this.__mouseY,!0,this.__stack,!0,this)){var u=this.__stack,c=this.__stack._length-1;n=c>=u._length?null:u._items[c]}else{for(var f=(n=this).__stack,d=0,p=f._length;d<p;){var g=d++;f._items[g]=null}f._length=0;var m=this.__stack;m._items[m._length++]=this}if(null==n&&(n=this),r.copyFrom(a),null!=n.stage){var v=n.stage.__getWorldTransform(),b=r.x,y=r.y;r.x=b*v.a+y*v.c+v.tx,r.y=b*v.b+y*v.d+v.ty}var w=n.__getWorldTransform(),x=w.a*w.d-w.b*w.c;if(0==x)r.x=-w.tx,r.y=-w.ty;else{var T=1/x*(w.c*(w.ty-r.y)+w.d*(r.x-w.tx));r.y=1/x*(w.a*(r.y-w.ty)+w.b*(w.tx-r.x)),r.x=T}Zh.fireEvent(H_.__create(t,null,i,s,n==this?a:r,n),this.__stack),_o.pool.put(a),_o.pool.put(r)},__hitTest:function(t,e,i,s,n,a){var r=j.prototype.__hitTest.call(this,t,e,i,s,n,a);if(!r){var o=El.pool.get();o.x=this.__transform.tx,o.y=this.__transform.ty,o.width=this.get_scaleX()*this.stageWidth,o.height=this.get_scaleY()*this.stageHeight,r=o.contains(t,e),El.pool.put(o),r&&null!=s&&(s._items[s._length++]=this)}return r},__resize:function(){},__startDrag:function(t,e,i){if(this.__dragBounds=null==i?null:i.clone(),this.__dragObject=t,null!=this.__dragObject)if(e)this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2;else{var s=_o.pool.get();s.setTo(this.get_mouseX(),this.get_mouseY());var n=this.__dragObject.parent;null!=n&&(s=n.globalToLocal(s)),this.__dragOffsetX=this.__dragObject.__transform.tx-s.x,this.__dragOffsetY=this.__dragObject.__transform.ty-s.y,_o.pool.put(s)}},__stopDrag:function(t){this.__dragBounds=null,this.__dragObject=null},__updateDirtyElements:function(t,e){if(0<W.__worldTransformDirty&&(t||this.__dirty||0<W.__worldRenderDirty)){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,W.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1);for(var i=0;i<this.__allChildrenStack._length;){var s=this.__allChildrenStack,n=i>=s._length?null:s._items[i];n.__updateDirty&&n.__update(t,e),++i}e&&(W.__worldTransformDirty=0,t||(W.__worldRenderDirty=0),this.__dirty=t)}},canvas_onContextLost:function(t){},canvas_onContextRestored:function(t){},get_color:function(){return this.__color},set_color:function(t){var e=(16711680&t)>>>16,i=(65280&t)>>>8,s=255&t;return this.__colorSplit=[e/255,i/255,s/255],this.__colorString="#"+In.hex(t,6),this.__color=t},get_displayState:function(){return this.__displayState},set_displayState:function(t){return null!=this.window&&(2==t?this.window.__fullscreen&&(this.window.set_fullscreen(!1),this.dispatchEvent(new L_("fullScreen",!1,!1,!1,!0))):this.window.__fullscreen||(this.window.set_fullscreen(!0),this.dispatchEvent(new L_("fullScreen",!1,!1,!0,!0)))),this.__displayState=t},get_focus:function(){return this.__focus},set_focus:function(t){if(t!=this.__focus){var e=this.__focus;if(this.__focus=t,null!=e){for(var i=new B_("focusOut",!0,!1,this.__focus,!1,0),s=this.__focusStack,n=0,a=s._length;n<a;){var r=n++;s._items[r]=null}s._length=0,e.__getInteractive(this.__focusStack);for(var o=this.__focusStack,h=0,_=o._length-1;h<_;){var l=o._items[h];o._items[h]=o._items[_],o._items[_]=l,++h,--_}Zh.fireEvent(i,this.__focusStack)}if(null!=this.__focus){for(var u=new B_("focusIn",!0,!1,e,!1,0),c=this.__focusStack,f=0,d=c._length;f<d;){var p=f++;c._items[p]=null}c._length=0,t.__getInteractive(this.__focusStack);for(var g=this.__focusStack,m=0,v=g._length-1;m<v;){var b=g._items[m];g._items[m]=g._items[v],g._items[v]=b,++m,--v}Zh.fireEvent(u,this.__focusStack)}}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},set_frameRate:function(t){return this.frameTime=1e3/t|0,null!=this.application?this.application.backend.setFrameRate(t):t},get_fullScreenWidth:function(){return this.window.backend.getScreenWidth()},get_fullScreenHeight:function(){return this.window.backend.getScreenHeight()},__class__:Zh,__properties__:s(j.prototype.__properties__,{get_fullScreenHeight:"get_fullScreenHeight",get_fullScreenWidth:"get_fullScreenWidth",set_scaleMode:"set_scaleMode",get_scaleMode:"get_scaleMode",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",set_color:"set_color",get_color:"get_color"})});var Qh=function(){v.call(this)};(i["openfl.display.Stage3D"]=Qh).__name__=["openfl","display","Stage3D"],Qh.__super__=v,Qh.prototype=s(v.prototype,{requestContext3D:function(t){null==t&&(t="");var e=this;Hh.get_isSupported()?gn.delay(function(){e.context3D=new r_,e.dispatchEvent(new Ne("context3DCreate"))},1):gn.delay(function(){e.dispatchEvent(new R_("error"))},1)},__class__:Qh});var $h={};(i["openfl.display._StageAlign.StageAlign_Impl_"]=$h).__name__=["openfl","display","_StageAlign","StageAlign_Impl_"],$h.fromString=function(t){switch(t){case"bottom":return 0;case"bottomLeft":return 1;case"bottomRight":return 2;case"left":return 3;case"right":return 4;case"top":return 5;case"topLeft":return 6;case"topRight":return 7;default:return null}},$h.toString=function(t){switch(t){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var t_={};(i["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=t_).__name__=["openfl","display","_StageDisplayState","StageDisplayState_Impl_"],t_.fromString=function(t){switch(t){case"fullScreen":return 0;case"fullScreenInteractive":return 1;case"normal":return 2;default:return null}},t_.toString=function(t){switch(t){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var e_={};(i["openfl.display._StageQuality.StageQuality_Impl_"]=e_).__name__=["openfl","display","_StageQuality","StageQuality_Impl_"],e_.fromString=function(t){switch(t){case"best":return 0;case"high":return 1;case"low":return 2;case"medium":return 3;default:return null}},e_.toString=function(t){switch(t){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var i_={};(i["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=i_).__name__=["openfl","display","_StageScaleMode","StageScaleMode_Impl_"],i_.fromString=function(t){switch(t){case"exactFit":return 0;case"noBorder":return 1;case"noScale":return 2;case"showAll":return 3;default:return null}},i_.toString=function(t){switch(t){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}};var s_={};(i["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=s_).__name__=["openfl","display","_TriangleCulling","TriangleCulling_Impl_"],s_.fromString=function(t){switch(t){case"negative":return 0;case"none":return 1;case"positive":return 2;default:return null}},s_.toString=function(t){switch(t){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var n_=function(t){jr.call(this,t)};(i["openfl.display.Window"]=n_).__name__=["openfl","display","Window"],n_.__super__=jr,n_.prototype=s(jr.prototype,{create:function(t){jr.prototype.create.call(this,t),this.stage=new Zh(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215),t.addModule(this.stage)},__class__:n_});function a_(){}(i["openfl.display.api.ISpritesheet"]=a_).__name__=["openfl","display","api","ISpritesheet"],a_.prototype={__class__:a_};var r_=function(){this.disposed=!1;this.stencilCompareMode=519,this.stencilRef=0,this.stencilReadMask=255,this._yFlip=1,this.vertexBuffersCreated=[],this.indexBuffersCreated=[],this.programsCreated=[],this.texturesCreated=[],this.samplerParameters=[];for(var t=0,e=r_.MAX_SAMPLERS;t<e;){var i=t++;this.samplerParameters[i]=new o_,this.samplerParameters[i].wrap=m_.CLAMP,this.samplerParameters[i].filter=f_.LINEAR,this.samplerParameters[i].mipfilter=u_.MIPNONE}var s=lo.current.stage;this.ogl=new Hh,this.resize(),s.addChildAt(this.ogl,0),nr.context.pixelStorei(37440,1),nr.context.pixelStorei(37441,1),s.addEventListener("resize",Gf(this,this.resize))};(i["openfl.display3D.Context3D"]=r_).__name__=["openfl","display3D","Context3D"],r_.prototype={clear:function(t,e,i,s,n,a,r){null==r&&(r=17664),null==a&&(a=0),null==n&&(n=1),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.drawing||(this.__updateBlendStatus(),this.drawing=!0),null!=this.scissorRectangle&&nr.context.disable(3089),nr.context.clearColor(t,e,i,s),nr.context.clearDepth(n),nr.context.clearStencil(a),nr.context.clear(r),null!=this.scissorRectangle&&nr.context.enable(3089)},configureBackBuffer:function(t,e,i,s){null==s&&(s=!0),this.backBufferDepthAndStencil=s,this.updateDepthAndStencilState(),this.setBackBufferViewPort(null,null,t,e),this.updateScissorRectangle()},setBackBufferViewPort:function(t,e,i,s){null==t&&(t=0|this.scrollRect.x),null==e&&(e=0|this.scrollRect.y),null==i&&(i=0|this.scrollRect.width),null==s&&(s=0|this.scrollRect.height),this.scrollRect.x=t,this.scrollRect.y=e,this.scrollRect.width=i,this.scrollRect.height=s,this.ogl.set_width(t+i),this.ogl.set_height(e+s),this.updateBackBufferViewPort()},resize:function(t){var e=lo.current.stage,i=e.__renderer,s=null!=i?i.width:e.stageWidth*e.get_scaleX(),n=null!=i?i.height:e.stageHeight*e.get_scaleY();this.ogl.set_scrollRect(new El(0,0,s,n)),this.scrollRect=this.ogl.get_scrollRect(),this.ogl.set_width(s),this.ogl.set_height(n)},updateBackBufferViewPort:function(){this.renderToTexture||nr.context.viewport(0|this.scrollRect.x,0|this.scrollRect.y,0|this.scrollRect.width,0|this.scrollRect.height)},updateDepthAndStencilState:function(){(this.renderToTexture?this.rttDepthAndStencil:this.backBufferDepthAndStencil)?(ua.current.windows[0].config.depthBuffer&&nr.context.enable(2929),ua.current.windows[0].config.stencilBuffer&&nr.context.enable(2960)):(nr.context.disable(2929),nr.context.disable(2960))},createCubeTexture:function(t,e,i,s){null==s&&(s=0);var n=new x_(this,nr.context.createTexture(),t);return this.texturesCreated.push(n),n},createIndexBuffer:function(t,e){null==e&&(e=h_.STATIC_DRAW);var i=new v_(this,nr.context.createBuffer(),t,e==h_.STATIC_DRAW?35044:35048);return this.indexBuffersCreated.push(i),i},createProgram:function(){var t=new b_(this,nr.context.createProgram());return this.programsCreated.push(t),t},createRectangleTexture:function(t,e,i,s){var n=new T_(this,nr.context.createTexture(),s,t,e);return this.texturesCreated.push(n),n},createTexture:function(t,e,i,s,n){null==n&&(n=0);var a=new S_(this,nr.context.createTexture(),s,t,e);return this.texturesCreated.push(a),a},createVertexBuffer:function(t,e,i){null==i&&(i=h_.STATIC_DRAW);var s=new y_(this,nr.context.createBuffer(),t,e,i==h_.STATIC_DRAW?35044:35048);return this.vertexBuffersCreated.push(s),s},__deleteTexture:function(t){if(null!=t.glTexture){L.remove(this.texturesCreated,t);var e=t.glTexture;nr.textureStateCache.remove(e),nr.context.deleteTexture(e),t.glTexture=null}},__deleteVertexBuffer:function(t){null!=t.glBuffer&&(L.remove(this.vertexBuffersCreated,t),nr.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteIndexBuffer:function(t){null!=t.glBuffer&&(L.remove(this.indexBuffersCreated,t),nr.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteProgram:function(t){null!=t.glProgram&&(L.remove(this.programsCreated,t),nr.context.deleteProgram(t.glProgram),t.glProgram=null)},dispose:function(){for(var t=0,e=this.vertexBuffersCreated;t<e.length;){var i=e[t];++t,i.dispose()}this.vertexBuffersCreated=null;for(var s=0,n=this.indexBuffersCreated;s<n.length;){var a=n[s];++s,a.dispose()}this.indexBuffersCreated=null;for(var r=0,o=this.programsCreated;r<o.length;){var h=o[r];++r,h.dispose()}this.programsCreated=null,this.samplerParameters=null;for(var _=0,l=this.texturesCreated;_<l.length;){var u=l[_];++_,u.dispose()}(this.texturesCreated=null)!=this.framebuffer&&(nr.context.deleteFramebuffer(this.framebuffer),this.framebuffer=null),null!=this.renderbuffer&&(nr.context.deleteRenderbuffer(this.renderbuffer),this.renderbuffer=null),this.disposed=!0},drawToBitmapData:function(t){},drawTriangles:function(t,e,i){null==i&&(i=-1),null==e&&(e=0);var s,n=nr.context.getUniformLocation(this.currentProgram.glProgram,"yflip");if(nr.context.uniform1f(n,this._yFlip),!this.drawing)throw new qn(new C_("Need to clear before drawing if the buffer has not been cleared since the last present() call."));s=-1==i?t.numIndices:3*i;var a=2*e;nr.context.bindBuffer(34963,t.glBuffer),nr.context.drawElements(4,s,5123,a)},present:function(){this.drawing=!1;var t=null;t!=nr.currentProgram&&(nr.context.useProgram(t),t=nr.currentProgram),nr.context.bindBuffer(34962,null),nr.context.disable(2884),null!=this.framebuffer&&nr.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&nr.context.bindRenderbuffer(36161,null)},removeRenderMethod:function(t){this.ogl.set_render(null)},setBlendFactors:function(t,e){this.blendEnabled=!0,this.blendSourceFactor=t,this.blendDestinationFactor=e,this.__updateBlendStatus()},setColorMask:function(t,e,i,s){nr.context.colorMask(t,e,i,s)},setCulling:function(t){if(0==t)nr.context.disable(2884);else switch(nr.context.enable(2884),t){case 1028:nr.context.cullFace(1028);break;case 1029:nr.context.cullFace(1029);break;case 1032:nr.context.cullFace(1032);break;default:throw new qn("Unknown Context3DTriangleFace type.")}switch(t){case 0:case 1028:this._yFlip=1;break;case 1029:this._yFlip=-1;break;case 1032:this._yFlip=1;break;default:throw new qn("Unknown culling mode "+t+".")}},setDepthTest:function(t,e){nr.context.depthFunc(e),nr.context.depthMask(t)},setGLSLProgramConstantsFromByteArray:function(t,e,i){null==i&&(i=0);var s=nr.context.getUniformLocation(this.currentProgram.glProgram,t);e.position=i;var n=e.readFloat(),a=e.readFloat(),r=e.readFloat(),o=e.readFloat();nr.context.uniform4f(s,n,a,r,o)},setGLSLProgramConstantsFromMatrix:function(t,e,i){null==i&&(i=!1);for(var s=nr.context.getUniformLocation(this.currentProgram.glProgram,t),n=e.rawData,a=[],r=0,o=n.data.length;r<o;){var h=r++;a.push(n.data[h])}var _;_=null!=a?new Zf(a):null,nr.context.uniformMatrix4fv(s,!i,_)},setGLSLProgramConstantsFromVector4:function(t,e,i){null==i&&(i=0);var s=nr.context.getUniformLocation(this.currentProgram.glProgram,t);nr.context.uniform4f(s,e[i],e[i+1],e[i+2],e[i+3])},setGLSLTextureAt:function(t,e,i){switch(i){case 0:33984!=nr.currentActiveTexture&&(nr.context.activeTexture(33984),nr.currentActiveTexture=33984);break;case 1:33985!=nr.currentActiveTexture&&(nr.context.activeTexture(33985),nr.currentActiveTexture=33985);break;case 2:33986!=nr.currentActiveTexture&&(nr.context.activeTexture(33986),nr.currentActiveTexture=33986);break;case 3:33987!=nr.currentActiveTexture&&(nr.context.activeTexture(33987),nr.currentActiveTexture=33987);break;case 4:33988!=nr.currentActiveTexture&&(nr.context.activeTexture(33988),nr.currentActiveTexture=33988);break;case 5:33989!=nr.currentActiveTexture&&(nr.context.activeTexture(33989),nr.currentActiveTexture=33989);break;case 6:33990!=nr.currentActiveTexture&&(nr.context.activeTexture(33990),nr.currentActiveTexture=33990);break;case 7:33991!=nr.currentActiveTexture&&(nr.context.activeTexture(33991),nr.currentActiveTexture=33991);break;default:throw new qn("Does not support texture8 or more")}if(null==e)return null!=nr.currentBoundTexture[nr.currentActiveTexture]&&(nr.context.bindTexture(3553,null),nr.currentBoundTexture[nr.currentActiveTexture]=null),void(null!=nr.currentBoundTexture[nr.currentActiveTexture]&&(nr.context.bindTexture(34067,null),nr.currentBoundTexture[nr.currentActiveTexture]=null));var s=nr.context.getUniformLocation(this.currentProgram.glProgram,t);if(Jn.__instanceof(e,S_)){var n=Jn.__cast(e,S_).glTexture;nr.currentBoundTexture[nr.currentActiveTexture]!=n&&(nr.context.bindTexture(3553,n),null==(nr.currentBoundTexture[nr.currentActiveTexture]=n)||nr.textureStateCache.exists(n)||nr.textureStateCache.set(n,new yn)),nr.context.uniform1i(s,i)}else if(Jn.__instanceof(e,T_)){var a=Jn.__cast(e,T_).glTexture;nr.currentBoundTexture[nr.currentActiveTexture]!=a&&(nr.context.bindTexture(3553,a),null==(nr.currentBoundTexture[nr.currentActiveTexture]=a)||nr.textureStateCache.exists(a)||nr.textureStateCache.set(a,new yn)),nr.context.uniform1i(s,i)}else{if(!Jn.__instanceof(e,x_))throw new qn("Texture of type "+mi.getClassName(null==e?null:Jn.getClass(e))+" not supported yet");var r=Jn.__cast(e,x_).glTexture;nr.currentBoundTexture[nr.currentActiveTexture]!=r&&(nr.context.bindTexture(34067,r),null==(nr.currentBoundTexture[nr.currentActiveTexture]=r)||nr.textureStateCache.exists(r)||nr.textureStateCache.set(r,new yn)),nr.context.uniform1i(s,i)}var o=this.samplerParameters[i];null!=o?this.setTextureParameters(e,o.wrap,o.filter,o.mipfilter):this.setTextureParameters(e,m_.CLAMP,f_.NEAREST,u_.MIPNONE)},setGLSLVertexBufferAt:function(t,e,i,s){null==i&&(i=0);var n=null!=this.currentProgram&&null!=this.currentProgram.glProgram?nr.context.getAttribLocation(this.currentProgram.glProgram,t):-1;if(-1!=n)if(null!=e){nr.context.bindBuffer(34962,e.glBuffer);var a=4,r=5126,o=4;if(s==g_.BYTES_4)r=5126,o=a=4;else if(s==g_.FLOAT_1)a=1,r=5126,o=4;else if(s==g_.FLOAT_2)a=2,r=5126,o=4;else if(s==g_.FLOAT_3)a=3,r=5126,o=4;else{if(s!=g_.FLOAT_4)throw new qn("Buffer format "+O.string(s)+" is not supported");r=5126,o=a=4}nr.context.enableVertexAttribArray(n),nr.context.vertexAttribPointer(n,a,r,!1,e.data32PerVertex*o,i*o)}else-1<n&&nr.context.disableVertexAttribArray(n)},setProgram:function(t){var e=null;null!=t&&(e=t.glProgram);var i=e;i!=nr.currentProgram&&(nr.context.useProgram(i),i=nr.currentProgram),this.currentProgram=t},setProgramConstantsFromByteArray:function(t,e,i,s,n){s.position=n;for(var a=0,r=i;a<r;){var o=a++,h=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+o);this.setGLSLProgramConstantsFromByteArray(h,s)}},setProgramConstantsFromMatrix:function(t,e,i,s){null==s&&(s=!1);var n=i.rawData;s?(this.setProgramConstantsFromVector(t,e,[n.data[0],n.data[4],n.data[8],n.data[12]],1),this.setProgramConstantsFromVector(t,e+1,[n.data[1],n.data[5],n.data[9],n.data[13]],1),this.setProgramConstantsFromVector(t,e+2,[n.data[2],n.data[6],n.data[10],n.data[14]],1),this.setProgramConstantsFromVector(t,e+3,[n.data[3],n.data[7],n.data[11],n.data[15]],1)):(this.setProgramConstantsFromVector(t,e,[n.data[0],n.data[1],n.data[2],n.data[3]],1),this.setProgramConstantsFromVector(t,e+1,[n.data[4],n.data[5],n.data[6],n.data[7]],1),this.setProgramConstantsFromVector(t,e+2,[n.data[8],n.data[9],n.data[10],n.data[11]],1),this.setProgramConstantsFromVector(t,e+3,[n.data[12],n.data[13],n.data[14],n.data[15]],1))},setProgramConstantsFromVector:function(t,e,i,s){null==s&&(s=1);for(var n=0,a=s;n<a;){var r=n++,o=4*r,h=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+r);this.setGLSLProgramConstantsFromVector4(h,i,o)}},setRenderMethod:function(e){this.ogl.set_render(function(t){e(null)})},setRenderToBackBuffer:function(){nr.context.disable(2929),nr.context.disable(2960),nr.context.disable(3089),nr.context.bindFramebuffer(36160,null),null!=this.framebuffer&&nr.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&nr.context.bindRenderbuffer(36161,null),this.renderToTexture=!1,this.updateBackBufferViewPort(),this.updateScissorRectangle(),this.updateDepthAndStencilState()},setRenderToTexture:function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=!1),null==this.framebuffer&&(this.framebuffer=nr.context.createFramebuffer()),nr.context.bindFramebuffer(36160,this.framebuffer),null==this.renderbuffer&&(this.renderbuffer=nr.context.createRenderbuffer()),nr.context.bindRenderbuffer(36161,this.renderbuffer),e&&nr.context.renderbufferStorage(36161,34041,t.width,t.height),nr.context.framebufferTexture2D(36160,36064,3553,t.glTexture,0),nr.context.renderbufferStorage(36161,34041,t.width,t.height),nr.context.framebufferRenderbuffer(36160,33306,36161,this.renderbuffer),e&&(nr.context.enable(2929),nr.context.enable(2960));var n=t.glTexture;nr.currentBoundTexture[nr.currentActiveTexture]!=n&&(nr.context.bindTexture(3553,n),null==(nr.currentBoundTexture[nr.currentActiveTexture]=n)||nr.textureStateCache.exists(n)||nr.textureStateCache.set(n,new yn)),nr.context.texImage2D(3553,0,6408,t.width,t.height,0,6408,5121,null);var a=nr.currentBoundTexture[nr.currentActiveTexture],r=nr.textureStateCache.get(a);9729!=r.h[10240]&&(nr.context.texParameteri(3553,10240,9729),r.h[10240]=9729);var o=nr.currentBoundTexture[nr.currentActiveTexture],h=nr.textureStateCache.get(o);9985!=h.h[10241]&&(nr.context.texParameteri(3553,10241,9985),h.h[10241]=9985),nr.context.viewport(0,0,t.width,t.height),this.renderToTexture=!0,this.rttDepthAndStencil=e,this.rttWidth=t.width,this.rttHeight=t.height},setSamplerStateAt:function(t,e,i,s){if(!(0<=t&&t<r_.MAX_SAMPLERS))throw new qn("Sampler is out of bounds.");this.samplerParameters[t].wrap=e,this.samplerParameters[t].filter=i,this.samplerParameters[t].mipfilter=s},setScissorRectangle:function(t){null!=(this.scissorRectangle=t)?(nr.context.enable(3089),this.updateScissorRectangle()):nr.context.disable(3089)},updateScissorRectangle:function(){if(null!=this.scissorRectangle){var t=this.renderToTexture?this.rttHeight:0|this.scrollRect.height;nr.context.scissor(0|this.scissorRectangle.x,t-(0|this.scissorRectangle.y)-(0|this.scissorRectangle.height)|0,0|this.scissorRectangle.width,0|this.scissorRectangle.height)}},setStencilActions:function(t,e,i,s,n){var a=e;this.stencilCompareMode=a,nr.context.stencilOp(i,s,n),nr.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask)},setStencilReferenceValue:function(t,e,i){null==i&&(i=255),null==e&&(e=255),this.stencilReadMask=e,this.stencilRef=t,nr.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask),nr.context.stencilMask(i)},setTextureAt:function(t,e){var i="fs"+t;this.setGLSLTextureAt(i,e,t)},setTextureParameters:function(t,e,i,s){if(!r_.anisotropySupportTested){var n=nr.context.getExtension("EXT_texture_filter_anisotropic");if(null!=n&&null!=Dt.field(n,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(n=nr.context.getExtension("MOZ_EXT_texture_filter_anisotropic")),null!=n&&null!=Dt.field(n,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(n=nr.context.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),r_.supportsAnisotropy=null!=n,r_.supportsAnisotropy){r_.maxSupportedAnisotropy=nr.context.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT);var a=r_.TEXTURE_MAX_ANISOTROPY_EXT,r=r_.maxSupportedAnisotropy,o=nr.currentBoundTexture[nr.currentActiveTexture],h=nr.textureStateCache.get(o);h.h[a]!=r&&(nr.context.texParameteri(3553,a,r),h.h[a]=r)}r_.anisotropySupportTested=!0}if(Jn.__instanceof(t,S_)){switch(e[1]){case 0:var _=nr.currentBoundTexture[nr.currentActiveTexture],l=nr.textureStateCache.get(_);33071!=l.h[10242]&&(nr.context.texParameteri(3553,10242,33071),l.h[10242]=33071);var u=nr.currentBoundTexture[nr.currentActiveTexture],c=nr.textureStateCache.get(u);33071!=c.h[10243]&&(nr.context.texParameteri(3553,10243,33071),c.h[10243]=33071);break;case 1:var f=nr.currentBoundTexture[nr.currentActiveTexture],d=nr.textureStateCache.get(f);10497!=d.h[10242]&&(nr.context.texParameteri(3553,10242,10497),d.h[10242]=10497);var p=nr.currentBoundTexture[nr.currentActiveTexture],g=nr.textureStateCache.get(p);10497!=g.h[10243]&&(nr.context.texParameteri(3553,10243,10497),g.h[10243]=10497)}switch(i[1]){case 0:if(r_.supportsAnisotropy){var m=r_.TEXTURE_MAX_ANISOTROPY_EXT,v=At.gt(2,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):2;nr.context.texParameterf(3553,m,v)}break;case 1:if(r_.supportsAnisotropy){var b=r_.TEXTURE_MAX_ANISOTROPY_EXT,y=At.gt(4,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):4;nr.context.texParameterf(3553,b,y)}break;case 2:if(r_.supportsAnisotropy){var w=r_.TEXTURE_MAX_ANISOTROPY_EXT,x=At.gt(8,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):8;nr.context.texParameterf(3553,w,x)}break;case 3:if(r_.supportsAnisotropy){var T=r_.TEXTURE_MAX_ANISOTROPY_EXT,S=At.gt(16,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):16;nr.context.texParameterf(3553,T,S)}break;case 4:var C=nr.currentBoundTexture[nr.currentActiveTexture],E=nr.textureStateCache.get(C);9729!=E.h[10240]&&(nr.context.texParameteri(3553,10240,9729),E.h[10240]=9729),r_.supportsAnisotropy&&nr.context.texParameterf(3553,r_.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var I=nr.currentBoundTexture[nr.currentActiveTexture],P=nr.textureStateCache.get(I);9728!=P.h[10240]&&(nr.context.texParameteri(3553,10240,9728),P.h[10240]=9728),r_.supportsAnisotropy&&nr.context.texParameterf(3553,r_.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(s[1]){case 0:var k=nr.currentBoundTexture[nr.currentActiveTexture],D=nr.textureStateCache.get(k);9987!=D.h[10241]&&(nr.context.texParameteri(3553,10241,9987),D.h[10241]=9987);break;case 1:var A=nr.currentBoundTexture[nr.currentActiveTexture],M=nr.textureStateCache.get(A);9984!=M.h[10241]&&(nr.context.texParameteri(3553,10241,9984),M.h[10241]=9984);break;case 2:var R=i==f_.NEAREST?9728:9729,F=nr.currentBoundTexture[nr.currentActiveTexture],B=nr.textureStateCache.get(F);B.h[10241]!=R&&(nr.context.texParameteri(3553,10241,R),B.h[10241]=R)}var L=t;s==u_.MIPNONE||L.mipmapsGenerated||(nr.context.generateMipmap(3553),L.mipmapsGenerated=!0)}else if(Jn.__instanceof(t,T_)){var N=nr.currentBoundTexture[nr.currentActiveTexture],O=nr.textureStateCache.get(N);33071!=O.h[10242]&&(nr.context.texParameteri(3553,10242,33071),O.h[10242]=33071);var U=nr.currentBoundTexture[nr.currentActiveTexture],z=nr.textureStateCache.get(U);switch(33071!=z.h[10243]&&(nr.context.texParameteri(3553,10243,33071),z.h[10243]=33071),i[1]){case 0:if(r_.supportsAnisotropy){var G=r_.TEXTURE_MAX_ANISOTROPY_EXT,X=At.gt(2,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):2;nr.context.texParameterf(3553,G,X)}break;case 1:if(r_.supportsAnisotropy){var V=r_.TEXTURE_MAX_ANISOTROPY_EXT,H=At.gt(4,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):4;nr.context.texParameterf(3553,V,H)}break;case 2:if(r_.supportsAnisotropy){var Y=r_.TEXTURE_MAX_ANISOTROPY_EXT,W=At.gt(8,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):8;nr.context.texParameterf(3553,Y,W)}break;case 3:if(r_.supportsAnisotropy){var j=r_.TEXTURE_MAX_ANISOTROPY_EXT,K=At.gt(16,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):16;nr.context.texParameterf(3553,j,K)}break;case 4:var q=nr.currentBoundTexture[nr.currentActiveTexture],J=nr.textureStateCache.get(q);9729!=J.h[10240]&&(nr.context.texParameteri(3553,10240,9729),J.h[10240]=9729),r_.supportsAnisotropy&&nr.context.texParameterf(3553,r_.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var Z=nr.currentBoundTexture[nr.currentActiveTexture],Q=nr.textureStateCache.get(Z);9728!=Q.h[10240]&&(nr.context.texParameteri(3553,10240,9728),Q.h[10240]=9728),r_.supportsAnisotropy&&nr.context.texParameterf(3553,r_.TEXTURE_MAX_ANISOTROPY_EXT,1)}var $=i==f_.NEAREST?9728:9729,tt=nr.currentBoundTexture[nr.currentActiveTexture],et=nr.textureStateCache.get(tt);et.h[10241]!=$&&(nr.context.texParameteri(3553,10241,$),et.h[10241]=$)}else{if(!Jn.__instanceof(t,x_))throw new qn("Texture of type "+mi.getClassName(null==t?null:Jn.getClass(t))+" not supported yet");switch(e[1]){case 0:var it=nr.currentBoundTexture[nr.currentActiveTexture],st=nr.textureStateCache.get(it);33071!=st.h[10242]&&(nr.context.texParameteri(34067,10242,33071),st.h[10242]=33071);var nt=nr.currentBoundTexture[nr.currentActiveTexture],at=nr.textureStateCache.get(nt);33071!=at.h[10243]&&(nr.context.texParameteri(34067,10243,33071),at.h[10243]=33071);break;case 1:var rt=nr.currentBoundTexture[nr.currentActiveTexture],ot=nr.textureStateCache.get(rt);10497!=ot.h[10242]&&(nr.context.texParameteri(34067,10242,10497),ot.h[10242]=10497);var ht=nr.currentBoundTexture[nr.currentActiveTexture],_t=nr.textureStateCache.get(ht);10497!=_t.h[10243]&&(nr.context.texParameteri(34067,10243,10497),_t.h[10243]=10497)}switch(i[1]){case 0:if(r_.supportsAnisotropy){var lt=r_.TEXTURE_MAX_ANISOTROPY_EXT,ut=At.gt(2,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):2;nr.context.texParameterf(34067,lt,ut)}break;case 1:if(r_.supportsAnisotropy){var ct=r_.TEXTURE_MAX_ANISOTROPY_EXT,ft=At.gt(4,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):4;nr.context.texParameterf(34067,ct,ft)}break;case 2:if(r_.supportsAnisotropy){var dt=r_.TEXTURE_MAX_ANISOTROPY_EXT,pt=At.gt(8,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):8;nr.context.texParameterf(34067,dt,pt)}break;case 3:if(r_.supportsAnisotropy){var gt=r_.TEXTURE_MAX_ANISOTROPY_EXT,mt=At.gt(16,r_.maxSupportedAnisotropy)?At.toFloat(r_.maxSupportedAnisotropy):16;nr.context.texParameterf(34067,gt,mt)}break;case 4:var vt=nr.currentBoundTexture[nr.currentActiveTexture],bt=nr.textureStateCache.get(vt);9729!=bt.h[10240]&&(nr.context.texParameteri(34067,10240,9729),bt.h[10240]=9729),r_.supportsAnisotropy&&nr.context.texParameterf(34067,r_.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var yt=nr.currentBoundTexture[nr.currentActiveTexture],wt=nr.textureStateCache.get(yt);9728!=wt.h[10240]&&(nr.context.texParameteri(34067,10240,9728),wt.h[10240]=9728),r_.supportsAnisotropy&&nr.context.texParameterf(34067,r_.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(s[1]){case 0:var xt=nr.currentBoundTexture[nr.currentActiveTexture],Tt=nr.textureStateCache.get(xt);9987!=Tt.h[10241]&&(nr.context.texParameteri(34067,10241,9987),Tt.h[10241]=9987);break;case 1:var St=nr.currentBoundTexture[nr.currentActiveTexture],Ct=nr.textureStateCache.get(St);9984!=Ct.h[10241]&&(nr.context.texParameteri(34067,10241,9984),Ct.h[10241]=9984);break;case 2:var Et=i==f_.NEAREST?9728:9729,It=nr.currentBoundTexture[nr.currentActiveTexture],Pt=nr.textureStateCache.get(It);Pt.h[10241]!=Et&&(nr.context.texParameteri(34067,10241,Et),Pt.h[10241]=Et)}var kt=t;s==u_.MIPNONE||kt.mipmapsGenerated||(nr.context.generateMipmap(34067),kt.mipmapsGenerated=!0)}},setVertexBufferAt:function(t,e,i,s){null==i&&(i=0);var n="va"+t;this.setGLSLVertexBufferAt(n,e,i,s)},__getUniformLocationNameFromAgalRegisterIndex:function(t,e){if(t==c_.VERTEX)return"vc"+e;if(t==c_.FRAGMENT)return"fc"+e;throw new qn("Program Type "+O.string(t)+" not supported")},__updateBlendStatus:function(){this.blendEnabled?(nr.context.enable(3042),nr.context.blendEquation(32774),nr.context.blendFunc(this.blendSourceFactor,this.blendDestinationFactor)):nr.context.disable(3042)},__class__:r_};var o_=function(){};(i["openfl.display3D._Context3D.SamplerState"]=o_).__name__=["openfl","display3D","_Context3D","SamplerState"],o_.prototype={__class__:o_};var h_=i["openfl.display3D.Context3DBufferUsage"]={__ename__:!0,__constructs__:["STATIC_DRAW","DYNAMIC_DRAW"]};h_.STATIC_DRAW=["STATIC_DRAW",0],h_.STATIC_DRAW.toString=f,(h_.STATIC_DRAW.__enum__=h_).DYNAMIC_DRAW=["DYNAMIC_DRAW",1],h_.DYNAMIC_DRAW.toString=f,h_.DYNAMIC_DRAW.__enum__=h_;function __(){}(i["openfl.display3D.Context3DClearMask"]=__).__name__=["openfl","display3D","Context3DClearMask"];var l_={};(i["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=l_).__name__=["openfl","display3D","_Context3DCompareMode","Context3DCompareMode_Impl_"],l_._new=function(t){return t},l_.fromInt=function(t){return t},l_.toInt=function(t){return t};var u_=i["openfl.display3D.Context3DMipFilter"]={__ename__:!0,__constructs__:["MIPLINEAR","MIPNEAREST","MIPNONE"]};u_.MIPLINEAR=["MIPLINEAR",0],u_.MIPLINEAR.toString=f,(u_.MIPLINEAR.__enum__=u_).MIPNEAREST=["MIPNEAREST",1],u_.MIPNEAREST.toString=f,(u_.MIPNEAREST.__enum__=u_).MIPNONE=["MIPNONE",2],u_.MIPNONE.toString=f,u_.MIPNONE.__enum__=u_;var c_=i["openfl.display3D.Context3DProgramType"]={__ename__:!0,__constructs__:["VERTEX","FRAGMENT"]};c_.VERTEX=["VERTEX",0],c_.VERTEX.toString=f,(c_.VERTEX.__enum__=c_).FRAGMENT=["FRAGMENT",1],c_.FRAGMENT.toString=f,c_.FRAGMENT.__enum__=c_;var f_=i["openfl.display3D.Context3DTextureFilter"]={__ename__:!0,__constructs__:["ANISOTROPIC2X","ANISOTROPIC4X","ANISOTROPIC8X","ANISOTROPIC16X","LINEAR","NEAREST"]};f_.ANISOTROPIC2X=["ANISOTROPIC2X",0],f_.ANISOTROPIC2X.toString=f,(f_.ANISOTROPIC2X.__enum__=f_).ANISOTROPIC4X=["ANISOTROPIC4X",1],f_.ANISOTROPIC4X.toString=f,(f_.ANISOTROPIC4X.__enum__=f_).ANISOTROPIC8X=["ANISOTROPIC8X",2],f_.ANISOTROPIC8X.toString=f,(f_.ANISOTROPIC8X.__enum__=f_).ANISOTROPIC16X=["ANISOTROPIC16X",3],f_.ANISOTROPIC16X.toString=f,(f_.ANISOTROPIC16X.__enum__=f_).LINEAR=["LINEAR",4],f_.LINEAR.toString=f,(f_.LINEAR.__enum__=f_).NEAREST=["NEAREST",5],f_.NEAREST.toString=f,f_.NEAREST.__enum__=f_;var d_=i["openfl.display3D.Context3DTextureFormat"]={__ename__:!0,__constructs__:["BGRA","COMPRESSED","COMPRESSED_ALPHA"]};d_.BGRA=["BGRA",0],d_.BGRA.toString=f,(d_.BGRA.__enum__=d_).COMPRESSED=["COMPRESSED",1],d_.COMPRESSED.toString=f,(d_.COMPRESSED.__enum__=d_).COMPRESSED_ALPHA=["COMPRESSED_ALPHA",2],d_.COMPRESSED_ALPHA.toString=f,d_.COMPRESSED_ALPHA.__enum__=d_;var p_={};(i["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=p_).__name__=["openfl","display3D","_Context3DTriangleFace","Context3DTriangleFace_Impl_"],p_._new=function(t){return t},p_.fromInt=function(t){return t},p_.toInt=function(t){return t};var g_=i["openfl.display3D.Context3DVertexBufferFormat"]={__ename__:!0,__constructs__:["BYTES_4","FLOAT_1","FLOAT_2","FLOAT_3","FLOAT_4"]};g_.BYTES_4=["BYTES_4",0],g_.BYTES_4.toString=f,(g_.BYTES_4.__enum__=g_).FLOAT_1=["FLOAT_1",1],g_.FLOAT_1.toString=f,(g_.FLOAT_1.__enum__=g_).FLOAT_2=["FLOAT_2",2],g_.FLOAT_2.toString=f,(g_.FLOAT_2.__enum__=g_).FLOAT_3=["FLOAT_3",3],g_.FLOAT_3.toString=f,(g_.FLOAT_3.__enum__=g_).FLOAT_4=["FLOAT_4",4],g_.FLOAT_4.toString=f,g_.FLOAT_4.__enum__=g_;var m_=i["openfl.display3D.Context3DWrapMode"]={__ename__:!0,__constructs__:["CLAMP","REPEAT"]};m_.CLAMP=["CLAMP",0],m_.CLAMP.toString=f,(m_.CLAMP.__enum__=m_).REPEAT=["REPEAT",1],m_.REPEAT.toString=f,m_.REPEAT.__enum__=m_;var v_=function(t,e,i,s){this.context=t,this.glBuffer=e,this.numIndices=i,this.bufferUsage=s};(i["openfl.display3D.IndexBuffer3D"]=v_).__name__=["openfl","display3D","IndexBuffer3D"],v_.prototype={dispose:function(){this.context.__deleteIndexBuffer(this)},uploadFromByteArray:function(t,e,i,s){nr.context.bindBuffer(34963,this.glBuffer);var n,a=2*s,r=e+2*i;n=null!=a?new Int16Array(a):null,t.position=r;for(var o=0;t.position<a+r;)n[o]=t.readUnsignedByte(),++o;nr.context.bufferData(34963,n,this.bufferUsage)},uploadFromVector:function(t,e,i){var s;nr.context.bindBuffer(34963,this.glBuffer),s=null!=i?new Int16Array(i):null;for(var n=e,a=e+i;n<a;){var r=n++;s[r]=t.data[r]}nr.context.bufferData(34963,s,this.bufferUsage)},uploadFromInt16Array:function(t){nr.context.bindBuffer(34963,this.glBuffer),nr.context.bufferData(34963,t,this.bufferUsage)},__class__:v_};var b_=function(t,e){this.context=t,this.glProgram=e,this.glFCLocationMap=[],this.glVCLocationMap=[],this.glFSLocationMap=[],this.glVALocationMap=[]};(i["openfl.display3D.Program3D"]=b_).__name__=["openfl","display3D","Program3D"],b_.prototype={dispose:function(){this.context.__deleteProgram(this)},upload:function(t,e){if(nr.context.attachShader(this.glProgram,t),nr.context.attachShader(this.glProgram,e),nr.context.linkProgram(this.glProgram),0==nr.context.getProgramParameter(this.glProgram,35714)){var i=nr.context.getProgramInfoLog(this.glProgram);if(""!=i)throw new qn(i)}for(var s=0,n=nr.context.getProgramParameter(this.glProgram,35718);s<n;){var a=s++,r=nr.context.getActiveUniform(this.glProgram,a),o=nr.context.getUniformLocation(this.glProgram,r.name);if(null==this.yFlip&&"yflip"==r.name)this.yFlip=o;else{var h=L.substr(r.name,0,2),_=O.parseInt(L.substr(r.name,2,null));switch(h){case"fc":this.glFCLocationMap[_]=o;break;case"fs":this.glFSLocationMap[_]=o;break;case"vc":this.glVCLocationMap[_]=o}}}for(var l=0,u=nr.context.getProgramParameter(this.glProgram,35721);l<u;){var c=l++,f=nr.context.getActiveAttrib(this.glProgram,c),d=L.substr(f.name,0,2),p=O.parseInt(L.substr(f.name,2,null));"va"==d&&(this.glVALocationMap[p]=c)}},yFlipLoc:function(){return this.yFlip},fsUniformLocationFromAgal:function(t){return this.glFCLocationMap[t]},vsUniformLocationFromAgal:function(t){return this.glVCLocationMap[t]},fsampUniformLocationFromAgal:function(t){return this.glFSLocationMap[t]},vaUniformLocationFromAgal:function(t){return this.glVALocationMap[t]},constUniformLocationFromAgal:function(t,e){return t==c_.VERTEX?this.glVCLocationMap[e]:this.glFCLocationMap[e]},__class__:b_};var y_=function(t,e,i,s,n){this.context=t,this.glBuffer=e,this.numVertices=i,this.data32PerVertex=s,this.bufferUsage=n};(i["openfl.display3D.VertexBuffer3D"]=y_).__name__=["openfl","display3D","VertexBuffer3D"],y_.prototype={dispose:function(){this.context.__deleteVertexBuffer(this)},uploadFromByteArray:function(t,e,i,s){var n=4*this.data32PerVertex;nr.context.bindBuffer(34962,this.glBuffer);var a,r=s*n,o=e+i*n;a=null!=r?new Zf(r):null,t.position=o;for(var h=0;t.position<r+o;)a[h]=t.readUnsignedByte(),++h;nr.context.bufferData(34962,a,this.bufferUsage)},uploadFromFloat32Array:function(t,e,i){nr.context.bindBuffer(34962,this.glBuffer),nr.context.bufferData(34962,t,this.bufferUsage)},uploadFromVector:function(t,e,i){nr.context.bindBuffer(34962,this.glBuffer);var s,n=i*this.data32PerVertex;if(0==e&&n==t.length)s=new Zf(t.data);else{s=null!=n?new Zf(n):null;for(var a=e,r=e+n;a<r;){var o=a++;s[o]=t.data[o]}}nr.context.bufferData(34962,s,this.bufferUsage),s=null},__class__:y_};function w_(t,e,i,s){null==s&&(s=0),null==i&&(i=0),v.call(this),this.context=t,this.width=i,this.height=s,this.glTexture=e}(i["openfl.display3D.textures.TextureBase"]=w_).__name__=["openfl","display3D","textures","TextureBase"],w_.__super__=v,w_.prototype=s(v.prototype,{dispose:function(){this.context.__deleteTexture(this)},__class__:w_});var x_=function(t,e,i){w_.call(this,t,e,i,i),this.size=i,this.mipmapsGenerated=!1,this._textures=[];for(var s=0;s<6;){var n=s++;this._textures[n]=nr.context.createTexture()}};(i["openfl.display3D.textures.CubeTexture"]=x_).__name__=["openfl","display3D","textures","CubeTexture"],x_.__super__=w_,x_.prototype=s(w_.prototype,{glTextureAt:function(t){return this._textures[t]},uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e,i){null==i&&(i=0);var s=t.get_image().get_data(),n=this.glTexture;switch(nr.currentBoundTexture[nr.currentActiveTexture]!=n&&(nr.context.bindTexture(34067,n),null==(nr.currentBoundTexture[nr.currentActiveTexture]=n)||nr.textureStateCache.exists(n)||nr.textureStateCache.set(n,new yn)),e){case 0:nr.context.texImage2D(34069,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,s);break;case 1:nr.context.texImage2D(34070,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,s);break;case 2:nr.context.texImage2D(34071,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,s);break;case 3:nr.context.texImage2D(34072,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,s);break;case 4:nr.context.texImage2D(34073,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,s);break;case 5:nr.context.texImage2D(34074,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,s);break;default:throw new qn("unknown side type")}null!=nr.currentBoundTexture[nr.currentActiveTexture]&&(nr.context.bindTexture(34067,null),nr.currentBoundTexture[nr.currentActiveTexture]=null)},uploadFromByteArray:function(t,e,i,s){null==s&&(s=0)},__class__:x_});var T_=function(t,e,i,s,n){this.optimizeForRenderToTexture=i,null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),w_.call(this,t,e,s,n)};(i["openfl.display3D.textures.RectangleTexture"]=T_).__name__=["openfl","display3D","textures","RectangleTexture"],T_.__super__=w_,T_.prototype=s(w_.prototype,{uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=su.fromArrayBuffer(t.get_image().get_data().buffer);this.width=t.physicalWidth,this.height=t.physicalHeight,this.uploadFromByteArray(i,0)},uploadFromByteArray:function(t,e){var i=this.glTexture;nr.currentBoundTexture[nr.currentActiveTexture]!=i&&(nr.context.bindTexture(3553,i),null==(nr.currentBoundTexture[nr.currentActiveTexture]=i)||nr.textureStateCache.exists(i)||nr.textureStateCache.set(i,new yn)),this.optimizeForRenderToTexture&&nr.context.pixelStorei(37440,1);var s=nr.currentBoundTexture[nr.currentActiveTexture],n=nr.textureStateCache.get(s);9728!=n.h[10240]&&(nr.context.texParameteri(3553,10240,9728),n.h[10240]=9728);var a=nr.currentBoundTexture[nr.currentActiveTexture],r=nr.textureStateCache.get(a);9728!=r.h[10241]&&(nr.context.texParameteri(3553,10241,9728),r.h[10241]=9728);var o=nr.currentBoundTexture[nr.currentActiveTexture],h=nr.textureStateCache.get(o);33071!=h.h[10242]&&(nr.context.texParameteri(3553,10242,33071),h.h[10242]=33071);var _=nr.currentBoundTexture[nr.currentActiveTexture],l=nr.textureStateCache.get(_);33071!=l.h[10243]&&(nr.context.texParameteri(3553,10243,33071),l.h[10243]=33071);var u=su.get_length(t),c=null!=u?new Qf(u):null;t.position=e;for(var f=0;t.position<su.get_length(t);)c[f]=t.readUnsignedByte(),++f;nr.context.texImage2D(3553,0,6408,this.width,this.height,0,6408,5121,c),null!=nr.currentBoundTexture[nr.currentActiveTexture]&&(nr.context.bindTexture(3553,null),nr.currentBoundTexture[nr.currentActiveTexture]=null)},__class__:T_});var S_=function(t,e,i,s,n){this.optimizeForRenderToTexture=i,this.mipmapsGenerated=!1,-1==S_.internalFormat&&(S_.internalFormat=6408),null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),w_.call(this,t,e,s,n)};(i["openfl.display3D.textures.Texture"]=S_).__name__=["openfl","display3D","textures","Texture"],S_.__super__=w_,S_.prototype=s(w_.prototype,{uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=t.get_image();this.width=i.width,this.height=i.height;var s=this.glTexture;nr.currentBoundTexture[nr.currentActiveTexture]!=s&&(nr.context.bindTexture(3553,s),null==(nr.currentBoundTexture[nr.currentActiveTexture]=s)||nr.textureStateCache.exists(s)||nr.textureStateCache.set(s,new yn)),nr.context.pixelStorei(37440,1);var n=i,a=!n.get_premultiplied()&&n.get_transparent()?1:0;nr.context.pixelStorei(37441,a);var r=n.buffer.get_glCompatibleBuffer();if(null==r){var o=S_.internalFormat,h=this.width,_=this.height,l=S_.internalFormat,u=n.get_data();nr.context.texImage2D(3553,0,o,h,_,0,l,5121,u)}else nr.context.texImage2D(3553,0,S_.internalFormat,S_.internalFormat,5121,r);null!=nr.currentBoundTexture[nr.currentActiveTexture]&&(nr.context.bindTexture(3553,null),nr.currentBoundTexture[nr.currentActiveTexture]=null),nr.context.pixelStorei(37440,0),i.dirty=!1},uploadFromByteArray:function(t,e,i){null==i&&(i=0);var s=su.get_length(t),n=null!=s?new Qf(s):null;t.position=e;for(var a=0;t.position<su.get_length(t);)n[a]=t.readUnsignedByte(),++a;this.uploadFromUInt8Array(n,i)},uploadFromUInt8Array:function(t,e){null==e&&(e=0);var i=this.glTexture;if(nr.currentBoundTexture[nr.currentActiveTexture]!=i&&(nr.context.bindTexture(3553,i),null==(nr.currentBoundTexture[nr.currentActiveTexture]=i)||nr.textureStateCache.exists(i)||nr.textureStateCache.set(i,new yn)),nr.context.pixelStorei(37440,1),this.optimizeForRenderToTexture){var s=nr.currentBoundTexture[nr.currentActiveTexture],n=nr.textureStateCache.get(s);9728!=n.h[10240]&&(nr.context.texParameteri(3553,10240,9728),n.h[10240]=9728);var a=nr.currentBoundTexture[nr.currentActiveTexture],r=nr.textureStateCache.get(a);9728!=r.h[10241]&&(nr.context.texParameteri(3553,10241,9728),r.h[10241]=9728);var o=nr.currentBoundTexture[nr.currentActiveTexture],h=nr.textureStateCache.get(o);33071!=h.h[10242]&&(nr.context.texParameteri(3553,10242,33071),h.h[10242]=33071);var _=nr.currentBoundTexture[nr.currentActiveTexture],l=nr.textureStateCache.get(_);33071!=l.h[10243]&&(nr.context.texParameteri(3553,10243,33071),l.h[10243]=33071)}nr.context.texImage2D(3553,e,S_.internalFormat,this.width,this.height,0,S_.internalFormat,5121,t),null!=nr.currentBoundTexture[nr.currentActiveTexture]&&(nr.context.bindTexture(3553,null),nr.currentBoundTexture[nr.currentActiveTexture]=null),nr.context.pixelStorei(37440,0)},__class__:S_});var C_=function(t,e){null==e&&(e=0),null==t&&(t=""),this.message=t,this.errorID=e,this.name="Error"};(i["openfl.errors.Error"]=C_).__name__=["openfl","errors","Error"],C_.prototype={getStackTrace:function(){return cn.toString(cn.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:C_};var E_=function(t){null==t&&(t=""),C_.call(this,t),this.name="ArgumentError"};(i["openfl.errors.ArgumentError"]=E_).__name__=["openfl","errors","ArgumentError"],E_.__super__=C_,E_.prototype=s(C_.prototype,{__class__:E_});function I_(t){null==t&&(t=""),C_.call(this,t),this.name="IOError"}(i["openfl.errors.IOError"]=I_).__name__=["openfl","errors","IOError"],I_.__super__=C_,I_.prototype=s(C_.prototype,{__class__:I_});var P_=function(){I_.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};(i["openfl.errors.EOFError"]=P_).__name__=["openfl","errors","EOFError"],P_.__super__=I_,P_.prototype=s(I_.prototype,{__class__:P_});var k_=function(t){null==t&&(t=""),C_.call(this,t,0),this.name="RangeError"};(i["openfl.errors.RangeError"]=k_).__name__=["openfl","errors","RangeError"],k_.__super__=C_,k_.prototype=s(C_.prototype,{__class__:k_});var D_=function(t){null==t&&(t=""),C_.call(this,t,0),this.name="TypeError"};(i["openfl.errors.TypeError"]=D_).__name__=["openfl","errors","TypeError"],D_.__super__=C_,D_.prototype=s(C_.prototype,{__class__:D_});function A_(t,e,i,s){null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),Ne.call(this,t,e,i),this.activating=s}(i["openfl.events.ActivityEvent"]=A_).__name__=["openfl","events","ActivityEvent"],A_.__super__=Ne,A_.prototype=s(Ne.prototype,{clone:function(){var t=new A_(this.type,this.bubbles,this.cancelable,this.activating);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__class__:A_});var M_=function(t,e,i,s){null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),Ne.call(this,t,e,i),this.text=s};(i["openfl.events.TextEvent"]=M_).__name__=["openfl","events","TextEvent"],M_.__super__=Ne,M_.prototype=s(Ne.prototype,{clone:function(){var t=new M_(this.type,this.bubbles,this.cancelable,this.text);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__class__:M_});var R_=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),M_.call(this,t,e,i,s),this.errorID=n};(i["openfl.events.ErrorEvent"]=R_).__name__=["openfl","events","ErrorEvent"],R_.__super__=M_,R_.prototype=s(M_.prototype,{clone:function(){var t=new R_(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:R_});var F_=function(t,e,i){this.callback=t,this.useCapture=e,this.priority=i};(i["openfl.events._EventDispatcher.Listener"]=F_).__name__=["openfl","events","_EventDispatcher","Listener"],F_.prototype={match:function(t,e){return!!Dt.compareMethods(this.callback,t)&&this.useCapture==e},callCallback:function(t){this.callback.apply(this,[t])},__class__:F_};var B_=function(t,e,i,s,n,a){null==a&&(a=0),null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),Ne.call(this,t,e,i),this.keyCode=a,this.shiftKey=n,this.relatedObject=s};(i["openfl.events.FocusEvent"]=B_).__name__=["openfl","events","FocusEvent"],B_.__super__=Ne,B_.prototype=s(Ne.prototype,{clone:function(){var t=new B_(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FocusEvent",["type","bubbles","cancelable","relatedObject","shiftKey","keyCode"])},__class__:B_});var L_=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),A_.call(this,t,e,i),this.fullScreen=s,this.interactive=n};(i["openfl.events.FullScreenEvent"]=L_).__name__=["openfl","events","FullScreenEvent"],L_.__super__=A_,L_.prototype=s(A_.prototype,{clone:function(){var t=new L_(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__class__:L_});function N_(t,e,i,s){null==i&&(i=!1),null==e&&(e=!0),Ne.call(this,t,e,i),this.device=s}(i["openfl.events.GameInputEvent"]=N_).__name__=["openfl","events","GameInputEvent"],N_.__super__=Ne,N_.prototype=s(Ne.prototype,{clone:function(){var t=new N_(this.type,this.bubbles,this.cancelable,this.device);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__class__:N_});function O_(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),this.status=s,this.redirected=n,Ne.call(this,t,e,i)}(i["openfl.events.HTTPStatusEvent"]=O_).__name__=["openfl","events","HTTPStatusEvent"],O_.__super__=Ne,O_.prototype=s(Ne.prototype,{clone:function(){var t=new O_(this.type,this.bubbles,null,this.status,this.redirected);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__class__:O_});var U_=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!0),R_.call(this,t,e,i,s,n)};(i["openfl.events.IOErrorEvent"]=U_).__name__=["openfl","events","IOErrorEvent"],U_.__super__=R_,U_.prototype=s(R_.prototype,{clone:function(){var t=new U_(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:U_});var z_=function(t,e,i,s,n,a,r,o,h,_,l){null==l&&(l=!1),null==_&&(_=!1),null==h&&(h=!1),null==o&&(o=!1),null==r&&(r=!1),null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),Ne.call(this,t,e,i),this.charCode=s,this.keyCode=n,this.keyLocation=null!=a?a:0,this.ctrlKey=r,this.altKey=o,this.shiftKey=h,this.controlKey=_,this.commandKey=l};(i["openfl.events.KeyboardEvent"]=z_).__name__=["openfl","events","KeyboardEvent"],z_.__super__=Ne,z_.prototype=s(Ne.prototype,{clone:function(){var t=new z_(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("KeyboardEvent",["type","bubbles","cancelable","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey"])},__class__:z_});var G_=function(t,e,i){null==i&&(i=!1),null==e&&(e=!0),null==t&&(t="unset"),Ne.call(this,t,e,i)};(i["openfl.events.MouseEvent"]=G_).__name__=["openfl","events","MouseEvent"],G_.__altKey=null,G_.__buttonDown=null,G_.__commandKey=null,G_.__ctrlKey=null,G_.__shiftKey=null,G_.__create=function(t,e,i,s,n,a,r){switch(null==r&&(r=0),null==i&&(i=0),null==e&&(e=0),t){case"mouseDown":G_.__buttonDown=!0;break;case"mouseUp":G_.__buttonDown=!1}var o=G_.pool.get();return o.target=null,o.currentTarget=null,o.__isCanceled=!1,o.__isCanceledNow=!1,o.__preventDefault=!1,o.__fromPool=!0,o.__refcount=0,o.eventPhase=2,o.type=t,o.bubbles=!0,o.cancelable=!1,o.altKey=G_.__altKey,o.ctrlKey=G_.__ctrlKey,o.shiftKey=G_.__shiftKey,o.relatedObject=null,o.delta=r,null==s?(o.localX=0,o.localY=0):(o.localX=s.x,o.localY=s.y),o.buttonDown=G_.__buttonDown,o.commandKey=G_.__commandKey,o.clickCount=0,o.stageX=e,o.stageY=i,null!=a&&(o.scaledStageX=e*a.get_scaleX(),o.scaledStageY=i*a.get_scaleY()),o.target=n,o},G_.isMouseEvent=function(t){return"click"==t||"doubleClick"==t||"middleClick"==t||"middleMouseDown"==t||"middleMouseUp"==t||"mouseDown"==t||"mouseMove"==t||"mouseOut"==t||"mouseOver"==t||"mouseUp"==t||"mouseWheel"==t||"rightClick"==t||"rightMouseDown"==t||"rightMouseUp"==t||"rollOut"==t||"rollOver"==t||"touchBegin"==t||"touchMove"==t||"touchEnd"==t},G_.__super__=Ne,G_.prototype=s(Ne.prototype,{toString:function(){return this.__formatToString("MouseEvent",["type","bubbles","cancelable","localX","localY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta"])},updateAfterEvent:function(){},release:function(){0==--this.__refcount&&this.__fromPool&&(this.__refcount=-1,this.__fromPool=!1,G_.pool.put(this))},__class__:G_});function X_(t,e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),Ne.call(this,t,e,i),this.bytesLoaded=s,this.bytesTotal=n}(i["openfl.events.ProgressEvent"]=X_).__name__=["openfl","events","ProgressEvent"],X_.__super__=Ne,X_.prototype=s(Ne.prototype,{clone:function(){var t=new X_(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__class__:X_});function V_(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),R_.call(this,t,e,i,s,n)}(i["openfl.events.SecurityErrorEvent"]=V_).__name__=["openfl","events","SecurityErrorEvent"],V_.__super__=R_,V_.prototype=s(R_.prototype,{clone:function(){var t=new V_(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:V_});var H_=function(t,e,i,s,n,a,r,o,h,_,l,u,c,f,d,p,g,m,v,b){null==b&&(b=!1),null==g&&(g=0),null==p&&(p=!1),null==d&&(d=!1),null==f&&(f=!1),null==c&&(c=!1),null==u&&(u=!1),null==_&&(_=0),null==h&&(h=0),null==o&&(o=0),null==r&&(r=0),null==a&&(a=0),null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!0),Ne.call(this,t,e,i),this.touchPointID=s,this.isPrimaryTouchPoint=n,this.localX=a,this.localY=r,this.sizeX=o,this.sizeY=h,this.pressure=_,this.relatedObject=l,this.ctrlKey=u,this.altKey=c,this.shiftKey=f,this.commandKey=d,this.controlKey=p};(i["openfl.events.TouchEvent"]=H_).__name__=["openfl","events","TouchEvent"],H_.__create=function(t,e,i,s,n,a){var r=new H_(t,!0,!1,0,!0,n.x,n.y,1,1,1);return r.stageX=i,r.stageY=s,r.target=a,r},H_.__super__=Ne,H_.prototype=s(Ne.prototype,{clone:function(){var t=new H_(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TouchEvent",["type","bubbles","cancelable","touchPointID","isPrimaryTouchPoint","localX","localY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey","commandKey","controlKey"])},updateAfterEvent:function(){},__class__:H_});var Y_=function(){v.call(this)};(i["openfl.events.UncaughtErrorEvents"]=Y_).__name__=["openfl","events","UncaughtErrorEvents"],Y_.__super__=v,Y_.prototype=s(v.prototype,{__class__:Y_});var W_=function(){};(i["openfl.filters.BitmapFilter"]=W_).__name__=["openfl","filters","BitmapFilter"],W_.__applyFilters=function(t,e,i){if(!i.__usingPingPongTexture)throw new qn(":TODO: unsupported mode");for(var s=0;s<t.length;){var n=t[s];++s;for(var a=n.__getCommands(i),r=0;r<a.length;){var o=a[r];switch(++r,o[1]){case 0:var h=o[9],_=o[8],l=o[7],u=o[6],c=o[5],f=o[4],d=o[3],p=o[2],g=_o.pool.get();g.x=_*Math.cos(h*Math.PI/180),g.y=_*Math.sin(h*Math.PI/180),nl.apply(e,p,d,f,c,u,l,g),_o.pool.put(g);break;case 1:var m=o[6],v=o[5],b=o[4],y=o[3],w=o[2],x=_o.pool.get();x.x=v*Math.cos(m*Math.PI/180),x.y=v*Math.sin(m*Math.PI/180),wl.apply(e,w,y,b,x),_o.pool.put(x);break;case 2:var T=o[5],S=o[4],C=o[3],E=o[2];ll.apply(e,E,C,S,T);break;case 3:var I=o[4],P=o[3],k=o[2];rl.apply(e,k,P,I);break;case 4:var D=o[5],A=o[4],M=o[3],R=o[2];hl.apply(e,R,M,A,D);break;case 5:var F=o[4],B=o[3],L=o[2];dl.apply(e,L,B,F);break;case 6:var N=o[4],O=o[3],U=o[2];cl.apply(e,U,O,N);break;case 7:var z=o[4],G=o[3],X=o[2];bl.apply(e,X,G,z);break;case 8:var V=o[4],H=o[3],Y=o[2];Tl.apply(e,Y,H,V);break;case 9:var W=o[5],j=o[4],K=o[3],q=o[2];Tl.apply(e,q,K,j,W);break;case 10:var J=o[5],Z=o[4],Q=o[3],$=o[2];ml.apply(e,$,Q,Z,J)}}n.dispose()}i.disposeBackBuffer()},W_.__expandBounds=function(t,e){for(var i=0;i<t.length;){var s=t[i];++i,s.__growBounds(e)}},W_.__getOffset=function(t,e,i){t.x=e*Math.cos(i*Math.PI/180),t.y=e*Math.sin(i*Math.PI/180)},W_.prototype={clone:function(){return new W_},dispose:function(){},__applyFilter:function(t,e,i,s){throw new qn(":TODO: Unsupported path. Patch code.")},equals:function(t){return!1},__growBounds:function(t){},__getCommands:function(t){return[]},__class__:W_};function j_(t,e,i,s,n,a,r,o,h,_,l){null==l&&(l=!1),null==_&&(_=1),null==h&&(h=1),null==o&&(o=1),null==r&&(r=4),null==a&&(a=4),null==e&&(e=45),null==t&&(t=4),this.__lookupTextureIsDirty=!0,W_.call(this),this.distance=t,this.angle=e,this.colors=i,this.alphas=s,this.ratios=n,this.blurX=a,this.blurY=r,this.strength=o,this.quality=h,this.type=_,this.knockout=l}(i["openfl.filters.GradientFilter"]=j_).__name__=["openfl","filters","GradientFilter"],j_.__super__=W_,j_.prototype=s(W_.prototype,{dispose:function(){},equals:function(t){if(Jn.__instanceof(t,j_)){var e=t;if(this.colors.length!=e.colors.length)return!1;for(var i=0,s=this.colors.length;i<s;){var n=i++;if(this.colors[n]!=e.colors[n]||this.alphas[n]!=e.alphas[n]||this.ratios[n]!=e.ratios[n])return!1}return this.distance==e.distance&&this.angle==e.angle&&this.blurX==e.blurX&&this.blurY==e.blurY&&this.strength==e.strength&&this.quality==e.quality&&this.type==e.type&&this.knockout==e.knockout}return!1},updateLookupTexture:function(){var t=this.getHash();if(this.__lookupTexture=j_.__textureCacheMap.h[t],null==this.__lookupTexture){this.__lookupTexture=new mh(256,1),j_.__textureCacheMap.h[t]=this.__lookupTexture;for(var e=0,i=0,s=Math.max(Math.min(this.ratios[0]/255,1),0),n=(255&Math.round(255*this.alphas[0]))<<24|(255&(16777215&this.colors[0])>>>16)<<16|(255&(16777215&this.colors[0])>>>8)<<8|255&this.colors[0],a=(255&Math.round(255*this.alphas[0]))<<24|(255&(16777215&this.colors[0])>>>16)<<16|(255&(16777215&this.colors[0])>>>8)<<8|255&this.colors[0],r=this.__lookupTexture.physicalWidth,o=0,h=r;o<h;){var _=o++,l=(.5+_)/r;if(s<l){for(;s<l;)s=e<this.ratios.length-1?(++e,Math.max(Math.min(this.ratios[e]/255,1),0)):1;var u=0==e?0:e-1;a=(255&Math.round(255*this.alphas[e]))<<24|(255&(16777215&this.colors[e])>>>16)<<16|(255&(16777215&this.colors[e])>>>8)<<8|255&this.colors[e],n=(255&Math.round(255*this.alphas[u]))<<24|(255&(16777215&this.colors[u])>>>16)<<16|(255&(16777215&this.colors[u])>>>8)<<8|255&this.colors[u],i=Math.max(Math.min(this.ratios[u]/255,1),0)}for(var c=(l-i)/(s-i),f=At.toFloat((16777215&n)>>>16&255)/At.toFloat(255),d=At.toFloat((16777215&n)>>>8&255)/At.toFloat(255),p=At.toFloat(255&n)/At.toFloat(255),g=At.toFloat(n>>>24)/At.toFloat(255),m=255*(f+(At.toFloat((16777215&a)>>>16&255)/At.toFloat(255)-f)*c)|0,v=255*(d+(At.toFloat((16777215&a)>>>8&255)/At.toFloat(255)-d)*c)|0,b=255*(p+(At.toFloat(255&a)/At.toFloat(255)-p)*c)|0|v<<8|m<<16|(255*(g+(At.toFloat(a>>>24)/At.toFloat(255)-g)*c)|0)<<24,y=0,w=this.__lookupTexture.physicalHeight;y<w;){var x=y++;this.__lookupTexture.setPixel32(_,x,b)}}}else this.__lookupTextureIsDirty=!1},getHash:function(){for(var t=new Zf(this.colors.length+this.alphas.length+this.ratios.length),e=0,i=0,s=this.colors.length;i<s;){var n=i++;t[n]=this.colors[n]}e+=this.colors.length;for(var a=0,r=this.alphas.length;a<r;){var o=a++;t[e+o]=this.alphas[o]}e+=this.alphas.length;for(var h=0,_=this.ratios.length;h<_;){var l=h++;t[e+l]=this.ratios[l]}return vn.make(tn.ofData(t.buffer))},__class__:j_});var K_=function(t,e,i,s,n,a,r,o,h,_,l){null==l&&(l=!1),null==_&&(_=1),null==h&&(h=1),null==o&&(o=1),null==r&&(r=4),null==a&&(a=4),null==e&&(e=45),null==t&&(t=4),j_.call(this,t,e,i,s,n,a,r,o,h,_,l)};(i["openfl.filters.GradientBevelFilter"]=K_).__name__=["openfl","filters","GradientBevelFilter"],K_.__super__=j_,K_.prototype=s(j_.prototype,{clone:function(){return new K_(this.distance,this.angle,this.colors,this.alphas,this.ratios,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},dispose:function(){null!=this.__highlightBitmapData&&(this.__highlightBitmapData.dispose(),this.__highlightBitmapData=null),null!=this.__shadowBitmapData&&(this.__shadowBitmapData.dispose(),this.__shadowBitmapData=null)},__growBounds:function(t){var e=_o.pool.get(),i=this.distance,s=this.angle;e.x=i*Math.cos(s*Math.PI/180),e.y=i*Math.sin(s*Math.PI/180);var n=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),a=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+n,t.y-=Math.abs(e.y)+a,t.width+=2*(Math.abs(e.x)+n),t.height+=2*(Math.abs(e.y)+a),_o.pool.put(e)},__getCommands:function(t){var e=[],i=t;if(null==this.__highlightBitmapData&&(this.__highlightBitmapData=mh.__asRenderTexture()),null==this.__shadowBitmapData&&(this.__shadowBitmapData=mh.__asRenderTexture()),this.__lookupTextureIsDirty&&(this.updateLookupTexture(),this.__lookupTextureIsDirty=!1),this.__highlightBitmapData.__resizeTo(t),this.__shadowBitmapData.__resizeTo(t),1<this.blurX||1<this.blurY?(e.push(pl.Blur1D(this.__highlightBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle+180)),e.push(pl.Blur1D(this.__shadowBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(pl.Blur1D(this.__highlightBitmapData,this.__highlightBitmapData,this.blurY,this.quality,!1,1,0,0)),e.push(pl.Blur1D(this.__shadowBitmapData,this.__shadowBitmapData,this.blurY,this.quality,!1,1,0,0))):(e.push(pl.Offset(this.__highlightBitmapData,i,1,this.distance,this.angle+180)),e.push(pl.Offset(this.__shadowBitmapData,i,1,this.distance,this.angle))),e.push(pl.DestOut(this.__highlightBitmapData,this.__highlightBitmapData,this.__shadowBitmapData,this.strength)),this.knockout&&0==this.type)return e.push(pl.ColorLookup(t,this.__highlightBitmapData,this.__lookupTexture)),e;switch(e.push(pl.ColorLookup(this.__highlightBitmapData,this.__highlightBitmapData,this.__lookupTexture)),this.type){case 0:if(this.knockout)throw new qn("knockout && full combination should already have been handled");e.push(pl.Combine(t,t,this.__highlightBitmapData));break;case 1:this.knockout?e.push(pl.InnerKnockout(t,t,this.__highlightBitmapData)):e.push(pl.CombineInner(t,t,this.__highlightBitmapData));break;case 2:this.knockout?e.push(pl.OuterKnockoutTransparency(t,t,this.__highlightBitmapData,!0)):e.push(pl.Combine(t,this.__highlightBitmapData,t))}return e},__class__:K_});var q_=function(t,e,i,s,n,a,r,o,h,_,l,u){null==u&&(u=!1),null==l&&(l=1),null==_&&(_=1),null==h&&(h=1),null==o&&(o=4),null==r&&(r=4),null==a&&(a=1),null==n&&(n=0),null==s&&(s=1),null==i&&(i=16777215),null==e&&(e=45),null==t&&(t=4),this.highlightColor=i,this.highlightAlpha=s;var c=[this.shadowColor=n,n,i,i],f=[this.shadowAlpha=a,0,0,s];K_.call(this,t,e,c,f,[0,127,128,255],r,o,h,_,l,u)};(i["openfl.filters.BevelFilter"]=q_).__name__=["openfl","filters","BevelFilter"],q_.__super__=K_,q_.prototype=s(K_.prototype,{clone:function(){return new q_(this.distance,this.angle,this.highlightColor,this.highlightAlpha,this.shadowColor,this.shadowAlpha,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},__class__:q_});var J_={};(i["openfl.filters._BitmapFilterType.BitmapFilterType_Impl_"]=J_).__name__=["openfl","filters","_BitmapFilterType","BitmapFilterType_Impl_"],J_.fromString=function(t){switch(t){case"full":return 0;case"inner":return 1;case"outer":return 2;default:return null}},J_.toString=function(t){switch(t){case 0:return"full";case 1:return"inner";case 2:return"outer";default:return null}};var Z_=function(t,e,i){null==i&&(i=1),null==e&&(e=4),null==t&&(t=4),W_.call(this),this.blurX=t,this.blurY=e,this.set_quality(i)};(i["openfl.filters.BlurFilter"]=Z_).__name__=["openfl","filters","BlurFilter"],Z_.__super__=W_,Z_.prototype=s(W_.prototype,{clone:function(){return new Z_(this.blurX,this.blurY,this.quality)},equals:function(t){if(Jn.__instanceof(t,Z_)){var e=t;return this.blurX==e.blurX&&this.blurY==e.blurY&&this.quality==e.quality}return!1},__growBounds:function(t){var e=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),i=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x+=-e,t.y+=-i,t.width+=2*e,t.height+=2*i},__getCommands:function(t){var e=[];return 0<this.blurX&&e.push(pl.Blur1D(t,t,this.blurX,this.quality,!0,1,0,0)),0<this.blurY&&e.push(pl.Blur1D(t,t,this.blurY,this.quality,!1,1,0,0)),e},set_quality:function(t){return this.quality=t},__class__:Z_,__properties__:{set_quality:"set_quality"}});var Q_=function(t,e){if(W_.call(this),null!=t&&16!=t.length)throw new qn("Invalid length for color matrix filter multipliers");if(null!=e&&4!=e.length)throw new qn("Invalid length for color matrix filter offsets");this.multipliers=t,this.offsets=e};(i["openfl.filters.ColorMatrixFilter"]=Q_).__name__=["openfl","filters","ColorMatrixFilter"],Q_.__super__=W_,Q_.prototype=s(W_.prototype,{clone:function(){return new Q_(this.multipliers,this.offsets)},equals:function(t){if(Jn.__instanceof(t,Q_)){for(var e=t,i=0,s=this.multipliers.length;i<s;){var n=i++;if(this.multipliers[n]!=e.multipliers[n])return!1}for(var a=0,r=this.offsets.length;a<r;){var o=a++;if(this.offsets[o]!=e.offsets[o])return!1}return!0}return!1},__getCommands:function(t){return[pl.ColorTransform(t,t,this.multipliers,this.offsets)]},__class__:Q_});var $_=function(t,e,i,s,n,a,r,o,h,_,l){null==l&&(l=!1),null==_&&(_=!1),null==h&&(h=!1),null==o&&(o=1),null==r&&(r=1),null==a&&(a=4),null==n&&(n=4),null==s&&(s=1),null==i&&(i=0),null==e&&(e=45),null==t&&(t=4),W_.call(this),this.distance=t,this.angle=e,this.color=i,this.alpha=s,this.blurX=n,this.blurY=a,this.strength=r,this.set_quality(o),this.inner=h,this.set_knockout(_),this.set_hideObject(l)};(i["openfl.filters.DropShadowFilter"]=$_).__name__=["openfl","filters","DropShadowFilter"],$_.__super__=W_,$_.prototype=s(W_.prototype,{clone:function(){return new $_(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,this.hideObject)},dispose:function(){null!=this.__shadowBitmapData&&(this.__shadowBitmapData.dispose(),this.__shadowBitmapData=null)},equals:function(t){if(Jn.__instanceof(t,$_)){var e=t;return!(this.distance!=e.distance||this.angle!=e.angle||this.color!=e.color||this.alpha!=e.alpha||this.blurX!=e.blurX||this.blurY!=e.blurY||this.strength!=e.strength||this.quality!=e.quality||this.inner!=e.inner||!this.knockout||!e.knockout)&&this.hideObject==e.hideObject}return!1},__growBounds:function(t){var e=_o.pool.get(),i=this.distance,s=this.angle;e.x=i*Math.cos(s*Math.PI/180),e.y=i*Math.sin(s*Math.PI/180);var n=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),a=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+n,t.y-=Math.abs(e.y)+a,t.width+=2*(Math.abs(e.x)+n),t.height+=2*(Math.abs(e.y)+a),_o.pool.put(e)},__getCommands:function(t){var e=[],i=t;if(null==this.__shadowBitmapData&&(this.__shadowBitmapData=mh.__asRenderTexture()),this.__shadowBitmapData.__resizeTo(t),this.inner&&(e.push(pl.ColorTransform(this.__shadowBitmapData,t,W_.__inverseAlphaMultipliers,W_.__inverseAlphaOffsets)),i=this.__shadowBitmapData),1<this.blurX||1<this.blurY?(e.push(pl.Blur1D(this.__shadowBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(pl.Blur1D(this.__shadowBitmapData,this.__shadowBitmapData,this.blurY,this.quality,!1,this.strength,0,0))):e.push(pl.Offset(this.__shadowBitmapData,i,this.strength,this.distance,this.angle)),this.hideObject&&!this.knockout&&!this.inner)return e.push(pl.Colorize(t,this.__shadowBitmapData,this.color,this.alpha)),e;if(e.push(pl.Colorize(this.__shadowBitmapData,this.__shadowBitmapData,this.color,this.alpha)),this.inner)this.knockout||this.hideObject?e.push(pl.InnerKnockout(t,t,this.__shadowBitmapData)):e.push(pl.CombineInner(t,t,this.__shadowBitmapData));else if(this.knockout)e.push(pl.OuterKnockout(t,t,this.__shadowBitmapData));else{if(this.hideObject)throw new qn("hideObject && !knockout && !inner combination should already have been handled");e.push(pl.Combine(t,this.__shadowBitmapData,t))}return e},set_knockout:function(t){return this.knockout=t},set_hideObject:function(t){return this.hideObject=t},set_quality:function(t){return this.quality=t},__class__:$_,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout",set_hideObject:"set_hideObject"}});var tl=function(t,e,i,s,n,a,r,o){null==o&&(o=!1),null==r&&(r=!1),null==a&&(a=1),null==n&&(n=2),null==s&&(s=6),null==i&&(i=6),null==e&&(e=1),null==t&&(t=16711680),W_.call(this),0==i&&(i=1),0==s&&(s=1),this.color=t,this.alpha=e,this.blurX=i,this.blurY=s,this.strength=n,this.set_quality(a),this.inner=r,this.set_knockout(o)};(i["openfl.filters.GlowFilter"]=tl).__name__=["openfl","filters","GlowFilter"],tl.__super__=W_,tl.prototype=s(W_.prototype,{clone:function(){return new tl(this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout)},dispose:function(){null!=this.__glowBitmapData&&(this.__glowBitmapData.dispose(),this.__glowBitmapData=null)},equals:function(t){if(Jn.__instanceof(t,tl)){var e=t;return!(this.color!=e.color||this.alpha!=e.alpha||this.blurX!=e.blurX||this.blurY!=e.blurY||this.strength!=e.strength||this.quality!=e.quality||this.inner!=e.inner||!this.knockout)&&e.knockout}return!1},__growBounds:function(t){var e=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),i=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x+=-e,t.y+=-i,t.width+=2*e,t.height+=2*i},__getCommands:function(t){null==this.__glowBitmapData&&(this.__glowBitmapData=mh.__asRenderTexture());var e=[],i=t;return this.__glowBitmapData.__resizeTo(t),this.inner&&(e.push(pl.ColorTransform(this.__glowBitmapData,t,W_.__inverseAlphaMultipliers,W_.__inverseAlphaOffsets)),i=this.__glowBitmapData),e.push(pl.Blur1D(this.__glowBitmapData,i,this.blurX,this.quality,!0,1,0,0)),e.push(pl.Blur1D(this.__glowBitmapData,this.__glowBitmapData,this.blurY,this.quality,!1,this.strength,0,0)),e.push(pl.Colorize(this.__glowBitmapData,this.__glowBitmapData,this.color,this.alpha)),this.knockout?this.inner?e.push(pl.InnerKnockout(t,t,this.__glowBitmapData)):e.push(pl.OuterKnockout(t,t,this.__glowBitmapData)):this.inner?e.push(pl.CombineInner(t,t,this.__glowBitmapData)):e.push(pl.Combine(t,this.__glowBitmapData,t)),e},set_knockout:function(t){return this.knockout=t},set_quality:function(t){return this.quality=t},__class__:tl,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout"}});var el=function(t,e,i,s,n,a,r,o,h,_,l){null==l&&(l=!1),null==_&&(_=1),null==h&&(h=1),null==o&&(o=1),null==r&&(r=4),null==a&&(a=4),null==e&&(e=45),null==t&&(t=4),j_.call(this,t,e,i,s,n,a,r,o,h,_,l)};(i["openfl.filters.GradientGlowFilter"]=el).__name__=["openfl","filters","GradientGlowFilter"],el.__super__=j_,el.prototype=s(j_.prototype,{clone:function(){return new el(this.distance,this.angle,this.colors,this.alphas,this.ratios,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},dispose:function(){null!=this.__glowBitmapData&&(this.__glowBitmapData.dispose(),this.__glowBitmapData=null)},__growBounds:function(t){var e=_o.pool.get(),i=this.distance,s=this.angle;e.x=i*Math.cos(s*Math.PI/180),e.y=i*Math.sin(s*Math.PI/180);var n=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),a=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+n,t.y-=Math.abs(e.y)+a,t.width+=2*(Math.abs(e.x)+n),t.height+=2*(Math.abs(e.y)+a),_o.pool.put(e)},__getCommands:function(t){var e=[];switch(null==this.__glowBitmapData&&(this.__glowBitmapData=mh.__asRenderTexture()),this.__lookupTextureIsDirty&&(this.updateLookupTexture(),this.__lookupTextureIsDirty=!1),this.__glowBitmapData.__resizeTo(t),e.push(pl.Blur1D(this.__glowBitmapData,t,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(pl.Blur1D(this.__glowBitmapData,this.__glowBitmapData,this.blurY,this.quality,!1,this.strength,0,0)),e.push(pl.ColorLookup(this.__glowBitmapData,this.__glowBitmapData,this.__lookupTexture)),this.type){case 0:e.push(pl.Combine(t,t,this.__glowBitmapData));break;case 1:e.push(pl.CombineInner(t,t,this.__glowBitmapData));break;case 2:e.push(pl.Combine(t,this.__glowBitmapData,t))}return e},__class__:el});function il(){this.__uFetchCount=new qh("float",0),this.__uTexCoordDelta=new qh("vec2",0),this.__uTexCoordOffset=new qh("vec2",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform vec2 uTexCoordDelta;","uniform float uFetchCount;","uniform float uWeightTable[32];","void main(void)","{","vec2 texcoord_delta = uTexCoordDelta / "+Kh.uTextureSize+";","int fetch_count = int(uFetchCount);","vec4 result = vec4(0.0);","for(int i = 0; i < 32; ++i){","    if (i >= fetch_count) break;","    result += texture2D("+Kh.uSampler+", "+Kh.vTexCoord+" + texcoord_delta * float(i)) * uWeightTable[i];","}","\tgl_FragColor = clamp(result, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","uniform vec2 uTexCoordOffset;","void main(void)","{","vec2 texcoord_offset = uTexCoordOffset / "+Kh.uTextureSize+";",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+" - texcoord_offset;",Kh.vColor+" = "+Kh.aColor+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uTexCoordOffset",this.__uTexCoordOffset),this.data.set("uTexCoordDelta",this.__uTexCoordDelta),this.data.set("uFetchCount",this.__uFetchCount),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nuniform vec2 uTexCoordOffset;\nvoid main(void)\n{\nvec2 texcoord_offset = uTexCoordOffset / "+Kh.uTextureSize+";\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+" - texcoord_offset;\n"+Kh.vColor+" = "+Kh.aColor+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform vec2 uTexCoordDelta;\nuniform float uFetchCount;\nuniform float uWeightTable[32];\nvoid main(void)\n{\nvec2 texcoord_delta = uTexCoordDelta / "+Kh.uTextureSize+";\nint fetch_count = int(uFetchCount);\nvec4 result = vec4(0.0);\nfor(int i = 0; i < 32; ++i){\n    if (i >= fetch_count) break;\n    result += texture2D("+Kh.uSampler+", "+Kh.vTexCoord+" + texcoord_delta * float(i)) * uWeightTable[i];\n}\n\tgl_FragColor = clamp(result, 0.0, 1.0);\n}")}(i["openfl.filters.commands._Blur1DCommand.BlurShader"]=il).__name__=["openfl","filters","commands","_Blur1DCommand","BlurShader"],il.__super__=Kh,il.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordOffset:function(){return this.__uTexCoordOffset.value},set_uTexCoordOffset:function(t){var e=this.__uTexCoordOffset;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordDelta:function(){return this.__uTexCoordDelta.value},set_uTexCoordDelta:function(t){var e=this.__uTexCoordDelta;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uFetchCount:function(){return this.__uFetchCount.value[0]},set_uFetchCount:function(t){return this.__uFetchCount.value[0]=t},__class__:il,__properties__:{set_uFetchCount:"set_uFetchCount",get_uFetchCount:"get_uFetchCount",set_uTexCoordDelta:"set_uTexCoordDelta",get_uTexCoordDelta:"get_uTexCoordDelta",set_uTexCoordOffset:"set_uTexCoordOffset",get_uTexCoordOffset:"get_uTexCoordOffset",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var sl=function(){};(i["openfl.filters.commands.CommandHelper"]=sl).__name__=["openfl","filters","commands","CommandHelper"],sl.vertexArray=null,sl.shaderTable=null,sl.addShader=function(t){null==sl.shaderTable&&(sl.shaderTable=[]),sl.shaderTable.push(t)},sl.initialize=function(t){var e=[];e.push(new lh(2,5126,!1,"openfl_aPosition")),e.push(new lh(2,5126,!1,"openfl_aTexCoord0")),sl.vertexArray=new _h(e,64,!0);var i=sl.vertexArray.buffer,s=null!=i?new Zf(i,0):null;if(s[0]=0,s[1]=0,s[4]=1,s[5]=0,s[8]=0,s[9]=1,s[12]=1,s[13]=1,s[2]=0,s[3]=0,s[6]=1,s[7]=0,s[10]=0,s[11]=1,s[14]=1,s[15]=1,sl.vertexArray.setContext(t.gl,s),null!=sl.shaderTable)for(var n=0,a=sl.shaderTable;n<a.length;){var r=a[n];++n,r.__init(t.gl)}},sl.apply=function(t,e,i,s,n,a){e.__usingPingPongTexture&&e.__pingPongTexture.swap(),n&&(e.__pingPongTexture.useOldTexture=!0),e.__pushFrameBuffer(t,!0,!0,!0);var r=t.gl;if(null!=s){s.__init(r),s.__shader.wrapS=s.repeatX,s.__shader.wrapT=s.repeatY,s.__shader.smooth=s.smooth,s.__shader.blendMode=s.blendMode;var o=s.data.get(Kh.uObjectSize),h=s.data.get(Kh.uTextureSize),_=s.data.get("openfl_uScaleVector");if(null!=i)if(o.value[0]=i.width,o.value[1]=i.height,null!=i.__pingPongTexture){var l=i.__pingPongTexture,u=l.__swapped?l.__texture1:l.__texture0;h.value[0]=u.__width,h.value[1]=u.__height,_.value[0]=u.__uvData.x1,_.value[1]=u.__uvData.y2}else h.value[0]=i.width,h.value[1]=i.height,_.value[0]=i.__uvData.x1,_.value[1]=i.__uvData.y2;else o.value[0]=0,o.value[1]=0,h.value[0]=0,h.value[1]=0,_.value[0]=0,_.value[1]=0}var c=s.__shader;t.shaderManager.setShader(c);var f=sl.vertexArray;f.gl;nr.context.bindBuffer(f.gl.ARRAY_BUFFER,f.glBuffer),c.bindVertexArray(sl.vertexArray);var d=c.blendMode;null==d&&(d=10),t.blendModeManager.setBlendMode(d);var p=r.TEXTURE0;p!=nr.currentActiveTexture&&(nr.context.activeTexture(p),nr.currentActiveTexture=p);var g=r.TEXTURE_2D,m=i.getTexture(r);nr.currentBoundTexture[nr.currentActiveTexture]!=m&&(nr.context.bindTexture(g,m),null==(nr.currentBoundTexture[nr.currentActiveTexture]=m)||nr.textureStateCache.exists(m)||nr.textureStateCache.set(m,new yn));var v=r.TEXTURE_2D,b=r.TEXTURE_MAG_FILTER,y=r.LINEAR,w=nr.currentBoundTexture[nr.currentActiveTexture],x=nr.textureStateCache.get(w);x.h[b]!=y&&(nr.context.texParameteri(v,b,y),x.h[b]=y);var T=r.TEXTURE_2D,S=r.TEXTURE_MIN_FILTER,C=r.LINEAR,E=nr.currentBoundTexture[nr.currentActiveTexture],I=nr.textureStateCache.get(E);I.h[S]!=C&&(nr.context.texParameteri(T,S,C),I.h[S]=C);var P=r.TEXTURE_2D,k=r.TEXTURE_WRAP_S,D=c.wrapS,A=nr.currentBoundTexture[nr.currentActiveTexture],M=nr.textureStateCache.get(A);M.h[k]!=D&&(nr.context.texParameteri(P,k,D),M.h[k]=D);var R=r.TEXTURE_2D,F=r.TEXTURE_WRAP_T,B=c.wrapT,L=nr.currentBoundTexture[nr.currentActiveTexture],N=nr.textureStateCache.get(L);N.h[F]!=B&&(nr.context.texParameteri(R,F,B),N.h[F]=B),t.activeTextures=1,c.applyData(s.data,t),null!=a&&a(t),nr.context.drawArrays(r.TRIANGLE_STRIP,0,4),Yo.popFramebuffer(t,null),e.__imageShouldBeSynced=!0;var O=e.__pingPongTexture,U=(O.__swapped?O.__texture1:O.__texture0).__uvData;e.__createUVs(U.x0,U.y0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3),e.__isValid=!0,e.__usingPingPongTexture=!0,n&&(e.__pingPongTexture.useOldTexture=!1)},sl.prepareShader=function(t,e,i){if(null!=e){e.__init(t),e.__shader.wrapS=e.repeatX,e.__shader.wrapT=e.repeatY,e.__shader.smooth=e.smooth,e.__shader.blendMode=e.blendMode;var s=e.data.get(Kh.uObjectSize),n=e.data.get(Kh.uTextureSize),a=e.data.get("openfl_uScaleVector");if(null!=i)if(s.value[0]=i.width,s.value[1]=i.height,null!=i.__pingPongTexture){var r=i.__pingPongTexture,o=r.__swapped?r.__texture1:r.__texture0;n.value[0]=o.__width,n.value[1]=o.__height,a.value[0]=o.__uvData.x1,a.value[1]=o.__uvData.y2}else n.value[0]=i.width,n.value[1]=i.height,a.value[0]=i.__uvData.x1,a.value[1]=i.__uvData.y2;else s.value[0]=0,s.value[1]=0,n.value[0]=0,n.value[1]=0,a.value[0]=0,a.value[1]=0}};var nl=function(){};(i["openfl.filters.commands.Blur1DCommand"]=nl).__name__=["openfl","filters","commands","Blur1DCommand"],nl.apply=function(t,e,i,s,n,a,r,o){var h,_,l,u=Math.ceil(s),c=(u-1)/2;_=a?(h=s*n-1,0):(h=0,s*n-1);for(var f=u+0*(u-1),d=null!=f?new Zf(f):null,p=1/u,g=0,m=u;g<m;){d[g++]=p}for(var v=1,b=n;v<b;){var y=v++,w=d,x=d.length;d=null!=(f=u+y*(u-1))?new Zf(f):null;for(var T=2*c|0,S=0,C=f;S<C;)for(var E=S++,I=d[E]=0,P=u;I<P;){var k=E-T+I++;if(0<=k&&k<x)d[E]+=p*w[k]}}var D=(l=d).length,A=D;if(32<D){for(var M=1+(D-32)>>1,R=0,F=0,B=(l=l.subarray(M,D-M)).length;F<B;){var L=F++;R+=l[L]}for(var N=r/R,O=0,U=l.length;O<U;){var z=O++;l[z]*=N}D=l.length}else for(var G=0,X=l.length;G<X;){var V=G++;l[V]*=r}1<(nl.__shader.__uFetchCount.value[0]=D)?(nl.__shader.__uTexCoordDelta.value[0]=h/(A-1),nl.__shader.__uTexCoordDelta.value[1]=_/(A-1)):(nl.__shader.__uTexCoordDelta.value[0]=0,nl.__shader.__uTexCoordDelta.value[1]=0),nl.__shader.__uTexCoordOffset.value[0]=.5*D/A*h+o.x,nl.__shader.__uTexCoordOffset.value[1]=.5*D/A*_+o.y,sl.apply(t,e,i,nl.__shader,i==e,function(t){nl.preDrawCallback(t,l)})},nl.preDrawCallback=function(t,e){t.gl;var i=nl.__shader.__shader.getUniformLocation("uWeightTable");nr.context.uniform1fv(i,e)};function al(){this.__uColorLookupSampler=new qh("sampler2D",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform sampler2D uColorLookupSampler;","void main(void)","{","float a = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+").a;","gl_FragColor = texture2D(uColorLookupSampler, vec2(a, 0.5));","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uColorLookupSampler",this.__uColorLookupSampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uColorLookupSampler;\nvoid main(void)\n{\nfloat a = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+").a;\ngl_FragColor = texture2D(uColorLookupSampler, vec2(a, 0.5));\n}")}(i["openfl.filters.commands._ColorLookupCommand.ColorLookupShader"]=al).__name__=["openfl","filters","commands","_ColorLookupCommand","ColorLookupShader"],al.__super__=Kh,al.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uColorLookupSampler:function(){return this.__uColorLookupSampler.bitmap},set_uColorLookupSampler:function(t){var e=this.__uColorLookupSampler;if(4!=e.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:al,__properties__:{set_uColorLookupSampler:"set_uColorLookupSampler",get_uColorLookupSampler:"get_uColorLookupSampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var rl=function(){};(i["openfl.filters.commands.ColorLookupCommand"]=rl).__name__=["openfl","filters","commands","ColorLookupCommand"],rl.apply=function(t,e,i,s){var n=rl.__shader.__uColorLookupSampler;if(4!=n.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");n.bitmap=s,sl.apply(t,e,i,rl.__shader,i==e)};function ol(){this.__uOffsets=new qh("vec4",0),this.__uMultipliers=new qh("mat4",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform mat4 uMultipliers;","uniform vec4 uOffsets;","void main(void) {","\tvec4 color = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");","\tcolor = vec4(color.rgb / (color.a + 0.000001), color.a);","\tcolor = uOffsets + color * uMultipliers;","\tcolor = vec4(color.rgb * color.a, color.a);","\tgl_FragColor = color;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uMultipliers",this.__uMultipliers),this.data.set("uOffsets",this.__uOffsets),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform mat4 uMultipliers;\nuniform vec4 uOffsets;\nvoid main(void) {\n\tvec4 color = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");\n\tcolor = vec4(color.rgb / (color.a + 0.000001), color.a);\n\tcolor = uOffsets + color * uMultipliers;\n\tcolor = vec4(color.rgb * color.a, color.a);\n\tgl_FragColor = color;\n}")}(i["openfl.filters.commands._ColorTransformCommand.ColorTransformShader"]=ol).__name__=["openfl","filters","commands","_ColorTransformCommand","ColorTransformShader"],ol.__super__=Kh,ol.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uMultipliers:function(){return this.__uMultipliers.value},set_uMultipliers:function(t){var e=this.__uMultipliers;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uOffsets:function(){return this.__uOffsets.value},set_uOffsets:function(t){var e=this.__uOffsets;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},__class__:ol,__properties__:{set_uOffsets:"set_uOffsets",get_uOffsets:"get_uOffsets",set_uMultipliers:"set_uMultipliers",get_uMultipliers:"get_uMultipliers",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var hl=function(){};(i["openfl.filters.commands.ColorTransformCommand"]=hl).__name__=["openfl","filters","commands","ColorTransformCommand"],hl.apply=function(t,e,i,s,n){var a=hl.__shader.__uMultipliers;if(4==a.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");a.value=s;var r=hl.__shader.__uOffsets;if(4==r.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");r.value=n,sl.apply(t,e,i,hl.__shader,i==e)};function _l(){this.__uColor=new qh("vec4",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform vec4 uColor;","void main(void)","{","float a = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+").a;","a = clamp(a * uColor.a, 0.0, 1.0);","gl_FragColor = vec4(uColor.rgb * a, a);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uColor",this.__uColor),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform vec4 uColor;\nvoid main(void)\n{\nfloat a = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+").a;\na = clamp(a * uColor.a, 0.0, 1.0);\ngl_FragColor = vec4(uColor.rgb * a, a);\n}")}(i["openfl.filters.commands._ColorizeCommand.ColorizeShader"]=_l).__name__=["openfl","filters","commands","_ColorizeCommand","ColorizeShader"],_l.__super__=Kh,_l.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uColor:function(){return this.__uColor.value},set_uColor:function(t){var e=this.__uColor;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},__class__:_l,__properties__:{set_uColor:"set_uColor",get_uColor:"get_uColor",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var ll=function(){};(i["openfl.filters.commands.ColorizeCommand"]=ll).__name__=["openfl","filters","commands","ColorizeCommand"],ll.apply=function(t,e,i,s,n){ll.__shader.__uColor.value[0]=(s>>16&255)/255,ll.__shader.__uColor.value[1]=(s>>8&255)/255,ll.__shader.__uColor.value[2]=(255&s)/255,ll.__shader.__uColor.value[3]=n,sl.apply(t,e,i,ll.__shader,i==e)};function ul(){this.__uSource1Sampler=new qh("sampler2D",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","void main(void)","{","vec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");","gl_FragColor = src2 + src1 * (1.0 - src2.a);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");\ngl_FragColor = src2 + src1 * (1.0 - src2.a);\n}")}(i["openfl.filters.commands._CombineCommand.CombineShader"]=ul).__name__=["openfl","filters","commands","_CombineCommand","CombineShader"],ul.__super__=Kh,ul.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:ul,__properties__:{set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var cl=function(){};(i["openfl.filters.commands.CombineCommand"]=cl).__name__=["openfl","filters","commands","CombineCommand"],cl.apply=function(t,e,i,s){var n=cl.__shader.__uSource1Sampler;if(4!=n.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");n.bitmap=i,sl.apply(t,e,s,cl.__shader,i==e||s==e)};function fl(){this.__uSource1Sampler=new qh("sampler2D",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","void main(void)","{","vec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");","gl_FragColor = clamp(src1 * (1.0 - src2.a) + src1.a * src2, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");\ngl_FragColor = clamp(src1 * (1.0 - src2.a) + src1.a * src2, 0.0, 1.0);\n}")}(i["openfl.filters.commands._CombineInnerCommand.CombineInnerShader"]=fl).__name__=["openfl","filters","commands","_CombineInnerCommand","CombineInnerShader"],fl.__super__=Kh,fl.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:fl,__properties__:{set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var dl=function(){};(i["openfl.filters.commands.CombineInnerCommand"]=dl).__name__=["openfl","filters","commands","CombineInnerCommand"],dl.apply=function(t,e,i,s){var n=dl.__shader.__uSource1Sampler;if(4!=n.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");n.bitmap=i,sl.apply(t,e,s,dl.__shader,i==e||s==e)};var pl=i["openfl.filters.commands.CommandType"]={__ename__:!0,__constructs__:["Blur1D","Offset","Colorize","ColorLookup","ColorTransform","CombineInner","Combine","InnerKnockout","OuterKnockout","OuterKnockoutTransparency","DestOut"]};pl.Blur1D=function(t,e,i,s,n,a,r,o){var h=["Blur1D",0,t,e,i,s,n,a,r,o];return h.__enum__=pl,h.toString=f,h},pl.Offset=function(t,e,i,s,n){var a=["Offset",1,t,e,i,s,n];return a.__enum__=pl,a.toString=f,a},pl.Colorize=function(t,e,i,s){var n=["Colorize",2,t,e,i,s];return n.__enum__=pl,n.toString=f,n},pl.ColorLookup=function(t,e,i){var s=["ColorLookup",3,t,e,i];return s.__enum__=pl,s.toString=f,s},pl.ColorTransform=function(t,e,i,s){var n=["ColorTransform",4,t,e,i,s];return n.__enum__=pl,n.toString=f,n},pl.CombineInner=function(t,e,i){var s=["CombineInner",5,t,e,i];return s.__enum__=pl,s.toString=f,s},pl.Combine=function(t,e,i){var s=["Combine",6,t,e,i];return s.__enum__=pl,s.toString=f,s},pl.InnerKnockout=function(t,e,i){var s=["InnerKnockout",7,t,e,i];return s.__enum__=pl,s.toString=f,s},pl.OuterKnockout=function(t,e,i){var s=["OuterKnockout",8,t,e,i];return s.__enum__=pl,s.toString=f,s},pl.OuterKnockoutTransparency=function(t,e,i,s){var n=["OuterKnockoutTransparency",9,t,e,i,s];return n.__enum__=pl,n.toString=f,n},pl.DestOut=function(t,e,i,s){var n=["DestOut",10,t,e,i,s];return n.__enum__=pl,n.toString=f,n};function gl(){this.__uStrength=new qh("float",0),this.__uShadowSourceSampler=new qh("sampler2D",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform sampler2D uShadowSourceSampler;","uniform float uStrength;","void main(void)","{","float highlight = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+").a;","float shadow = texture2D(uShadowSourceSampler, "+Kh.vTexCoord+").a;","float high = clamp((highlight - shadow) * uStrength, 0., 1.);","float low = clamp((shadow - highlight) * uStrength, 0., 1.);","gl_FragColor = vec4(0.5 * ( 1. + high - low ));","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uShadowSourceSampler",this.__uShadowSourceSampler),this.data.set("uStrength",this.__uStrength),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uShadowSourceSampler;\nuniform float uStrength;\nvoid main(void)\n{\nfloat highlight = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+").a;\nfloat shadow = texture2D(uShadowSourceSampler, "+Kh.vTexCoord+").a;\nfloat high = clamp((highlight - shadow) * uStrength, 0., 1.);\nfloat low = clamp((shadow - highlight) * uStrength, 0., 1.);\ngl_FragColor = vec4(0.5 * ( 1. + high - low ));\n}")}(i["openfl.filters.commands._DestOutCommand.DestOutShader"]=gl).__name__=["openfl","filters","commands","_DestOutCommand","DestOutShader"],gl.__super__=Kh,gl.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uShadowSourceSampler:function(){return this.__uShadowSourceSampler.bitmap},set_uShadowSourceSampler:function(t){var e=this.__uShadowSourceSampler;if(4!=e.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_uStrength:function(){return this.__uStrength.value[0]},set_uStrength:function(t){return this.__uStrength.value[0]=t},__class__:gl,__properties__:{set_uStrength:"set_uStrength",get_uStrength:"get_uStrength",set_uShadowSourceSampler:"set_uShadowSourceSampler",get_uShadowSourceSampler:"get_uShadowSourceSampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var ml=function(){};(i["openfl.filters.commands.DestOutCommand"]=ml).__name__=["openfl","filters","commands","DestOutCommand"],ml.apply=function(t,e,i,s,n){var a=ml.__shader.__uShadowSourceSampler;if(4!=a.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");a.bitmap=s,ml.__shader.__uStrength.value[0]=n,sl.apply(t,e,i,ml.__shader,i==e||s==e)};function vl(){this.__outer=new qh("float",0),this.__uSource1Sampler=new qh("sampler2D",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","uniform float outer;","void main(void)","{","vec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");","src2 *= src1.a;","gl_FragColor = src2;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.data.set("outer",this.__outer),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nuniform float outer;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");\nsrc2 *= src1.a;\ngl_FragColor = src2;\n}")}(i["openfl.filters.commands._InnerKnockoutCommand.InnerKnockoutShader"]=vl).__name__=["openfl","filters","commands","_InnerKnockoutCommand","InnerKnockoutShader"],vl.__super__=Kh,vl.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_outer:function(){return this.__outer.value[0]},set_outer:function(t){return this.__outer.value[0]=t},__class__:vl,__properties__:{set_outer:"set_outer",get_outer:"get_outer",set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var bl=function(){};(i["openfl.filters.commands.InnerKnockoutCommand"]=bl).__name__=["openfl","filters","commands","InnerKnockoutCommand"],bl.apply=function(t,e,i,s){var n=bl.__shader.__uSource1Sampler;if(4!=n.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");n.bitmap=i,sl.apply(t,e,s,bl.__shader,i==e||s==e)};function yl(){this.__uStrength=new qh("float",0),this.__uTexCoordOffset=new qh("vec2",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform float uStrength;","void main(void)","{","vec4 result = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");","gl_FragColor = clamp(result * uStrength, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","uniform vec2 uTexCoordOffset;","void main(void)","{","vec2 texcoord_offset = uTexCoordOffset / "+Kh.uTextureSize+";",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+" - texcoord_offset;",Kh.vColor+" = "+Kh.aColor+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uTexCoordOffset",this.__uTexCoordOffset),this.data.set("uStrength",this.__uStrength),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nuniform vec2 uTexCoordOffset;\nvoid main(void)\n{\nvec2 texcoord_offset = uTexCoordOffset / "+Kh.uTextureSize+";\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+" - texcoord_offset;\n"+Kh.vColor+" = "+Kh.aColor+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform float uStrength;\nvoid main(void)\n{\nvec4 result = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");\ngl_FragColor = clamp(result * uStrength, 0.0, 1.0);\n}")}(i["openfl.filters.commands._OffsetCommand.OffsetShader"]=yl).__name__=["openfl","filters","commands","_OffsetCommand","OffsetShader"],yl.__super__=Kh,yl.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordOffset:function(){return this.__uTexCoordOffset.value},set_uTexCoordOffset:function(t){var e=this.__uTexCoordOffset;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uStrength:function(){return this.__uStrength.value[0]},set_uStrength:function(t){return this.__uStrength.value[0]=t},__class__:yl,__properties__:{set_uStrength:"set_uStrength",get_uStrength:"get_uStrength",set_uTexCoordOffset:"set_uTexCoordOffset",get_uTexCoordOffset:"get_uTexCoordOffset",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var wl=function(){};(i["openfl.filters.commands.OffsetCommand"]=wl).__name__=["openfl","filters","commands","OffsetCommand"],wl.apply=function(t,e,i,s,n){wl.__shader.__uTexCoordOffset.value[0]=n.x,wl.__shader.__uTexCoordOffset.value[1]=n.y,wl.__shader.__uStrength.value[0]=s,sl.apply(t,e,i,wl.__shader,i==e)};function xl(){this.__allow_transparency=new qh("float",0),this.__uSource1Sampler=new qh("sampler2D",0),this.__openfl_uScaleVector=new qh("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","uniform float allow_transparency;","void main(void)","{","vec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");","src2 *=  1. - ( allow_transparency * src1.a + ( 1. - allow_transparency ) * step(0.0001, src1.a) );","gl_FragColor = src2;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";","gl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],Kh.call(this),sl.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.data.set("allow_transparency",this.__allow_transparency),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+Kh.vTexCoord+" = openfl_uScaleVector * "+Kh.aTexCoord+";\ngl_Position = vec4("+Kh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nuniform float allow_transparency;\nvoid main(void)\n{\nvec4 src2 = texture2D("+Kh.uSampler+", "+Kh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+Kh.vTexCoord+");\nsrc2 *=  1. - ( allow_transparency * src1.a + ( 1. - allow_transparency ) * step(0.0001, src1.a) );\ngl_FragColor = src2;\n}")}(i["openfl.filters.commands._OuterKnockoutCommand.OuterKnockoutShader"]=xl).__name__=["openfl","filters","commands","_OuterKnockoutCommand","OuterKnockoutShader"],xl.__super__=Kh,xl.prototype=s(Kh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new qn("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_allow_transparency:function(){return this.__allow_transparency.value[0]},set_allow_transparency:function(t){return this.__allow_transparency.value[0]=t},__class__:xl,__properties__:{set_allow_transparency:"set_allow_transparency",get_allow_transparency:"get_allow_transparency",set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var Tl=function(){};(i["openfl.filters.commands.OuterKnockoutCommand"]=Tl).__name__=["openfl","filters","commands","OuterKnockoutCommand"],Tl.apply=function(t,e,i,s,n){null==n&&(n=!0);var a=Tl.__shader.__uSource1Sampler;if(4!=a.internalType)throw new qn("This parameter doesn't accept a bitmap, use value instead");a.bitmap=i,Tl.__shader.__allow_transparency.value[0]=n?1:0,sl.apply(t,e,s,Tl.__shader,i==e||s==e)};function Sl(t){if(null!=t&&16==t.length)this.rawData=t;else{var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=new Le;i.length=e.length,i.fixed=!0,i.data=e.slice(0),this.rawData=i}}(i["openfl.geom.Matrix3D"]=Sl).__name__=["openfl","geom","Matrix3D"],Sl.create2D=function(t,e,i,s){null==s&&(s=0),null==i&&(i=1);var n=s*Math.PI/180,a=Math.cos(n),r=Math.sin(n),o=[a*i,-r*i,0,0,r*i,a*i,0,0,0,0,1,0,t,e,0,1],h=new Le;return h.length=o.length,h.fixed=!0,h.data=o.slice(0),new Sl(h)},Sl.createABCD=function(t,e,i,s,n,a){var r=[t,e,0,0,i,s,0,0,0,0,1,0,n,a,0,1],o=new Le;return o.length=r.length,o.fixed=!0,o.data=r.slice(0),new Sl(o)},Sl.createOrtho=function(t,e,i,s,n,a){var r=1/(e-t),o=1/(s-i),h=1/(a-n),_=[2*r,0,0,0,0,2*o,0,0,0,0,-2*h,0,-(t+e)*r,-(i+s)*o,-(n+a)*h,1],l=new Le;return l.length=_.length,l.fixed=!0,l.data=_.slice(0),new Sl(l)},Sl.interpolate=function(t,e,i){for(var s=new Sl,n=0;n<16;){var a=n++,r=s.rawData,o=t.rawData.data[a]+(e.rawData.data[a]-t.rawData.data[a])*i;if(!r.fixed&&(a>=r.length&&(r.length=1+a),r.data.length<r.length)){var h=r.data.length+10,_=new Array(h);Sn.blit(r.data,0,_,0,r.data.length),r.data=_}r.data[a]=o}return s},Sl.__getAxisRotation=function(t,e,i,s){var n=new Sl,a=new Pl(t,e,i),r=-s*(Math.PI/180),o=Math.cos(r),h=Math.sin(r),_=1-o,l=n.rawData,u=o+a.x*a.x*_;if(!l.fixed&&(l.length<=0&&(l.length=1),l.data.length<l.length)){var c=l.data.length+10,f=new Array(c);Sn.blit(l.data,0,f,0,l.data.length),l.data=f}l.data[0]=u;var d=n.rawData,p=o+a.y*a.y*_;if(!d.fixed&&(d.length<=5&&(d.length=6),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);Sn.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[5]=p;var v=n.rawData,b=o+a.z*a.z*_;if(!v.fixed&&(v.length<=10&&(v.length=11),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);Sn.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[10]=b;var x=a.x*a.y*_,T=a.z*h,S=n.rawData;if(!S.fixed&&(S.length<=4&&(S.length=5),S.data.length<S.length)){var C=S.data.length+10,E=new Array(C);Sn.blit(S.data,0,E,0,S.data.length),S.data=E}S.data[4]=x+T;var I=n.rawData;if(!I.fixed&&(I.length<=1&&(I.length=2),I.data.length<I.length)){var P=I.data.length+10,k=new Array(P);Sn.blit(I.data,0,k,0,I.data.length),I.data=k}I.data[1]=x-T,x=a.x*a.z*_,T=a.y*h;var D=n.rawData;if(!D.fixed&&(D.length<=8&&(D.length=9),D.data.length<D.length)){var A=D.data.length+10,M=new Array(A);Sn.blit(D.data,0,M,0,D.data.length),D.data=M}D.data[8]=x-T;var R=n.rawData;if(!R.fixed&&(R.length<=2&&(R.length=3),R.data.length<R.length)){var F=R.data.length+10,B=new Array(F);Sn.blit(R.data,0,B,0,R.data.length),R.data=B}R.data[2]=x+T,x=a.y*a.z*_,T=a.x*h;var L=n.rawData;if(!L.fixed&&(L.length<=9&&(L.length=10),L.data.length<L.length)){var N=L.data.length+10,O=new Array(N);Sn.blit(L.data,0,O,0,L.data.length),L.data=O}L.data[9]=x+T;var U=n.rawData;if(!U.fixed&&(U.length<=6&&(U.length=7),U.data.length<U.length)){var z=U.data.length+10,G=new Array(z);Sn.blit(U.data,0,G,0,U.data.length),U.data=G}return U.data[6]=x-T,n},Sl.prototype={append:function(t){var e=this.rawData.data[0],i=this.rawData.data[4],s=this.rawData.data[8],n=this.rawData.data[12],a=this.rawData.data[1],r=this.rawData.data[5],o=this.rawData.data[9],h=this.rawData.data[13],_=this.rawData.data[2],l=this.rawData.data[6],u=this.rawData.data[10],c=this.rawData.data[14],f=this.rawData.data[3],d=this.rawData.data[7],p=this.rawData.data[11],g=this.rawData.data[15],m=t.rawData.data[0],v=t.rawData.data[4],b=t.rawData.data[8],y=t.rawData.data[12],w=t.rawData.data[1],x=t.rawData.data[5],T=t.rawData.data[9],S=t.rawData.data[13],C=t.rawData.data[2],E=t.rawData.data[6],I=t.rawData.data[10],P=t.rawData.data[14],k=t.rawData.data[3],D=t.rawData.data[7],A=t.rawData.data[11],M=t.rawData.data[15],R=this.rawData;if(!R.fixed&&(R.length<=0&&(R.length=1),R.data.length<R.length)){var F=R.data.length+10,B=new Array(F);Sn.blit(R.data,0,B,0,R.data.length),R.data=B}R.data[0]=e*m+a*v+_*b+f*y;var L=this.rawData;if(!L.fixed&&(L.length<=1&&(L.length=2),L.data.length<L.length)){var N=L.data.length+10,O=new Array(N);Sn.blit(L.data,0,O,0,L.data.length),L.data=O}L.data[1]=e*w+a*x+_*T+f*S;var U=this.rawData;if(!U.fixed&&(U.length<=2&&(U.length=3),U.data.length<U.length)){var z=U.data.length+10,G=new Array(z);Sn.blit(U.data,0,G,0,U.data.length),U.data=G}U.data[2]=e*C+a*E+_*I+f*P;var X=this.rawData;if(!X.fixed&&(X.length<=3&&(X.length=4),X.data.length<X.length)){var V=X.data.length+10,H=new Array(V);Sn.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[3]=e*k+a*D+_*A+f*M;var Y=this.rawData;if(!Y.fixed&&(Y.length<=4&&(Y.length=5),Y.data.length<Y.length)){var W=Y.data.length+10,j=new Array(W);Sn.blit(Y.data,0,j,0,Y.data.length),Y.data=j}Y.data[4]=i*m+r*v+l*b+d*y;var K=this.rawData;if(!K.fixed&&(K.length<=5&&(K.length=6),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);Sn.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[5]=i*w+r*x+l*T+d*S;var Z=this.rawData;if(!Z.fixed&&(Z.length<=6&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);Sn.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=i*C+r*E+l*I+d*P;var tt=this.rawData;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);Sn.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[7]=i*k+r*D+l*A+d*M;var st=this.rawData;if(!st.fixed&&(st.length<=8&&(st.length=9),st.data.length<st.length)){var nt=st.data.length+10,at=new Array(nt);Sn.blit(st.data,0,at,0,st.data.length),st.data=at}st.data[8]=s*m+o*v+u*b+p*y;var rt=this.rawData;if(!rt.fixed&&(rt.length<=9&&(rt.length=10),rt.data.length<rt.length)){var ot=rt.data.length+10,ht=new Array(ot);Sn.blit(rt.data,0,ht,0,rt.data.length),rt.data=ht}rt.data[9]=s*w+o*x+u*T+p*S;var _t=this.rawData;if(!_t.fixed&&(_t.length<=10&&(_t.length=11),_t.data.length<_t.length)){var lt=_t.data.length+10,ut=new Array(lt);Sn.blit(_t.data,0,ut,0,_t.data.length),_t.data=ut}_t.data[10]=s*C+o*E+u*I+p*P;var ct=this.rawData;if(!ct.fixed&&(ct.length<=11&&(ct.length=12),ct.data.length<ct.length)){var ft=ct.data.length+10,dt=new Array(ft);Sn.blit(ct.data,0,dt,0,ct.data.length),ct.data=dt}ct.data[11]=s*k+o*D+u*A+p*M;var pt=this.rawData;if(!pt.fixed&&(pt.length<=12&&(pt.length=13),pt.data.length<pt.length)){var gt=pt.data.length+10,mt=new Array(gt);Sn.blit(pt.data,0,mt,0,pt.data.length),pt.data=mt}pt.data[12]=n*m+h*v+c*b+g*y;var vt=this.rawData;if(!vt.fixed&&(vt.length<=13&&(vt.length=14),vt.data.length<vt.length)){var bt=vt.data.length+10,yt=new Array(bt);Sn.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=n*w+h*x+c*T+g*S;var wt=this.rawData;if(!wt.fixed&&(wt.length<=14&&(wt.length=15),wt.data.length<wt.length)){var xt=wt.data.length+10,Tt=new Array(xt);Sn.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=n*C+h*E+c*I+g*P;var St=this.rawData;if(!St.fixed&&(St.length<=15&&(St.length=16),St.data.length<St.length)){var Ct=St.data.length+10,Et=new Array(Ct);Sn.blit(St.data,0,Et,0,St.data.length),St.data=Et}St.data[15]=n*k+h*D+c*A+g*M},appendRotation:function(t,e,i){var s=Sl.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var n=i;s.appendTranslation(n.x,n.y,n.z)}this.append(s)},appendScale:function(t,e,i){var s=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],n=new Le;n.length=s.length,n.fixed=!0,n.data=s.slice(0),this.append(new Sl(n))},appendTranslation:function(t,e,i){var s=this.rawData,n=s.data[12]+t;if(!s.fixed&&(s.length<=12&&(s.length=13),s.data.length<s.length)){var a=s.data.length+10,r=new Array(a);Sn.blit(s.data,0,r,0,s.data.length),s.data=r}s.data[12]=n;var o=this.rawData,h=o.data[13]+e;if(!o.fixed&&(o.length<=13&&(o.length=14),o.data.length<o.length)){var _=o.data.length+10,l=new Array(_);Sn.blit(o.data,0,l,0,o.data.length),o.data=l}o.data[13]=h;var u=this.rawData,c=u.data[14]+i;if(!u.fixed&&(u.length<=14&&(u.length=15),u.data.length<u.length)){var f=u.data.length+10,d=new Array(f);Sn.blit(u.data,0,d,0,u.data.length),u.data=d}u.data[14]=c},clone:function(){var t=this.rawData,e=new Le;e.length=t.length,e.fixed=t.fixed;var i=t.length,s=new Array(i);return e.data=s,Sn.blit(t.data,0,e.data,0,t.length),new Sl(e)},copyColumnFrom:function(t,e){switch(t){case 0:var i=this.rawData,s=e.x;if(!i.fixed&&(i.length<=0&&(i.length=1),i.data.length<i.length)){var n=i.data.length+10,a=new Array(n);Sn.blit(i.data,0,a,0,i.data.length),i.data=a}i.data[0]=s;var r=this.rawData,o=e.y;if(!r.fixed&&(r.length<=1&&(r.length=2),r.data.length<r.length)){var h=r.data.length+10,_=new Array(h);Sn.blit(r.data,0,_,0,r.data.length),r.data=_}r.data[1]=o;var l=this.rawData,u=e.z;if(!l.fixed&&(l.length<=2&&(l.length=3),l.data.length<l.length)){var c=l.data.length+10,f=new Array(c);Sn.blit(l.data,0,f,0,l.data.length),l.data=f}l.data[2]=u;var d=this.rawData,p=e.w;if(!d.fixed&&(d.length<=3&&(d.length=4),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);Sn.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[3]=p;break;case 1:var v=this.rawData,b=e.x;if(!v.fixed&&(v.length<=4&&(v.length=5),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);Sn.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[4]=b;var x=this.rawData,T=e.y;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var S=x.data.length+10,C=new Array(S);Sn.blit(x.data,0,C,0,x.data.length),x.data=C}x.data[5]=T;var E=this.rawData,I=e.z;if(!E.fixed&&(E.length<=6&&(E.length=7),E.data.length<E.length)){var P=E.data.length+10,k=new Array(P);Sn.blit(E.data,0,k,0,E.data.length),E.data=k}E.data[6]=I;var D=this.rawData,A=e.w;if(!D.fixed&&(D.length<=7&&(D.length=8),D.data.length<D.length)){var M=D.data.length+10,R=new Array(M);Sn.blit(D.data,0,R,0,D.data.length),D.data=R}D.data[7]=A;break;case 2:var F=this.rawData,B=e.x;if(!F.fixed&&(F.length<=8&&(F.length=9),F.data.length<F.length)){var L=F.data.length+10,N=new Array(L);Sn.blit(F.data,0,N,0,F.data.length),F.data=N}F.data[8]=B;var O=this.rawData,U=e.y;if(!O.fixed&&(O.length<=9&&(O.length=10),O.data.length<O.length)){var z=O.data.length+10,G=new Array(z);Sn.blit(O.data,0,G,0,O.data.length),O.data=G}O.data[9]=U;var X=this.rawData,V=e.z;if(!X.fixed&&(X.length<=10&&(X.length=11),X.data.length<X.length)){var H=X.data.length+10,Y=new Array(H);Sn.blit(X.data,0,Y,0,X.data.length),X.data=Y}X.data[10]=V;var W=this.rawData,j=e.w;if(!W.fixed&&(W.length<=11&&(W.length=12),W.data.length<W.length)){var K=W.data.length+10,q=new Array(K);Sn.blit(W.data,0,q,0,W.data.length),W.data=q}W.data[11]=j;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(J.length<=12&&(J.length=13),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);Sn.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[12]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(tt.length<=13&&(tt.length=14),tt.data.length<tt.length)){var it=tt.data.length+10,st=new Array(it);Sn.blit(tt.data,0,st,0,tt.data.length),tt.data=st}tt.data[13]=et;var nt=this.rawData,at=e.z;if(!nt.fixed&&(nt.length<=14&&(nt.length=15),nt.data.length<nt.length)){var rt=nt.data.length+10,ot=new Array(rt);Sn.blit(nt.data,0,ot,0,nt.data.length),nt.data=ot}nt.data[14]=at;var ht=this.rawData,_t=e.w;if(!ht.fixed&&(ht.length<=15&&(ht.length=16),ht.data.length<ht.length)){var lt=ht.data.length+10,ut=new Array(lt);Sn.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[15]=_t}},copyColumnTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[1],e.z=this.rawData.data[2],e.w=this.rawData.data[3];break;case 1:e.x=this.rawData.data[4],e.y=this.rawData.data[5],e.z=this.rawData.data[6],e.w=this.rawData.data[7];break;case 2:e.x=this.rawData.data[8],e.y=this.rawData.data[9],e.z=this.rawData.data[10],e.w=this.rawData.data[11];break;case 3:e.x=this.rawData.data[12],e.y=this.rawData.data[13],e.z=this.rawData.data[14],e.w=this.rawData.data[15]}},copyFrom:function(t){var e=t.rawData,i=new Le;i.length=e.length,i.fixed=e.fixed;var s=e.length,n=new Array(s);i.data=n,Sn.blit(e.data,0,i.data,0,e.length),this.rawData=i},copyRawDataFrom:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var s=0,n=t.length-e;s<n;){var a=s++,r=this.rawData,o=t.data[a+e];if(!r.fixed&&(a>=r.length&&(r.length=1+a),r.data.length<r.length)){var h=r.data.length+10,_=new Array(h);Sn.blit(r.data,0,_,0,r.data.length),r.data=_}r.data[a]=o}i&&this.transpose()},copyRawDataTo:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var s=0,n=this.rawData.length;s<n;){var a=s++,r=a+e,o=this.rawData.data[a];if(!t.fixed&&(r>=t.length&&(t.length=r+1),t.data.length<t.length)){var h=t.data.length+10,_=new Array(h);Sn.blit(t.data,0,_,0,t.data.length),t.data=_}t.data[r]=o}i&&this.transpose()},copyRowFrom:function(t,e){switch(t){case 0:var i=this.rawData,s=e.x;if(!i.fixed&&(i.length<=0&&(i.length=1),i.data.length<i.length)){var n=i.data.length+10,a=new Array(n);Sn.blit(i.data,0,a,0,i.data.length),i.data=a}i.data[0]=s;var r=this.rawData,o=e.y;if(!r.fixed&&(r.length<=4&&(r.length=5),r.data.length<r.length)){var h=r.data.length+10,_=new Array(h);Sn.blit(r.data,0,_,0,r.data.length),r.data=_}r.data[4]=o;var l=this.rawData,u=e.z;if(!l.fixed&&(l.length<=8&&(l.length=9),l.data.length<l.length)){var c=l.data.length+10,f=new Array(c);Sn.blit(l.data,0,f,0,l.data.length),l.data=f}l.data[8]=u;var d=this.rawData,p=e.w;if(!d.fixed&&(d.length<=12&&(d.length=13),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);Sn.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[12]=p;break;case 1:var v=this.rawData,b=e.x;if(!v.fixed&&(v.length<=1&&(v.length=2),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);Sn.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[1]=b;var x=this.rawData,T=e.y;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var S=x.data.length+10,C=new Array(S);Sn.blit(x.data,0,C,0,x.data.length),x.data=C}x.data[5]=T;var E=this.rawData,I=e.z;if(!E.fixed&&(E.length<=9&&(E.length=10),E.data.length<E.length)){var P=E.data.length+10,k=new Array(P);Sn.blit(E.data,0,k,0,E.data.length),E.data=k}E.data[9]=I;var D=this.rawData,A=e.w;if(!D.fixed&&(D.length<=13&&(D.length=14),D.data.length<D.length)){var M=D.data.length+10,R=new Array(M);Sn.blit(D.data,0,R,0,D.data.length),D.data=R}D.data[13]=A;break;case 2:var F=this.rawData,B=e.x;if(!F.fixed&&(F.length<=2&&(F.length=3),F.data.length<F.length)){var L=F.data.length+10,N=new Array(L);Sn.blit(F.data,0,N,0,F.data.length),F.data=N}F.data[2]=B;var O=this.rawData,U=e.y;if(!O.fixed&&(O.length<=6&&(O.length=7),O.data.length<O.length)){var z=O.data.length+10,G=new Array(z);Sn.blit(O.data,0,G,0,O.data.length),O.data=G}O.data[6]=U;var X=this.rawData,V=e.z;if(!X.fixed&&(X.length<=10&&(X.length=11),X.data.length<X.length)){var H=X.data.length+10,Y=new Array(H);Sn.blit(X.data,0,Y,0,X.data.length),X.data=Y}X.data[10]=V;var W=this.rawData,j=e.w;if(!W.fixed&&(W.length<=14&&(W.length=15),W.data.length<W.length)){var K=W.data.length+10,q=new Array(K);Sn.blit(W.data,0,q,0,W.data.length),W.data=q}W.data[14]=j;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(J.length<=3&&(J.length=4),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);Sn.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[3]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var it=tt.data.length+10,st=new Array(it);Sn.blit(tt.data,0,st,0,tt.data.length),tt.data=st}tt.data[7]=et;var nt=this.rawData,at=e.z;if(!nt.fixed&&(nt.length<=11&&(nt.length=12),nt.data.length<nt.length)){var rt=nt.data.length+10,ot=new Array(rt);Sn.blit(nt.data,0,ot,0,nt.data.length),nt.data=ot}nt.data[11]=at;var ht=this.rawData,_t=e.w;if(!ht.fixed&&(ht.length<=15&&(ht.length=16),ht.data.length<ht.length)){var lt=ht.data.length+10,ut=new Array(lt);Sn.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[15]=_t}},copyRowTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[4],e.z=this.rawData.data[8],e.w=this.rawData.data[12];break;case 1:e.x=this.rawData.data[1],e.y=this.rawData.data[5],e.z=this.rawData.data[9],e.w=this.rawData.data[13];break;case 2:e.x=this.rawData.data[2],e.y=this.rawData.data[6],e.z=this.rawData.data[10],e.w=this.rawData.data[14];break;case 3:e.x=this.rawData.data[3],e.y=this.rawData.data[7],e.z=this.rawData.data[11],e.w=this.rawData.data[15]}},copyToMatrix3D:function(t){var e=this.rawData,i=new Le;i.length=e.length,i.fixed=e.fixed;var s=e.length,n=new Array(s);i.data=n,Sn.blit(e.data,0,i.data,0,e.length),t.rawData=i},decompose:function(t){null==t&&(t=1);var e=new Le,i=new Array(0);e.data=i,e.length=0,e.fixed=!1;var s=e,n=this.clone().rawData,a=new Le;a.length=n.length,a.fixed=n.fixed;var r=n.length,o=new Array(r);a.data=o,Sn.blit(n.data,0,a.data,0,n.length);var h=a,_=new Pl(h.data[12],h.data[13],h.data[14]);if(!h.fixed&&(h.length<=12&&(h.length=13),h.data.length<h.length)){var l=h.data.length+10,u=new Array(l);Sn.blit(h.data,0,u,0,h.data.length),h.data=u}if(h.data[12]=0,!h.fixed&&(h.length<=13&&(h.length=14),h.data.length<h.length)){var c=h.data.length+10,f=new Array(c);Sn.blit(h.data,0,f,0,h.data.length),h.data=f}if(h.data[13]=0,!h.fixed&&(h.length<=14&&(h.length=15),h.data.length<h.length)){var d=h.data.length+10,p=new Array(d);Sn.blit(h.data,0,p,0,h.data.length),h.data=p}h.data[14]=0;var g=new Pl;g.x=Math.sqrt(h.data[0]*h.data[0]+h.data[1]*h.data[1]+h.data[2]*h.data[2]),g.y=Math.sqrt(h.data[4]*h.data[4]+h.data[5]*h.data[5]+h.data[6]*h.data[6]),g.z=Math.sqrt(h.data[8]*h.data[8]+h.data[9]*h.data[9]+h.data[10]*h.data[10]),h.data[0]*(h.data[5]*h.data[10]-h.data[6]*h.data[9])-h.data[1]*(h.data[4]*h.data[10]-h.data[6]*h.data[8])+h.data[2]*(h.data[4]*h.data[9]-h.data[5]*h.data[8])<0&&(g.z=-g.z);var m=h,v=m.data[0]/g.x;if(!m.fixed&&(m.length<=0&&(m.length=1),m.data.length<m.length)){var b=m.data.length+10,y=new Array(b);Sn.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[0]=v;var w=h,x=w.data[1]/g.x;if(!w.fixed&&(w.length<=1&&(w.length=2),w.data.length<w.length)){var T=w.data.length+10,S=new Array(T);Sn.blit(w.data,0,S,0,w.data.length),w.data=S}w.data[1]=x;var C=h,E=C.data[2]/g.x;if(!C.fixed&&(C.length<=2&&(C.length=3),C.data.length<C.length)){var I=C.data.length+10,P=new Array(I);Sn.blit(C.data,0,P,0,C.data.length),C.data=P}C.data[2]=E;var k=h,D=k.data[4]/g.y;if(!k.fixed&&(k.length<=4&&(k.length=5),k.data.length<k.length)){var A=k.data.length+10,M=new Array(A);Sn.blit(k.data,0,M,0,k.data.length),k.data=M}k.data[4]=D;var R=h,F=R.data[5]/g.y;if(!R.fixed&&(R.length<=5&&(R.length=6),R.data.length<R.length)){var B=R.data.length+10,L=new Array(B);Sn.blit(R.data,0,L,0,R.data.length),R.data=L}R.data[5]=F;var N=h,O=N.data[6]/g.y;if(!N.fixed&&(N.length<=6&&(N.length=7),N.data.length<N.length)){var U=N.data.length+10,z=new Array(U);Sn.blit(N.data,0,z,0,N.data.length),N.data=z}N.data[6]=O;var G=h,X=G.data[8]/g.z;if(!G.fixed&&(G.length<=8&&(G.length=9),G.data.length<G.length)){var V=G.data.length+10,H=new Array(V);Sn.blit(G.data,0,H,0,G.data.length),G.data=H}G.data[8]=X;var Y=h,W=Y.data[9]/g.z;if(!Y.fixed&&(Y.length<=9&&(Y.length=10),Y.data.length<Y.length)){var j=Y.data.length+10,K=new Array(j);Sn.blit(Y.data,0,K,0,Y.data.length),Y.data=K}Y.data[9]=W;var q=h,J=q.data[10]/g.z;if(!q.fixed&&(q.length<=10&&(q.length=11),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);Sn.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[10]=J;var $=new Pl;switch(t){case 0:$.w=Math.acos((h.data[0]+h.data[5]+h.data[10]-1)/2);var tt=Math.sqrt((h.data[6]-h.data[9])*(h.data[6]-h.data[9])+(h.data[8]-h.data[2])*(h.data[8]-h.data[2])+(h.data[1]-h.data[4])*(h.data[1]-h.data[4]));0!=tt?($.x=(h.data[6]-h.data[9])/tt,$.y=(h.data[8]-h.data[2])/tt,$.z=(h.data[1]-h.data[4])/tt):$.x=$.y=$.z=0;break;case 1:$.y=Math.asin(-h.data[2]),1!=h.data[2]&&-1!=h.data[2]?($.x=Math.atan2(h.data[6],h.data[10]),$.z=Math.atan2(h.data[1],h.data[0])):($.z=0,$.x=Math.atan2(h.data[4],h.data[5]));break;case 2:var et=h.data[0]+h.data[5]+h.data[10];0<et?($.w=Math.sqrt(1+et)/2,$.x=(h.data[6]-h.data[9])/(4*$.w),$.y=(h.data[8]-h.data[2])/(4*$.w),$.z=(h.data[1]-h.data[4])/(4*$.w)):h.data[0]>h.data[5]&&h.data[0]>h.data[10]?($.x=Math.sqrt(1+h.data[0]-h.data[5]-h.data[10])/2,$.w=(h.data[6]-h.data[9])/(4*$.x),$.y=(h.data[1]+h.data[4])/(4*$.x),$.z=(h.data[8]+h.data[2])/(4*$.x)):h.data[5]>h.data[10]?($.y=Math.sqrt(1+h.data[5]-h.data[0]-h.data[10])/2,$.x=(h.data[1]+h.data[4])/(4*$.y),$.w=(h.data[8]-h.data[2])/(4*$.y),$.z=(h.data[6]+h.data[9])/(4*$.y)):($.z=Math.sqrt(1+h.data[10]-h.data[0]-h.data[5])/2,$.x=(h.data[8]+h.data[2])/(4*$.z),$.y=(h.data[6]+h.data[9])/(4*$.z),$.w=(h.data[1]-h.data[4])/(4*$.z))}if(!s.fixed){if(s.length++,s.data.length<s.length){var it=s.data.length+10,st=new Array(it);Sn.blit(s.data,0,st,0,s.data.length),s.data=st}s.data[s.length-1]=_}if(!s.fixed){if(s.length++,s.data.length<s.length){var nt=s.data.length+10,at=new Array(nt);Sn.blit(s.data,0,at,0,s.data.length),s.data=at}s.data[s.length-1]=$}if(!s.fixed){if(s.length++,s.data.length<s.length){var rt=s.data.length+10,ot=new Array(rt);Sn.blit(s.data,0,ot,0,s.data.length),s.data=ot}s.data[s.length-1]=g}return s},deltaTransformVector:function(t){var e=t.x,i=t.y,s=t.z;return new Pl(e*this.rawData.data[0]+i*this.rawData.data[4]+s*this.rawData.data[8]+this.rawData.data[3],e*this.rawData.data[1]+i*this.rawData.data[5]+s*this.rawData.data[9]+this.rawData.data[7],e*this.rawData.data[2]+i*this.rawData.data[6]+s*this.rawData.data[10]+this.rawData.data[11],0)},identity:function(){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e=new Le;e.length=t.length,e.fixed=!0,e.data=t.slice(0),this.rawData=e},interpolateTo:function(t,e){for(var i=0;i<16;){var s=i++,n=this.rawData,a=this.rawData.data[s]+(t.rawData.data[s]-this.rawData.data[s])*e;if(!n.fixed&&(s>=n.length&&(n.length=1+s),n.data.length<n.length)){var r=n.data.length+10,o=new Array(r);Sn.blit(n.data,0,o,0,n.data.length),n.data=o}n.data[s]=a}},invert:function(){var t=this.get_determinant(),e=1e-11<Math.abs(t);if(e){t=1/t;var i=this.rawData.data[0],s=this.rawData.data[4],n=this.rawData.data[8],a=this.rawData.data[12],r=this.rawData.data[1],o=this.rawData.data[5],h=this.rawData.data[9],_=this.rawData.data[13],l=this.rawData.data[2],u=this.rawData.data[6],c=this.rawData.data[10],f=this.rawData.data[14],d=this.rawData.data[3],p=this.rawData.data[7],g=this.rawData.data[11],m=this.rawData.data[15],v=this.rawData;if(!v.fixed&&(v.length<=0&&(v.length=1),v.data.length<v.length)){var b=v.data.length+10,y=new Array(b);Sn.blit(v.data,0,y,0,v.data.length),v.data=y}v.data[0]=t*(o*(c*m-f*g)-h*(u*m-f*p)+_*(u*g-c*p));var w=this.rawData;if(!w.fixed&&(w.length<=1&&(w.length=2),w.data.length<w.length)){var x=w.data.length+10,T=new Array(x);Sn.blit(w.data,0,T,0,w.data.length),w.data=T}w.data[1]=-t*(r*(c*m-f*g)-h*(l*m-f*d)+_*(l*g-c*d));var S=this.rawData;if(!S.fixed&&(S.length<=2&&(S.length=3),S.data.length<S.length)){var C=S.data.length+10,E=new Array(C);Sn.blit(S.data,0,E,0,S.data.length),S.data=E}S.data[2]=t*(r*(u*m-f*p)-o*(l*m-f*d)+_*(l*p-u*d));var I=this.rawData;if(!I.fixed&&(I.length<=3&&(I.length=4),I.data.length<I.length)){var P=I.data.length+10,k=new Array(P);Sn.blit(I.data,0,k,0,I.data.length),I.data=k}I.data[3]=-t*(r*(u*g-c*p)-o*(l*g-c*d)+h*(l*p-u*d));var D=this.rawData;if(!D.fixed&&(D.length<=4&&(D.length=5),D.data.length<D.length)){var A=D.data.length+10,M=new Array(A);Sn.blit(D.data,0,M,0,D.data.length),D.data=M}D.data[4]=-t*(s*(c*m-f*g)-n*(u*m-f*p)+a*(u*g-c*p));var R=this.rawData;if(!R.fixed&&(R.length<=5&&(R.length=6),R.data.length<R.length)){var F=R.data.length+10,B=new Array(F);Sn.blit(R.data,0,B,0,R.data.length),R.data=B}R.data[5]=t*(i*(c*m-f*g)-n*(l*m-f*d)+a*(l*g-c*d));var L=this.rawData;if(!L.fixed&&(L.length<=6&&(L.length=7),L.data.length<L.length)){var N=L.data.length+10,O=new Array(N);Sn.blit(L.data,0,O,0,L.data.length),L.data=O}L.data[6]=-t*(i*(u*m-f*p)-s*(l*m-f*d)+a*(l*p-u*d));var U=this.rawData;if(!U.fixed&&(U.length<=7&&(U.length=8),U.data.length<U.length)){var z=U.data.length+10,G=new Array(z);Sn.blit(U.data,0,G,0,U.data.length),U.data=G}U.data[7]=t*(i*(u*g-c*p)-s*(l*g-c*d)+n*(l*p-u*d));var X=this.rawData;if(!X.fixed&&(X.length<=8&&(X.length=9),X.data.length<X.length)){var V=X.data.length+10,H=new Array(V);Sn.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[8]=t*(s*(h*m-_*g)-n*(o*m-_*p)+a*(o*g-h*p));var Y=this.rawData;if(!Y.fixed&&(Y.length<=9&&(Y.length=10),Y.data.length<Y.length)){var W=Y.data.length+10,j=new Array(W);Sn.blit(Y.data,0,j,0,Y.data.length),Y.data=j}Y.data[9]=-t*(i*(h*m-_*g)-n*(r*m-_*d)+a*(r*g-h*d));var K=this.rawData;if(!K.fixed&&(K.length<=10&&(K.length=11),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);Sn.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[10]=t*(i*(o*m-_*p)-s*(r*m-_*d)+a*(r*p-o*d));var Z=this.rawData;if(!Z.fixed&&(Z.length<=11&&(Z.length=12),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);Sn.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[11]=-t*(i*(o*g-h*p)-s*(r*g-h*d)+n*(r*p-o*d));var tt=this.rawData;if(!tt.fixed&&(tt.length<=12&&(tt.length=13),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);Sn.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[12]=-t*(s*(h*f-_*c)-n*(o*f-_*u)+a*(o*c-h*u));var st=this.rawData;if(!st.fixed&&(st.length<=13&&(st.length=14),st.data.length<st.length)){var nt=st.data.length+10,at=new Array(nt);Sn.blit(st.data,0,at,0,st.data.length),st.data=at}st.data[13]=t*(i*(h*f-_*c)-n*(r*f-_*l)+a*(r*c-h*l));var rt=this.rawData;if(!rt.fixed&&(rt.length<=14&&(rt.length=15),rt.data.length<rt.length)){var ot=rt.data.length+10,ht=new Array(ot);Sn.blit(rt.data,0,ht,0,rt.data.length),rt.data=ht}rt.data[14]=-t*(i*(o*f-_*u)-s*(r*f-_*l)+a*(r*u-o*l));var _t=this.rawData;if(!_t.fixed&&(_t.length<=15&&(_t.length=16),_t.data.length<_t.length)){var lt=_t.data.length+10,ut=new Array(lt);Sn.blit(_t.data,0,ut,0,_t.data.length),_t.data=ut}_t.data[15]=t*(i*(o*c-h*u)-s*(r*c-h*l)+n*(r*u-o*l))}return e},pointAt:function(t,e,i){null==e&&(e=new Pl(0,0,-1)),null==i&&(i=new Pl(0,-1,0));var s,n=e.subtract(t),a=i.clone();n.normalize(),a.normalize();var r=n.clone();r.scaleBy(a.dotProduct(n)),0<(a=a.subtract(r)).get_length()?a.normalize():a=0!=n.x?new Pl(-n.y,n.x,0):new Pl(1,0,0),(s=a.crossProduct(n)).normalize();var o=this.rawData,h=s.x;if(!o.fixed&&(o.length<=0&&(o.length=1),o.data.length<o.length)){var _=o.data.length+10,l=new Array(_);Sn.blit(o.data,0,l,0,o.data.length),o.data=l}o.data[0]=h;var u=this.rawData,c=s.y;if(!u.fixed&&(u.length<=4&&(u.length=5),u.data.length<u.length)){var f=u.data.length+10,d=new Array(f);Sn.blit(u.data,0,d,0,u.data.length),u.data=d}u.data[4]=c;var p=this.rawData,g=s.z;if(!p.fixed&&(p.length<=8&&(p.length=9),p.data.length<p.length)){var m=p.data.length+10,v=new Array(m);Sn.blit(p.data,0,v,0,p.data.length),p.data=v}p.data[8]=g;var b=this.rawData;if(!b.fixed&&(b.length<=12&&(b.length=13),b.data.length<b.length)){var y=b.data.length+10,w=new Array(y);Sn.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[12]=0;var x=this.rawData,T=a.x;if(!x.fixed&&(x.length<=1&&(x.length=2),x.data.length<x.length)){var S=x.data.length+10,C=new Array(S);Sn.blit(x.data,0,C,0,x.data.length),x.data=C}x.data[1]=T;var E=this.rawData,I=a.y;if(!E.fixed&&(E.length<=5&&(E.length=6),E.data.length<E.length)){var P=E.data.length+10,k=new Array(P);Sn.blit(E.data,0,k,0,E.data.length),E.data=k}E.data[5]=I;var D=this.rawData,A=a.z;if(!D.fixed&&(D.length<=9&&(D.length=10),D.data.length<D.length)){var M=D.data.length+10,R=new Array(M);Sn.blit(D.data,0,R,0,D.data.length),D.data=R}D.data[9]=A;var F=this.rawData;if(!F.fixed&&(F.length<=13&&(F.length=14),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);Sn.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[13]=0;var N=this.rawData,O=n.x;if(!N.fixed&&(N.length<=2&&(N.length=3),N.data.length<N.length)){var U=N.data.length+10,z=new Array(U);Sn.blit(N.data,0,z,0,N.data.length),N.data=z}N.data[2]=O;var G=this.rawData,X=n.y;if(!G.fixed&&(G.length<=6&&(G.length=7),G.data.length<G.length)){var V=G.data.length+10,H=new Array(V);Sn.blit(G.data,0,H,0,G.data.length),G.data=H}G.data[6]=X;var Y=this.rawData,W=n.z;if(!Y.fixed&&(Y.length<=10&&(Y.length=11),Y.data.length<Y.length)){var j=Y.data.length+10,K=new Array(j);Sn.blit(Y.data,0,K,0,Y.data.length),Y.data=K}Y.data[10]=W;var q=this.rawData;if(!q.fixed&&(q.length<=14&&(q.length=15),q.data.length<q.length)){var J=q.data.length+10,Z=new Array(J);Sn.blit(q.data,0,Z,0,q.data.length),q.data=Z}q.data[14]=0;var Q=this.rawData,$=t.x;if(!Q.fixed&&(Q.length<=3&&(Q.length=4),Q.data.length<Q.length)){var tt=Q.data.length+10,et=new Array(tt);Sn.blit(Q.data,0,et,0,Q.data.length),Q.data=et}Q.data[3]=$;var it=this.rawData,st=t.y;if(!it.fixed&&(it.length<=7&&(it.length=8),it.data.length<it.length)){var nt=it.data.length+10,at=new Array(nt);Sn.blit(it.data,0,at,0,it.data.length),it.data=at}it.data[7]=st;var rt=this.rawData,ot=t.z;if(!rt.fixed&&(rt.length<=11&&(rt.length=12),rt.data.length<rt.length)){var ht=rt.data.length+10,_t=new Array(ht);Sn.blit(rt.data,0,_t,0,rt.data.length),rt.data=_t}rt.data[11]=ot;var lt=this.rawData;if(!lt.fixed&&(lt.length<=15&&(lt.length=16),lt.data.length<lt.length)){var ut=lt.data.length+10,ct=new Array(ut);Sn.blit(lt.data,0,ct,0,lt.data.length),lt.data=ct}lt.data[15]=1},prepend:function(t){var e=t.rawData.data[0],i=t.rawData.data[4],s=t.rawData.data[8],n=t.rawData.data[12],a=t.rawData.data[1],r=t.rawData.data[5],o=t.rawData.data[9],h=t.rawData.data[13],_=t.rawData.data[2],l=t.rawData.data[6],u=t.rawData.data[10],c=t.rawData.data[14],f=t.rawData.data[3],d=t.rawData.data[7],p=t.rawData.data[11],g=t.rawData.data[15],m=this.rawData.data[0],v=this.rawData.data[4],b=this.rawData.data[8],y=this.rawData.data[12],w=this.rawData.data[1],x=this.rawData.data[5],T=this.rawData.data[9],S=this.rawData.data[13],C=this.rawData.data[2],E=this.rawData.data[6],I=this.rawData.data[10],P=this.rawData.data[14],k=this.rawData.data[3],D=this.rawData.data[7],A=this.rawData.data[11],M=this.rawData.data[15],R=this.rawData;if(!R.fixed&&(R.length<=0&&(R.length=1),R.data.length<R.length)){var F=R.data.length+10,B=new Array(F);Sn.blit(R.data,0,B,0,R.data.length),R.data=B}R.data[0]=e*m+a*v+_*b+f*y;var L=this.rawData;if(!L.fixed&&(L.length<=1&&(L.length=2),L.data.length<L.length)){var N=L.data.length+10,O=new Array(N);Sn.blit(L.data,0,O,0,L.data.length),L.data=O}L.data[1]=e*w+a*x+_*T+f*S;var U=this.rawData;if(!U.fixed&&(U.length<=2&&(U.length=3),U.data.length<U.length)){var z=U.data.length+10,G=new Array(z);Sn.blit(U.data,0,G,0,U.data.length),U.data=G}U.data[2]=e*C+a*E+_*I+f*P;var X=this.rawData;if(!X.fixed&&(X.length<=3&&(X.length=4),X.data.length<X.length)){var V=X.data.length+10,H=new Array(V);Sn.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[3]=e*k+a*D+_*A+f*M;var Y=this.rawData;if(!Y.fixed&&(Y.length<=4&&(Y.length=5),Y.data.length<Y.length)){var W=Y.data.length+10,j=new Array(W);Sn.blit(Y.data,0,j,0,Y.data.length),Y.data=j}Y.data[4]=i*m+r*v+l*b+d*y;var K=this.rawData;if(!K.fixed&&(K.length<=5&&(K.length=6),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);Sn.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[5]=i*w+r*x+l*T+d*S;var Z=this.rawData;if(!Z.fixed&&(Z.length<=6&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);Sn.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=i*C+r*E+l*I+d*P;var tt=this.rawData;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);Sn.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[7]=i*k+r*D+l*A+d*M;var st=this.rawData;if(!st.fixed&&(st.length<=8&&(st.length=9),st.data.length<st.length)){var nt=st.data.length+10,at=new Array(nt);Sn.blit(st.data,0,at,0,st.data.length),st.data=at}st.data[8]=s*m+o*v+u*b+p*y;var rt=this.rawData;if(!rt.fixed&&(rt.length<=9&&(rt.length=10),rt.data.length<rt.length)){var ot=rt.data.length+10,ht=new Array(ot);Sn.blit(rt.data,0,ht,0,rt.data.length),rt.data=ht}rt.data[9]=s*w+o*x+u*T+p*S;var _t=this.rawData;if(!_t.fixed&&(_t.length<=10&&(_t.length=11),_t.data.length<_t.length)){var lt=_t.data.length+10,ut=new Array(lt);Sn.blit(_t.data,0,ut,0,_t.data.length),_t.data=ut}_t.data[10]=s*C+o*E+u*I+p*P;var ct=this.rawData;if(!ct.fixed&&(ct.length<=11&&(ct.length=12),ct.data.length<ct.length)){var ft=ct.data.length+10,dt=new Array(ft);Sn.blit(ct.data,0,dt,0,ct.data.length),ct.data=dt}ct.data[11]=s*k+o*D+u*A+p*M;var pt=this.rawData;if(!pt.fixed&&(pt.length<=12&&(pt.length=13),pt.data.length<pt.length)){var gt=pt.data.length+10,mt=new Array(gt);Sn.blit(pt.data,0,mt,0,pt.data.length),pt.data=mt}pt.data[12]=n*m+h*v+c*b+g*y;var vt=this.rawData;if(!vt.fixed&&(vt.length<=13&&(vt.length=14),vt.data.length<vt.length)){var bt=vt.data.length+10,yt=new Array(bt);Sn.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=n*w+h*x+c*T+g*S;var wt=this.rawData;if(!wt.fixed&&(wt.length<=14&&(wt.length=15),wt.data.length<wt.length)){var xt=wt.data.length+10,Tt=new Array(xt);Sn.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=n*C+h*E+c*I+g*P;var St=this.rawData;if(!St.fixed&&(St.length<=15&&(St.length=16),St.data.length<St.length)){var Ct=St.data.length+10,Et=new Array(Ct);Sn.blit(St.data,0,Et,0,St.data.length),St.data=Et}St.data[15]=n*k+h*D+c*A+g*M},prependRotation:function(t,e,i){var s=Sl.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var n=i;s.appendTranslation(n.x,n.y,n.z)}this.prepend(s)},prependScale:function(t,e,i){var s=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],n=new Le;n.length=s.length,n.fixed=!0,n.data=s.slice(0),this.prepend(new Sl(n))},prependTranslation:function(t,e,i){var s=new Sl;s.set_position(new Pl(t,e,i)),this.prepend(s)},recompose:function(t,e){if(t.length<3||0==t.data[2].x||0==t.data[2].y||0==t.data[2].z)return!1;null==e&&(e=1),this.identity();var i=[];if(i[0]=i[1]=i[2]=t.data[2].x,i[4]=i[5]=i[6]=t.data[2].y,i[8]=i[9]=i[10]=t.data[2].z,null==e){var s=t.data[1].x,n=t.data[1].y,a=t.data[1].z,r=t.data[1].w;mi.enumEq(e,0)&&(s*=Math.sin(r/2),n*=Math.sin(r/2),a*=Math.sin(r/2),r=Math.cos(r/2));var o=this.rawData;if(!o.fixed&&(o.length<=0&&(o.length=1),o.data.length<o.length)){var h=o.data.length+10,_=new Array(h);Sn.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[0]=(1-2*n*n-2*a*a)*i[0];var l=this.rawData;if(!l.fixed&&(l.length<=1&&(l.length=2),l.data.length<l.length)){var u=l.data.length+10,c=new Array(u);Sn.blit(l.data,0,c,0,l.data.length),l.data=c}l.data[1]=(2*s*n+2*r*a)*i[1];var f=this.rawData;if(!f.fixed&&(f.length<=2&&(f.length=3),f.data.length<f.length)){var d=f.data.length+10,p=new Array(d);Sn.blit(f.data,0,p,0,f.data.length),f.data=p}f.data[2]=(2*s*a-2*r*n)*i[2];var g=this.rawData;if(!g.fixed&&(g.length<=3&&(g.length=4),g.data.length<g.length)){var m=g.data.length+10,v=new Array(m);Sn.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[3]=0;var b=this.rawData;if(!b.fixed&&(b.length<=4&&(b.length=5),b.data.length<b.length)){var y=b.data.length+10,w=new Array(y);Sn.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[4]=(2*s*n-2*r*a)*i[4];var x=this.rawData;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var T=x.data.length+10,S=new Array(T);Sn.blit(x.data,0,S,0,x.data.length),x.data=S}x.data[5]=(1-2*s*s-2*a*a)*i[5];var C=this.rawData;if(!C.fixed&&(C.length<=6&&(C.length=7),C.data.length<C.length)){var E=C.data.length+10,I=new Array(E);Sn.blit(C.data,0,I,0,C.data.length),C.data=I}C.data[6]=(2*n*a+2*r*s)*i[6];var P=this.rawData;if(!P.fixed&&(P.length<=7&&(P.length=8),P.data.length<P.length)){var k=P.data.length+10,D=new Array(k);Sn.blit(P.data,0,D,0,P.data.length),P.data=D}P.data[7]=0;var A=this.rawData;if(!A.fixed&&(A.length<=8&&(A.length=9),A.data.length<A.length)){var M=A.data.length+10,R=new Array(M);Sn.blit(A.data,0,R,0,A.data.length),A.data=R}A.data[8]=(2*s*a+2*r*n)*i[8];var F=this.rawData;if(!F.fixed&&(F.length<=9&&(F.length=10),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);Sn.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[9]=(2*n*a-2*r*s)*i[9];var N=this.rawData;if(!N.fixed&&(N.length<=10&&(N.length=11),N.data.length<N.length)){var O=N.data.length+10,U=new Array(O);Sn.blit(N.data,0,U,0,N.data.length),N.data=U}N.data[10]=(1-2*s*s-2*n*n)*i[10];var z=this.rawData;if(!z.fixed&&(z.length<=11&&(z.length=12),z.data.length<z.length)){var G=z.data.length+10,X=new Array(G);Sn.blit(z.data,0,X,0,z.data.length),z.data=X}z.data[11]=0;var V=this.rawData,H=t.data[0].x;if(!V.fixed&&(V.length<=12&&(V.length=13),V.data.length<V.length)){var Y=V.data.length+10,W=new Array(Y);Sn.blit(V.data,0,W,0,V.data.length),V.data=W}V.data[12]=H;var j=this.rawData,K=t.data[0].y;if(!j.fixed&&(j.length<=13&&(j.length=14),j.data.length<j.length)){var q=j.data.length+10,J=new Array(q);Sn.blit(j.data,0,J,0,j.data.length),j.data=J}j.data[13]=K;var Z=this.rawData,Q=t.data[0].z;if(!Z.fixed&&(Z.length<=14&&(Z.length=15),Z.data.length<Z.length)){var $=Z.data.length+10,tt=new Array($);Sn.blit(Z.data,0,tt,0,Z.data.length),Z.data=tt}Z.data[14]=Q;var et=this.rawData;if(!et.fixed&&(et.length<=15&&(et.length=16),et.data.length<et.length)){var it=et.data.length+10,st=new Array(it);Sn.blit(et.data,0,st,0,et.data.length),et.data=st}et.data[15]=1}else if(1==e){var nt=Math.cos(t.data[1].x),at=Math.cos(t.data[1].y),rt=Math.cos(t.data[1].z),ot=Math.sin(t.data[1].x),ht=Math.sin(t.data[1].y),_t=Math.sin(t.data[1].z),lt=this.rawData;if(!lt.fixed&&(lt.length<=0&&(lt.length=1),lt.data.length<lt.length)){var ut=lt.data.length+10,ct=new Array(ut);Sn.blit(lt.data,0,ct,0,lt.data.length),lt.data=ct}lt.data[0]=at*rt*i[0];var ft=this.rawData;if(!ft.fixed&&(ft.length<=1&&(ft.length=2),ft.data.length<ft.length)){var dt=ft.data.length+10,pt=new Array(dt);Sn.blit(ft.data,0,pt,0,ft.data.length),ft.data=pt}ft.data[1]=at*_t*i[1];var gt=this.rawData;if(!gt.fixed&&(gt.length<=2&&(gt.length=3),gt.data.length<gt.length)){var mt=gt.data.length+10,vt=new Array(mt);Sn.blit(gt.data,0,vt,0,gt.data.length),gt.data=vt}gt.data[2]=-ht*i[2];var bt=this.rawData;if(!bt.fixed&&(bt.length<=3&&(bt.length=4),bt.data.length<bt.length)){var yt=bt.data.length+10,wt=new Array(yt);Sn.blit(bt.data,0,wt,0,bt.data.length),bt.data=wt}bt.data[3]=0;var xt=this.rawData;if(!xt.fixed&&(xt.length<=4&&(xt.length=5),xt.data.length<xt.length)){var Tt=xt.data.length+10,St=new Array(Tt);Sn.blit(xt.data,0,St,0,xt.data.length),xt.data=St}xt.data[4]=(ot*ht*rt-nt*_t)*i[4];var Ct=this.rawData;if(!Ct.fixed&&(Ct.length<=5&&(Ct.length=6),Ct.data.length<Ct.length)){var Et=Ct.data.length+10,It=new Array(Et);Sn.blit(Ct.data,0,It,0,Ct.data.length),Ct.data=It}Ct.data[5]=(ot*ht*_t+nt*rt)*i[5];var Pt=this.rawData;if(!Pt.fixed&&(Pt.length<=6&&(Pt.length=7),Pt.data.length<Pt.length)){var kt=Pt.data.length+10,Dt=new Array(kt);Sn.blit(Pt.data,0,Dt,0,Pt.data.length),Pt.data=Dt}Pt.data[6]=ot*at*i[6];var At=this.rawData;if(!At.fixed&&(At.length<=7&&(At.length=8),At.data.length<At.length)){var Mt=At.data.length+10,Rt=new Array(Mt);Sn.blit(At.data,0,Rt,0,At.data.length),At.data=Rt}At.data[7]=0;var Ft=this.rawData;if(!Ft.fixed&&(Ft.length<=8&&(Ft.length=9),Ft.data.length<Ft.length)){var Bt=Ft.data.length+10,Lt=new Array(Bt);Sn.blit(Ft.data,0,Lt,0,Ft.data.length),Ft.data=Lt}Ft.data[8]=(nt*ht*rt+ot*_t)*i[8];var Nt=this.rawData;if(!Nt.fixed&&(Nt.length<=9&&(Nt.length=10),Nt.data.length<Nt.length)){var Ot=Nt.data.length+10,Ut=new Array(Ot);Sn.blit(Nt.data,0,Ut,0,Nt.data.length),Nt.data=Ut}Nt.data[9]=(nt*ht*_t-ot*rt)*i[9];var zt=this.rawData;if(!zt.fixed&&(zt.length<=10&&(zt.length=11),zt.data.length<zt.length)){var Gt=zt.data.length+10,Xt=new Array(Gt);Sn.blit(zt.data,0,Xt,0,zt.data.length),zt.data=Xt}zt.data[10]=nt*at*i[10];var Vt=this.rawData;if(!Vt.fixed&&(Vt.length<=11&&(Vt.length=12),Vt.data.length<Vt.length)){var Ht=Vt.data.length+10,Yt=new Array(Ht);Sn.blit(Vt.data,0,Yt,0,Vt.data.length),Vt.data=Yt}Vt.data[11]=0;var Wt=this.rawData,jt=t.data[0].x;if(!Wt.fixed&&(Wt.length<=12&&(Wt.length=13),Wt.data.length<Wt.length)){var Kt=Wt.data.length+10,qt=new Array(Kt);Sn.blit(Wt.data,0,qt,0,Wt.data.length),Wt.data=qt}Wt.data[12]=jt;var Jt=this.rawData,Zt=t.data[0].y;if(!Jt.fixed&&(Jt.length<=13&&(Jt.length=14),Jt.data.length<Jt.length)){var Qt=Jt.data.length+10,$t=new Array(Qt);Sn.blit(Jt.data,0,$t,0,Jt.data.length),Jt.data=$t}Jt.data[13]=Zt;var te=this.rawData,ee=t.data[0].z;if(!te.fixed&&(te.length<=14&&(te.length=15),te.data.length<te.length)){var ie=te.data.length+10,se=new Array(ie);Sn.blit(te.data,0,se,0,te.data.length),te.data=se}te.data[14]=ee;var ne=this.rawData;if(!ne.fixed&&(ne.length<=15&&(ne.length=16),ne.data.length<ne.length)){var ae=ne.data.length+10,re=new Array(ae);Sn.blit(ne.data,0,re,0,ne.data.length),ne.data=re}ne.data[15]=1}else{var oe=t.data[1].x,he=t.data[1].y,_e=t.data[1].z,le=t.data[1].w;mi.enumEq(e,0)&&(oe*=Math.sin(le/2),he*=Math.sin(le/2),_e*=Math.sin(le/2),le=Math.cos(le/2));var ue=this.rawData;if(!ue.fixed&&(ue.length<=0&&(ue.length=1),ue.data.length<ue.length)){var ce=ue.data.length+10,fe=new Array(ce);Sn.blit(ue.data,0,fe,0,ue.data.length),ue.data=fe}ue.data[0]=(1-2*he*he-2*_e*_e)*i[0];var de=this.rawData;if(!de.fixed&&(de.length<=1&&(de.length=2),de.data.length<de.length)){var pe=de.data.length+10,ge=new Array(pe);Sn.blit(de.data,0,ge,0,de.data.length),de.data=ge}de.data[1]=(2*oe*he+2*le*_e)*i[1];var me=this.rawData;if(!me.fixed&&(me.length<=2&&(me.length=3),me.data.length<me.length)){var ve=me.data.length+10,be=new Array(ve);Sn.blit(me.data,0,be,0,me.data.length),me.data=be}me.data[2]=(2*oe*_e-2*le*he)*i[2];var ye=this.rawData;if(!ye.fixed&&(ye.length<=3&&(ye.length=4),ye.data.length<ye.length)){var we=ye.data.length+10,xe=new Array(we);Sn.blit(ye.data,0,xe,0,ye.data.length),ye.data=xe}ye.data[3]=0;var Te=this.rawData;if(!Te.fixed&&(Te.length<=4&&(Te.length=5),Te.data.length<Te.length)){var Se=Te.data.length+10,Ce=new Array(Se);Sn.blit(Te.data,0,Ce,0,Te.data.length),Te.data=Ce}Te.data[4]=(2*oe*he-2*le*_e)*i[4];var Ee=this.rawData;if(!Ee.fixed&&(Ee.length<=5&&(Ee.length=6),Ee.data.length<Ee.length)){var Ie=Ee.data.length+10,Pe=new Array(Ie);Sn.blit(Ee.data,0,Pe,0,Ee.data.length),Ee.data=Pe}Ee.data[5]=(1-2*oe*oe-2*_e*_e)*i[5];var ke=this.rawData;if(!ke.fixed&&(ke.length<=6&&(ke.length=7),ke.data.length<ke.length)){var De=ke.data.length+10,Ae=new Array(De);Sn.blit(ke.data,0,Ae,0,ke.data.length),ke.data=Ae}ke.data[6]=(2*he*_e+2*le*oe)*i[6];var Me=this.rawData;if(!Me.fixed&&(Me.length<=7&&(Me.length=8),Me.data.length<Me.length)){var Re=Me.data.length+10,Fe=new Array(Re);Sn.blit(Me.data,0,Fe,0,Me.data.length),Me.data=Fe}Me.data[7]=0;var Be=this.rawData;if(!Be.fixed&&(Be.length<=8&&(Be.length=9),Be.data.length<Be.length)){var Le=Be.data.length+10,Ne=new Array(Le);Sn.blit(Be.data,0,Ne,0,Be.data.length),Be.data=Ne}Be.data[8]=(2*oe*_e+2*le*he)*i[8];var Oe=this.rawData;if(!Oe.fixed&&(Oe.length<=9&&(Oe.length=10),Oe.data.length<Oe.length)){var Ue=Oe.data.length+10,ze=new Array(Ue);Sn.blit(Oe.data,0,ze,0,Oe.data.length),Oe.data=ze}Oe.data[9]=(2*he*_e-2*le*oe)*i[9];var Ge=this.rawData;if(!Ge.fixed&&(Ge.length<=10&&(Ge.length=11),Ge.data.length<Ge.length)){var Xe=Ge.data.length+10,Ve=new Array(Xe);Sn.blit(Ge.data,0,Ve,0,Ge.data.length),Ge.data=Ve}Ge.data[10]=(1-2*oe*oe-2*he*he)*i[10];var He=this.rawData;if(!He.fixed&&(He.length<=11&&(He.length=12),He.data.length<He.length)){var Ye=He.data.length+10,We=new Array(Ye);Sn.blit(He.data,0,We,0,He.data.length),He.data=We}He.data[11]=0;var je=this.rawData,Ke=t.data[0].x;if(!je.fixed&&(je.length<=12&&(je.length=13),je.data.length<je.length)){var qe=je.data.length+10,Je=new Array(qe);Sn.blit(je.data,0,Je,0,je.data.length),je.data=Je}je.data[12]=Ke;var Ze=this.rawData,Qe=t.data[0].y;if(!Ze.fixed&&(Ze.length<=13&&(Ze.length=14),Ze.data.length<Ze.length)){var $e=Ze.data.length+10,ti=new Array($e);Sn.blit(Ze.data,0,ti,0,Ze.data.length),Ze.data=ti}Ze.data[13]=Qe;var ei=this.rawData,ii=t.data[0].z;if(!ei.fixed&&(ei.length<=14&&(ei.length=15),ei.data.length<ei.length)){var si=ei.data.length+10,ni=new Array(si);Sn.blit(ei.data,0,ni,0,ei.data.length),ei.data=ni}ei.data[14]=ii;var ai=this.rawData;if(!ai.fixed&&(ai.length<=15&&(ai.length=16),ai.data.length<ai.length)){var ri=ai.data.length+10,oi=new Array(ri);Sn.blit(ai.data,0,oi,0,ai.data.length),ai.data=oi}ai.data[15]=1}if(0==t.data[2].x){var hi=this.rawData;if(!hi.fixed&&(hi.length<=0&&(hi.length=1),hi.data.length<hi.length)){var _i=hi.data.length+10,li=new Array(_i);Sn.blit(hi.data,0,li,0,hi.data.length),hi.data=li}hi.data[0]=1e-15}if(0==t.data[2].y){var ui=this.rawData;if(!ui.fixed&&(ui.length<=5&&(ui.length=6),ui.data.length<ui.length)){var ci=ui.data.length+10,fi=new Array(ci);Sn.blit(ui.data,0,fi,0,ui.data.length),ui.data=fi}ui.data[5]=1e-15}if(0==t.data[2].z){var di=this.rawData;if(!di.fixed&&(di.length<=10&&(di.length=11),di.data.length<di.length)){var pi=di.data.length+10,gi=new Array(pi);Sn.blit(di.data,0,gi,0,di.data.length),di.data=gi}di.data[10]=1e-15}return!(0==t.data[2].x||0==t.data[2].y||0==t.data[2].y)},transformVector:function(t){var e=t.x,i=t.y,s=t.z;return new Pl(e*this.rawData.data[0]+i*this.rawData.data[4]+s*this.rawData.data[8]+this.rawData.data[12],e*this.rawData.data[1]+i*this.rawData.data[5]+s*this.rawData.data[9]+this.rawData.data[13],e*this.rawData.data[2]+i*this.rawData.data[6]+s*this.rawData.data[10]+this.rawData.data[14],e*this.rawData.data[3]+i*this.rawData.data[7]+s*this.rawData.data[11]+this.rawData.data[15])},transformVectors:function(t,e){for(var i,s,n,a=0;a+3<=t.length;){i=t.data[a],s=t.data[a+1],n=t.data[a+2];var r=i*this.rawData.data[0]+s*this.rawData.data[4]+n*this.rawData.data[8]+this.rawData.data[12];if(!e.fixed&&(a>=e.length&&(e.length=a+1),e.data.length<e.length)){var o=e.data.length+10,h=new Array(o);Sn.blit(e.data,0,h,0,e.data.length),e.data=h}e.data[a]=r;var _=a+1,l=i*this.rawData.data[1]+s*this.rawData.data[5]+n*this.rawData.data[9]+this.rawData.data[13];if(!e.fixed&&(_>=e.length&&(e.length=_+1),e.data.length<e.length)){var u=e.data.length+10,c=new Array(u);Sn.blit(e.data,0,c,0,e.data.length),e.data=c}e.data[_]=l;var f=a+2,d=i*this.rawData.data[2]+s*this.rawData.data[6]+n*this.rawData.data[10]+this.rawData.data[14];if(!e.fixed&&(f>=e.length&&(e.length=f+1),e.data.length<e.length)){var p=e.data.length+10,g=new Array(p);Sn.blit(e.data,0,g,0,e.data.length),e.data=g}e.data[f]=d,a+=3}},transpose:function(){var t=this.rawData,e=new Le;e.length=t.length,e.fixed=t.fixed;var i=t.length,s=new Array(i);e.data=s,Sn.blit(t.data,0,e.data,0,t.length);var n=e,a=this.rawData,r=n.data[4];if(!a.fixed&&(a.length<=1&&(a.length=2),a.data.length<a.length)){var o=a.data.length+10,h=new Array(o);Sn.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[1]=r;var _=this.rawData,l=n.data[8];if(!_.fixed&&(_.length<=2&&(_.length=3),_.data.length<_.length)){var u=_.data.length+10,c=new Array(u);Sn.blit(_.data,0,c,0,_.data.length),_.data=c}_.data[2]=l;var f=this.rawData,d=n.data[12];if(!f.fixed&&(f.length<=3&&(f.length=4),f.data.length<f.length)){var p=f.data.length+10,g=new Array(p);Sn.blit(f.data,0,g,0,f.data.length),f.data=g}f.data[3]=d;var m=this.rawData,v=n.data[1];if(!m.fixed&&(m.length<=4&&(m.length=5),m.data.length<m.length)){var b=m.data.length+10,y=new Array(b);Sn.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[4]=v;var w=this.rawData,x=n.data[9];if(!w.fixed&&(w.length<=6&&(w.length=7),w.data.length<w.length)){var T=w.data.length+10,S=new Array(T);Sn.blit(w.data,0,S,0,w.data.length),w.data=S}w.data[6]=x;var C=this.rawData,E=n.data[13];if(!C.fixed&&(C.length<=7&&(C.length=8),C.data.length<C.length)){var I=C.data.length+10,P=new Array(I);Sn.blit(C.data,0,P,0,C.data.length),C.data=P}C.data[7]=E;var k=this.rawData,D=n.data[2];if(!k.fixed&&(k.length<=8&&(k.length=9),k.data.length<k.length)){var A=k.data.length+10,M=new Array(A);Sn.blit(k.data,0,M,0,k.data.length),k.data=M}k.data[8]=D;var R=this.rawData,F=n.data[6];if(!R.fixed&&(R.length<=9&&(R.length=10),R.data.length<R.length)){var B=R.data.length+10,L=new Array(B);Sn.blit(R.data,0,L,0,R.data.length),R.data=L}R.data[9]=F;var N=this.rawData,O=n.data[14];if(!N.fixed&&(N.length<=11&&(N.length=12),N.data.length<N.length)){var U=N.data.length+10,z=new Array(U);Sn.blit(N.data,0,z,0,N.data.length),N.data=z}N.data[11]=O;var G=this.rawData,X=n.data[3];if(!G.fixed&&(G.length<=12&&(G.length=13),G.data.length<G.length)){var V=G.data.length+10,H=new Array(V);Sn.blit(G.data,0,H,0,G.data.length),G.data=H}G.data[12]=X;var Y=this.rawData,W=n.data[7];if(!Y.fixed&&(Y.length<=13&&(Y.length=14),Y.data.length<Y.length)){var j=Y.data.length+10,K=new Array(j);Sn.blit(Y.data,0,K,0,Y.data.length),Y.data=K}Y.data[13]=W;var q=this.rawData,J=n.data[11];if(!q.fixed&&(q.length<=14&&(q.length=15),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);Sn.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[14]=J},get_determinant:function(){return(this.rawData.data[0]*this.rawData.data[5]-this.rawData.data[4]*this.rawData.data[1])*(this.rawData.data[10]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[11])-(this.rawData.data[0]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[7])+(this.rawData.data[0]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[7])+(this.rawData.data[4]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[3])-(this.rawData.data[4]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[3])+(this.rawData.data[8]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[9])*(this.rawData.data[2]*this.rawData.data[7]-this.rawData.data[6]*this.rawData.data[3])},get_position:function(){return new Pl(this.rawData.data[12],this.rawData.data[13],this.rawData.data[14])},set_position:function(t){var e=this.rawData,i=t.x;if(!e.fixed&&(e.length<=12&&(e.length=13),e.data.length<e.length)){var s=e.data.length+10,n=new Array(s);Sn.blit(e.data,0,n,0,e.data.length),e.data=n}e.data[12]=i;var a=this.rawData,r=t.y;if(!a.fixed&&(a.length<=13&&(a.length=14),a.data.length<a.length)){var o=a.data.length+10,h=new Array(o);Sn.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[13]=r;var _=this.rawData,l=t.z;if(!_.fixed&&(_.length<=14&&(_.length=15),_.data.length<_.length)){var u=_.data.length+10,c=new Array(u);Sn.blit(_.data,0,c,0,_.data.length),_.data=c}return _.data[14]=l,t},__class__:Sl,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var Cl={};(i["openfl.geom._Orientation3D.Orientation3D_Impl_"]=Cl).__name__=["openfl","geom","_Orientation3D","Orientation3D_Impl_"],Cl.fromString=function(t){switch(t){case"axisAngle":return 0;case"eulerAngles":return 1;case"quaternion":return 2;default:return null}},Cl.toString=function(t){switch(t){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};var El=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.__uid=at.SEQ<<24|++at.UID,this.x=t,this.y=e,this.width=i,this.height=s};(i["openfl.geom.Rectangle"]=El).__name__=["openfl","geom","Rectangle"],El.__interfaces__=[nt],El.prototype={clone:function(){return new El(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,i=this.get_right()>t.get_right()?t.get_right():this.get_right();if(i<=e)return new El;var s=this.y<t.y?t.y:this.y,n=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return n<=s?new El:new El(e,s,i-e,n-s)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(this.y<t.y?t.y:this.y)<(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,i=this.get_right()<t.get_right()?t.get_right():this.get_right(),s=this.y>t.y?t.y:this.y,n=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new El(e,s,i-e,n-s)},__contract:function(t,e,i,s){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+s&&(this.height=e+s-this.y))},__expand:function(t,e,i,s){if(0!=i||0!=s){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=s);var n=this.get_right(),a=this.get_bottom();this.x>t&&(this.x=t,this.width=n-t),this.y>e&&(this.y=e,this.height=a-e),n<t+i&&(this.width=t+i-this.x),a<e+s&&(this.height=e+s-this.y)}},__toLimeRectangle:function(){return new ur(this.x,this.y,this.width,this.height)},transform:function(t,e){var i=e.a*this.x+e.c*this.y,s=i,n=e.b*this.x+e.d*this.y,a=n,r=e.a*(this.x+this.width)+e.c*this.y,o=e.b*(this.x+this.width)+e.d*this.y;r<i&&(i=r),o<n&&(n=o),s<r&&(s=r),a<o&&(a=o),(r=e.a*(this.x+this.width)+e.c*(this.y+this.height))<i&&(i=r),(o=e.b*(this.x+this.width)+e.d*(this.y+this.height))<n&&(n=o),s<r&&(s=r),a<o&&(a=o),(r=e.a*this.x+e.c*(this.y+this.height))<i&&(i=r),(o=e.b*this.x+e.d*(this.y+this.height))<n&&(n=o),s<r&&(s=r),a<o&&(a=o),t.setTo(i+e.tx,n+e.ty,s-i,a-n)},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new _o(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new _o(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new _o(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},getCLID:function(){return El.__clid},serialize:function(t){t.out.addInt32(Dn.floatToI32(this.height)),t.out.addInt32(Dn.floatToI32(this.width)),t.out.addInt32(Dn.floatToI32(this.x)),t.out.addInt32(Dn.floatToI32(this.y))},getSerializeSchema:function(){var t=new Hn;return t.fieldsNames.push("height"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("width"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("x"),t.fieldsTypes.push(Xn.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(Xn.PFloat),t.isFinal=at.isClassFinal(El.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.height=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.width=i;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.x=s;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.y=n},__class__:El,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Il=function(t){this.concatenatedColorTransform=new oo,this.pixelBounds=new El,this.__displayObject=t,this.__hasMatrix=!0};(i["openfl.geom.Transform"]=Il).__name__=["openfl","geom","Transform"],Il.prototype={reset:function(t){this.concatenatedColorTransform.reset(),this.pixelBounds.setEmpty(),this.__displayObject=t,this.__hasMatrix=!0},get_colorTransform:function(){return this.__displayObject.__colorTransform},set_colorTransform:function(t){if(!this.__displayObject.__colorTransform.__equals(t)){this.__displayObject.__colorTransform.copyFrom(t);var e=this.__displayObject;e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,W.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0)}return t},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},getMatrixNoClone:function(){return this.__hasMatrix?this.__displayObject.__transform:null},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},set_matrix:function(t){if(null==t)return this.__hasMatrix=!1,null;if(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.d,t.c)-90;if(e!=this.__displayObject.__rotation){var i=(this.__displayObject.__rotation=e)*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.copyFrom(t);var s=this.__displayObject;s.__transformDirty||(s.__transformDirty=!0,s.__isMask&&(s.__maskCached=!1),s.__renderDirty||(s.__renderDirty=!0,W.__worldRenderDirty++,null!=s.__cachedParent&&s.__cachedParent.__setRenderDirty()),s.__updateDirty||null==s.stage||s==s.stage||(s.__updateDirty=!0),W.__worldTransformDirty++)}return t},get_matrix3D:function(){if(this.__hasMatrix3D){var t=this.__displayObject.__transform,e=[t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1],i=new Le;return i.length=e.length,i.fixed=!0,i.data=e.slice(0),new Sl(i)}return null},set_matrix3D:function(t){if(null==t)return this.__hasMatrix3D=!1,null;if(this.__hasMatrix=!1,this.__hasMatrix3D=!0,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.rawData.data[5],t.rawData.data[4])-90;if(e!=this.__displayObject.__rotation){var i=(this.__displayObject.__rotation=e)*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.a=t.rawData.data[0],this.__displayObject.__transform.b=t.rawData.data[1],this.__displayObject.__transform.c=t.rawData.data[5],this.__displayObject.__transform.d=t.rawData.data[6],this.__displayObject.__transform.tx=t.rawData.data[12],this.__displayObject.__transform.ty=t.rawData.data[13];var s=this.__displayObject;s.__transformDirty||(s.__transformDirty=!0,s.__isMask&&(s.__maskCached=!1),s.__renderDirty||(s.__renderDirty=!0,W.__worldRenderDirty++,null!=s.__cachedParent&&s.__cachedParent.__setRenderDirty()),s.__updateDirty||null==s.stage||s==s.stage||(s.__updateDirty=!0),W.__worldTransformDirty++)}return t},__class__:Il,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var Pl=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=s,this.x=t,this.y=e,this.z=i};(i["openfl.geom.Vector3D"]=Pl).__name__=["openfl","geom","Vector3D"],Pl.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},Pl.X_AXIS=null,Pl.Y_AXIS=null,Pl.Z_AXIS=null,Pl.angleBetween=function(t,e){var i=t.get_length(),s=e.get_length(),n=t.dotProduct(e);return 0!=i&&(n/=i),0!=s&&(n/=s),Math.acos(n)},Pl.distance=function(t,e){var i=e.x-t.x,s=e.y-t.y,n=e.z-t.z;return Math.sqrt(i*i+s*s+n*n)},Pl.get_X_AXIS=function(){return new Pl(1,0,0)},Pl.get_Y_AXIS=function(){return new Pl(0,1,0)},Pl.get_Z_AXIS=function(){return new Pl(0,0,1)},Pl.prototype={add:function(t){return new Pl(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new Pl(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new Pl(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=this.get_length();return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new Pl(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Pl,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};function kl(){}(i["openfl.media.ID3Info"]=kl).__name__=["openfl","media","ID3Info"],kl.prototype={__class__:kl};var Dl=function(t,e){this.itHasSoundSprite=!1,v.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.id3=null,this.isBuffering=!1,(this.url=null)!=t&&this.load(t,e)};(i["openfl.media.Sound"]=Dl).__name__=["openfl","media","Sound"],Dl.fromAudioBuffer=function(t){var e=new Dl;return e.__buffer=t,e},Dl.fromFile=function(t){return Dl.fromAudioBuffer(Ba.fromFile(t))},Dl.__super__=v,Dl.prototype=s(v.prototype,{close:function(){null!=this.__sound&&this.__sound.unload()},load:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=5),this.soundName=t.url;var n=this.soundName,a=Dl.__registeredSounds;if(null!=Kf[n]?a.existsReserved(n):a.h.hasOwnProperty(n)){var r=this.soundName,o=Dl.__registeredSounds;this.__sound=null!=Kf[r]?o.getReserved(r):o.h[r]}else if(!s)throw new qn("All sounds should have been registered in preloader!");var h=aa.getLogicalPath(this.soundName),_=aa.getExtraSoundOptions(h),l=null;if(null!=_&&null!=_.start&&null!=_.duration&&(this.itHasSoundSprite=!0),null==this.__sound){l=this.itHasSoundSprite?{src:this.soundName,sprite:{clip:[_.start,_.duration]},onload:Gf(this,this.howler_onFileLoad),onloaderror:Gf(this,this.howler_onFileError),pool:i}:{src:this.soundName,onload:Gf(this,this.howler_onFileLoad),onloaderror:Gf(this,this.howler_onFileError),pool:i},this.__sound=new Howl(l),this.__sound.volume(0);var u=this.soundName,c=this.__sound,f=Dl.__registeredSounds;null!=Kf[u]?f.setReserved(u,c):f.h[u]=c}},loadCompressedDataFromByteArray:function(t,e,i){null==i&&(i=!1),lo.notImplemented("Sound.loadCompressedDataFromByteArray")},loadPCMFromByteArray:function(t,e,i,s,n){null==n&&(n=44100),null==s&&(s=!0),lo.notImplemented("Sound.loadPCMFromByteArray")},play:function(t,e,i){if(null==e&&(e=0),null==t&&(t=0),null==i&&(i=new Rl(1,0)),0!=i.pan)throw new qn(":TODO: use spatial plugin");var s=-1;return s=this.itHasSoundSprite?this.__sound.play("clip"):this.__sound.play(),this.__sound.volume(i.volume,s),this.__sound.loop(1<e,s),0!=t&&this.__sound.seek(t/1e3,s),Al.__create(this,s,e)},prePlayHTML5:function(t,e,i){return null==e&&(e=0),null==t&&(t=0),this.__sound._webAudio?null:this.play(t,e,i)},stop:function(t){this.__sound.stop(t)},dispose:function(t){this.__sound.off("end",null,t),this.__sound.off("stop",null,t)},get_id3:function(){return new kl},get_length:function(){return null!=this.__sound?this.__sound.duration():0},AudioBuffer_onURLLoad:function(t){null==t?this.dispatchEvent(new U_("ioError")):(this.__buffer=t,this.dispatchEvent(Ne.__create("complete")))},howler_onFileLoad:function(){this.dispatchEvent(Ne.__create("complete"))},howler_onFileError:function(){this.dispatchEvent(new U_("ioError"))},__class__:Dl,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var Al=function(){v.call(this,this),this.leftPeak=1,this.rightPeak=1};(i["openfl.media.SoundChannel"]=Al).__name__=["openfl","media","SoundChannel"],Al.__create=function(t,e,i){var s=Al.pool.get();return null!=t&&(s.__soundId=e,s.__numberOfLoopsRemaining=i,s.__looping=1<i,s.__sound=t,s.__sound.__sound.on("stop",Gf(s,s.soundInstance_onComplete),s.__soundId),s.__sound.__sound.on("end",Gf(s,s.soundInstance_onEnd),s.__soundId),s.__isValid=!0),s},Al.__super__=v,Al.prototype=s(v.prototype,{stop:function(){this.__isValid&&this.__sound.stop(this.__soundId)},__dispose:function(){this.__isValid&&(this.__sound.dispose(this.__soundId),Al.pool.put(this),this.__isValid=!1)},get_position:function(){return this.__isValid?this.__sound.__sound.seek():0},set_position:function(t){return this.__isValid?(this.__sound.__sound.seek(0|t),this.__sound.__sound.seek()):0},get_soundTransform:function(){return this.__isValid?new Rl(this.__sound.__sound.volume(),0):new Rl},set_soundTransform:function(t){return this.__isValid&&this.__sound.__sound.volume(t.volume),t},soundInstance_onComplete:function(){this.__dispose(),this.dispatchEvent(Ne.__create("soundComplete"))},soundInstance_onEnd:function(){this.__numberOfLoopsRemaining--,this.__numberOfLoopsRemaining<=0&&this.__looping&&this.__sound.stop(this.__soundId)},__class__:Al,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});function Ml(t,e){null==e&&(e=!1),null==t&&(t=1e3),this.bufferTime=t,this.checkPolicyFile=e}(i["openfl.media.SoundLoaderContext"]=Ml).__name__=["openfl","media","SoundLoaderContext"],Ml.prototype={__class__:Ml};var Rl=function(t,e){null==e&&(e=0),null==t&&(t=1),this.volume=t,this.pan=e,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};(i["openfl.media.SoundTransform"]=Rl).__name__=["openfl","media","SoundTransform"],Rl.prototype={clone:function(){return new Rl(this.volume,this.pan)},__class__:Rl};function Fl(t){v.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.set_dataFormat(1),null!=t&&this.load(t)}(i["openfl.net.URLLoader"]=Fl).__name__=["openfl","net","URLLoader"],Fl.__super__=v,Fl.prototype=s(v.prototype,{close:function(){},getData:function(){return null},load:function(t){this.requestUrl(t.url,t.method,t.data,t.formatRequestHeaders())},registerEvents:function(t){var i=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&t.addEventListener("progress",Gf(this,this.onProgress),!1),t.onreadystatechange=function(){if(4==t.readyState){var e;try{e=t.status}catch(t){cn.lastException=t,e=null}null==e&&(e=null),null!=e&&i.onStatus(e),null!=e&&200<=e&&e<400?i.onData(t.response):null==e?i.onError("Failed to connect or resolve host"):12029==e?i.onError("Failed to connect to host"):12007==e?i.onError("Unknown host"):0==e?(i.onError("Unable to make request (may be blocked due to cross-domain permissions)"),i.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)")):i.onError("Http Error #"+t.status)}}},requestUrl:function(t,e,i,s){var n=new XMLHttpRequest;this.registerEvents(n);var a="";if(Jn.__instanceof(i,nn)){var r=i;a=0==this.dataFormat?Jn.__cast(r,qf):r.readUTFBytes(r.length)}else if(Jn.__instanceof(i,Ul))for(var o=i,h=0,_=Dt.fields(o);h<_.length;){var l=_[h];++h,0!=a.length&&(a+="&");var u=encodeURIComponent(l)+"=",c=Dt.field(o,l);a+=u+encodeURIComponent(c)}else null!=i&&(a=i.toString());try{if("GET"==e&&null!=a&&""!=a){var f=t.split("?").length<=1;n.open(e,t+(f?"?":"&")+O.string(a),!0),a=""}else n.open(e,t,!0)}catch(t){return(cn.lastException=t)instanceof qn&&(t=t.val),void this.onError(t.toString())}0==this.dataFormat&&(n.responseType="arraybuffer");for(var d=0;d<s.length;){var p=s[d];++d,n.setRequestHeader(p.name,p.value)}n.send(a),this.onOpen(),this.getData=function(){return null!=n.response?n.response:n.responseText}},onData:function(t){var e=this.getData(),i=this.dataFormat;this.data=0==i?su.fromArrayBuffer(e):O.string(e);var s=new Ne("complete");(s.currentTarget=this).dispatchEvent(s)},onError:function(t){var e=new U_("ioError");e.text=t,(e.currentTarget=this).dispatchEvent(e)},onOpen:function(){var t=new Ne("open");(t.currentTarget=this).dispatchEvent(t)},onProgress:function(t){var e=new X_("progress");e.currentTarget=this,e.bytesLoaded=t.loaded,e.bytesTotal=t.total,this.dispatchEvent(e)},onSecurityError:function(t){var e=new V_("securityError");e.text=t,(e.currentTarget=this).dispatchEvent(e)},onStatus:function(t){var e=new O_("httpStatus",!1,!1,t);(e.currentTarget=this).dispatchEvent(e)},set_dataFormat:function(t){return 0!=t||Object.prototype.hasOwnProperty.call(window,"ArrayBuffer")?this.dataFormat=t:this.dataFormat=1,this.dataFormat},__class__:Fl,__properties__:{set_dataFormat:"set_dataFormat"}});var Bl={};(i["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=Bl).__name__=["openfl","net","_URLLoaderDataFormat","URLLoaderDataFormat_Impl_"],Bl.fromString=function(t){switch(t){case"binary":return 0;case"text":return 1;case"variables":return 2;default:return null}},Bl.toString=function(t){switch(t){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var Ll=function(t){null!=t&&(this.url=t),this.requestHeaders=[],this.method=Ol.toString(1),this.contentType=null};(i["openfl.net.URLRequest"]=Ll).__name__=["openfl","net","URLRequest"],Ll.prototype={formatRequestHeaders:function(){var t=this.requestHeaders;return null==t&&(t=[]),1==Ol.fromString(this.method)||null==this.data||"string"!=typeof this.data&&!Jn.__instanceof(this.data,nn)||(t=t.slice()).push(new Nl("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded")),t},__class__:Ll};var Nl=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};(i["openfl.net.URLRequestHeader"]=Nl).__name__=["openfl","net","URLRequestHeader"],Nl.prototype={__class__:Nl};var Ol={};(i["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=Ol).__name__=["openfl","net","_URLRequestMethod","URLRequestMethod_Impl_"],Ol.fromString=function(t){switch(t){case"DELETE":return 0;case"GET":return 1;case"HEAD":return 2;case"OPTIONS":return 3;case"POST":return 4;case"PUT":return 5;default:return null}},Ol.toString=function(t){switch(t){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";case 4:return"POST";case 5:return"PUT";default:return null}};var Ul=function(t){null!=t&&this.decode(t)};(i["openfl.net.URLVariables"]=Ul).__name__=["openfl","net","URLVariables"],Ul.prototype={decode:function(t){for(var e=Dt.fields(this),i=0;i<e.length;){var s=e[i];++i,Dt.deleteField(this,s)}for(var n=t.split(";").join("&").split("&"),a=0;a<n.length;){var r=n[a];++a;var o=r.indexOf("=");if(0<o){var h=L.substr(r,0,o),_=decodeURIComponent(h.split("+").join(" ")),l=L.substr(r,o+1,null);this[_]=decodeURIComponent(l.split("+").join(" "))}else 0!=o&&(this[decodeURIComponent(r.split("+").join(" "))]="")}},toString:function(){for(var t=[],e=Dt.fields(this),i=0;i<e.length;){var s=e[i];++i;var n=encodeURIComponent(s)+"=",a=Dt.field(this,s);t.push(n+encodeURIComponent(a))}return t.join("&")},__class__:Ul};var zl=function(t){this.parentDomain=null!=t?t:zl.currentDomain};(i["openfl.system.ApplicationDomain"]=zl).__name__=["openfl","system","ApplicationDomain"],zl.prototype={getDefinition:function(t){return mi.resolveClass(t)},hasDefinition:function(t){return null!=mi.resolveClass(t)},__class__:zl};function Gl(t,e,i){null==t&&(t=!1),this.checkPolicyFile=t,this.securityDomain=i,this.applicationDomain=e,this.allowCodeImport=!0,this.allowLoadBytesCodeExecution=!0}(i["openfl.system.LoaderContext"]=Gl).__name__=["openfl","system","LoaderContext"],Gl.prototype={__class__:Gl};function Xl(){}(i["openfl.system.SecurityDomain"]=Xl).__name__=["openfl","system","SecurityDomain"],Xl.prototype={__class__:Xl};var Vl={};(i["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=Vl).__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"],Vl.fromString=function(t){switch(t){case"advanced":return 0;case"normal":return 1;default:return null}},Vl.toString=function(t){switch(t){case 0:return"advanced";case 1:return"normal";default:return null}};var Hl={};(i["openfl.text._FontStyle.FontStyle_Impl_"]=Hl).__name__=["openfl","text","_FontStyle","FontStyle_Impl_"],Hl.fromString=function(t){switch(t){case"bold":return 0;case"boldItalic":return 1;case"italic":return 2;case"regular":return 3;default:return null}},Hl.toString=function(t){switch(t){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var Yl={};(i["openfl.text._FontType.FontType_Impl_"]=Yl).__name__=["openfl","text","_FontType","FontType_Impl_"],Yl.fromString=function(t){switch(t){case"device":return 0;case"embedded":return 1;case"embeddedCFF":return 2;default:return null}},Yl.toString=function(t){switch(t){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var Wl={};(i["openfl.text._GridFitType.GridFitType_Impl_"]=Wl).__name__=["openfl","text","_GridFitType","GridFitType_Impl_"],Wl.fromString=function(t){switch(t){case"none":return 0;case"pixel":return 1;case"subpixel":return 2;default:return null}},Wl.toString=function(t){switch(t){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var jl={};(i["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=jl).__name__=["openfl","text","_TextFieldAutoSize","TextFieldAutoSize_Impl_"],jl.fromString=function(t){switch(t){case"center":return 0;case"left":return 1;case"none":return 2;case"right":return 3;default:return null}},jl.toString=function(t){switch(t){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var Kl={};(i["openfl.text._TextFieldType.TextFieldType_Impl_"]=Kl).__name__=["openfl","text","_TextFieldType","TextFieldType_Impl_"],Kl.fromString=function(t){switch(t){case"dynamic":return 0;case"input":return 1;default:return null}},Kl.toString=function(t){switch(t){case 0:return"dynamic";case 1:return"input";default:return null}};var ql=function(t,e,i,s,n,a,r,o,h,_,l,u,c){this.font=t,this.size=e,this.color=i,this.bold=s,this.italic=n,this.underline=a,this.url=r,this.target=o,this.align=h,this.leftMargin=_,this.rightMargin=l,this.indent=u,this.leading=c};(i["openfl.text.TextFormat"]=ql).__name__=["openfl","text","TextFormat"],ql.getBulletText=function(){return"\t\t"},ql.getBulletIndentLeftMargin=function(){return 20},ql.prototype={clone:function(){var t=new ql(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.blockIndent=this.blockIndent,t.bullet=this.bullet,t.kerning=this.kerning,t.letterSpacing=this.letterSpacing,t.tabStops=this.tabStops,t},__merge:function(t){null!=t.font&&(this.font=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.color=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.underline&&(this.underline=t.underline),null!=t.url&&(this.url=t.url),null!=t.target&&(this.target=t.target),null!=t.align&&(this.align=t.align),null!=t.leftMargin&&(this.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.rightMargin=t.rightMargin),null!=t.indent&&(this.indent=t.indent),null!=t.leading&&(this.leading=t.leading),null!=t.blockIndent&&(this.blockIndent=t.blockIndent),null!=t.bullet&&(this.bullet=t.bullet),null!=t.kerning&&(this.kerning=t.kerning),null!=t.letterSpacing&&(this.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.tabStops=t.tabStops)},__class__:ql};var Jl={};(i["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=Jl).__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"],Jl.fromString=function(t){switch(t){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},Jl.toString=function(t){switch(t){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var Zl=function(t,e,i,s,n,a){this.x=t,this.width=e,this.height=i,this.ascent=s,this.descent=n,this.leading=a};(i["openfl.text.TextLineMetrics"]=Zl).__name__=["openfl","text","TextLineMetrics"],Zl.prototype={__class__:Zl};var Ql=function(){v.call(this),Ql.__instances.push(this)};(i["openfl.ui.GameInput"]=Ql).__name__=["openfl","ui","GameInput"],Ql.getDeviceAt=function(t){return 0<=t&&t<Ql.__deviceList.length?Ql.__deviceList[t]:null},Ql.__getDevice=function(t){if(null==t)return null;if(null==Ql.__devices.h.__keys__[t.__id__]){var e=zr.__getDeviceData()[t.id].id,i=zr.__getDeviceData(),s=new tu(e,i[t.id].id);Ql.__deviceList.push(s),Ql.__devices.set(t,s),Ql.numDevices=Ql.__deviceList.length}return Ql.__devices.h[t.__id__]},Ql.__onGamepadAxisMove=function(t,e,i){var s=Ql.__getDevice(t);if(null!=s&&s.enabled){if(!s.__axis.h.hasOwnProperty(e)){var n;switch(e){case 0:n="LEFT_X";break;case 1:n="LEFT_Y";break;case 2:n="RIGHT_X";break;case 3:n="RIGHT_Y";break;case 4:n="TRIGGER_LEFT";break;case 5:n="TRIGGER_RIGHT";break;default:n="UNKNOWN ("+e+")"}var a=new $l(s,"AXIS_"+n,-1,1);s.__axis.h[e]=a,s.__controls.push(a)}var r=s.__axis.h[e];r.value=i,r.dispatchEvent(new Ne("change"))}},Ql.__onGamepadButtonDown=function(t,e){var i=Ql.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var s;switch(e){case 0:s="A";break;case 1:s="B";break;case 2:s="X";break;case 3:s="Y";break;case 4:s="BACK";break;case 5:s="GUIDE";break;case 6:s="START";break;case 7:s="LEFT_STICK";break;case 8:s="RIGHT_STICK";break;case 9:s="LEFT_SHOULDER";break;case 10:s="RIGHT_SHOULDER";break;case 11:s="DPAD_UP";break;case 12:s="DPAD_DOWN";break;case 13:s="DPAD_LEFT";break;case 14:s="DPAD_RIGHT";break;default:s="UNKNOWN ("+e+")"}var n=new $l(i,"BUTTON_"+s,0,1);i.__button.h[e]=n,i.__controls.push(n)}var a=i.__button.h[e];a.value=1,a.dispatchEvent(new Ne("change"))}},Ql.__onGamepadButtonUp=function(t,e){var i=Ql.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var s;switch(e){case 0:s="A";break;case 1:s="B";break;case 2:s="X";break;case 3:s="Y";break;case 4:s="BACK";break;case 5:s="GUIDE";break;case 6:s="START";break;case 7:s="LEFT_STICK";break;case 8:s="RIGHT_STICK";break;case 9:s="LEFT_SHOULDER";break;case 10:s="RIGHT_SHOULDER";break;case 11:s="DPAD_UP";break;case 12:s="DPAD_DOWN";break;case 13:s="DPAD_LEFT";break;case 14:s="DPAD_RIGHT";break;default:s="UNKNOWN ("+e+")"}var n=new $l(i,"BUTTON_"+s,0,1);i.__button.h[e]=n,i.__controls.push(n)}var a=i.__button.h[e];a.value=0,a.dispatchEvent(new Ne("change"))}},Ql.__onGamepadConnect=function(t){var e=Ql.__getDevice(t);if(null!=e)for(var i=0,s=Ql.__instances;i<s.length;){var n=s[i];++i,n.dispatchEvent(new N_("deviceAdded",null,null,e))}},Ql.__onGamepadDisconnect=function(t){var e=Ql.__devices.h[t.__id__];if(null!=e){null!=Ql.__devices.h.__keys__[t.__id__]&&(L.remove(Ql.__deviceList,Ql.__devices.h[t.__id__]),Ql.__devices.remove(t)),Ql.numDevices=Ql.__deviceList.length;for(var i=0,s=Ql.__instances;i<s.length;){var n=s[i];++i,n.dispatchEvent(new N_("deviceRemoved",null,null,e))}}},Ql.__super__=v,Ql.prototype=s(v.prototype,{__class__:Ql});var $l=function(t,e,i,s,n){null==n&&(n=0),v.call(this),this.device=t,this.id=e,this.minValue=i,this.maxValue=s,this.value=n};(i["openfl.ui.GameInputControl"]=$l).__name__=["openfl","ui","GameInputControl"],$l.__super__=v,$l.prototype=s(v.prototype,{__class__:$l});var tu=function(t,e){var i;this.__controls=[],this.__button=new yn,this.__axis=new yn,this.id=t,this.name=e;for(var s=0;s<6;){var n=s++;i=new $l(this,"AXIS_"+n,-1,1),this.__axis.h[n]=i,this.__controls.push(i)}for(var a=0;a<15;){var r=a++;i=new $l(this,"BUTTON_"+r,0,1),this.__button.h[r]=i,this.__controls.push(i)}};(i["openfl.ui.GameInputDevice"]=tu).__name__=["openfl","ui","GameInputDevice"],tu.prototype={getCachedSamples:function(t,e){return null==e&&(e=!1),0},getControlAt:function(t){return 0<=t&&t<this.__controls.length?this.__controls[t]:null},startCachingSamples:function(t,e){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:tu,__properties__:{get_numControls:"get_numControls"}};var eu=function(){};(i["openfl.ui.Keyboard"]=eu).__name__=["openfl","ui","Keyboard"],eu.capsLock=null,eu.numLock=null,eu.isAccessible=function(){return!1},eu.__convertKeyCode=function(t){switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 108;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return t}},eu.__getCharCode=function(t,e){if(null==e&&(e=!1),e){switch(t){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=t&&t<=90)return t-65+65}else{switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=t&&t<=57)return t-48+48;if(65<=t&&t<=90)return t-65+97}if(96<=t&&t<=105)return t-96+48;switch(t){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},eu.__getKeyLocation=function(t){switch(t){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 108:case 110:case 111:case 1073741910:case 1073741911:case 1073741923:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};function iu(){}(i["openfl.ui.Mouse"]=iu).__name__=["openfl","ui","Mouse"],iu.hide=function(){Hr.hide()},iu.show=function(){Hr.show()};var su={};(i["openfl.utils._ByteArray.ByteArray_Impl_"]=su).__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"],su.__properties__={set_length:"set_length",get_length:"get_length"},su.defaultObjectEncoding=null,su._new=function(t){return null==t&&(t=0),new nn(t)},su.get=function(t,e){return t.b[e]},su.set=function(t,e,i){return t.b[e]=255&i,i},su.fromArrayBuffer=function(t){return nn.fromBytes(tn.ofData(t))},su.fromBytes=function(t){return Jn.__instanceof(t,nn)?t:nn.fromBytes(t)},su.fromBytesData=function(t){return nn.fromBytes(tn.ofData(t))},su.toArrayBuffer=function(t){return t.b.bufferValue},su.toBytes=function(t){return t},su.toBytesData=function(t){return t.b.bufferValue},su.toLimeBytes=function(t){return new qr(su.get_length(t),t.b.bufferValue)},su.get_length=function(t){return t.__length},su.set_length=function(t,e){return 0<e&&t.__resize(e),t.__length=e};var nu={};(i["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=nu).__name__=["openfl","utils","_CompressionAlgorithm","CompressionAlgorithm_Impl_"],nu.fromString=function(t){switch(t){case"deflate":return 0;case"lzma":return 1;case"zlib":return 2;default:return null}},nu.toString=function(t){switch(t){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}};var au={};(i["openfl.utils._Endian.Endian_Impl_"]=au).__name__=["openfl","utils","_Endian","Endian_Impl_"],au.fromString=function(t){switch(t){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},au.toString=function(t){switch(t){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var ru=function(t){this.__uid=at.SEQ<<24|++at.UID,this.value=t};(i["openfl.utils.Float32ArrayContainer"]=ru).__name__=["openfl","utils","Float32ArrayContainer"],ru.__interfaces__=[nt],ru.prototype={customSerialize:function(t){var e=Jr.toBytes(this.value);if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var s=t.out,n=(s.b,e.b),a=0,r=e.length;a<r;){var o=a++;s.b.push(n[o])}}},customUnserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,s=e;if(0==s)i=null;else{--s;var n=t.input.sub(t.inPos,s);t.inPos+=s,i=n}var a,r=i.b.bufferValue;a=null!=r?new Zf(r):null,this.value=a},getCLID:function(){return ru.__clid},serialize:function(t){this.customSerialize(t)},getSerializeSchema:function(){var t=new Hn;return t.isFinal=at.isClassFinal(ru.__clid),t},unserializeInit:function(){},unserialize:function(t){this.customUnserialize(t)},__class__:ru};var ou={};(i["openfl.utils._Object.Object_Impl_"]=ou).__name__=["openfl","utils","_Object","Object_Impl_"],ou._new=function(){return{}},ou.hasOwnProperty=function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)},ou.isPrototypeOf=function(t,e){for(var i=t,s=null==i?null:Jn.getClass(i);null!=s;){if(s==e)return!0;s=mi.getSuperClass(s)}return!1},ou.iterator=function(t){var e=Dt.fields(t);return null==e&&(e=[]),L.iter(e)},ou.propertyIsEnumerable=function(t,e){return!(null==t||!Object.prototype.hasOwnProperty.call(t,e))&&Jn.__instanceof(Dt.field(t,e),_u)},ou.toLocaleString=function(t){return O.string(t)},ou.toString=function(t){return O.string(t)},ou.valueOf=function(t){return t},ou.__get=function(t,e){return Dt.field(t,e)},ou.__set=function(t,e,i){return t[e]=i};function hu(){}(i["haxe.lang.Iterator"]=hu).__name__=["haxe","lang","Iterator"],hu.prototype={__class__:hu};var _u=function(){};(i["haxe.lang.Iterable"]=_u).__name__=["haxe","lang","Iterable"],_u.prototype={__class__:_u};function lu(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length}(i["openfl.utils._UnsafeStringMap.UnsafeStringMapIterator"]=lu).__name__=["openfl","utils","_UnsafeStringMap","UnsafeStringMapIterator"],lu.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.h[this.keys[this.index++]]},__class__:lu};var uu=function(){this.h={}};(i["openfl.utils.UnsafeStringMap"]=uu).__name__=["openfl","utils","UnsafeStringMap"],uu.__interfaces__=[fn],uu.prototype={set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return L.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);return t},iterator:function(){return new lu(this,this.arrayKeys())},toString:function(){var t="";t+="{";for(var e=this.arrayKeys(),i=0,s=e.length;i<s;){var n=i++,a=e[n];t+=null==a?"null":""+a,t+=" => ",t+=O.string(O.string(this.h[a])),n<e.length-1&&(t+=", ")}return t+="}"},__class__:uu};var cu={};(i["openfl.utils._UnshrinkableArray.UnshrinkableArray_Impl_"]=cu).__name__=["openfl","utils","_UnshrinkableArray","UnshrinkableArray_Impl_"],cu.__properties__={get_length:"get_length"},cu._new=function(t,e){null==t&&(t=64);var i=new zt;return i._items=null!=e?e:[],i._length=i._items.length,i},cu.getInternalArray=function(t){return t._items},cu.push=function(t,e){t._items[t._length++]=e},cu.pop=function(t){var e=t._items[--t._length];return t._items[t._length]=null,e},cu.insert=function(t,e,i){for(var s=t._length-1;e<=s;)t._items[s+1]=t._items[s],--s;t._items[e]=i,t._length=e>t._length?e:t._length,++t._length},cu.concat=function(t,e){for(var i=t._items.length-t._length,s=0,n=i;s<n;){var a=s++;t._items[t._length+a]=a>=e._length?null:e._items[a]}return t._items=t._items.concat(e._items.slice(i)),t._length+=e._length,t},cu.clear=function(t){for(var e=0,i=t._length;e<i;){var s=e++;t._items[s]=null}t._length=0},cu.filter=function(t,e){var i=new zt;i._items=[],i._length=i._items.length;for(var s=i,n=0,a=t._length;n<a;){var r=n++,o=t._items[r];e(o)&&(s._items[s._length++]=o)}return s},cu.remove=function(t,e){var i=t._items.indexOf(e,null),s=i>=t._length?-1:i;if(0<=s){for(var n=s,a=t._length-1;n<a;){var r=n++;t._items[r]=t._items[1+r]}--t._length,t._items[t._length]=null}return 0<=s},cu.splice=function(t,e,i){if(e=Math.max(e,0),0<(i=Math.min(i,t._length-e))){for(var s=e,n=t._length-i;s<n;){var a=s++;t._items[a]=t._items[a+i]}for(var r=t._length-i,o=t._length;r<o;){var h=r++;t._items[h]=null}t._length-=i}},cu.slice=function(t,e,i){i=null==i?t._length:Math.min(t._length,i);var s=t._items.slice(e,i),n=new zt;return n._items=null!=s?s:[],n._length=n._items.length,n},cu.sliceArray=function(t,e,i){return i=null==i?t._length:Math.min(t._length,i),t._items.slice(e,i)},cu.reverse=function(t){for(var e=0,i=t._length-1;e<i;){var s=t._items[e];t._items[e]=t._items[i],t._items[i]=s,++e,--i}},cu.copyFrom=function(t,e,i){null==i&&(i=0);var s=t._length;t._length=e._length-i;for(var n=0,a=t._length;n<a;){var r=n++,o=i+r;t._items[r]=o>=e._length?null:e._items[o]}for(var h=t._length,_=s;h<_;){var l=h++;t._items[l]=null}},cu.pushFromArray=function(t,e){for(var i=t._length,s=0,n=e._length;s<n;){var a=s++;t._items[i+a]=a>=e._length?null:e._items[a]}t._length+=e._length},cu.indexOf=function(t,e,i){var s=t._items.indexOf(e,i);return s>=t._length?-1:s},cu.last=function(t){return t._items[t._length-1]},cu.get=function(t,e){return e>=t._length?null:t._items[e]},cu.set=function(t,e,i){return e>=t._length&&(t._length=e+1),t._items[e]=i},cu.get_length=function(t){return t._length};var fu=function(t,e,i){this.heightCount=0,this.y3=0,this.y2=0,this.y1=0,this.x3=0,this.x2=0,this.x1=0,this.fall=0,this.isBot=!1,null==i&&(this.addEventListener("addedToStage",Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(8,Gf(this,this.frame9)),this.addFrameScript(14,Gf(this,this.frame15))),_.call(this,t,e)};(i["scripts.Tank"]=fu).__name__=["scripts","Tank"],fu.__super__=_,fu.prototype=s(_.prototype,{test_hill:function(){this.calc_hill_up();var t=N.getChild(R.instance,"land"+Math.ceil(this.__transform.tx-this.get_width()/2)),e=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2)),i=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2)),s=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2));null==t||t.__transform.ty-t.get_height()/2<this.__transform.ty-this.hill_up||null==e||e.__transform.ty-e.get_height()/2<this.__transform.ty-this.hill_up?(this.set_x(this.__transform.tx+.7),this.test=!1,this.left=!1,this.right=!1):null==i||i.__transform.ty-i.get_height()/2<this.__transform.ty-this.hill_up||null==s||s.__transform.ty-s.get_height()/2<this.__transform.ty-this.hill_up?(this.left=!1,this.right=!1,this.set_x(this.__transform.tx-.7),this.test=!1):(this.left=!0,this.right=!0)},blik:function(){var t=R.instance,e=Dt.field(t,"blik");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("blk");i.set_name("blik"),t.addChildAtSwfDepthExternal(i,10030),t.blik=i,R.instance.blik.set_x(this.__transform.tx),R.instance.blik.set_y(this.__transform.ty-10)},calc_hill_up:function(){this.hill_up=.5+R.instance.tank_[this.tank_number].specials[11]-10*this.fall},move_left:function(){this.set_x(this.__transform.tx-.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx+.6),++t},move_right:function(){this.set_x(this.__transform.tx+.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx-.6),++t},activate_shield:function(t){var e=R.instance,i=R.instance.specials[2+t][4],s="shield"+this.tank_number,n=5040+this.tank_number,a=Dt.field(e,s);null!=a&&e.removeChild(a);var r=R.swfLite.createMovieClip(i);r.set_name(s),e.addChildAtSwfDepthExternal(r,n),e[s]=r,Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).num=this.tank_number,R.instance.tank_[this.tank_number].specials[2+t]--,this.sh_active=!0,R.instance._t[this.tank_number]=Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc)},disable_shield:function(){Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).disable(),this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number)},damage:function(t,e,i){null==i&&(i=!1);for(var s=1,n=1,a=0,r=R.instance.tank_[this.tank_number];a<r.specials[9];)s/=1.12/n,n/=1.0002,++a;if(!this.sh_active||i?r.energy-=t*s:Jn.__cast(Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc),Cc).damage(t,e),R.instance.tank_[this.tank_number].energy<=0&&(this!=e?(R.instance.tank_[e.tank_number].kills+=1,R.instance.tank_[e.tank_number].score+=5e3,R.instance.tank_[e.tank_number].total_score+=5e3):(R.instance.tank_[this.tank_number].kills-=1,R.instance.tank_[this.tank_number].score-=2e3,R.instance.tank_[this.tank_number].total_score-=2e3)),this!=e){var o=R.instance.tank_[e.tank_number];o.score+=100*t,o.total_score+=100*t}else i&&(t/=3),r.score-=Math.round(50*t),r.total_score-=Math.round(50*t),r.score<0&&(r.score=0)},na_rade:function(){this.par_active=!1,this.calc_hill_up()},fire:function(){this.testing=!0;var t=R.instance,e=R.instance.weapons[R.instance.tank_[this.tank_number].cur_gun][4],i=Dt.field(t,"strela");null!=i&&t.removeChild(i);var s=R.swfLite.createMovieClip(e);s.set_name("strela"),t.addChildAtSwfDepthExternal(s,1e3),t.strela=s,0!=R.instance.tank_[this.tank_number].cur_gun&&(R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]--,0==R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]&&(R.instance.tank_[this.tank_number].cur_gun=0)),R.instance.strela.set_rotation(this.rotace-90),R.instance.strela.set_x(this.__transform.tx),R.instance.strela.set_y(this.__transform.ty-1),R.instance.strela.strela.vo=this.power,R.instance.strela.strela.owner=N.getChild(R.instance,this.__name),N.getChild(R.instance,this.__name+"_hlaven").play(),this.playing=!1},frame1:function(){this.set_y(N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).__transform.ty-N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).get_height()/2-4);for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2+t));this.hitTestObject(e)&&e.set_y(e.__transform.ty+(this.__transform.ty+this.get_height()/2-(e.__transform.ty-e.get_height()/2))),++t}0<R.instance.tank_[this.tank_number].specials[0]&&(this.par=!0);var i=R.instance,s=this.__name+"_hlaven",n=10010+this.tank_number,a=Dt.field(i,s);null!=a&&i.removeChild(a);var r=R.swfLite.createMovieClip("hlaven");r.set_name(s),i.addChildAtSwfDepthExternal(r,n),i[s]=r,this.rotace=2*O.random(67)+46,N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace),this.power=50,this.playing=!1,this.testing=!1,this.par_active=!1,this.par_out=!1,this.par_used=!1,this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number),this.fuel_c=1/(R.instance.tank_[this.tank_number].specials[10]+1)},frame2:function(){if(400<this.__transform.ty)return R.instance.tank_[this.tank_number].live=!1,R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].score-=2e3,R.instance.hracu--,R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0),void(this.__targetFrame=4);if(R.instance.tank_[this.tank_number].energy<=0)return R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].live=!1,void(this.__targetFrame=4);if(N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.sh_active&&(Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_x(this.__transform.tx),Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_y(this.__transform.ty)),this.playing){if(R.instance.rotace=this.rotace,this.rotation=this.rotace,R.instance.power=this.power,X.isDown(37)&&this.left&&0<R.instance.tank_[this.tank_number].fuel&&10<this.__transform.tx?this.move_left():X.isDown(39)&&this.right&&0<R.instance.tank_[this.tank_number].fuel&&this.__transform.tx<540?this.move_right():this.moving=!1,X.isDown(32)){var t=new H;t.attachSound("39"),t.start(0,1),this.fire()}this.na_zemi=!1,this.left=!0;var e=0,i=500,s=!(this.right=!0);for(this.test_hill();e<this.get_width();){var n=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+e));if(null!=n){if(this.pasy.hitTestObject(n)){if(this.na_zemi=!0,this.par_out){this.par_out=!1;var a=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=a&&null!=a.parent){var r=a.parent;a.parent.removeChild(a),""!=a.__name&&Dt.deleteField(r,a.__name)}}.4<this.fall&&(this.fall<2?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*3e3),this,!0)),this.fall=0}var o=n.__transform.ty-n.get_height()/2;if(o<i&&this.na_zemi&&(s=!0,i=o),e+1>=this.get_width()&&this.na_zemi&&s&&(this.set_y(i-2),s=!1),!this.na_zemi){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var h=R.instance,_="parachute"+this.tank_number,l=9e3+this.tank_number,u=Dt.field(h,_);null!=u&&h.removeChild(u);var c=R.swfLite.createMovieClip("parachute");c.set_name(_),h.addChildAtSwfDepthExternal(c,l),h[_]=c}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++e}else++e}X.isDown(33)&&this.power<100&&R.instance.tank_[this.tank_number].energy>=this.power?this.power+=1:X.isDown(34)&&0<this.power&&(this.power-=1),R.instance.tank_[this.tank_number].energy<this.power&&(this.power=R.instance.tank_[this.tank_number].energy),X.isDown(38)&&this.rotace<180&&(this.rotace+=2,this.rotation=this.rotace,R.instance.tur.play()),X.isDown(40)&&0<this.rotace&&(this.rotace-=2,this.rotation=this.rotace,R.instance.tur.play()),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace)}if(this.testing){var f=0,d=500,p=!1;for(this.test_hill();f<this.get_width();){var g=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+f));if(null!=g){if(this.pasy.hitTestObject(g)){if(.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*80),this,!0)),this.par_out){this.par_out=!1;var m=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=m&&null!=m.parent){var v=m.parent;m.parent.removeChild(m),""!=m.__name&&Dt.deleteField(v,m.__name)}}this.na_zemi=!0,this.fall=0}var b=g.__transform.ty-g.get_height()/2;if(b<d&&this.na_zemi&&(p=!0,d=b),f+1>=this.get_width()&&this.na_zemi&&p&&(this.set_y(d-2),p=!1),.001<this.fall&&(this.test=!1),!this.na_zemi){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var y=R.instance,w="parachute"+this.tank_number,x=9e3+this.tank_number,T=Dt.field(y,w);null!=T&&y.removeChild(T);var S=R.swfLite.createMovieClip("parachute");S.set_name(w),y.addChildAtSwfDepthExternal(S,x),y[w]=S}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++f}else++f}.001<this.fall&&(this.test=!1),this.test_hill(),this.x3=this.x2,this.x2=this.x1,this.x1=Math.round(this.__transform.tx),this.y3=this.y2,this.y2=this.y1,this.y1=Math.round(10*this.__transform.ty)/10,this.y1==this.y3&&this.x1==this.x3&&(this.test=!0);var C=Math.abs(this.y1-this.y3)+Math.abs(this.x1-this.x3);++this.heightCount,(this.test||30<this.heightCount&&C<5)&&(this.testing=!1,R.instance[this.__name+"test"]=!1,this.heightCount=0),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.test=!0}},frame3:function(){this.gotoAndPlay(2)},frame4:function(){if(null==this.__targetFrame||4==this.__targetFrame){var t=N.getChild(R.instance,this.__name+"_hlaven");if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}var i=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=i&&null!=i.parent){var s=i.parent;i.parent.removeChild(i),""!=i.__name&&Dt.deleteField(s,i.__name)}var n=N.getChild(R.instance,"shield"+this.tank_number);if(null!=n&&null!=n.parent){var a=n.parent;n.parent.removeChild(n),""!=n.__name&&Dt.deleteField(a,n.__name)}R.instance.hracu--}},frame9:function(){if(null==this.__targetFrame||9==this.__targetFrame){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+t));if(null!=e){var i=e.__transform.tx,s=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(i,s,!0)){var n=Math.cos(Math.sqrt((this.__transform.tx-i)*(this.__transform.tx-i)+(this.__transform.ty-s)*(this.__transform.ty-s))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*n),e.set_y(e.__transform.ty+15*n)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(0-this.get_width()/2+t)))&&(e.set_height(e.get_height()-50/Math.abs(this.__transform.tx-i)),e.set_y(e.__transform.ty+50/Math.abs(this.__transform.tx-i)/2));++t}else++t}for(t=1;R.instance.pocet_hracu>=t;){var a=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(t!=this.tank_number&&(this.hitTestObject(a)||this.hitTestObject(N.getChild(R.instance,"shield"+t)))){var r,o=this.__transform.tx-a.__transform.tx,h=this.__transform.ty-a.__transform.ty,_=Math.sqrt(o*o+h*h);a.sh_active?r=Math.round(this.get_width()/((_/2+1)/18)):(r=Math.round(this.get_width()/((_+1)/14)),R.instance.tank_[t].energy<r&&(r=R.instance.tank_[t].energy)),a.damage(r,this)}++t}}},frame15:function(){null!=this.__targetFrame&&15!=this.__targetFrame||(this.playing&&R.instance.test(),this.stop())},__class__:fu});var du=function(t,e){this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(8,Gf(this,this.frame9)),this.addFrameScript(14,Gf(this,this.frame15)),fu.call(this,t,e,!0),this.isBot=!0};(i["scripts.Ai_easy"]=du).__name__=["scripts","Ai_easy"],du.__super__=fu,du.prototype=s(fu.prototype,{blik:function(){var t=R.instance,e=Dt.field(t,"blik");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("blk");i.set_name("blik"),t.addChildAtSwfDepthExternal(i,10030),t.blik=i,R.instance.blik.set_x(this.__transform.tx),R.instance.blik.set_y(this.__transform.ty-10)},calc_hill_up:function(){this.hill_up=.5+R.instance.tank_[this.tank_number].specials[11]-10*this.fall},move_left:function(){this.set_x(this.__transform.tx-.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx+.6),++t},move_right:function(){this.set_x(this.__transform.tx+.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx-.6),++t},activate_shield:function(t){var e=R.instance,i=R.instance.specials[2+t][4],s="shield"+this.tank_number,n=5040+this.tank_number,a=Dt.field(e,s);null!=a&&e.removeChild(a);var r=R.swfLite.createMovieClip(i);r.set_name(s),e.addChildAtSwfDepthExternal(r,n),e[s]=r,Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).num=this.tank_number,R.instance.tank_[this.tank_number].specials[2+t]--,this.sh_active=!0,R.instance._t[this.tank_number]=Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc)},disable_shield:function(){Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).disable(),this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number)},p_m:function(t){return 0<t?1:-1},calc_first_shot:function(){R.instance.z_ai_dif="hard",this.p_rotace=90+45*this.p_m(this.target.__transform.tx-this.__transform.tx),this.p_x=this.__transform.tx,this.p_power=Math.abs(this.__transform.tx-this.target.__transform.tx)/(2+Math.abs(this.__transform.tx-this.target.__transform.tx)/120),this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy)},calc_shot:function(){this.last_shot_vzd=Math.sqrt(Math.abs((this.__transform.tx-this.last_shot_x)*(this.__transform.tx-this.last_shot_x))+Math.abs((this.__transform.ty-this.last_shot_y)*(this.__transform.ty-this.last_shot_y)));var t=Math.sqrt(Math.abs((this.__transform.tx-this.target.__transform.tx)*(this.__transform.tx-this.target.__transform.tx))+Math.abs((this.__transform.ty-this.target.__transform.ty)*(this.__transform.ty-this.target.__transform.ty)));this.x_vzd=Math.abs(this.last_shot_x-this.target.__transform.tx),this.y_vzd=Math.abs(this.last_shot_y-this.target.__transform.ty),this.power>=R.instance.tank_[this.tank_number].energy||100==this.power?this.full_power=!0:this.full_power=!1;var e=99999;this.wind_koef_vzd_koef=38e4;this.vzd_koef_k=15+Math.abs(this.__transform.tx-this.last_shot_x)/80;this.y_koef=22e3;var i=100-(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30,s=80+(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30;this.__transform.tx<this.target.__transform.tx?(this.wind_koef_vzd_koef-=3*(180-this.rotace),this.y_koef+=1.7*(135-this.rotace),this.last_shot_x<this.__transform.tx?(R.instance.z_f_used="1.1",this.p_rotace+=(this.__transform.tx-this.last_shot_x)/10+(this.target.__transform.tx-this.__transform.tx)/20-R.instance.vitr/50):60<this.last_shot_vzd||t<70||this.power<10?(R.instance.z_f_used="1.2.1.failed",this.last_shot_x>=this.target.__transform.tx?20<this.x_vzd?(R.instance.z_f_used="1.2.1.1.1",this.p_power-=this.x_vzd/(27.5-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="1.2.1.1.2",this.p_power-=this.x_vzd/(24-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&this.y_vzd<80&&20<this.y_vzd&&this.last_shot_vzd<100&&220<t&&30<this.power&&i-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.1.1",this.p_rotace-=(this.rotace-(i-R.instance.vitr/7))/4+R.instance.vitr/20-t/100):this.rotace<i-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.1.2.",this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="1.2.1.2.1.1.3",this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.1.4.1",this.p_power+=this.x_vzd/(25/3)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):i-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.1.4.2.1",this.p_power+=this.x_vzd/50-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/3e3+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(i-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.1.4.2.2",this.p_power+=this.x_vzd/50-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/3e3-R.instance.vitr/15),this.p_rotace-=(this.rotace-(i-R.instance.vitr/7))/4.5+this.y_vzd/3e3)):this.target.__transform.ty-this.__transform.ty<70&&this.y_vzd<100&&20<this.y_vzd&&this.last_shot_vzd<100&&250<t&&30<this.power&&i-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.2.1",this.p_rotace-=(this.rotace-(i-R.instance.vitr/7))/4.5+R.instance.vitr/20-t/100):this.rotace<i-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.2.2",this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="1.2.1.2.1.2.3",this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?(R.instance.z_f_used="1.2.1.2.1.2.4.1",120<this.p_rotace?(R.instance.z_f_used="1.2.1.2.1.2.4.1.1",this.p_power+=this.x_vzd/(25/1.5)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.1.2.4.1.2",this.p_power+=this.x_vzd/12.5-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef))):300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.2.4.2.",this.p_power+=this.x_vzd/(25/3)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):i-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.2.4.3.1.",this.p_power+=this.x_vzd/50-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-this.y_vzd/3e3+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(i-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.2.4.3.2.",this.p_power+=this.x_vzd/50-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-this.y_vzd/3e3-R.instance.vitr/15),this.p_rotace-=(this.rotace-(i-R.instance.vitr/7))/4.5+this.y_vzd/3e3)):this.last_shot_vzd<150&&this.target.__transform.tx-this.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="1.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="1.2.1.2.2.1.2.1",this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.2.1.2.2",this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.rotace<i-5-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.2.2",this.p_rotace+=(135-this.rotace)/10+this.target.__transform.tx-this.__transform.tx/100):(R.instance.z_f_used="1.2.1.2.2.3",this.p_rotace-=(this.rotace-(i-R.instance.vitr/7))/2,this.p_power+=this.x_vzd/(25-Math.abs(135-this.rotace)/this.vzd_koef_k)/1.5+(this.rotace-(i-R.instance.vitr/7))/5)):100<this.__transform.ty-this.target.__transform.ty&&this.target.__transform.tx-this.__transform.tx<100?(R.instance.z_f_used="1.2.2.1",this.p_rotace-=(this.rotace-(i-R.instance.vitr/7))/2):(R.instance.z_f_used="1.2.2.2",this.p_rotace-=(this.rotace-(i-R.instance.vitr/7))/2-(this.target.__transform.tx-this.__transform.tx)/100)):(this.wind_koef_vzd_koef-=3*this.rotace,this.y_koef+=1.7*(this.rotace-45),this.__transform.tx<this.last_shot_x?(R.instance.z_f_used="2.1",this.p_rotace-=(this.last_shot_x-this.__transform.tx)/10+(this.__transform.tx-this.target.__transform.tx)/20+R.instance.vitr/50):60<this.last_shot_vzd||t<70||this.power<10?(R.instance.z_f_used="2.2.1.failed",this.target.__transform.tx>=this.last_shot_x?20<this.x_vzd?(R.instance.z_f_used="2.2.1.1.1",this.p_power-=this.x_vzd/(27.5-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="2.2.1.1.2",this.p_power-=this.x_vzd/(24-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&this.y_vzd<80&&20<this.y_vzd&&this.last_shot_vzd<100&&220<t&&30<this.power&&s+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.1",this.p_rotace+=(s+R.instance.vitr/7-this.rotace)/4-R.instance.vitr/20-t/100):s+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.2",this.p_power+=this.x_vzd/(25-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="2.2.1.2.1.1.3",this.p_power+=this.x_vzd/(25-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.1",this.p_power+=this.x_vzd/(25/3)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)):this.rotace<s+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.2.1",this.p_power+=this.x_vzd/50+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/3e3+(this.rotace-45)/8+R.instance.vitr/15+(s+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.1.4.2.2",this.p_power+=this.x_vzd/50+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/3e3+R.instance.vitr/15),this.p_rotace+=(s+R.instance.vitr/7-this.rotace)/4.5+this.y_vzd/3e3)):this.target.__transform.ty-this.__transform.ty<70&&this.y_vzd<100&&20<this.y_vzd&&this.last_shot_vzd<100&&250<t&&30<this.power&&this.rotace<s-R.instance.vitr/7?(R.instance.z_f_used="2.2.1.2.1.2.1",this.p_rotace+=(s+R.instance.vitr/7-this.rotace)/4.5-R.instance.vitr/20-t/100):s+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.2",this.p_power+=this.x_vzd/(25-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="2.2.1.2.1.2.3",this.p_power+=this.x_vzd/(25-Math.abs(45-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?this.p_rotace<60?(R.instance.z_f_used="2.2.1.2.1.2.4.1.1",this.p_power+=this.x_vzd/(25/1.5)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.1.2.4.1.2",this.p_power+=this.x_vzd/12.5+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.2",this.p_power+=this.x_vzd/(25/3)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.rotace<s+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.3.1",this.p_power+=this.x_vzd/50+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/3e3+(this.rotace-45)/8+R.instance.vitr/15+(s+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.2.4.3.2",this.p_power+=this.x_vzd/50+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/3e3+R.instance.vitr/15),this.p_rotace+=(s+R.instance.vitr/7-this.rotace)/4.5+this.y_vzd/3e3)):this.last_shot_vzd<150&&this.__transform.tx-this.target.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=this.x_vzd/(25-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="2.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="2.2.1.2.2.1.2.1",this.p_power+=this.x_vzd/(25-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.2.1.2.2",this.p_power+=this.x_vzd/(25-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(e-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):5+s+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.2.2",this.p_rotace-=(this.rotace-45)/10+this.__transform.tx-this.target.__transform.tx/100):(R.instance.z_f_used="2.2.1.2.2.3",this.p_rotace+=(s+R.instance.vitr/7-this.rotace)/3,this.p_power+=this.x_vzd/(25-Math.abs(this.rotace-45)/this.vzd_koef_k)/1.5+(s+R.instance.vitr/7-this.rotace)/5)):100<this.__transform.ty-this.target.__transform.ty&&this.__transform.tx-this.target.__transform.tx<100?(R.instance.z_f_used="2.2.2.1",this.p_rotace+=(s+R.instance.vitr/7-this.rotace)/2):(R.instance.z_f_used="2.2.2.2",this.p_rotace+=(s+R.instance.vitr/7-this.rotace)/2-(this.target.__transform.tx-this.__transform.tx)/100)),100<this.p_power&&(this.p_power=100),this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy,this.__transform.tx<this.target.__transform.tx?this.p_rotace<135&&(70<this.p_power&&(this.p_power-=(135-this.p_rotace)/2.5),this.p_rotace+=(135-this.p_rotace)/3):45<this.p_rotace&&(70<this.p_power&&(this.p_power-=(this.p_rotace-45)/2.5),this.p_rotace-=(this.p_rotace-45)/3)),this.p_power<0&&(this.p_power=0),this.p_rotace<0?this.p_rotace=0:180<this.p_rotace&&(this.p_rotace=180)},prepare_shot:function(){var t,e=!0;return t=Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace)<10?1:Math.floor((Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace))/10),Math.ceil(this.rotace)!=Math.ceil(this.p_rotace)&&(Math.ceil(this.p_rotace)<Math.ceil(this.rotace)&&0<=this.rotace-t?(e=!1,this.rotace-=t,R.instance.tur.play()):this.rotace+t<=180&&(e=!1,this.rotace+=t,R.instance.tur.play())),Math.ceil(this.power)!=Math.ceil(this.p_power)&&(Math.ceil(this.p_power)<Math.ceil(this.power)&&0<=this.power-t?(e=!1,this.power-=t):this.power+t<=180&&(e=!1,this.power+=t)),Math.round(this.p_x)!=Math.round(this.__transform.tx)&&0<R.instance.tank_[this.tank_number].fuel&&this.p_move&&(e=!1,Math.round(this.p_x)<Math.round(this.__transform.tx)?this.move_right():this.move_left()),e},select_target:function(){for(var t=1e3,e=1;R.instance.pocet_hracu>=e;){var i=Math.abs(this.__transform.tx-Jn.__cast(N.getChild(R.instance,"tank"+e),fu).__transform.tx);i<t&&e!=this.tank_number&&R.instance.tank_[e].live&&(t=i,this.target=Jn.__cast(N.getChild(R.instance,"tank"+e),fu),this.target_=R.instance.tank_[e]),++e}},na_rade:function(){this.rounds++,this.par_active=!1,this.calc_hill_up()},damage:function(t,e,i){for(var s=1,n=1,a=0;a<R.instance.tank_[this.tank_number].specials[9];)s/=1.12/n,n/=1.0002,++a;!this.sh_active||i?R.instance.tank_[this.tank_number].energy-=t*s:Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).damage(t,e),R.instance.tank_[this.tank_number].energy<=0&&(this!=e?(R.instance.tank_[e.tank_number].kills+=1,R.instance.tank_[e.tank_number].score+=5e3,R.instance.tank_[e.tank_number].total_score+=5e3):(R.instance.tank_[this.tank_number].kills-=1,R.instance.tank_[this.tank_number].score-=2e3,R.instance.tank_[this.tank_number].total_score-=2e3)),this!=e?(R.instance.tank_[e.tank_number].score+=100*t,R.instance.tank_[e.tank_number].total_score+=100*t):(i&&(t/=3),R.instance.tank_[this.tank_number].score-=Math.round(50*t),R.instance.tank_[this.tank_number].total_score-=Math.round(50*t),R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0))},fire:function(){R.instance.debugging&&this.save_inf(),this.last_wind=R.instance.vitr,this.first_frame=!0;var t=R.instance,e=R.instance.weapons[R.instance.tank_[this.tank_number].cur_gun][4],i=Dt.field(t,"strela");null!=i&&t.removeChild(i);var s=R.swfLite.createMovieClip(e);s.set_name("strela"),t.addChildAtSwfDepthExternal(s,1e3),t.strela=s,0!=R.instance.tank_[this.tank_number].cur_gun&&(R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]--,0==R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]&&(R.instance.tank_[this.tank_number].cur_gun=0)),R.instance.strela.set_rotation(this.rotace-90),R.instance.strela.set_x(this.__transform.tx),R.instance.strela.set_y(this.__transform.ty-1),R.instance.strela.strela.vo=this.power,R.instance.strela.strela.owner=N.getChild(R.instance,this.__name),N.getChild(R.instance,this.__name+"_hlaven").play(),this.playing=!1},save_inf:function(){R.instance.z_target=this.target,R.instance.z_target_name=this.target_.name,R.instance.z_target_energy=this.target_.energy,R.instance.z_target_live=this.target_.live,R.instance.z_name=R.instance.tank_[this.tank_number].name,R.instance.z_energy=R.instance.tank_[this.tank_number].energy,this.target.__transform.tx<this.__transform.tx?R.instance.z_pos="right":R.instance.z_pos="left",R.instance.z_x=this.__transform.tx,R.instance.z_y=this.__transform.ty,R.instance.z_tar_x=this.target.__transform.tx,R.instance.z_tar_y=this.target.__transform.ty,R.instance.z_last_vitr=this.last_wind,R.instance.z_vitr=R.instance.vitr,R.instance.z_wind_koef_vzd_koef=this.wind_koef_vzd_koef,R.instance.z_angle=this.rotace,R.instance.z_power=this.power,R.instance.z_y_koef=this.y_koef,R.instance.z_vzd_koef_k=this.vzd_koef_k,R.instance.z_last_shot_x=this.last_shot_x,R.instance.z_last_shot_y=this.last_shot_y,R.instance.z_last_shot_vzd=this.last_shot_vzd,R.instance.z_last_shot_y_vzd=this.y_vzd,R.instance.z_last_shot_x_vzd=this.x_vzd,R.instance.z_dif=this.dif},init:function(){this.dif=R.instance.tank_[this.tank_number].dif,this.set_y(N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).__transform.ty-N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).get_height()/2-4);for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2+t));this.hitTestObject(e)&&e.set_y(e.__transform.ty+(this.__transform.ty+this.get_height()/2-(e.__transform.ty-e.get_height()/2))),++t}0<R.instance.tank_[this.tank_number].specials[0]&&(this.par=!0);var i=R.instance,s=this.__name+"_hlaven",n=10010+this.tank_number,a=Dt.field(i,s);null!=a&&i.removeChild(a);var r=R.swfLite.createMovieClip("hlaven");r.set_name(s),i.addChildAtSwfDepthExternal(r,n),i[s]=r,this.rotace=2*O.random(67)+46,N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace),this.power=50,this.playing=!1,this.testing=!1,this.par_active=!1,this.par_out=!1,this.par_used=!1,this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number),this.first_shot=!0,this.first_frame=!0,this.calc_frame=!0,this.fuel_c=1/(R.instance.tank_[this.tank_number].specials[10]+1),this.rounds=0,this.p_move=!1,this.select_target()},frame2:function(){if(400<this.__transform.ty&&(R.instance.tank_[this.tank_number].live=!1,R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].score-=2e3,R.instance.hracu--,R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0),this.__targetFrame=4),R.instance.tank_[this.tank_number].energy<=0&&(R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].live=!1,this.__targetFrame=4),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.sh_active&&(Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_x(this.__transform.tx),Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_y(this.__transform.ty)),this.playing){if(!this.target_.live&&this.first_frame&&(this.rounds=1,this.select_target()),1==this.rounds){if(this.first_frame){for(var t=1;R.instance.pocet_hracu>=t;)Jn.__cast(N.getChild(R.instance,"tank"+t),fu).playing&&t!=this.tank_number&&R.instance.tank_[t].live&&(Jn.__cast(N.getChild(R.instance,"tank"+t),fu).playing=!1,R.instance.test()),++t;this.first_shot=!0,this.calc_first_shot()}}else this.first_frame&&this.calc_shot();this.first_frame=!1,R.instance.rotace=this.rotace,R.instance.power=this.power,this.prepare_shot()&&this.fire();var e=!1,i=0,s=500,n=!1;for(this.test_hill();i<this.get_width();){var a=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+i));if(null!=a){if(this.pasy.hitTestObject(a)){if(e=!0,this.par_out){this.par_out=!1;var r=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=r&&null!=r.parent){var o=r.parent;r.parent.removeChild(r),""!=r.__name&&Dt.deleteField(o,r.__name)}}.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*3e3),this,!0)),this.fall=0}var h=a.__transform.ty-a.get_height()/2;if(h<s&&e&&(n=!0,s=h),i+1>=this.get_width()&&e&&n&&(this.set_y(s-2),n=!1),!e){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var _=R.instance,l="parachute"+this.tank_number,u=9e3+this.tank_number,c=Dt.field(_,l);null!=c&&_.removeChild(c);var f=R.swfLite.createMovieClip("parachute");f.set_name(l),_.addChildAtSwfDepthExternal(f,u),_[l]=f}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++i}else++i}R.instance.tank_[this.tank_number].energy<this.power&&(this.power=R.instance.tank_[this.tank_number].energy),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace)}if(this.testing){var d=0,p=500,g=!1,m=!1;for(this.test_hill();d<this.get_width();){var v=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+d));if(null!=v){if(this.pasy.hitTestObject(v)){if(.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*80),this,!0)),this.par_out){this.par_out=!1;var b=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=b&&null!=b.parent){var y=b.parent;b.parent.removeChild(b),""!=b.__name&&Dt.deleteField(y,b.__name)}}m=!0,this.fall=0}var w=v.__transform.ty-v.get_height()/2;if(w<p&&m&&(g=!0,p=w),d+1>=this.get_width()&&m&&g&&(this.set_y(p-2),g=!1),.001<this.fall&&(this.test=!1),!m){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var x=R.instance,T="parachute"+this.tank_number,S=9e3+this.tank_number,C=Dt.field(x,T);null!=C&&x.removeChild(C);var E=R.swfLite.createMovieClip("parachute");E.set_name(T),x.addChildAtSwfDepthExternal(E,S),x[T]=E}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++d}else++d}.001<this.fall&&(this.test=!1),this.test_hill(),this.x3=this.x2,this.x2=this.x1,this.x1=Math.round(this.__transform.tx),this.y3=this.y2,this.y2=this.y1,this.y1=Math.round(10*this.__transform.ty)/10,this.y1==this.y3&&this.x1==this.x3&&(this.test=!0);var I=Math.abs(this.y1-this.y3)+Math.abs(this.x1-this.x3);++this.heightCount,(this.test||30<this.heightCount&&I<5)&&(this.testing=!1,R.instance[this.__name+"test"]=!1,this.heightCount=0),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.test=!0}},frame3:function(){this.gotoAndPlay(2)},frame4:function(){if(null==this.__targetFrame||4==this.__targetFrame){var t=N.getChild(R.instance,this.__name+"_hlaven");if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}var i=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=i&&null!=i.parent){var s=i.parent;i.parent.removeChild(i),""!=i.__name&&Dt.deleteField(s,i.__name)}var n=N.getChild(R.instance,"shield"+this.tank_number);if(null!=n&&null!=n.parent){var a=n.parent;n.parent.removeChild(n),""!=n.__name&&Dt.deleteField(a,n.__name)}R.instance.hracu--}},frame9:function(){if(null==this.__targetFrame||9==this.__targetFrame){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+t));if(null!=e){var i=e.__transform.tx,s=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(i,s,!0)){var n=Math.cos(Math.sqrt((this.__transform.tx-i)*(this.__transform.tx-i)+(this.__transform.ty-s)*(this.__transform.ty-s))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*n),e.set_y(e.__transform.ty+15*n)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(0-this.get_width()/2+t)))&&(e.set_height(e.get_height()-50/Math.abs(this.__transform.tx-i)),e.set_y(e.__transform.ty+50/Math.abs(this.__transform.tx-i)/2))}++t}for(t=1;R.instance.pocet_hracu>=t;){var a=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(t!=this.tank_number&&(this.hitTestObject(a)||this.hitTestObject(N.getChild(R.instance,"shield"+t)))){var r,o=this.__transform.tx-a.__transform.tx,h=this.__transform.ty-a.__transform.ty,_=Math.sqrt(o*o+h*h);a.sh_active?r=Math.round(this.get_width()/((_/2+1)/18)):(r=Math.round(this.get_width()/((_+1)/14)),R.instance.tank_[t].energy<r&&(r=R.instance.tank_[t].energy)),a.damage(r,this)}++t}}},frame15:function(){null!=this.__targetFrame&&15!=this.__targetFrame||(this.playing&&R.instance.test(),this.stop())},__class__:du});var pu=function(t,e){this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(8,Gf(this,this.frame9)),this.addFrameScript(14,Gf(this,this.frame15)),fu.call(this,t,e),this.isBot=!0};(i["scripts.Ai_hard"]=pu).__name__=["scripts","Ai_hard"],pu.__super__=fu,pu.prototype=s(fu.prototype,{blik:function(){var t=R.instance,e=Dt.field(t,"blik");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("blk");i.set_name("blik"),t.addChildAtSwfDepthExternal(i,10030),t.blik=i,R.instance.blik.set_x(this.__transform.tx),R.instance.blik.set_y(this.__transform.ty-10)},calc_hill_up:function(){this.hill_up=.5+R.instance.tank_[this.tank_number].specials[11]-10*this.fall},move_left:function(){this.set_x(this.__transform.tx-.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx+.6),++t},move_right:function(){this.set_x(this.__transform.tx+.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx-.6),++t},activate_shield:function(t){var e=R.instance,i=R.instance.specials[2+t][4],s="shield"+this.tank_number,n=5040+this.tank_number,a=Dt.field(e,s);null!=a&&e.removeChild(a);var r=R.swfLite.createMovieClip(i);r.set_name(s),e.addChildAtSwfDepthExternal(r,n),e[s]=r,Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).num=this.tank_number,R.instance.tank_[this.tank_number].specials[2+t]--,this.sh_active=!0,R.instance._t[this.tank_number]=Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc)},disable_shield:function(){Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).disable(),this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number)},p_m:function(t){return 0<t?1:-1},calc_first_shot:function(){R.instance.z_ai_dif="hard",this.p_rotace=90+45*this.p_m(this.target.__transform.tx-this.__transform.tx),this.p_x=this.__transform.tx,this.p_power=Math.abs(this.__transform.tx-this.target.__transform.tx)/(2+Math.abs(this.__transform.tx-this.target.__transform.tx)/80),this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy)},calc_shot:function(){this.last_shot_vzd=Math.sqrt(Math.abs((this.__transform.tx-this.last_shot_x)*(this.__transform.tx-this.last_shot_x))+Math.abs((this.__transform.ty-this.last_shot_y)*(this.__transform.ty-this.last_shot_y)));var t=Math.sqrt(Math.abs((this.__transform.tx-this.target.__transform.tx)*(this.__transform.tx-this.target.__transform.tx))+Math.abs((this.__transform.ty-this.target.__transform.ty)*(this.__transform.ty-this.target.__transform.ty)));this.x_vzd=Math.abs(this.last_shot_x-this.target.__transform.tx),this.y_vzd=Math.abs(this.last_shot_y-this.target.__transform.ty),this.power>=R.instance.tank_[this.tank_number].energy||100==this.power?this.full_power=!0:this.full_power=!1;this.wind_koef_vzd_koef=420;this.vzd_koef_k=9+Math.abs(this.__transform.tx-this.last_shot_x)/80;this.y_koef=30;var e=102-(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30,i=78+(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30;this.__transform.tx<this.target.__transform.tx?(this.wind_koef_vzd_koef-=3*(180-this.rotace),this.y_koef+=1.7*(135-this.rotace),this.last_shot_x<this.__transform.tx?(R.instance.z_f_used="1.1",this.p_rotace+=(this.__transform.tx-this.last_shot_x)/10+(this.target.__transform.tx-this.__transform.tx)/20-R.instance.vitr/50):(60<this.last_shot_vzd||t<70||this.power<10)&&(this.power<70||200<this.last_shot_vzd)?(R.instance.z_f_used="1.2.1.failed",this.last_shot_x>=this.target.__transform.tx?20<this.x_vzd?(R.instance.z_f_used="1.2.1.1.1",this.p_power-=this.x_vzd/(16.5-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="1.2.1.1.2",this.p_power-=this.x_vzd/(13-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&this.y_vzd<80&&20<this.y_vzd&&this.last_shot_vzd<100&&220<t&&30<this.power&&e-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.1.1",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4+R.instance.vitr/20-t/100):this.rotace<e-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.1.2.",this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="1.2.1.2.1.1.3",this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.1.4.1",this.p_power+=this.x_vzd/(14/3)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):e-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.1.4.2.1",this.p_power+=this.x_vzd/28-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/40+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(e-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.1.4.2.2",this.p_power+=this.x_vzd/28-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/40-R.instance.vitr/15),this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4.5+this.y_vzd/40)):this.target.__transform.ty-this.__transform.ty<70&&this.y_vzd<100&&20<this.y_vzd&&this.last_shot_vzd<100&&250<t&&30<this.power&&e-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.2.1",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4.5+R.instance.vitr/20-t/100):this.rotace<e-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.2.2",this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="1.2.1.2.1.2.3",this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?(R.instance.z_f_used="1.2.1.2.1.2.4.1",120<this.p_rotace?(R.instance.z_f_used="1.2.1.2.1.2.4.1.1",this.p_power+=this.x_vzd/(14/1.5)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.1.2.4.1.2",this.p_power+=this.x_vzd/7-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef))):300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.2.4.2.",this.p_power+=this.x_vzd/(14/3)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):e-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.2.4.3.1.",this.p_power+=this.x_vzd/28-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-this.y_vzd/40+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(e-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.2.4.3.2.",this.p_power+=this.x_vzd/28-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-this.y_vzd/40-R.instance.vitr/15),this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4.5+this.y_vzd/40)):this.last_shot_vzd<150&&this.target.__transform.tx-this.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="1.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="1.2.1.2.2.1.2.1",this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.2.1.2.2",this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.rotace<e-5-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.2.2",this.p_rotace+=(135-this.rotace)/10+this.target.__transform.tx-this.__transform.tx/100):(R.instance.z_f_used="1.2.1.2.2.3",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/2,this.p_power+=this.x_vzd/(14-Math.abs(135-this.rotace)/this.vzd_koef_k)/1.5+(this.rotace-(e-R.instance.vitr/7))/5)):100<this.__transform.ty-this.target.__transform.ty&&this.target.__transform.tx-this.__transform.tx<100?(R.instance.z_f_used="1.2.2.1",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/2):(R.instance.z_f_used="1.2.2.2",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/2-(this.target.__transform.tx-this.__transform.tx)/100)):(this.wind_koef_vzd_koef-=3*this.rotace,this.y_koef+=1.7*(this.rotace-45),this.__transform.tx<this.last_shot_x?(R.instance.z_f_used="2.1",this.p_rotace-=(this.last_shot_x-this.__transform.tx)/10+(this.__transform.tx-this.target.__transform.tx)/20+R.instance.vitr/50):(60<this.last_shot_vzd||t<70||this.power<10)&&(this.power<70||200<this.last_shot_vzd)?(R.instance.z_f_used="2.2.1.failed",this.target.__transform.tx>=this.last_shot_x?20<this.x_vzd?(R.instance.z_f_used="2.2.1.1.1",this.p_power-=this.x_vzd/(16.5-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="2.2.1.1.2",this.p_power-=this.x_vzd/(13-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&this.y_vzd<80&&20<this.y_vzd&&this.last_shot_vzd<100&&220<t&&30<this.power&&i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.1",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4-R.instance.vitr/20-t/100):i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.2",this.p_power+=this.x_vzd/(14-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="2.2.1.2.1.1.3",this.p_power+=this.x_vzd/(14-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.1",this.p_power+=this.x_vzd/(14/3)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)):this.rotace<i+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.2.1",this.p_power+=this.x_vzd/28+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/40+(this.rotace-45)/8+R.instance.vitr/15+(i+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.1.4.2.2",this.p_power+=this.x_vzd/28+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/40+R.instance.vitr/15),this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4.5+this.y_vzd/40)):this.target.__transform.ty-this.__transform.ty<70&&this.y_vzd<100&&20<this.y_vzd&&this.last_shot_vzd<100&&250<t&&30<this.power&&this.rotace<i-R.instance.vitr/7?(R.instance.z_f_used="2.2.1.2.1.2.1",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4.5-R.instance.vitr/20-t/100):i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.2",this.p_power+=this.x_vzd/(14-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="2.2.1.2.1.2.3",this.p_power+=this.x_vzd/(14-Math.abs(45-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?this.p_rotace<60?(R.instance.z_f_used="2.2.1.2.1.2.4.1.1",this.p_power+=this.x_vzd/(14/1.5)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.1.2.4.1.2",this.p_power+=this.x_vzd/7+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.2",this.p_power+=this.x_vzd/(14/3)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.rotace<i+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.3.1",this.p_power+=this.x_vzd/28+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/40+(this.rotace-45)/8+R.instance.vitr/15+(i+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.2.4.3.2",this.p_power+=this.x_vzd/28+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/40+R.instance.vitr/15),this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4.5+this.y_vzd/40)):this.last_shot_vzd<150&&this.__transform.tx-this.target.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=this.x_vzd/(14-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="2.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="2.2.1.2.2.1.2.1",this.p_power+=this.x_vzd/(14-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.2.1.2.2",this.p_power+=this.x_vzd/(14-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(11-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):5+i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.2.2",this.p_rotace-=(this.rotace-45)/10+this.__transform.tx-this.target.__transform.tx/100):(R.instance.z_f_used="2.2.1.2.2.3",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/3,this.p_power+=this.x_vzd/(14-Math.abs(this.rotace-45)/this.vzd_koef_k)/1.5+(i+R.instance.vitr/7-this.rotace)/5)):100<this.__transform.ty-this.target.__transform.ty&&this.__transform.tx-this.target.__transform.tx<100?(R.instance.z_f_used="2.2.2.1",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/2):(R.instance.z_f_used="2.2.2.2",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/2-(this.target.__transform.tx-this.__transform.tx)/100)),100<this.p_power&&(this.p_power=100),this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy,this.__transform.tx<this.target.__transform.tx?this.p_rotace<135&&(70<this.p_power&&(this.p_power-=(135-this.p_rotace)/2.5),this.p_rotace+=(135-this.p_rotace)/3):45<this.p_rotace&&(70<this.p_power&&(this.p_power-=(this.p_rotace-45)/2.5),this.p_rotace-=(this.p_rotace-45)/3)),this.p_power<0&&(this.p_power=0),this.p_rotace<0?this.p_rotace=0:180<this.p_rotace&&(this.p_rotace=180)},prepare_shot:function(){var t,e=!0;return t=Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace)<10?1:Math.floor((Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace))/10),Math.ceil(this.rotace)!=Math.ceil(this.p_rotace)&&(Math.ceil(this.p_rotace)<Math.ceil(this.rotace)&&0<=this.rotace-t?(e=!1,this.rotace-=t,R.instance.tur.play()):this.rotace+t<=180&&(e=!1,this.rotace+=t,R.instance.tur.play())),Math.ceil(this.power)!=Math.ceil(this.p_power)&&(Math.ceil(this.p_power)<Math.ceil(this.power)&&0<=this.power-t?(e=!1,this.power-=t):this.power+t<=180&&(e=!1,this.power+=t)),Math.round(this.p_x)!=Math.round(this.__transform.tx)&&0<R.instance.tank_[this.tank_number].fuel&&this.p_move&&(e=!1,Math.round(this.p_x)<Math.round(this.__transform.tx)?this.move_right():this.move_left()),e},select_target:function(){for(var t=1e3,e=1;R.instance.pocet_hracu>=e;){var i=Math.abs(this.__transform.tx-Jn.__cast(N.getChild(R.instance,"tank"+e),fu).__transform.tx);i<t&&e!=this.tank_number&&R.instance.tank_[e].live&&(t=i,this.target=Jn.__cast(N.getChild(R.instance,"tank"+e),fu),this.target_=R.instance.tank_[e]),++e}},na_rade:function(){this.rounds++,this.par_active=!1,this.calc_hill_up()},damage:function(t,e,i){for(var s=1,n=1,a=0;a<R.instance.tank_[this.tank_number].specials[9];)s/=1.12/n,n/=1.0002,++a;!this.sh_active||i?R.instance.tank_[this.tank_number].energy-=t*s:Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).damage(t,e),R.instance.tank_[this.tank_number].energy<=0&&(this!=e?(R.instance.tank_[e.tank_number].kills+=1,R.instance.tank_[e.tank_number].score+=5e3,R.instance.tank_[e.tank_number].total_score+=5e3):(R.instance.tank_[this.tank_number].kills-=1,R.instance.tank_[this.tank_number].score-=2e3,R.instance.tank_[this.tank_number].total_score-=2e3)),this!=e?(R.instance.tank_[e.tank_number].score+=100*t,R.instance.tank_[e.tank_number].total_score+=100*t):(i&&(t/=3),R.instance.tank_[this.tank_number].score-=Math.round(50*t),R.instance.tank_[this.tank_number].total_score-=Math.round(50*t),R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0))},fire:function(){R.instance.debugging&&this.save_inf(),this.last_wind=R.instance.vitr,this.first_frame=!0;var t=R.instance,e=R.instance.weapons[R.instance.tank_[this.tank_number].cur_gun][4],i=Dt.field(t,"strela");null!=i&&t.removeChild(i);var s=R.swfLite.createMovieClip(e);s.set_name("strela"),t.addChildAtSwfDepthExternal(s,1e3),t.strela=s,0!=R.instance.tank_[this.tank_number].cur_gun&&(R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]--,0==R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]&&(R.instance.tank_[this.tank_number].cur_gun=0)),R.instance.strela.set_rotation(this.rotace-90),R.instance.strela.set_x(this.__transform.tx),R.instance.strela.set_y(this.__transform.ty-1),R.instance.strela.strela.vo=this.power,R.instance.strela.strela.owner=N.getChild(R.instance,this.__name),N.getChild(R.instance,this.__name+"_hlaven").play(),this.playing=!1},save_inf:function(){R.instance.z_target=this.target,R.instance.z_target_name=this.target_.name,R.instance.z_target_energy=this.target_.energy,R.instance.z_target_live=this.target_.live,R.instance.z_name=R.instance.tank_[this.tank_number].name,R.instance.z_energy=R.instance.tank_[this.tank_number].energy,this.target.__transform.tx<this.__transform.tx?R.instance.z_pos="right":R.instance.z_pos="left",R.instance.z_x=this.__transform.tx,R.instance.z_y=this.__transform.ty,R.instance.z_tar_x=this.target.__transform.tx,R.instance.z_tar_y=this.target.__transform.ty,R.instance.z_last_vitr=this.last_wind,R.instance.z_vitr=R.instance.vitr,R.instance.z_wind_koef_vzd_koef=this.wind_koef_vzd_koef,R.instance.z_angle=this.rotace,R.instance.z_power=this.power,R.instance.z_y_koef=this.y_koef,R.instance.z_vzd_koef_k=this.vzd_koef_k,R.instance.z_last_shot_x=this.last_shot_x,R.instance.z_last_shot_y=this.last_shot_y,R.instance.z_last_shot_vzd=this.last_shot_vzd,R.instance.z_last_shot_y_vzd=this.y_vzd,R.instance.z_last_shot_x_vzd=this.x_vzd,R.instance.z_dif=this.dif},init:function(){this.dif=R.instance.tank_[this.tank_number].dif,this.set_y(N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).__transform.ty-N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).get_height()/2-4);for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2+t));this.hitTestObject(e)&&e.set_y(e.__transform.ty+(this.__transform.ty+this.get_height()/2-(e.__transform.ty-e.get_height()/2))),++t}0<R.instance.tank_[this.tank_number].specials[0]&&(this.par=!0);var i=R.instance,s=this.__name+"_hlaven",n=10010+this.tank_number,a=Dt.field(i,s);null!=a&&i.removeChild(a);var r=R.swfLite.createMovieClip("hlaven");r.set_name(s),i.addChildAtSwfDepthExternal(r,n),i[s]=r,this.rotace=2*O.random(67)+46,N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace),this.power=50,this.playing=!1,this.testing=!1,this.par_active=!1,this.par_out=!1,this.par_used=!1,this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number),this.first_shot=!0,this.first_frame=!0,this.calc_frame=!0,this.fuel_c=1/(R.instance.tank_[this.tank_number].specials[10]+1),this.rounds=0,this.p_move=!1,this.select_target()},frame2:function(){if(400<this.__transform.ty&&(R.instance.tank_[this.tank_number].live=!1,R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].score-=2e3,R.instance.hracu--,R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0),this.__targetFrame=4),R.instance.tank_[this.tank_number].energy<=0&&(R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].live=!1,this.__targetFrame=4),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.sh_active&&(Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_x(this.__transform.tx),Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_y(this.__transform.ty)),this.playing){if(!this.target_.live&&this.first_frame&&(this.rounds=1,this.select_target()),1==this.rounds){if(this.first_frame){for(var t=1;R.instance.pocet_hracu>=t;)Jn.__cast(N.getChild(R.instance,"tank"+t),fu).playing&&t!=this.tank_number&&R.instance.tank_[t].live&&(Jn.__cast(N.getChild(R.instance,"tank"+t),fu).playing=!1,R.instance.test()),++t;this.first_shot=!0,this.calc_first_shot()}}else this.first_frame&&this.calc_shot();this.first_frame=!1,R.instance.rotace=this.rotace,R.instance.power=this.power,this.prepare_shot()&&this.fire();var e=!1,i=0,s=500,n=!1;for(this.test_hill();i<this.get_width();){var a=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+i));if(null!=a){if(this.pasy.hitTestObject(a)){if(e=!0,this.par_out){this.par_out=!1;var r=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=r&&null!=r.parent){var o=r.parent;r.parent.removeChild(r),""!=r.__name&&Dt.deleteField(o,r.__name)}}.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*3e3),this,!0)),this.fall=0}var h=a.__transform.ty-a.get_height()/2;if(h<s&&e&&(n=!0,s=h),i+1>=this.get_width()&&e&&n&&(this.set_y(s-2),n=!1),!e){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var _=R.instance,l="parachute"+this.tank_number,u=9e3+this.tank_number,c=Dt.field(_,l);null!=c&&_.removeChild(c);var f=R.swfLite.createMovieClip("parachute");f.set_name(l),_.addChildAtSwfDepthExternal(f,u),_[l]=f}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++i}else++i}R.instance.tank_[this.tank_number].energy<this.power&&(this.power=R.instance.tank_[this.tank_number].energy),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace)}if(this.testing){var d=0,p=500,g=!1,m=!1;for(this.test_hill();d<this.get_width();){var v=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+d));if(null!=v){if(this.pasy.hitTestObject(v)){if(.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*80),this,!0)),this.par_out){this.par_out=!1;var b=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=b&&null!=b.parent){var y=b.parent;b.parent.removeChild(b),""!=b.__name&&Dt.deleteField(y,b.__name)}}m=!0,this.fall=0}var w=v.__transform.ty-v.get_height()/2;if(w<p&&m&&(g=!0,p=w),d+1>=this.get_width()&&m&&g&&(this.set_y(p-2),g=!1),.001<this.fall&&(this.test=!1),!m){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var x=R.instance,T="parachute"+this.tank_number,S=9e3+this.tank_number,C=Dt.field(x,T);null!=C&&x.removeChild(C);var E=R.swfLite.createMovieClip("parachute");E.set_name(T),x.addChildAtSwfDepthExternal(E,S),x[T]=E}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++d}else++d}.001<this.fall&&(this.test=!1),this.test_hill(),this.x3=this.x2,this.x2=this.x1,this.x1=Math.round(this.__transform.tx),this.y3=this.y2,this.y2=this.y1,this.y1=Math.round(10*this.__transform.ty)/10,this.y1==this.y3&&this.x1==this.x3&&(this.test=!0);var I=Math.abs(this.y1-this.y3)+Math.abs(this.x1-this.x3);++this.heightCount,(this.test||30<this.heightCount&&I<5)&&(this.testing=!1,R.instance[this.__name+"test"]=!1,this.heightCount=0),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.test=!0}},frame3:function(){this.gotoAndPlay(2)},frame4:function(){if(null==this.__targetFrame||4==this.__targetFrame){var t=N.getChild(R.instance,this.__name+"_hlaven");if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}var i=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=i&&null!=i.parent){var s=i.parent;i.parent.removeChild(i),""!=i.__name&&Dt.deleteField(s,i.__name)}var n=N.getChild(R.instance,"shield"+this.tank_number);if(null!=n&&null!=n.parent){var a=n.parent;n.parent.removeChild(n),""!=n.__name&&Dt.deleteField(a,n.__name)}R.instance.hracu--}},frame9:function(){if(null==this.__targetFrame||9==this.__targetFrame){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+t));if(null!=e){var i=e.__transform.tx,s=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(i,s,!0)){var n=Math.cos(Math.sqrt((this.__transform.tx-i)*(this.__transform.tx-i)+(this.__transform.ty-s)*(this.__transform.ty-s))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*n),e.set_y(e.__transform.ty+15*n)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(0-this.get_width()/2+t)))&&(e.set_height(e.get_height()-50/Math.abs(this.__transform.tx-i)),e.set_y(e.__transform.ty+50/Math.abs(this.__transform.tx-i)/2))}++t}for(t=1;R.instance.pocet_hracu>=t;){var a=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if((this.hitTestObject(a)||this.hitTestObject(N.getChild(R.instance,"shield"+t)))&&t!=this.tank_number){var r,o=this.__transform.tx-a.__transform.tx,h=this.__transform.ty-a.__transform.ty,_=Math.sqrt(o*o+h*h);a.sh_active?r=Math.round(this.get_width()/((_/2+1)/18)):(r=Math.round(this.get_width()/((_+1)/14)),R.instance.tank_[t].energy<r&&(r=R.instance.tank_[t].energy)),a.damage(r,this)}++t}}},frame15:function(){null!=this.__targetFrame&&15!=this.__targetFrame||(this.playing&&R.instance.test(),this.stop())},__class__:pu});var gu=function(t,e){this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(8,Gf(this,this.frame9)),this.addFrameScript(14,Gf(this,this.frame15)),fu.call(this,t,e),this.isBot=!0};(i["scripts.Ai_normal"]=gu).__name__=["scripts","Ai_normal"],gu.__super__=fu,gu.prototype=s(fu.prototype,{blik:function(){var t=R.instance,e=Dt.field(t,"blik");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("blk");i.set_name("blik"),t.addChildAtSwfDepthExternal(i,10030),t.blik=i,R.instance.blik.set_x(this.__transform.tx),R.instance.blik.set_y(this.__transform.ty-10)},calc_hill_up:function(){this.hill_up=.5+R.instance.tank_[this.tank_number].specials[11]-10*this.fall},move_left:function(){this.set_x(this.__transform.tx-.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx+.6),++t},move_right:function(){this.set_x(this.__transform.tx+.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx-.6),++t},activate_shield:function(t){var e=R.instance,i=R.instance.specials[2+t][4],s="shield"+this.tank_number,n=5040+this.tank_number,a=Dt.field(e,s);null!=a&&e.removeChild(a);var r=R.swfLite.createMovieClip(i);r.set_name(s),e.addChildAtSwfDepthExternal(r,n),e[s]=r,Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).num=this.tank_number,R.instance.tank_[this.tank_number].specials[2+t]--,this.sh_active=!0,R.instance._t[this.tank_number]=Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc)},disable_shield:function(){Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).disable(),this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number)},p_m:function(t){return 0<t?1:-1},calc_first_shot:function(){R.instance.z_ai_dif="hard",this.p_rotace=90+45*this.p_m(this.target.__transform.tx-this.__transform.tx),this.p_x=this.__transform.tx,this.p_power=Math.abs(this.__transform.tx-this.target.__transform.tx)/(2+Math.abs(this.__transform.tx-this.target.__transform.tx)/110),this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy)},calc_shot:function(){this.last_shot_vzd=Math.sqrt(Math.abs((this.__transform.tx-this.last_shot_x)*(this.__transform.tx-this.last_shot_x))+Math.abs((this.__transform.ty-this.last_shot_y)*(this.__transform.ty-this.last_shot_y)));var t=Math.sqrt(Math.abs((this.__transform.tx-this.target.__transform.tx)*(this.__transform.tx-this.target.__transform.tx))+Math.abs((this.__transform.ty-this.target.__transform.ty)*(this.__transform.ty-this.target.__transform.ty)));this.x_vzd=Math.abs(this.last_shot_x-this.target.__transform.tx),this.y_vzd=Math.abs(this.last_shot_y-this.target.__transform.ty),this.power>=R.instance.tank_[this.tank_number].energy||100==this.power?this.full_power=!0:this.full_power=!1;this.wind_koef_vzd_koef=500;this.vzd_koef_k=12+Math.abs(this.__transform.tx-this.last_shot_x)/80;this.y_koef=40;var e=106-(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30,i=74+(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30;this.__transform.tx<this.target.__transform.tx?(this.wind_koef_vzd_koef-=3*(180-this.rotace),this.y_koef+=1.7*(135-this.rotace),this.last_shot_x<this.__transform.tx?(R.instance.z_f_used="1.1",this.p_rotace+=(this.__transform.tx-this.last_shot_x)/10+(this.target.__transform.tx-this.__transform.tx)/20-R.instance.vitr/50):(60<this.last_shot_vzd||t<70||this.power<10)&&(this.power<70||200<this.last_shot_vzd)?(R.instance.z_f_used="1.2.1.failed",this.last_shot_x>=this.target.__transform.tx?20<this.x_vzd?(R.instance.z_f_used="1.2.1.1.1",this.p_power-=this.x_vzd/(20.5-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="1.2.1.1.2",this.p_power-=this.x_vzd/(17-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&this.y_vzd<80&&20<this.y_vzd&&this.last_shot_vzd<100&&220<t&&30<this.power&&e-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.1.1",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4+R.instance.vitr/20-t/100):this.rotace<e-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.1.2.",this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="1.2.1.2.1.1.3",this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.1.4.1",this.p_power+=this.x_vzd/6-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):e-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.1.4.2.1",this.p_power+=this.x_vzd/36-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/50+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(e-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.1.4.2.2",this.p_power+=this.x_vzd/36-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/50-R.instance.vitr/15),this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4.5+this.y_vzd/50)):this.target.__transform.ty-this.__transform.ty<70&&this.y_vzd<100&&20<this.y_vzd&&this.last_shot_vzd<100&&250<t&&30<this.power&&e-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.2.1",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4.5+R.instance.vitr/20-t/100):this.rotace<e-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.2.2",this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="1.2.1.2.1.2.3",this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?(R.instance.z_f_used="1.2.1.2.1.2.4.1",120<this.p_rotace?(R.instance.z_f_used="1.2.1.2.1.2.4.1.1",this.p_power+=this.x_vzd/12-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.1.2.4.1.2",this.p_power+=this.x_vzd/9-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef))):300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.2.4.2.",this.p_power+=this.x_vzd/6-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):e-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.2.4.3.1.",this.p_power+=this.x_vzd/36-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-this.y_vzd/50+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(e-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.2.4.3.2.",this.p_power+=this.x_vzd/36-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-this.y_vzd/50-R.instance.vitr/15),this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/4.5+this.y_vzd/50)):this.last_shot_vzd<150&&this.target.__transform.tx-this.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="1.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="1.2.1.2.2.1.2.1",this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.2.1.2.2",this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.rotace<e-5-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.2.2",this.p_rotace+=(135-this.rotace)/10+this.target.__transform.tx-this.__transform.tx/100):(R.instance.z_f_used="1.2.1.2.2.3",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/2,this.p_power+=this.x_vzd/(18-Math.abs(135-this.rotace)/this.vzd_koef_k)/1.5+(this.rotace-(e-R.instance.vitr/7))/5)):100<this.__transform.ty-this.target.__transform.ty&&this.target.__transform.tx-this.__transform.tx<100?(R.instance.z_f_used="1.2.2.1",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/2):(R.instance.z_f_used="1.2.2.2",this.p_rotace-=(this.rotace-(e-R.instance.vitr/7))/2-(this.target.__transform.tx-this.__transform.tx)/100)):(this.wind_koef_vzd_koef-=3*this.rotace,this.y_koef+=1.7*(this.rotace-45),this.__transform.tx<this.last_shot_x?(R.instance.z_f_used="2.1",this.p_rotace-=(this.last_shot_x-this.__transform.tx)/10+(this.__transform.tx-this.target.__transform.tx)/20+R.instance.vitr/50):(60<this.last_shot_vzd||t<70||this.power<10)&&(this.power<70||200<this.last_shot_vzd)?(R.instance.z_f_used="2.2.1.failed",this.target.__transform.tx>=this.last_shot_x?20<this.x_vzd?(R.instance.z_f_used="2.2.1.1.1",this.p_power-=this.x_vzd/(20.5-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="2.2.1.1.2",this.p_power-=this.x_vzd/(17-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&this.y_vzd<80&&20<this.y_vzd&&this.last_shot_vzd<100&&220<t&&30<this.power&&i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.1",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4-R.instance.vitr/20-t/100):i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.2",this.p_power+=this.x_vzd/(18-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="2.2.1.2.1.1.3",this.p_power+=this.x_vzd/(18-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.1",this.p_power+=this.x_vzd/6+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)):this.rotace<i+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.2.1",this.p_power+=this.x_vzd/36+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/50+(this.rotace-45)/8+R.instance.vitr/15+(i+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.1.4.2.2",this.p_power+=this.x_vzd/36+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/50+R.instance.vitr/15),this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4.5+this.y_vzd/50)):this.target.__transform.ty-this.__transform.ty<70&&this.y_vzd<100&&20<this.y_vzd&&this.last_shot_vzd<100&&250<t&&30<this.power&&this.rotace<i-R.instance.vitr/7?(R.instance.z_f_used="2.2.1.2.1.2.1",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4.5-R.instance.vitr/20-t/100):i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.2",this.p_power+=this.x_vzd/(18-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.y_vzd<30&&this.x_vzd<200?(R.instance.z_f_used="2.2.1.2.1.2.3",this.p_power+=this.x_vzd/(18-Math.abs(45-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=this.y_vzd&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?this.p_rotace<60?(R.instance.z_f_used="2.2.1.2.1.2.4.1.1",this.p_power+=this.x_vzd/12+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.1.2.4.1.2",this.p_power+=this.x_vzd/9+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.2",this.p_power+=this.x_vzd/6+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.rotace<i+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.3.1",this.p_power+=this.x_vzd/36+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/50+(this.rotace-45)/8+R.instance.vitr/15+(i+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.2.4.3.2",this.p_power+=this.x_vzd/36+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+this.y_vzd/50+R.instance.vitr/15),this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/4.5+this.y_vzd/50)):this.last_shot_vzd<150&&this.__transform.tx-this.target.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=this.x_vzd/(18-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="2.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="2.2.1.2.2.1.2.1",this.p_power+=this.x_vzd/(18-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.2.1.2.2",this.p_power+=this.x_vzd/(18-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(15-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):5+i+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.2.2",this.p_rotace-=(this.rotace-45)/10+this.__transform.tx-this.target.__transform.tx/100):(R.instance.z_f_used="2.2.1.2.2.3",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/3,this.p_power+=this.x_vzd/(18-Math.abs(this.rotace-45)/this.vzd_koef_k)/1.5+(i+R.instance.vitr/7-this.rotace)/5)):100<this.__transform.ty-this.target.__transform.ty&&this.__transform.tx-this.target.__transform.tx<100?(R.instance.z_f_used="2.2.2.1",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/2):(R.instance.z_f_used="2.2.2.2",this.p_rotace+=(i+R.instance.vitr/7-this.rotace)/2-(this.target.__transform.tx-this.__transform.tx)/100)),100<this.p_power&&(this.p_power=100),this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy,this.__transform.tx<this.target.__transform.tx?this.p_rotace<135&&(70<this.p_power&&(this.p_power-=(135-this.p_rotace)/2.5),this.p_rotace+=(135-this.p_rotace)/3):45<this.p_rotace&&(70<this.p_power&&(this.p_power-=(this.p_rotace-45)/2.5),this.p_rotace-=(this.p_rotace-45)/3)),this.p_power<0&&(this.p_power=0),this.p_rotace<0?this.p_rotace=0:180<this.p_rotace&&(this.p_rotace=180)},prepare_shot:function(){var t,e=!0;return t=Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace)<10?1:Math.floor((Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace))/10),Math.ceil(this.rotace)!=Math.ceil(this.p_rotace)&&(Math.ceil(this.p_rotace)<Math.ceil(this.rotace)&&0<=this.rotace-t?(e=!1,this.rotace-=t,R.instance.tur.play()):this.rotace+t<=180&&(e=!1,this.rotace+=t,R.instance.tur.play())),Math.ceil(this.power)!=Math.ceil(this.p_power)&&(Math.ceil(this.p_power)<Math.ceil(this.power)&&0<=this.power-t?(e=!1,this.power-=t):this.power+t<=180&&(e=!1,this.power+=t)),Math.round(this.p_x)!=Math.round(this.__transform.tx)&&0<R.instance.tank_[this.tank_number].fuel&&this.p_move&&(e=!1,Math.round(this.p_x)<Math.round(this.__transform.tx)?this.move_right():this.move_left()),e},select_target:function(){for(var t=1e3,e=1;R.instance.pocet_hracu>=e;){var i=Math.abs(this.__transform.tx-Jn.__cast(N.getChild(R.instance,"tank"+e),fu).__transform.tx);i<t&&e!=this.tank_number&&R.instance.tank_[e].live&&(t=i,this.target=Jn.__cast(N.getChild(R.instance,"tank"+e),fu),this.target_=R.instance.tank_[e]),++e}},na_rade:function(){this.rounds++,this.par_active=!1,this.calc_hill_up()},damage:function(t,e,i){for(var s=1,n=1,a=0;a<R.instance.tank_[this.tank_number].specials[9];)s/=1.12/n,n/=1.0002,++a;!this.sh_active||i?R.instance.tank_[this.tank_number].energy-=t*s:Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).damage(t,e),R.instance.tank_[this.tank_number].energy<=0&&(this!=e?(R.instance.tank_[e.tank_number].kills+=1,R.instance.tank_[e.tank_number].score+=5e3,R.instance.tank_[e.tank_number].total_score+=5e3):(R.instance.tank_[this.tank_number].kills-=1,R.instance.tank_[this.tank_number].score-=2e3,R.instance.tank_[this.tank_number].total_score-=2e3)),this!=e?(R.instance.tank_[e.tank_number].score+=100*t,R.instance.tank_[e.tank_number].total_score+=100*t):(i&&(t/=3),R.instance.tank_[this.tank_number].score-=Math.round(50*t),R.instance.tank_[this.tank_number].total_score-=Math.round(50*t),R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0))},fire:function(){R.instance.debugging&&this.save_inf(),this.last_wind=R.instance.vitr,this.first_frame=!0;var t=R.instance,e=R.instance.weapons[R.instance.tank_[this.tank_number].cur_gun][4],i=Dt.field(t,"strela");null!=i&&t.removeChild(i);var s=R.swfLite.createMovieClip(e);s.set_name("strela"),t.addChildAtSwfDepthExternal(s,1e3),t.strela=s,0!=R.instance.tank_[this.tank_number].cur_gun&&(R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]--,0==R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]&&(R.instance.tank_[this.tank_number].cur_gun=0)),R.instance.strela.set_rotation(this.rotace-90),R.instance.strela.set_x(this.__transform.tx),R.instance.strela.set_y(this.__transform.ty-1),R.instance.strela.strela.vo=this.power,R.instance.strela.strela.owner=N.getChild(R.instance,this.__name),N.getChild(R.instance,this.__name+"_hlaven").play(),this.playing=!1},save_inf:function(){R.instance.z_target=this.target,R.instance.z_target_name=this.target_.name,R.instance.z_target_energy=this.target_.energy,R.instance.z_target_live=this.target_.live,R.instance.z_name=R.instance.tank_[this.tank_number].name,R.instance.z_energy=R.instance.tank_[this.tank_number].energy,this.target.__transform.tx<this.__transform.tx?R.instance.z_pos="right":R.instance.z_pos="left",R.instance.z_x=this.__transform.tx,R.instance.z_y=this.__transform.ty,R.instance.z_tar_x=this.target.__transform.tx,R.instance.z_tar_y=this.target.__transform.ty,R.instance.z_last_vitr=this.last_wind,R.instance.z_vitr=R.instance.vitr,R.instance.z_wind_koef_vzd_koef=this.wind_koef_vzd_koef,R.instance.z_angle=this.rotace,R.instance.z_power=this.power,R.instance.z_y_koef=this.y_koef,R.instance.z_vzd_koef_k=this.vzd_koef_k,R.instance.z_last_shot_x=this.last_shot_x,R.instance.z_last_shot_y=this.last_shot_y,R.instance.z_last_shot_vzd=this.last_shot_vzd,R.instance.z_last_shot_y_vzd=this.y_vzd,R.instance.z_last_shot_x_vzd=this.x_vzd,R.instance.z_dif=this.dif},init:function(){this.dif=R.instance.tank_[this.tank_number].dif,this.set_y(N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).__transform.ty-N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).get_height()/2-4);for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2+t));this.hitTestObject(e)&&e.set_y(e.__transform.ty+(this.__transform.ty+this.get_height()/2-(e.__transform.ty-e.get_height()/2))),++t}0<R.instance.tank_[this.tank_number].specials[0]&&(this.par=!0);var i=R.instance,s=this.__name+"_hlaven",n=10010+this.tank_number,a=Dt.field(i,s);null!=a&&i.removeChild(a);var r=R.swfLite.createMovieClip("hlaven");r.set_name(s),i.addChildAtSwfDepthExternal(r,n),i[s]=r,this.rotace=2*O.random(67)+46,N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace),this.power=50,this.playing=!1,this.testing=!1,this.par_active=!1,this.par_out=!1,this.par_used=!1,this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number),this.first_shot=!0,this.first_frame=!0,this.calc_frame=!0,this.fuel_c=1/(R.instance.tank_[this.tank_number].specials[10]+1),this.rounds=0,this.p_move=!1,this.select_target()},frame2:function(){400<this.__transform.ty&&(R.instance.tank_[this.tank_number].live=!1,R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].score-=2e3,R.instance.hracu--,R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0),this.__targetFrame=4),R.instance.tank_[this.tank_number].energy<=0&&(R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].live=!1,this.__targetFrame=4),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.sh_active&&(Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_x(this.__transform.tx),Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_y(this.__transform.ty));var t=!1;if(this.playing){if(!this.target_.live&&this.first_frame&&(this.rounds=1,this.select_target()),1==this.rounds){if(this.first_frame){for(var e=1;R.instance.pocet_hracu>=e;)Jn.__cast(N.getChild(R.instance,"tank"+e),fu).playing&&e!=this.tank_number&&R.instance.tank_[e].live&&(Jn.__cast(N.getChild(R.instance,"tank"+e),fu).playing=!1,R.instance.test()),++e;this.first_shot=!0,this.calc_first_shot()}}else this.first_frame&&this.calc_shot();this.first_frame=!1,R.instance.rotace=this.rotace,R.instance.power=this.power,this.prepare_shot()&&this.fire();t=!1;var i=0,s=500,n=!1;for(this.test_hill();i<this.get_width();){var a=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+i));if(null!=a){if(this.pasy.hitTestObject(a)){if(t=!0,this.par_out){this.par_out=!1;var r=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=r&&null!=r.parent){var o=r.parent;r.parent.removeChild(r),""!=r.__name&&Dt.deleteField(o,r.__name)}}.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*3e3),this,!0)),this.fall=0}var h=a.__transform.ty-a.get_height()/2;if(h<s&&t&&(n=!0,s=h),i+1>=this.get_width()&&t&&n&&(this.set_y(s-2),n=!1),!t){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var _=R.instance,l="parachute"+this.tank_number,u=9e3+this.tank_number,c=Dt.field(_,l);null!=c&&_.removeChild(c);var f=R.swfLite.createMovieClip("parachute");f.set_name(l),_.addChildAtSwfDepthExternal(f,u),_[l]=f}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++i}else++i}R.instance.tank_[this.tank_number].energy<this.power&&(this.power=R.instance.tank_[this.tank_number].energy),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace)}if(this.testing){var d=0,p=500,g=!1;for(this.test_hill();d<this.get_width();){var m=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+d));if(null!=m){if(this.pasy.hitTestObject(m)){if(.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*80),this,!0)),this.par_out){this.par_out=!1;var v=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=v&&null!=v.parent){var b=v.parent;v.parent.removeChild(v),""!=v.__name&&Dt.deleteField(b,v.__name)}}t=!0,this.fall=0}var y=m.__transform.ty-m.get_height()/2;if(y<p&&t&&(g=!0,p=y),d+1>=this.get_width()&&t&&g&&(this.set_y(p-2),g=!1),.001<this.fall&&(this.test=!1),!t){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var w=R.instance,x="parachute"+this.tank_number,T=9e3+this.tank_number,S=Dt.field(w,x);null!=S&&w.removeChild(S);var C=R.swfLite.createMovieClip("parachute");C.set_name(x),w.addChildAtSwfDepthExternal(C,T),w[x]=C}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++d}else++d}.001<this.fall&&(this.test=!1),this.test_hill(),this.x3=this.x2,this.x2=this.x1,this.x1=Math.round(this.__transform.tx),this.y3=this.y2,this.y2=this.y1,this.y1=Math.round(10*this.__transform.ty)/10,this.y1==this.y3&&this.x1==this.x3&&(this.test=!0);var E=Math.abs(this.y1-this.y3)+Math.abs(this.x1-this.x3);++this.heightCount,(this.test||30<this.heightCount&&E<5)&&(this.testing=!1,R.instance[this.__name+"test"]=!1,this.heightCount=0),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.test=!0}},frame3:function(){this.gotoAndPlay(2)},frame4:function(){if(null==this.__targetFrame||4==this.__targetFrame){var t=N.getChild(R.instance,this.__name+"_hlaven");if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}var i=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=i&&null!=i.parent){var s=i.parent;i.parent.removeChild(i),""!=i.__name&&Dt.deleteField(s,i.__name)}var n=N.getChild(R.instance,"shield"+this.tank_number);if(null!=n&&null!=n.parent){var a=n.parent;n.parent.removeChild(n),""!=n.__name&&Dt.deleteField(a,n.__name)}R.instance.hracu--}},frame9:function(){if(null==this.__targetFrame||9==this.__targetFrame){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+t));if(null!=e){var i=e.__transform.tx,s=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(i,s,!0)){var n=Math.cos(Math.sqrt((this.__transform.tx-i)*(this.__transform.tx-i)+(this.__transform.ty-s)*(this.__transform.ty-s))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*n),e.set_y(e.__transform.ty+15*n)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(0-this.get_width()/2+t)))&&(e.set_height(e.get_height()-50/Math.abs(this.__transform.tx-i)),e.set_y(e.__transform.ty+50/Math.abs(this.__transform.tx-i)/2))}++t}for(t=1;R.instance.pocet_hracu>=t;){var a=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if((this.hitTestObject(a)||this.hitTestObject(N.getChild(R.instance,"shield"+t)))&&t!=this.tank_number){var r,o=this.__transform.tx-a.__transform.tx,h=this.__transform.ty-a.__transform.ty,_=Math.sqrt(o*o+h*h);a.sh_active?r=Math.round(this.get_width()/((_/2+1)/18)):(r=Math.round(this.get_width()/((_+1)/14)),R.instance.tank_[t].energy<r&&(r=R.instance.tank_[t].energy)),a.damage(r,this)}++t}}},frame15:function(){null!=this.__targetFrame&&15!=this.__targetFrame||(this.playing&&R.instance.test(),this.stop())},__class__:gu});var mu=function(t,e){this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(8,Gf(this,this.frame9)),this.addFrameScript(14,Gf(this,this.frame15)),fu.call(this,t,e,!0),this.isBot=!0};(i["scripts.Ai_very_easy"]=mu).__name__=["scripts","Ai_very_easy"],mu.__super__=fu,mu.prototype=s(fu.prototype,{blik:function(){var t=R.instance,e=Dt.field(t,"blik");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("blk");i.set_name("blik"),t.addChildAtSwfDepthExternal(i,10030),t.blik=i,R.instance.blik.set_x(this.__transform.tx),R.instance.blik.set_y(this.__transform.ty-10)},calc_hill_up:function(){this.hill_up=.5+R.instance.tank_[this.tank_number].specials[11]-10*this.fall},move_left:function(){var t=R.instance.tank_[this.tank_number];this.set_x(this.__transform.tx-.5),t.fuel-=this.fuel_c,this.moving=!0;for(var e=1;e<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+e),fu))&&e!=this.tank_number&&this.set_x(this.__transform.tx+.6),++e},move_right:function(){this.set_x(this.__transform.tx+.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx-.6),++t},activate_shield:function(t){var e=R.instance,i=R.instance.specials[2+t][4],s="shield"+this.tank_number,n=5040+this.tank_number,a=Dt.field(e,s);null!=a&&e.removeChild(a);var r=R.swfLite.createMovieClip(i);r.set_name(s),e.addChildAtSwfDepthExternal(r,n),e[s]=r,Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).num=this.tank_number,R.instance.tank_[this.tank_number].specials[2+t]--,this.sh_active=!0,R.instance._t[this.tank_number]=Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc)},disable_shield:function(){Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).disable(),this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number)},p_m:function(t){return 0<t?1:-1},calc_first_shot:function(){R.instance.z_ai_dif="hard",this.p_rotace=90+45*this.p_m(this.target.__transform.tx-this.__transform.tx),this.p_x=this.__transform.tx,this.p_power=Math.abs(this.__transform.tx-this.target.__transform.tx)/(2+Math.abs(this.__transform.tx-this.target.__transform.tx)/120);var t=R.instance.tank_[this.tank_number];this.p_power>=t.energy&&(this.p_power=t.energy)},calc_shot:function(){this.last_shot_vzd=Math.sqrt(Math.abs((this.__transform.tx-this.last_shot_x)*(this.__transform.tx-this.last_shot_x))+Math.abs((this.__transform.ty-this.last_shot_y)*(this.__transform.ty-this.last_shot_y)));var t=Math.sqrt(Math.abs((this.__transform.tx-this.target.__transform.tx)*(this.__transform.tx-this.target.__transform.tx))+Math.abs((this.__transform.ty-this.target.__transform.ty)*(this.__transform.ty-this.target.__transform.ty))),e=Math.abs(this.last_shot_x-this.target.__transform.tx),i=Math.abs(this.last_shot_y-this.target.__transform.ty);this.power>=R.instance.tank_[this.tank_number].energy||100==this.power?this.full_power=!0:this.full_power=!1;this.wind_koef_vzd_koef=380;var s=10.9;this.vzd_koef_k=7+Math.abs(this.__transform.tx-this.last_shot_x)/80;var n=22,a=100-(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30,r=80+(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30;this.__transform.tx<this.target.__transform.tx?(this.wind_koef_vzd_koef-=3*(180-this.rotace),n+=1.7*(135-this.rotace),this.last_shot_x<this.__transform.tx?(R.instance.z_f_used="1.1",this.p_rotace+=(this.__transform.tx-this.last_shot_x)/10+(this.target.__transform.tx-this.__transform.tx)/20-R.instance.vitr/50):60<this.last_shot_vzd||t<70||this.power<10?(R.instance.z_f_used="1.2.1.failed",this.last_shot_x>=this.target.__transform.tx?20<e?(R.instance.z_f_used="1.2.1.1.1",this.p_power-=e/(13.4-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/n):(R.instance.z_f_used="1.2.1.1.2",this.p_power-=e/(9.9-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&i<80&&20<i&&this.last_shot_vzd<100&&220<t&&30<this.power&&a-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.1.1",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4+R.instance.vitr/20-t/100):this.rotace<a-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.1.2.",this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):i<30&&e<200?(R.instance.z_f_used="1.2.1.2.1.1.3",this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):30<=i&&(300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.1.4.1",this.p_power+=e/(s/3)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):a-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.1.4.2.1",this.p_power+=e/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+i/30+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(a-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.1.4.2.2",this.p_power+=e/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+i/30-R.instance.vitr/15),this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4.5+i/30)):this.target.__transform.ty-this.__transform.ty<70&&i<100&&20<i&&this.last_shot_vzd<100&&250<t&&30<this.power&&a-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.2.1",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4.5+R.instance.vitr/20-t/100):this.rotace<a-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.2.2",this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):i<30&&e<200?(R.instance.z_f_used="1.2.1.2.1.2.3",this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):30<=i&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?(R.instance.z_f_used="1.2.1.2.1.2.4.1",120<this.p_rotace?(R.instance.z_f_used="1.2.1.2.1.2.4.1.1",this.p_power+=e/(s/1.5)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.1.2.4.1.2",this.p_power+=e/5.45-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef))):300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.2.4.2.",this.p_power+=e/(s/3)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):a-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.2.4.3.1.",this.p_power+=e/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-i/30+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(a-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.2.4.3.2.",this.p_power+=e/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-i/30-R.instance.vitr/15),this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4.5+i/30)):this.last_shot_vzd<150&&this.target.__transform.tx-this.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n,R.instance.z_f_used="1.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="1.2.1.2.2.1.2.1",this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.2.1.2.2",this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):this.rotace<a-5-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.2.2",this.p_rotace+=(135-this.rotace)/10+this.target.__transform.tx-this.__transform.tx/100):(R.instance.z_f_used="1.2.1.2.2.3",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/2,this.p_power+=e/(s-Math.abs(135-this.rotace)/this.vzd_koef_k)/1.5+(this.rotace-(a-R.instance.vitr/7))/5)):100<this.__transform.ty-this.target.__transform.ty&&this.target.__transform.tx-this.__transform.tx<100?(R.instance.z_f_used="1.2.2.1",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/2):(R.instance.z_f_used="1.2.2.2",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/2-(this.target.__transform.tx-this.__transform.tx)/100)):(this.wind_koef_vzd_koef-=3*this.rotace,n+=1.7*(this.rotace-45),this.__transform.tx<this.last_shot_x?(R.instance.z_f_used="2.1",this.p_rotace-=(this.last_shot_x-this.__transform.tx)/10+(this.__transform.tx-this.target.__transform.tx)/20+R.instance.vitr/50):60<this.last_shot_vzd||t<70||this.power<10?(R.instance.z_f_used="2.2.1.failed",this.target.__transform.tx>=this.last_shot_x?20<e?(R.instance.z_f_used="2.2.1.1.1",this.p_power-=e/(13.4-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/n):(R.instance.z_f_used="2.2.1.1.2",this.p_power-=e/(9.9-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&i<80&&20<i&&this.last_shot_vzd<100&&220<t&&30<this.power&&r+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.1",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4-R.instance.vitr/20-t/100):r+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.2",this.p_power+=e/(s-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):i<30&&e<200?(R.instance.z_f_used="2.2.1.2.1.1.3",this.p_power+=e/(s-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):30<=i&&(300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.1",this.p_power+=e/(s/3)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)):this.rotace<r+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.2.1",this.p_power+=e/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+i/30+(this.rotace-45)/8+R.instance.vitr/15+(r+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.1.4.2.2",this.p_power+=e/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+i/30+R.instance.vitr/15),this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4.5+i/30)):this.target.__transform.ty-this.__transform.ty<70&&i<100&&20<i&&this.last_shot_vzd<100&&250<t&&30<this.power&&this.rotace<r-R.instance.vitr/7?(R.instance.z_f_used="2.2.1.2.1.2.1",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4.5-R.instance.vitr/20-t/100):r+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.2",this.p_power+=e/(s-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):i<30&&e<200?(R.instance.z_f_used="2.2.1.2.1.2.3",this.p_power+=e/(s-Math.abs(45-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):30<=i&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?this.p_rotace<60?(R.instance.z_f_used="2.2.1.2.1.2.4.1.1",this.p_power+=e/(s/1.5)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.1.2.4.1.2",this.p_power+=e/5.45+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.2",this.p_power+=e/(s/3)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.rotace<r+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.3.1",this.p_power+=e/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+i/30+(this.rotace-45)/8+R.instance.vitr/15+(r+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.2.4.3.2",this.p_power+=e/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+i/30+R.instance.vitr/15),this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4.5+i/30)):this.last_shot_vzd<150&&this.__transform.tx-this.target.__transform.tx<170||100<=this.last_shot_vzd||this.last_shot_vzd<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=e/(s-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n,R.instance.z_f_used="2.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="2.2.1.2.2.1.2.1",this.p_power+=e/(s-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.2.1.2.2",this.p_power+=e/(s-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/n):this.rotace<5+r+R.instance.vitr/7?(R.instance.z_f_used="2.2.1.2.2.2",this.p_rotace-=(this.rotace-45)/10+this.__transform.tx-this.target.__transform.tx/100):(R.instance.z_f_used="2.2.1.2.2.3",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/3,this.p_power+=e/(s-Math.abs(this.rotace-45)/this.vzd_koef_k)/1.5+(r+R.instance.vitr/7-this.rotace)/5)):100<this.__transform.ty-this.target.__transform.ty&&this.__transform.tx-this.target.__transform.tx<100?(R.instance.z_f_used="2.2.2.1",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/2):(R.instance.z_f_used="2.2.2.2",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/2-(this.target.__transform.tx-this.__transform.tx)/100)),100<this.p_power&&(this.p_power=100);var o=R.instance.tank_[this.tank_number];this.p_power>=o.energy&&(this.p_power=o.energy,this.__transform.tx<this.target.__transform.tx?this.p_rotace<135&&(70<this.p_power&&(this.p_power-=(135-this.p_rotace)/2.5),this.p_rotace+=(135-this.p_rotace)/3):45<this.p_rotace&&(70<this.p_power&&(this.p_power-=(this.p_rotace-45)/2.5),this.p_rotace-=(this.p_rotace-45)/3)),this.p_power<0&&(this.p_power=0),this.p_rotace<0?this.p_rotace=0:180<this.p_rotace&&(this.p_rotace=180)},prepare_shot:function(){var t,e=!0;return t=Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace)<10?1:Math.floor((Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace))/10),Math.ceil(this.rotace)!=Math.ceil(this.p_rotace)&&(Math.ceil(this.p_rotace)<Math.ceil(this.rotace)&&0<=this.rotace-t?(e=!1,this.rotace-=t,R.instance.tur.play()):this.rotace+t<=180&&(e=!1,this.rotace+=t,R.instance.tur.play())),Math.ceil(this.power)!=Math.ceil(this.p_power)&&(Math.ceil(this.p_power)<Math.ceil(this.power)&&0<=this.power-t?(e=!1,this.power-=t):this.power+t<=180&&(e=!1,this.power+=t)),Math.round(this.p_x)!=Math.round(this.__transform.tx)&&0<R.instance.tank_[this.tank_number].fuel&&this.p_move&&(e=!1,Math.round(this.p_x)<Math.round(this.__transform.tx)?this.move_right():this.move_left()),e},select_target:function(){for(var t=1e3,e=1;R.instance.pocet_hracu>=e;){var i=R.instance.tank_[e],s=Math.abs(this.__transform.tx-N.getChild(R.instance,"tank"+e).__transform.tx);s<t&&e!=this.tank_number&&i.live&&(t=s,this.target=Jn.__cast(N.getChild(R.instance,"tank"+e),fu),this.target_=i),++e}},na_rade:function(){this.rounds++,this.par_active=!1,this.calc_hill_up()},damage:function(t,e,i){for(var s=1,n=1,a=0,r=R.instance.tank_[this.tank_number];a<r.specials[9];)s/=1.12/n,n/=1.0002,++a;if(!this.sh_active||i?r.energy-=t*s:Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).damage(t,e),r.energy<=0)if(this!=e){var o=R.instance.tank_[e.tank_number];o.kills+=1,o.score+=5e3,o.total_score+=5e3}else r.kills-=1,r.score-=2e3,r.total_score-=2e3;if(this!=e){var h=R.instance.tank_[e.tank_number];h.score+=100*t,h.total_score+=100*t}else i&&(t/=3),r.score-=Math.round(50*t),r.total_score-=Math.round(50*t),r.score<0&&(r.score=0)},fire:function(){R.instance.debugging&&this.save_inf();var t=R.instance.tank_[this.tank_number];this.last_wind=R.instance.vitr,this.first_frame=!0;var e=R.instance,i=R.instance.weapons[t.cur_gun][4],s=Dt.field(e,"strela");null!=s&&e.removeChild(s);var n=R.swfLite.createMovieClip(i);n.set_name("strela"),e.addChildAtSwfDepthExternal(n,1e3),e.strela=n,0!=t.cur_gun&&(t.guns[t.cur_gun]--,0==t.guns[t.cur_gun]&&(t.cur_gun=0)),R.instance.strela.set_rotation(this.rotace-90),R.instance.strela.set_x(this.__transform.tx),R.instance.strela.set_y(this.__transform.ty-1),R.instance.strela.strela.vo=this.power,R.instance.strela.strela.owner=N.getChild(R.instance,this.__name),N.getChild(R.instance,this.__name+"_hlaven").play(),this.playing=!1},save_inf:function(){var t=R.instance.tank_[this.tank_number],e=R.instance;throw e.z_target=this.target,e.z_target_name=this.target_.name,e.z_target_energy=this.target_.energy,e.z_target_live=this.target_.live,e.z_name=t.name,e.z_energy=t.energy,this.target.__transform.tx<this.__transform.tx?e.z_pos="right":e.z_pos="left",e.z_x=this.__transform.tx,e.z_y=this.__transform.ty,e.z_tar_x=this.target.__transform.tx,e.z_tar_y=this.target.__transform.ty,e.z_last_vitr=this.last_wind,e.z_vitr=e.vitr,e.z_wind_koef_vzd_koef=this.wind_koef_vzd_koef,e.z_angle=this.rotace,e.z_power=this.power,e.z_y_koef=this.y_koef,e.z_vzd_koef_k=this.vzd_koef_k,e.z_last_shot_x=this.last_shot_x,e.z_last_shot_y=this.last_shot_y,e.z_last_shot_vzd=this.last_shot_vzd,e.z_last_shot_y_vzd=this.y_vzd,e.z_last_shot_x_vzd=this.x_vzd,e.z_dif=this.dif,new qn("")},init:function(){var t=R.instance.tank_[this.tank_number];this.dif=t.dif,this.set_y(N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).__transform.ty-N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).get_height()/2-4);for(var e=0;e<this.get_width();){var i=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2+e));this.hitTestObject(i)&&i.set_y(i.__transform.ty+(this.__transform.ty+this.get_height()/2-(i.__transform.ty-i.get_height()/2))),++e}0<t.specials[0]&&(this.par=!0);var s=R.instance,n=this.__name+"_hlaven",a=10010+this.tank_number,r=Dt.field(s,n);null!=r&&s.removeChild(r);var o=R.swfLite.createMovieClip("hlaven");o.set_name(n),s.addChildAtSwfDepthExternal(o,a),s[n]=o,this.rotace=2*O.random(67)+46,N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace),this.power=50,this.playing=!1,this.testing=!1,this.par_active=!1,this.par_out=!1,this.par_used=!1,this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number),this.first_shot=!0,this.first_frame=!0,this.calc_frame=!0,this.fuel_c=1/(t.specials[10]+1),this.rounds=0,this.p_move=!1,this.select_target()},frame2:function(){var t=R.instance.tank_[this.tank_number];400<this.__transform.ty&&(t.live=!1,t.energy=0,t.score-=2e3,R.instance.hracu--,t.score<0&&(t.score=0),this.__targetFrame=4),t.energy<=0&&(t.energy=0,t.live=!1,this.__targetFrame=4),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.sh_active&&(Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_x(this.__transform.tx),Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_y(this.__transform.ty));var e=!1;if(this.playing){if(!this.target_.live&&this.first_frame&&(this.rounds=1,this.select_target()),1==this.rounds){if(this.first_frame){for(var i=1;R.instance.pocet_hracu>=i;){var s=Jn.__cast(N.getChild(R.instance,"tank"+i),fu);s.playing&&i!=this.tank_number&&s.live&&(s.playing=!1,R.instance.test()),++i}this.first_shot=!0,this.calc_first_shot()}}else this.first_frame&&this.calc_shot();this.first_frame=!1,R.instance.rotace=this.rotace,R.instance.power=this.power,this.prepare_shot()&&this.fire(),e=!1,this.left=!0;var n=0,a=500,r=!(this.right=!0);for(this.test_hill();n<this.get_width();){var o=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+n));if(null!=o){if(this.pasy.hitTestObject(o)){if(e=!0,this.par_out){this.par_out=!1;var h=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=h&&null!=h.parent){var _=h.parent;h.parent.removeChild(h),""!=h.__name&&Dt.deleteField(_,h.__name)}}.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*3e3),this,!0)),this.fall=0}var l=o.__transform.ty-o.get_height()/2;if(l<a&&e&&(r=!0,a=l),n+1>=this.get_width()&&e&&r&&(this.set_y(a-2),r=!1),!e){if(.2<=this.fall&&this.par){if(!this.par_active)this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1;if(!this.par_out){var u=R.instance,c="parachute"+this.tank_number,f=9e3+this.tank_number,d=Dt.field(u,c);null!=d&&u.removeChild(d);var p=R.swfLite.createMovieClip("parachute");p.set_name(c),u.addChildAtSwfDepthExternal(p,f),u[c]=p}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++n}else++n}var g=R.instance.tank_[this.tank_number];g.energy<this.power&&(this.power=g.energy),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace)}if(this.testing){var m=0,v=500,b=!1;for(this.test_hill();m<this.get_width();){var y=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+m));if(null!=y){if(this.pasy.hitTestObject(y)){if(.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*80),this,!0)),this.par_out){this.par_out=!1;var w=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=w&&null!=w.parent){var x=w.parent;w.parent.removeChild(w),""!=w.__name&&Dt.deleteField(x,w.__name)}}e=!0,this.fall=0}var T=y.__transform.ty-y.get_height()/2;if(T<v&&e&&(b=!0,v=T),m+1>=this.get_width()&&e&&b&&(this.set_y(v-2),b=!1),.001<this.fall&&(this.test=!1),!e){if(.2<=this.fall&&this.par){if(!this.par_active)this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1;if(!this.par_out){var S=R.instance,C="parachute"+this.tank_number,E=9e3+this.tank_number,I=Dt.field(S,C);null!=I&&S.removeChild(I);var P=R.swfLite.createMovieClip("parachute");P.set_name(C),S.addChildAtSwfDepthExternal(P,E),S[C]=P}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++m}else++m}.001<this.fall&&(this.test=!1),this.test_hill(),this.x3=this.x2,this.x2=this.x1,this.x1=Math.round(this.__transform.tx),this.y3=this.y2,this.y2=this.y1,this.y1=Math.round(10*this.__transform.ty)/10,this.y1==this.y3&&this.x1==this.x3&&(this.test=!0);var k=Math.abs(this.y1-this.y3)+Math.abs(this.x1-this.x3);++this.heightCount,(this.test||30<this.heightCount&&k<5)&&(this.testing=!1,R.instance[this.__name+"test"]=!1,this.heightCount=0),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.test=!0}},frame3:function(){this.gotoAndPlay(2)},frame4:function(){if(null==this.__targetFrame||4==this.__targetFrame){var t=N.getChild(R.instance,this.__name+"_hlaven");if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}var i=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=i&&null!=i.parent){var s=i.parent;i.parent.removeChild(i),""!=i.__name&&Dt.deleteField(s,i.__name)}var n=N.getChild(R.instance,"shield"+this.tank_number);if(null!=n&&null!=n.parent){var a=n.parent;n.parent.removeChild(n),""!=n.__name&&Dt.deleteField(a,n.__name)}R.instance.hracu--}},frame9:function(){if(null==this.__targetFrame||9==this.__targetFrame){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+t));if(null!=e){var i=e.__transform.tx,s=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(i,s,!0)){var n=Math.cos(Math.sqrt((this.__transform.tx-i)*(this.__transform.tx-i)+(this.__transform.ty-s)*(this.__transform.ty-s))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*n),e.set_y(e.__transform.ty+15*n)}else this.hitTestObject(N.getChild(R.instance,"land"+(0|Math.round(0-this.get_width()/2+t))))&&(e.set_height(e.get_height()-50/Math.abs(this.__transform.tx-i)),e.set_y(e.__transform.ty+50/Math.abs(this.__transform.tx-i)/2))}++t}for(t=1;R.instance.pocet_hracu>=t;){var a=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if((this.hitTestObject(a)||this.hitTestObject(N.getChild(R.instance,"shield"+t)))&&t!=this.tank_number){var r,o=this.__transform.tx-a.__transform.tx,h=this.__transform.ty-a.__transform.ty,_=Math.sqrt(o*o+h*h);if(a.sh_active)r=Math.round(this.get_width()/((_/2+1)/18));else{var l=R.instance.tank_[t];r=Math.round(this.get_width()/((_+1)/14)),l.energy<r&&(r=l.energy)}a.damage(r,this)}++t}}},frame15:function(){null!=this.__targetFrame&&15!=this.__targetFrame||(this.playing&&R.instance.test(),this.stop())},__class__:mu});var vu=function(t,e){this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(8,Gf(this,this.frame9)),this.addFrameScript(14,Gf(this,this.frame15)),fu.call(this,t,e),this.isBot=!0};(i["scripts.Ai_very_hard"]=vu).__name__=["scripts","Ai_very_hard"],vu.__super__=fu,vu.prototype=s(fu.prototype,{blik:function(){var t=R.instance,e=Dt.field(t,"blik");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("blk");i.set_name("blik"),t.addChildAtSwfDepthExternal(i,10030),t.blik=i,R.instance.blik.set_x(this.__transform.tx),R.instance.blik.set_y(this.__transform.ty-10)},calc_hill_up:function(){this.hill_up=.5+R.instance.tank_[this.tank_number].specials[11]-10*this.fall},move_left:function(){this.set_x(this.__transform.tx-.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx+.6),++t},move_right:function(){this.set_x(this.__transform.tx+.5),R.instance.tank_[this.tank_number].fuel-=this.fuel_c,this.moving=!0;for(var t=1;t<R.instance.pocet_hracu+1;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.tank_number&&this.set_x(this.__transform.tx-.6),++t},activate_shield:function(t){var e=R.instance,i=R.instance.specials[2+t][4],s="shield"+this.tank_number,n=5040+this.tank_number,a=Dt.field(e,s);null!=a&&e.removeChild(a);var r=R.swfLite.createMovieClip(i);r.set_name(s),e.addChildAtSwfDepthExternal(r,n),e[s]=r,Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).num=this.tank_number,R.instance.tank_[this.tank_number].specials[2+t]--,this.sh_active=!0,R.instance._t[this.tank_number]=Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc)},disable_shield:function(){Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).disable(),this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number)},p_m:function(t){return 0<t?1:-1},calc_first_shot:function(){this.p_rotace=90+45*this.p_m(this.target.__transform.tx-this.__transform.tx),this.p_x=this.__transform.tx,this.p_power=Math.abs(this.__transform.tx-this.target.__transform.tx)/(2+Math.abs(this.__transform.tx-this.target.__transform.tx)/80)-this.p_m(this.target.__transform.tx-this.__transform.tx)*R.instance.vitr/13+(this.__transform.ty-this.target.__transform.ty)/20,this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy)},calc_shot:function(){var t=Math.sqrt(Math.abs((this.__transform.tx-this.last_shot_x)*(this.__transform.tx-this.last_shot_x))+Math.abs((this.__transform.ty-this.last_shot_y)*(this.__transform.ty-this.last_shot_y))),e=Math.sqrt(Math.abs((this.__transform.tx-this.target.__transform.tx)*(this.__transform.tx-this.target.__transform.tx))+Math.abs((this.__transform.ty-this.target.__transform.ty)*(this.__transform.ty-this.target.__transform.ty))),i=Math.abs(this.last_shot_x-this.target.__transform.tx),s=Math.abs(this.last_shot_y-this.target.__transform.ty);this.power>=R.instance.tank_[this.tank_number].energy||100==this.power?this.full_power=!0:this.full_power=!1;this.wind_koef_vzd_koef=380;var n=10.9;this.vzd_koef_k=7+Math.abs(this.__transform.tx-this.last_shot_x)/80;this.y_koef=22;var a=100-(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30,r=80+(200-Math.abs(this.__transform.tx-this.target.__transform.tx))/30;this.__transform.tx<this.target.__transform.tx?(this.wind_koef_vzd_koef-=3*(180-this.rotace),this.y_koef+=1.7*(135-this.rotace),this.last_shot_x<this.__transform.tx?(R.instance.z_f_used="1.1",this.p_rotace+=(this.__transform.tx-this.last_shot_x)/10+(this.target.__transform.tx-this.__transform.tx)/20-R.instance.vitr/50):(60<t||e<70||this.power<10)&&(this.power<70||200<t)?(R.instance.z_f_used="1.2.1.failed",this.last_shot_x>=this.target.__transform.tx?20<i?(R.instance.z_f_used="1.2.1.1.1",this.p_power-=i/(13.4-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="1.2.1.1.2",this.p_power-=i/(9.9-Math.abs(135-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&s<80&&20<s&&t<100&&220<e&&30<this.power&&a-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.1.1",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4+R.instance.vitr/20-e/100):this.rotace<a-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.1.2.",this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):s<30&&i<200?(R.instance.z_f_used="1.2.1.2.1.1.3",this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=s&&(300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.1.4.1",this.p_power+=i/(n/3)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):a-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.1.4.2.1",this.p_power+=i/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+s/30+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(a-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.1.4.2.2",this.p_power+=i/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+s/30-R.instance.vitr/15),this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4.5+s/30)):this.target.__transform.ty-this.__transform.ty<70&&s<100&&20<s&&t<100&&250<e&&30<this.power&&a-R.instance.vitr/7<this.rotace?(R.instance.z_f_used="1.2.1.2.1.2.1",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4.5+R.instance.vitr/20-e/100):this.rotace<a-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.1.2.2",this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):s<30&&i<200?(R.instance.z_f_used="1.2.1.2.1.2.3",this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=s&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?(R.instance.z_f_used="1.2.1.2.1.2.4.1",120<this.p_rotace?(R.instance.z_f_used="1.2.1.2.1.2.4.1.1",this.p_power+=i/(n/1.5)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.1.2.4.1.2",this.p_power+=i/5.45-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef))):300<this.target.__transform.tx-this.__transform.tx&&this.power<50&&this.rotace<110?(R.instance.z_f_used="1.2.1.2.1.2.4.2.",this.p_power+=i/(n/3)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):a-R.instance.vitr/7<this.rotace&&(this.p_rotace<=135?(R.instance.z_f_used="1.2.1.2.1.2.4.3.1.",this.p_power+=i/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-s/30+(135-this.rotace)/8-R.instance.vitr/15+(this.rotace-(a-R.instance.vitr/7))/8):(R.instance.z_f_used="1.2.1.2.1.2.4.3.2.",this.p_power+=i/21.8-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-s/30-R.instance.vitr/15),this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/4.5+s/30)):t<150&&this.target.__transform.tx-this.__transform.tx<170||100<=t||t<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="1.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="1.2.1.2.2.1.2.1",this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="1.2.1.2.2.1.2.2",this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):this.rotace<a-5-R.instance.vitr/7?(R.instance.z_f_used="1.2.1.2.2.2",this.p_rotace+=(135-this.rotace)/10+this.target.__transform.tx-this.__transform.tx/100):(R.instance.z_f_used="1.2.1.2.2.3",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/2,this.p_power+=i/(n-Math.abs(135-this.rotace)/this.vzd_koef_k)/1.5+(this.rotace-(a-R.instance.vitr/7))/5)):100<this.__transform.ty-this.target.__transform.ty&&this.target.__transform.tx-this.__transform.tx<100?(R.instance.z_f_used="1.2.2.1",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/2):(R.instance.z_f_used="1.2.2.2",this.p_rotace-=(this.rotace-(a-R.instance.vitr/7))/2-(this.target.__transform.tx-this.__transform.tx)/100)):(this.wind_koef_vzd_koef-=3*this.rotace,this.y_koef+=1.7*(this.rotace-45),this.__transform.tx<this.last_shot_x?(R.instance.z_f_used="2.1",this.p_rotace-=(this.last_shot_x-this.__transform.tx)/10+(this.__transform.tx-this.target.__transform.tx)/20+R.instance.vitr/50):(60<t||e<70||this.power<10)&&(this.power<70||200<t)?(R.instance.z_f_used="2.2.1.failed",this.target.__transform.tx>=this.last_shot_x?20<i?(R.instance.z_f_used="2.2.1.1.1",this.p_power-=i/(13.4-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)-(this.last_shot_y-this.target.__transform.ty)/this.y_koef):(R.instance.z_f_used="2.2.1.1.2",this.p_power-=i/(9.9-Math.abs(45-this.rotace)/this.vzd_koef_k)-(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.last_shot_y<this.target.__transform.ty?this.target.__transform.ty<this.__transform.ty?80<this.__transform.ty-this.target.__transform.ty&&s<80&&20<s&&t<100&&220<e&&30<this.power&&r+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.1",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4-R.instance.vitr/20-e/100):r+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.2",this.p_power+=i/(n-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):s<30&&i<200?(R.instance.z_f_used="2.2.1.2.1.1.3",this.p_power+=i/(n-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=s&&(300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.1",this.p_power+=i/(n/3)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)):this.rotace<r+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.1.4.2.1",this.p_power+=i/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+s/30+(this.rotace-45)/8+R.instance.vitr/15+(r+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.1.4.2.2",this.p_power+=i/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+s/30+R.instance.vitr/15),this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4.5+s/30)):this.target.__transform.ty-this.__transform.ty<70&&s<100&&20<s&&t<100&&250<e&&30<this.power&&this.rotace<r-R.instance.vitr/7?(R.instance.z_f_used="2.2.1.2.1.2.1",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4.5-R.instance.vitr/20-e/100):r+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.2",this.p_power+=i/(n-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.__transform.tx-this.last_shot_x)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):s<30&&i<200?(R.instance.z_f_used="2.2.1.2.1.2.3",this.p_power+=i/(n-Math.abs(45-this.rotace)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):30<=s&&(200<this.target.__transform.ty-this.__transform.ty&&this.__transform.ty<this.last_shot_y?this.p_rotace<60?(R.instance.z_f_used="2.2.1.2.1.2.4.1.1",this.p_power+=i/(n/1.5)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.1.2.4.1.2",this.p_power+=i/5.45+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):300<this.__transform.tx-this.target.__transform.tx&&this.power<50&&70<this.rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.2",this.p_power+=i/(n/3)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):this.rotace<r+R.instance.vitr/7&&(45<=this.p_rotace?(R.instance.z_f_used="2.2.1.2.1.2.4.3.1",this.p_power+=i/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+s/30+(this.rotace-45)/8+R.instance.vitr/15+(r+R.instance.vitr/7-this.rotace)/8):(R.instance.z_f_used="2.2.1.2.1.2.4.3.2",this.p_power+=i/21.8+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+s/30+R.instance.vitr/15),this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/4.5+s/30)):t<150&&this.__transform.tx-this.target.__transform.tx<170||100<=t||t<100&&this.power<30?this.target.__transform.ty<this.__transform.ty?(this.p_power+=i/(n-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef,R.instance.z_f_used="2.2.1.2.2.1.1"):100<this.target.__transform.ty-this.__transform.ty?(R.instance.z_f_used="2.2.1.2.2.1.2.1",this.p_power+=i/(n-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)):(R.instance.z_f_used="2.2.1.2.2.1.2.2",this.p_power+=i/(n-Math.abs(this.rotace-45)/this.vzd_koef_k)+(R.instance.vitr-this.last_wind)/(7-Math.abs(this.last_shot_x-this.__transform.tx)/this.wind_koef_vzd_koef)+(this.last_shot_y-this.target.__transform.ty)/this.y_koef):5+r+R.instance.vitr/7<this.rotace?(R.instance.z_f_used="2.2.1.2.2.2",this.p_rotace-=(this.rotace-45)/10+this.__transform.tx-this.target.__transform.tx/100):(R.instance.z_f_used="2.2.1.2.2.3",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/3,this.p_power+=i/(n-Math.abs(this.rotace-45)/this.vzd_koef_k)/1.5+(r+R.instance.vitr/7-this.rotace)/5)):100<this.__transform.ty-this.target.__transform.ty&&this.__transform.tx-this.target.__transform.tx<100?(R.instance.z_f_used="2.2.2.1",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/2):(R.instance.z_f_used="2.2.2.2",this.p_rotace+=(r+R.instance.vitr/7-this.rotace)/2-(this.target.__transform.tx-this.__transform.tx)/100)),100<this.p_power&&(this.p_power=100),this.p_power>=R.instance.tank_[this.tank_number].energy&&(this.p_power=R.instance.tank_[this.tank_number].energy,this.__transform.tx<this.target.__transform.tx?this.p_rotace<135&&(70<this.p_power&&(this.p_power-=(135-this.p_rotace)/2.5),this.p_rotace+=(135-this.p_rotace)/3):45<this.p_rotace&&(70<this.p_power&&(this.p_power-=(this.p_rotace-45)/2.5),this.p_rotace-=(this.p_rotace-45)/3)),this.p_power<0&&(this.p_power=0),this.p_rotace<0?this.p_rotace=0:180<this.p_rotace&&(this.p_rotace=180)},prepare_shot:function(){var t,e=!0;return t=Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace)<10?1:Math.floor((Math.max(this.rotace,this.p_rotace)-Math.min(this.rotace,this.p_rotace))/10),Math.ceil(this.rotace)!=Math.ceil(this.p_rotace)&&(Math.ceil(this.p_rotace)<Math.ceil(this.rotace)&&0<=this.rotace-t?(e=!1,this.rotace-=t,R.instance.tur.play()):this.rotace+t<=180&&(e=!1,this.rotace+=t,R.instance.tur.play())),Math.ceil(this.power)!=Math.ceil(this.p_power)&&(Math.ceil(this.p_power)<Math.ceil(this.power)&&0<=this.power-t?(e=!1,this.power-=t):this.power+t<=180&&(e=!1,this.power+=t)),Math.round(this.p_x)!=Math.round(this.__transform.tx)&&0<R.instance.tank_[this.tank_number].fuel&&this.p_move&&(e=!1,Math.round(this.p_x)<Math.round(this.__transform.tx)?this.move_right():this.move_left()),e},select_target:function(){this.vzd=1e3;for(var t=1;R.instance.pocet_hracu>=t;){var e=Math.abs(this.__transform.tx-Jn.__cast(N.getChild(R.instance,"tank"+t),fu).__transform.tx);e<this.vzd&&t!=this.tank_number&&R.instance.tank_[t].live&&(this.vzd=e,this.target=Jn.__cast(N.getChild(R.instance,"tank"+t),fu),this.target_=R.instance.tank_[t]),++t}},na_rade:function(){this.rounds++,this.par_active=!1,this.calc_hill_up()},damage:function(t,e,i){for(var s=1,n=1,a=0;a<R.instance.tank_[this.tank_number].specials[9];)s/=1.12/n,n/=1.0002,++a;!this.sh_active||i?R.instance.tank_[this.tank_number].energy-=t*s:Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).damage(t,e),R.instance.tank_[this.tank_number].energy<=0&&(this!=e?(R.instance.tank_[e.tank_number].kills+=1,R.instance.tank_[e.tank_number].score+=5e3,R.instance.tank_[e.tank_number].total_score+=5e3):(R.instance.tank_[this.tank_number].kills-=1,R.instance.tank_[this.tank_number].score-=2e3,R.instance.tank_[this.tank_number].total_score-=2e3)),this!=e?(R.instance.tank_[e.tank_number].score+=100*t,R.instance.tank_[e.tank_number].total_score+=100*t):(i&&(t/=3),R.instance.tank_[this.tank_number].score-=Math.round(50*t),R.instance.tank_[this.tank_number].total_score-=Math.round(50*t),R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0))},fire:function(){R.instance.debugging&&this.save_inf(),this.last_wind=R.instance.vitr,this.first_frame=!0;var t=R.instance,e=R.instance.weapons[R.instance.tank_[this.tank_number].cur_gun][4],i=Dt.field(t,"strela");null!=i&&t.removeChild(i);var s=R.swfLite.createMovieClip(e);s.set_name("strela"),t.addChildAtSwfDepthExternal(s,1e3),t.strela=s,0!=R.instance.tank_[this.tank_number].cur_gun&&(R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]--,0==R.instance.tank_[this.tank_number].guns[R.instance.tank_[this.tank_number].cur_gun]&&(R.instance.tank_[this.tank_number].cur_gun=0)),R.instance.strela.set_rotation(this.rotace-90),R.instance.strela.set_x(this.__transform.tx),R.instance.strela.set_y(this.__transform.ty-1),R.instance.strela.strela.vo=this.power,R.instance.strela.strela.owner=N.getChild(R.instance,this.__name),N.getChild(R.instance,this.__name+"_hlaven").play(),this.playing=!1},save_inf:function(){R.instance.z_target=this.target,R.instance.z_target_name=this.target_.name,R.instance.z_target_energy=this.target_.energy,R.instance.z_target_live=this.target_.live,R.instance.z_name=R.instance.tank_[this.tank_number].name,R.instance.z_energy=R.instance.tank_[this.tank_number].energy,this.target.__transform.tx<this.__transform.tx?R.instance.z_pos="right":R.instance.z_pos="left",R.instance.z_x=this.__transform.tx,R.instance.z_y=this.__transform.ty,R.instance.z_tar_x=this.target.__transform.tx,R.instance.z_tar_y=this.target.__transform.ty,R.instance.z_last_vitr=this.last_wind,R.instance.z_vitr=R.instance.vitr,R.instance.z_wind_koef_vzd_koef=this.wind_koef_vzd_koef,R.instance.z_angle=this.rotace,R.instance.z_power=this.power,R.instance.z_y_koef=this.y_koef,R.instance.z_vzd_koef_k=this.vzd_koef_k,R.instance.z_last_shot_x=this.last_shot_x,R.instance.z_last_shot_y=this.last_shot_y,R.instance.z_last_shot_vzd=this.last_shot_vzd,R.instance.z_last_shot_y_vzd=this.y_vzd,R.instance.z_last_shot_x_vzd=this.x_vzd,R.instance.z_dif=this.dif},init:function(){this.dif=R.instance.tank_[this.tank_number].dif,this.set_y(N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).__transform.ty-N.getChild(R.instance,"land"+Math.round(this.__transform.tx)).get_height()/2-4);for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.floor(this.__transform.tx-this.get_width()/2+t));null!=e&&(this.hitTestObject(e)&&e.set_y(e.__transform.ty+(this.__transform.ty+this.get_height()/2-(e.__transform.ty-e.get_height()/2))),++t)}0<R.instance.tank_[this.tank_number].specials[0]&&(this.par=!0);var i=R.instance,s=this.__name+"_hlaven",n=10010+this.tank_number,a=Dt.field(i,s);null!=a&&i.removeChild(a);var r=R.swfLite.createMovieClip("hlaven");r.set_name(s),i.addChildAtSwfDepthExternal(r,n),i[s]=r,this.rotace=2*O.random(67)+46,N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace),this.power=50,this.playing=!1,this.testing=!1,this.par_active=!1,this.par_out=!1,this.par_used=!1,this.sh_active=!1,R.instance._t[this.tank_number]=N.getChild(R.instance,"tank"+this.tank_number),this.first_shot=!0,this.first_frame=!0,this.calc_frame=!0,this.fuel_c=1/(R.instance.tank_[this.tank_number].specials[10]+1),this.rounds=0,this.p_move=!1,this.select_target()},frame2:function(){if(400<this.__transform.ty&&(R.instance.tank_[this.tank_number].live=!1,R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].score-=2e3,R.instance.hracu--,R.instance.tank_[this.tank_number].score<0&&(R.instance.tank_[this.tank_number].score=0),this.__targetFrame=4),R.instance.tank_[this.tank_number].energy<=0&&(R.instance.tank_[this.tank_number].energy=0,R.instance.tank_[this.tank_number].live=!1,this.__targetFrame=4),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.sh_active&&(Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_x(this.__transform.tx),Jn.__cast(N.getChild(R.instance,"shield"+this.tank_number),Cc).set_y(this.__transform.ty)),this.playing){if(!this.target_.live&&this.first_frame&&(this.rounds=1,this.select_target()),1==this.rounds){if(this.first_frame){for(var t=1;R.instance.pocet_hracu>=t;)Jn.__cast(N.getChild(R.instance,"tank"+t),fu).playing&&t!=this.tank_number&&R.instance.tank_[t].live&&(Jn.__cast(N.getChild(R.instance,"tank"+t),fu).playing=!1,R.instance.test()),++t;this.first_shot=!0,this.calc_first_shot()}}else this.first_frame&&this.calc_shot();this.first_frame=!1,R.instance.rotace=this.rotace,R.instance.power=this.power,this.prepare_shot()&&this.fire();var e=!1,i=0,s=500,n=!1;for(this.test_hill();i<this.get_width();){var a=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+i));if(null!=a){if(this.pasy.hitTestObject(a)){if(e=!0,this.par_out){this.par_out=!1;var r=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=r&&null!=r.parent){var o=r.parent;r.parent.removeChild(r),""!=r.__name&&Dt.deleteField(o,r.__name)}}.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*3e3),this,!0)),this.fall=0}var h=a.__transform.ty-a.get_height()/2;if(h<s&&e&&(n=!0,s=h),i+1>=this.get_width()&&e&&n&&(this.set_y(s-2),n=!1),!e){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var _=R.instance,l="parachute"+this.tank_number,u=9e3+this.tank_number,c=Dt.field(_,l);null!=c&&_.removeChild(c);var f=R.swfLite.createMovieClip("parachute");f.set_name(l),_.addChildAtSwfDepthExternal(f,u),_[l]=f}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++i}else++i}R.instance.tank_[this.tank_number].energy<this.power&&(this.power=R.instance.tank_[this.tank_number].energy),N.getChild(R.instance,this.__name+"_hlaven").set_rotation(this.rotace)}var d=!1;if(this.testing){var p=0,g=500,m=!1;for(this.test_hill();p<this.get_width();){var v=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+p));if(null!=v){if(this.pasy.hitTestObject(v)){if(.4<this.fall&&(this.fall<.8?this.damage(Math.round(25*this.fall),this,!0):this.damage(Math.round(this.fall*this.fall*80),this,!0)),this.par_out){this.par_out=!1;var b=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=b&&null!=b.parent){var y=b.parent;b.parent.removeChild(b),""!=b.__name&&Dt.deleteField(y,b.__name)}}d=!0,this.fall=0}var w=v.__transform.ty-v.get_height()/2;if(w<g&&d&&(m=!0,g=w),p+1>=this.get_width()&&d&&m&&(this.set_y(g-2),m=!1),.001<this.fall&&(this.test=!1),!d){if(.2<=this.fall&&this.par){if(this.par_active||(this.par_active=!0,R.instance.tank_[this.tank_number].specials[0]-=1),!this.par_out){var x=R.instance,T="parachute"+this.tank_number,S=9e3+this.tank_number,C=Dt.field(x,T);null!=C&&x.removeChild(C);var E=R.swfLite.createMovieClip("parachute");E.set_name(T),x.addChildAtSwfDepthExternal(E,S),x[T]=E}this.par_out=!0}this.set_y(this.__transform.ty+this.fall),this.par_out?(N.getChild(R.instance,"parachute"+this.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"parachute"+this.tank_number).set_y(this.__transform.ty-7.5),this.fall=.2,this.set_x(this.__transform.tx+R.instance.vitr/3e3)):this.fall+=.01}++p}else++p}.001<this.fall&&(this.test=!1),this.test_hill(),this.x3=this.x2,this.x2=this.x1,this.x1=Math.round(this.__transform.tx),this.y3=this.y2,this.y2=this.y1,this.y1=Math.round(10*this.__transform.ty)/10,this.y1==this.y3&&this.x1==this.x3&&(this.test=!0);var I=Math.abs(this.y1-this.y3)+Math.abs(this.x1-this.x3);++this.heightCount,(this.test||30<this.heightCount&&I<5)&&(this.testing=!1,R.instance[this.__name+"test"]=!1,this.heightCount=0),N.getChild(R.instance,this.__name+"_hlaven").set_x(this.__transform.tx),N.getChild(R.instance,this.__name+"_hlaven").set_y(this.__transform.ty-1),this.test=!0}},frame3:function(){this.gotoAndPlay(2)},frame4:function(){if(null==this.__targetFrame||4==this.__targetFrame){var t=N.getChild(R.instance,this.__name+"_hlaven");if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}var i=N.getChild(R.instance,"parachute"+this.tank_number);if(null!=i&&null!=i.parent){var s=i.parent;i.parent.removeChild(i),""!=i.__name&&Dt.deleteField(s,i.__name)}var n=N.getChild(R.instance,"shield"+this.tank_number);if(null!=n&&null!=n.parent){var a=n.parent;n.parent.removeChild(n),""!=n.__name&&Dt.deleteField(a,n.__name)}R.instance.hracu--}},frame9:function(){if(null==this.__targetFrame||9==this.__targetFrame){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.__transform.tx-this.get_width()/2+t));if(null!=e){var i=e.__transform.tx,s=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(i,s,!0)){var n=Math.cos(Math.sqrt((this.__transform.tx-i)*(this.__transform.tx-i)+(this.__transform.ty-s)*(this.__transform.ty-s))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*n),e.set_y(e.__transform.ty+15*n)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(0-this.get_width()/2+t)))&&(e.set_height(e.get_height()-50/Math.abs(this.__transform.tx-i)),e.set_y(e.__transform.ty+50/Math.abs(this.__transform.tx-i)/2))}++t}for(t=1;R.instance.pocet_hracu>=t;){var a=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(t!=this.tank_number&&(this.hitTestObject(a)||this.hitTestObject(N.getChild(R.instance,"shield"+t)))){var r,o=this.__transform.tx-a.__transform.tx,h=this.__transform.ty-a.__transform.ty,_=Math.sqrt(o*o+h*h);a.sh_active?r=Math.round(this.get_width()/((_/2+1)/18)):(r=Math.round(this.get_width()/((_+1)/14)),R.instance.tank_[t].energy<r&&(r=R.instance.tank_[t].energy)),a.damage(r,this)}++t}}},frame15:function(){null!=this.__targetFrame&&15!=this.__targetFrame||(this.playing&&R.instance.test(),this.stop())},__class__:vu});var bu=function(t,e){_.call(this,t,e)};(i["scripts.Amissile"]=bu).__name__=["scripts","Amissile"],bu.__super__=_,bu.prototype=s(_.prototype,{__class__:bu});var yu=function(t,e){_.call(this,t,e)};(i["scripts.Astrike_g"]=yu).__name__=["scripts","Astrike_g"],yu.__super__=_,yu.prototype=s(_.prototype,{__class__:yu});var wu=function(t,e){this.addFrameScript(34,Gf(this,this.frame35)),_.call(this,t,e)};(i["scripts.Blk"]=wu).__name__=["scripts","Blk"],wu.__super__=_,wu.prototype=s(_.prototype,{frame35:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},__class__:wu});var xu=function(t,e){_.call(this,t,e)};(i["scripts.Bmissile_g"]=xu).__name__=["scripts","Bmissile_g"],xu.__super__=_,xu.prototype=s(_.prototype,{__class__:xu});var Tu=function(t,e){_.call(this,t,e)};(i["scripts.Bnuke_c"]=Tu).__name__=["scripts","Bnuke_c"],Tu.__super__=_,Tu.prototype=s(_.prototype,{__class__:Tu});var Su=function(t,e){_.call(this,t,e)};(i["scripts.Bnuke_g"]=Su).__name__=["scripts","Bnuke_g"],Su.__super__=_,Su.prototype=s(_.prototype,{__class__:Su});var Cu=function(t,e){_.call(this,t,e)};(i["scripts.Broller2_g"]=Cu).__name__=["scripts","Broller2_g"],Cu.__super__=_,Cu.prototype=s(_.prototype,{__class__:Cu});var Eu=function(t,e){_.call(this,t,e)};(i["scripts.Broller_g"]=Eu).__name__=["scripts","Broller_g"],Eu.__super__=_,Eu.prototype=s(_.prototype,{__class__:Eu});var Iu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),p.keyCallbackTable.push({code:p.__getCode("q"),f:Gf(this,this.keyPressq)}),p.inserted||(X.addKeyDownListener(p.__onKey),p.inserted=!0)};(i["scripts.Button2_122"]=Iu).__name__=["scripts","Button2_122"],Iu.__super__=p,Iu.prototype=s(p.prototype,{release:function(){"tank"==R.instance.na_rade.type&&this.parent.view_backward()},keyPressq:function(){"tank"==R.instance.na_rade.type&&this.parent.view_backward()},__class__:Iu});var Pu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),p.keyCallbackTable.push({code:p.__getCode("w"),f:Gf(this,this.keyPressw)}),p.inserted||(X.addKeyDownListener(p.__onKey),p.inserted=!0)};(i["scripts.Button2_123"]=Pu).__name__=["scripts","Button2_123"],Pu.__super__=p,Pu.prototype=s(p.prototype,{release:function(){"tank"==R.instance.na_rade.type&&this.parent.view_forward()},keyPressw:function(){"tank"==R.instance.na_rade.type&&this.parent.view_forward()},__class__:Pu});var ku=function(t,e){p.call(this,t,e),lo.current.addEventListener("mouseUp",Gf(this,this.release)),this.addEventListener("mouseDown",Gf(this,this.press))};(i["scripts.Button2_129"]=ku).__name__=["scripts","Button2_129"],ku.__super__=p,ku.prototype=s(p.prototype,{release:function(){this.parent.parent.sdrag&&(this.parent.parent.sdrag=!1,this.stage.__stopDrag(null))},releaseOutside:function(){this.parent.parent.sdrag=!1,this.stage.__stopDrag(null)},press:function(){if("tank"==R.instance.na_rade.type){var t=R.instance.tank_[R.instance.na_rade.tank_number];if(t.energy<=100){var e=new El(0,100-t.energy,0,t.energy);this.parent.startDrag(!1,e)}else{var i=new El(0,0,0,100);this.parent.startDrag(!1,i)}this.parent.parent.sdrag=!0}},__class__:ku});var Du=function(t,e){var i=this;p.call(this,t,e),this.addEventListener("mouseDown",Gf(this,this.press)),this.addEventListener("addedToStage",function(){i.stage.addEventListener("mouseUp",Gf(i,i.release))}),this.addEventListener("removedFromStage",function(){i.stage.removeEventListener("mouseUp",Gf(i,i.release))})};(i["scripts.Button2_136"]=Du).__name__=["scripts","Button2_136"],Du.__super__=p,Du.prototype=s(p.prototype,{release:function(){this.parent.left=!1},releaseOutside:function(){this.parent.left=!1},press:function(){0<R.instance.tank_[R.instance.na_rade.tank_number].fuel&&R.instance.na_rade.playing&&(this.parent.left=!0)},__class__:Du});var Au=function(t,e){var i=this;p.call(this,t,e),this.addEventListener("mouseDown",Gf(this,this.press)),this.addEventListener("addedToStage",function(){i.stage.addEventListener("mouseUp",Gf(i,i.release))}),this.addEventListener("removedFromStage",function(){i.stage.removeEventListener("mouseUp",Gf(i,i.release))})};(i["scripts.Button2_137"]=Au).__name__=["scripts","Button2_137"],Au.__super__=p,Au.prototype=s(p.prototype,{release:function(){this.parent.right=!1},releaseOutside:function(){this.parent.right=!1},press:function(){0<R.instance.tank_[R.instance.na_rade.tank_number].fuel&&R.instance.na_rade.playing&&(this.parent.right=!0)},__class__:Au});var Mu=function(t,e){p.call(this,t,e),lo.current.addEventListener("mouseUp",Gf(this,this.release)),this.addEventListener("mouseDown",Gf(this,this.press))};(i["scripts.Button2_143"]=Mu).__name__=["scripts","Button2_143"],Mu.__super__=p,Mu.prototype=s(p.prototype,{release:function(){this.parent.parent.sdrag&&(this.stage.__stopDrag(null),this.parent.parent.sdrag=!1)},releaseOutside:function(){this.stage.__stopDrag(null),this.parent.parent.sdrag=!1},press:function(){if("tank"==R.instance.na_rade.type){var t=new El(-90,0,180,0);this.parent.startDrag(!0,t),this.parent.parent.sdrag=!0}},__class__:Mu});var Ru=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_148"]=Ru).__name__=["scripts","Button2_148"],Ru.__super__=p,Ru.prototype=s(p.prototype,{release:function(){R.instance.na_rade.playing&&"tank"==R.instance.na_rade.type&&R.instance.na_rade.fire()},__class__:Ru});var Fu=function(t,e){y.call(this,t,e)};(i["scripts.Button2_153"]=Fu).__name__=["scripts","Button2_153"],Fu.__super__=y,Fu.prototype=s(y.prototype,{__class__:Fu});var Bu=function(t,e){y.call(this,t,e)};(i["scripts.Button2_154"]=Bu).__name__=["scripts","Button2_154"],Bu.__super__=y,Bu.prototype=s(y.prototype,{release:function(){},__class__:Bu});var Lu=function(t,e){y.call(this,t,e)};(i["scripts.Button2_155"]=Lu).__name__=["scripts","Button2_155"],Lu.__super__=y,Lu.prototype=s(y.prototype,{release:function(){},__class__:Lu});var Nu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_166"]=Nu).__name__=["scripts","Button2_166"],Nu.__super__=p,Nu.prototype=s(p.prototype,{release:function(){R.instance.tank_[R.instance.na_rade.tank_number].max_energy>=R.instance.tank_[R.instance.na_rade.tank_number].energy+10?R.instance.tank_[R.instance.na_rade.tank_number].energy+=10:R.instance.tank_[R.instance.na_rade.tank_number].energy=R.instance.tank_[R.instance.na_rade.tank_number].max_energy,R.instance.tank_[R.instance.na_rade.tank_number].specials[1]-=1,this.parent.refresh()},__class__:Nu});var Ou=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_173"]=Ou).__name__=["scripts","Button2_173"],Ou.__super__=p,Ou.prototype=s(p.prototype,{release:function(){R.instance.na_rade.par=!0,this.parent.refresh()},__class__:Ou});var Uu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_176"]=Uu).__name__=["scripts","Button2_176"],Uu.__super__=p,Uu.prototype=s(p.prototype,{release:function(){R.instance.na_rade.par=!1,this.parent.refresh()},__class__:Uu});var zu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_182"]=zu).__name__=["scripts","Button2_182"],zu.__super__=p,zu.prototype=s(p.prototype,{release:function(){R.instance.tank_[R.instance.na_rade.tank_number].specials[7]-=1,iu.hide();var t=R.instance,e=Dt.field(t,"tel");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("teleport_a");i.set_name("tel"),t.addChildAtSwfDepthExternal(i,10100),t.tel=i,R.instance.tel.startDrag(!0),this.gotoAndStop(2)},__class__:zu});var Gu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_188"]=Gu).__name__=["scripts","Button2_188"],Gu.__super__=p,Gu.prototype=s(p.prototype,{release:function(){null!=this.parent&&this.gotoAndStop(2)},__class__:Gu});var Xu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),this.addEventListener("mouseOut",Gf(this,this.rollOut)),this.addEventListener("mouseOver",Gf(this,this.rollOver))};(i["scripts.Button2_194"]=Xu).__name__=["scripts","Button2_194"],Xu.__super__=p,Xu.prototype=s(p.prototype,{release:function(){R.instance.na_rade.activate_shield(1),this.parent_on_release=this.parent,this.parent.refresh()},rollOut:function(){null!=this.parent_on_release&&this.parent_on_release.gotoAndStop(1),null!=this.parent&&this.gotoAndStop(1)},rollOver:function(){null!=this.parent&&this.gotoAndStop(2)},__class__:Xu});var Vu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),this.addEventListener("mouseOut",Gf(this,this.rollOut)),this.addEventListener("mouseOver",Gf(this,this.rollOver))};(i["scripts.Button2_198"]=Vu).__name__=["scripts","Button2_198"],Vu.__super__=p,Vu.prototype=s(p.prototype,{release:function(){R.instance.na_rade.activate_shield(2),this.parent_on_release=this.parent,this.parent.refresh()},rollOut:function(){null!=this.parent_on_release&&this.parent_on_release.gotoAndStop(1),null!=this.parent&&this.gotoAndStop(1)},rollOver:function(){null!=this.parent&&this.gotoAndStop(2)},__class__:Vu});var Hu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),this.addEventListener("mouseOut",Gf(this,this.rollOut)),this.addEventListener("mouseOver",Gf(this,this.rollOver))};(i["scripts.Button2_206"]=Hu).__name__=["scripts","Button2_206"],Hu.__super__=p,Hu.prototype=s(p.prototype,{release:function(){R.instance.na_rade.activate_shield(3),this.parent_on_release=this.parent,this.parent.refresh()},rollOut:function(){null!=this.parent_on_release&&this.parent_on_release.gotoAndStop(1),null!=this.parent&&this.gotoAndStop(1)},rollOver:function(){null!=this.parent&&this.gotoAndStop(2)},__class__:Hu});var Yu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),this.addEventListener("mouseOut",Gf(this,this.rollOut)),this.addEventListener("mouseOver",Gf(this,this.rollOver))};(i["scripts.Button2_213"]=Yu).__name__=["scripts","Button2_213"],Yu.__super__=p,Yu.prototype=s(p.prototype,{release:function(){R.instance.na_rade.activate_shield(4),this.parent_on_release=this.parent,this.parent.refresh()},rollOut:function(){null!=this.parent_on_release&&this.parent_on_release.gotoAndStop(1),null!=this.parent&&this.gotoAndStop(1)},rollOver:function(){null!=this.parent&&this.gotoAndStop(2)},__class__:Yu});var Wu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_219"]=Wu).__name__=["scripts","Button2_219"],Wu.__super__=p,Wu.prototype=s(p.prototype,{release:function(){R.instance.na_rade.disable_shield(),this.parent.refresh()},__class__:Wu});var ju=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_242"]=ju).__name__=["scripts","Button2_242"],ju.__super__=p,ju.prototype=s(p.prototype,{release:function(){R.instance.clona.next_player()},__class__:ju});var Ku=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_250"]=Ku).__name__=["scripts","Button2_250"],Ku.__super__=p,Ku.prototype=s(p.prototype,{release:function(){R.instance.tank_[R.instance.clona.cur].score>=this.parent.price&&R.instance.clona.purchase_special(this.parent.num)},__class__:Ku});var qu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_258"]=qu).__name__=["scripts","Button2_258"],qu.__super__=p,qu.prototype=s(p.prototype,{release:function(){R.instance.tank_[R.instance.clona.cur].score>=this.parent.price&&R.instance.clona.purchase_weapon(this.parent.num)},__class__:qu});var Ju=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_327"]=Ju).__name__=["scripts","Button2_327"],Ju.__super__=p,Ju.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(2),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),R.instance.krajina=1)},__class__:Ju});var Zu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_328"]=Zu).__name__=["scripts","Button2_328"],Zu.__super__=p,Zu.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(2),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),R.instance.krajina=2)},__class__:Zu});var Qu=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_329"]=Qu).__name__=["scripts","Button2_329"],Qu.__super__=p,Qu.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(2),this.resolve("m4").gotoAndStop(1),R.instance.krajina=3)},__class__:Qu});var $u=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_330"]=$u).__name__=["scripts","Button2_330"],$u.__super__=p,$u.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(2),R.instance.krajina=0)},__class__:$u});var tc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),p.keyCallbackTable.push({code:p.__getCode("Enter"),f:Gf(this,this.keyPressEnter)}),p.inserted||(X.addKeyDownListener(p.__onKey),p.inserted=!0)};(i["scripts.Button2_335"]=tc).__name__=["scripts","Button2_335"],tc.__super__=p,tc.prototype=s(p.prototype,{release:function(){if(!this.released){var t=R.instance,e={projizdi:!0,frame:2,stops:!0},i=Dt.field(t,"clona");null!=i&&t.removeChild(i);var s=R.swfLite.createMovieClip("clona");if(s.set_name("clona"),null!=e)for(var n=0,a=Dt.fields(e);n<a.length;){var r=a[n];++n,Dt.setProperty(s,r,Dt.field(e,r))}t.addChildAtSwfDepthExternal(s,1000001),t.clona=s,R.instance.clona.set_x(275),R.instance.clona.set_y(200),this.released=!0}},keyPressEnter:function(){if(!this.released){var t=R.instance,e={projizdi:!0,frame:2,stops:!0},i=Dt.field(t,"clona");null!=i&&t.removeChild(i);var s=R.swfLite.createMovieClip("clona");if(s.set_name("clona"),null!=e)for(var n=0,a=Dt.fields(e);n<a.length;){var r=a[n];++n,Dt.setProperty(s,r,Dt.field(e,r))}t.addChildAtSwfDepthExternal(s,1000001),t.clona=s,R.instance.clona.set_x(275),R.instance.clona.set_y(200),this.released=!0}},__class__:tc});var ec=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_342"]=ec).__name__=["scripts","Button2_342"],ec.__super__=p,ec.prototype=s(p.prototype,{release:function(){R.instance.pocet_hracu<5&&(R.instance.pocet_hracu+=1,this.parent.pocet=R.instance.pocet_hracu)},__class__:ec});var ic=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_343"]=ic).__name__=["scripts","Button2_343"],ic.__super__=p,ic.prototype=s(p.prototype,{release:function(){2<R.instance.pocet_hracu&&(R.instance.pocet_hracu--,this.parent.pocet=R.instance.pocet_hracu)},__class__:ic});var sc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_352"]=sc).__name__=["scripts","Button2_352"],sc.__super__=p,sc.prototype=s(p.prototype,{release:function(){this.getUrl("http://www.FreeGamesForYourWebsite.com","_blank")},__class__:sc});var nc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_356"]=nc).__name__=["scripts","Button2_356"],nc.__super__=p,nc.prototype=s(p.prototype,{release:function(){this.getUrl("http://www.2dplay.com","_blank")},__class__:nc});var ac=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_360"]=ac).__name__=["scripts","Button2_360"],ac.__super__=p,ac.prototype=s(p.prototype,{release:function(){this.getUrl("http://www.2dplay.com","_blank")},__class__:ac});var rc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_366"]=rc).__name__=["scripts","Button2_366"],rc.__super__=p,rc.prototype=s(p.prototype,{release:function(){R.instance.released||("tank"==R.instance.type?(R.instance.type="ai",this.resolve("check").gotoAndStop(2)):(R.instance.type="tank",this.resolve("check").gotoAndStop(1)))},__class__:rc});var oc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_371"]=oc).__name__=["scripts","Button2_371"],oc.__super__=p,oc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(2),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(1),R.instance.col=15737856)},__class__:oc});var hc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_372"]=hc).__name__=["scripts","Button2_372"],hc.__super__=p,hc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(2),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(1),this.resolve("m6").gotoAndStop(1),R.instance.col=52275)},__class__:hc});var _c=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_373"]=_c).__name__=["scripts","Button2_373"],_c.__super__=p,_c.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(2),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(1),this.resolve("m6").gotoAndStop(1),R.instance.col=13311)},__class__:_c});var lc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_374"]=lc).__name__=["scripts","Button2_374"],lc.__super__=p,lc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(2),this.resolve("m5").gotoAndStop(1),this.resolve("m6").gotoAndStop(1),R.instance.col=3355443)},__class__:lc});var uc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_375"]=uc).__name__=["scripts","Button2_375"],uc.__super__=p,uc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(2),this.resolve("m6").gotoAndStop(1),R.instance.col=15785743)},__class__:uc});var cc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_376"]=cc).__name__=["scripts","Button2_376"],cc.__super__=p,cc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(1),this.resolve("m6").gotoAndStop(2),R.instance.col=15373056)},__class__:cc});var fc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release)),p.keyCallbackTable.push({code:p.__getCode("Enter"),f:Gf(this,this.keyPressEnter)}),p.inserted||(X.addKeyDownListener(p.__onKey),p.inserted=!0)};(i["scripts.Button2_379"]=fc).__name__=["scripts","Button2_379"],fc.__super__=p,fc.prototype=s(p.prototype,{release:function(){var t=Dt.field(R.instance,"name");if(R.instance.pocet_hracu>=R.instance.cur){var e=R.instance.tank_[R.instance.cur];e.name=""!=t?t:"Player "+R.instance.cur,e.col=R.instance.col,e.type=R.instance.type,"ai"==R.instance.type&&(e.dif=R.instance.dif),R.instance.name="",R.instance.cur++,R.instance.pocet_hracu>=R.instance.cur?R.instance.cislo="Player "+R.instance.cur:this.gotoAndPlay(3),R.instance.cur==R.instance.pocet_hracu&&(R.instance.uk="START ! ")}},keyPressEnter:function(){gn.delay(Gf(this,this.release),10)},__class__:fc});var dc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_388"]=dc).__name__=["scripts","Button2_388"],dc.__super__=p,dc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(2),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(1),R.instance.dif="very_easy")},__class__:dc});var pc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_389"]=pc).__name__=["scripts","Button2_389"],pc.__super__=p,pc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(2),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(1),R.instance.dif="easy")},__class__:pc});var gc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_390"]=gc).__name__=["scripts","Button2_390"],gc.__super__=p,gc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(2),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(1),R.instance.dif="normal")},__class__:gc});var mc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_391"]=mc).__name__=["scripts","Button2_391"],mc.__super__=p,mc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(2),this.resolve("m5").gotoAndStop(1),R.instance.dif="hard")},__class__:mc});var vc=function(t,e){p.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.release))};(i["scripts.Button2_392"]=vc).__name__=["scripts","Button2_392"],vc.__super__=p,vc.prototype=s(p.prototype,{release:function(){R.instance.released||(this.resolve("m1").gotoAndStop(1),this.resolve("m2").gotoAndStop(1),this.resolve("m3").gotoAndStop(1),this.resolve("m4").gotoAndStop(1),this.resolve("m5").gotoAndStop(2),R.instance.dif="very_hard")},__class__:vc});var bc=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Clona"]=bc).__name__=["scripts","Clona"],bc.__super__=_,bc.prototype=s(_.prototype,{next_player:function(){this.cur<R.instance.pocet_hracu?(this.cur++,"tank"==R.instance.tank_[this.cur].type?this.view_weapons():this.next_player()):(this.score.set_visible(!1),this.player.set_visible(!1),this.buymenu.set_y(-500),this.remove_weapons(),R.instance.gotoAndStop(3),this.stops=!1,this.projizdi=!0);for(var t=!1,e=this.cur+1;R.instance.pocet_hracu>=e;){if("tank"==R.instance.tank_[e].type){t=!0;break}++e}this.cur!=R.instance.pocet_hracu&&0!=t||(this.buymenu.but_capt="Start!")},purchasing_fc:function(){this.clr=new B(this.player),this.score.set_visible(!0),this.player.set_visible(!0),0<this.cur&&this.clr.setRGB(R.instance.tank_[this.cur].col),this.buymenu.set_x(140),this.buymenu.set_y(80),this.buymenu.getChildAt(1).mouseEnabled=!1,0==this.cur&&this.next_player()},view_weapons:function(){for(var t=0;t<R.instance.weapons.length;){if(null!=this.getChildByName("weapon"+t)){var e=this.getChildByName("weapon"+t);if(null!=e&&null!=e.parent){var i=e.parent;e.parent.removeChild(e),""!=e.__name&&Dt.deleteField(i,e.__name)}}++t}var s=R.instance.tank_[this.cur].score;for(this.score.score=s,this.player.player=R.instance.tank_[this.cur].name,this.clr.setRGB(R.instance.tank_[this.cur].col),t=0;t<R.instance.weapons.length;){var n={icon_link:R.instance.weapons[t][0],caption:R.instance.weapons[t][1],price:R.instance.weapons[t][2],count:R.instance.weapons[t][3],num:t},a="weapon"+t,r=Dt.field(this,a);null!=r&&this.removeChild(r);var o=R.swfLite.createMovieClip("weapon");if(o.set_name(a),null!=n)for(var h=0,_=Dt.fields(n);h<_.length;){var l=_[h];++h,Dt.setProperty(o,l,Dt.field(n,l))}this.addChildAtSwfDepthExternal(o,1000060+t),this[a]=o,this.getChildByName("weapon"+t).set_x(-140),this.getChildByName("weapon"+t).set_y(this.getChildByName("weapon"+t).get_height()*t-140),++t}for(t=0;t<R.instance.specials.length;){var u="special"+t,c={icon_link:R.instance.specials[t][0],caption:R.instance.specials[t][1],price:R.instance.specials[t][2],count:R.instance.specials[t][3],num:t},f=Dt.field(this,u);null!=f&&this.removeChild(f);var d=R.swfLite.createMovieClip("special");if(d.set_name(u),null!=c)for(var p=0,g=Dt.fields(c);p<g.length;){var m=g[p];++p,Dt.setProperty(d,m,Dt.field(c,m))}this.addChildAtSwfDepthExternal(d,1000080+t),this[u]=d,this.getChildByName("special"+t).set_x(140),this.getChildByName("special"+t).set_y(this.getChildByName("special"+t).get_height()*t-140),++t}},purchase_weapon:function(t){R.instance.tank_[this.cur].guns[t]=R.instance.tank_[this.cur].guns[t]+R.instance.weapons[t][3]|0,R.instance.tank_[this.cur].score-=R.instance.weapons[t][2],this.view_weapons()},purchase_special:function(t){R.instance.tank_[this.cur].specials[t]+=R.instance.specials[t][3],R.instance.tank_[this.cur].score-=R.instance.specials[t][2],this.view_weapons()},remove_weapons:function(){for(var t=0;t<20;){if(null!=this.getChildByName("weapon"+t)){var e=this.getChildByName("weapon"+t);if(null!=e&&null!=e.parent){var i=e.parent;e.parent.removeChild(e),""!=e.__name&&Dt.deleteField(i,e.__name)}}if(null!=this.getChildByName("special"+t)){var s=this.getChildByName("special"+t);if(null!=s&&null!=s.parent){var n=s.parent;s.parent.removeChild(s),""!=s.__name&&Dt.deleteField(n,s.__name)}}++t}},frame1:function(){1!=this.ch&&(this.speed=16,this.k=920),this.cur=0},__class__:bc});var yc=function(t,e){_.call(this,t,e)};(i["scripts.Death_g"]=yc).__name__=["scripts","Death_g"],yc.__super__=_,yc.prototype=s(_.prototype,{__class__:yc});var wc=function(t,e){_.call(this,t,e)};(i["scripts.Funky_g"]=wc).__name__=["scripts","Funky_g"],wc.__super__=_,wc.prototype=s(_.prototype,{__class__:wc});var xc=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Hlaven"]=xc).__name__=["scripts","Hlaven"],xc.__super__=_,xc.prototype=s(_.prototype,{frame1:function(){this.stop()},__class__:xc});var Tc=function(t,e){_.call(this,t,e)};(i["scripts.Hroller2_g"]=Tc).__name__=["scripts","Hroller2_g"],Tc.__super__=_,Tc.prototype=s(_.prototype,{__class__:Tc});var Sc=function(t,e){_.call(this,t,e)};(i["scripts.Hroller_g"]=Sc).__name__=["scripts","Hroller_g"],Sc.__super__=_,Sc.prototype=s(_.prototype,{__class__:Sc});var Cc=function(t,e){_.call(this,t,e)};(i["scripts.IShield"]=Cc).__name__=["scripts","IShield"],Cc.__super__=_,Cc.prototype=s(_.prototype,{damage:function(t,e){},disable:function(){},__class__:Cc});var Ec=function(t,e){_.call(this,t,e)};(i["scripts.Krajina3"]=Ec).__name__=["scripts","Krajina3"],Ec.__super__=_,Ec.prototype=s(_.prototype,{__class__:Ec});var Ic=function(t,e){_.call(this,t,e)};(i["scripts.Mirv_g"]=Ic).__name__=["scripts","Mirv_g"],Ic.__super__=_,Ic.prototype=s(_.prototype,{__class__:Ic});var Pc=function(t,e){_.call(this,t,e)};(i["scripts.Missile_funky"]=Pc).__name__=["scripts","Missile_funky"],Pc.__super__=_,Pc.prototype=s(_.prototype,{__class__:Pc});var kc=function(t,e){_.call(this,t,e)};(i["scripts.Missile_g"]=kc).__name__=["scripts","Missile_g"],kc.__super__=_,kc.prototype=s(_.prototype,{__class__:kc});var Dc=function(t,e){_.call(this,t,e)};(i["scripts.Nuke_g"]=Dc).__name__=["scripts","Nuke_g"],Dc.__super__=_,Dc.prototype=s(_.prototype,{__class__:Dc});var Ac=function(t,e){this.col=[],this.t=[],this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),_.call(this,t,e),this.rad1.set_visible(!1),this.rad2.set_visible(!1),this.rad3.set_visible(!1);for(var i=0,s=this.__children._length;i<s;){var n=i++,a=this.getChildAt(n),r=a.symbolId;156!=r&&157!=r&&158!=r&&159!=r||a.set_visible(!1)}};(i["scripts.Panel"]=Ac).__name__=["scripts","Panel"],Ac.__super__=_,Ac.prototype=s(_.prototype,{player_changed:function(){this.ico.change_icon(),this.sort_score(),this.refresh_icons()},refresh_icons:function(){this.repair.refresh(),this.parachutes.refresh(),this.teleport.refresh(),this.shields.refresh()},sort_score:function(){for(var t=1;t<R.instance.pocet_hracu+1;){this.resolve("score"+t).score=R.instance.tank_[t].total_score,++t}for(t=1;t<R.instance.pocet_hracu+1;)this.t[t]=R.instance.pocet_hracu,++t;for(var e=1;e<R.instance.pocet_hracu+1;){for(t=1;t<R.instance.pocet_hracu+1;)R.instance.tank_[e].total_score>=R.instance.tank_[t].total_score&&e!=t&&(this.t[e]-=1),++t;++e}var i={total_score:-1e18};for(t=1;t<R.instance.pocet_hracu+1;)i.total_score<R.instance.tank_[t].total_score&&(i=R.instance.tank_[t],this.getChildByName("score"+t).set_y(28.3)),++t;var s={total_score:-1e19};for(t=1;t<R.instance.pocet_hracu+1;)s.total_score<R.instance.tank_[t].total_score&&i!=R.instance.tank_[t]&&(s=R.instance.tank_[t],this.getChildByName("score"+t).set_y(42.45)),++t;var n={total_score:-1e19};for(t=1;t<R.instance.pocet_hracu+1;)n.total_score<R.instance.tank_[t].total_score&&i!=R.instance.tank_[t]&&s!=R.instance.tank_[t]&&(n=R.instance.tank_[t],this.getChildByName("score"+t).set_y(56.6)),++t;var a={total_score:-1e19};for(t=1;t<R.instance.pocet_hracu+1;)a.total_score<R.instance.tank_[t].total_score&&i!=R.instance.tank_[t]&&s!=R.instance.tank_[t]&&n!=R.instance.tank_[t]&&(a=R.instance.tank_[t],this.getChildByName("score"+t).set_y(70.75)),++t;var r={total_score:-1e19};for(t=1;t<R.instance.pocet_hracu+1;)r.total_score<R.instance.tank_[t].total_score&&i!=R.instance.tank_[t]&&s!=R.instance.tank_[t]&&n!=R.instance.tank_[t]&&a!=R.instance.tank_[t]&&(r=R.instance.tank_[t],this.getChildByName("score"+t).set_y(84.9)),++t},frame1:function(){if(null==this.__targetFrame||1==this.__targetFrame){this.cl=new B(this.getChildByName("name"));for(var t=1;t<R.instance.pocet_hracu+1;){var e="score"+t,i=Dt.field(this,e);null!=i&&this.removeChild(i);var s=R.swfLite.createMovieClip("score_tab");s.set_name(e),this.addChildAtSwfDepthExternal(s,109e4+t),this[e]=s;var n=this.resolve("score"+t);n.set_x(36),n.set_y(14.15*t+14.15),n.playerName=R.instance.tank_[t].name,n.score=R.instance.tank_[t].total_score,this.col[t]=new B(n),this.col[t].setRGB(R.instance.tank_[t].col),++t}this.player_changed()}},frame2:function(){this.sh_active?this.fuel_ar.gotoAndStop(2):this.fuel_ar.gotoAndStop(1);var t=R.instance.na_rade.tank_number;this.cl.setRGB(R.instance.tank_[t].col),this.power=R.instance.power,this.set_rotation(0),this.energy=Math.round(R.instance.tank_[t].energy),this.fuel=Math.round(R.instance.tank_[t].fuel),this.kills=R.instance.tank_[t].kills,this.getChildByName("name").playerName=R.instance.tank_[t].name,this.score=R.instance.tank_[t].score,this.vitr=Math.abs(R.instance.vitr);var e=R.instance.vitr;this.vitr_uk.set_scaleX(e/100),this.tank.hlaven.set_rotation(R.instance.na_rade.rotace)},frame3:function(){this.gotoAndPlay(2)},__class__:Ac});var Mc=function(t,e){_.call(this,t,e)};(i["scripts.Roller2_g"]=Mc).__name__=["scripts","Roller2_g"],Mc.__super__=_,Mc.prototype=s(_.prototype,{__class__:Mc});var Rc=function(t,e){_.call(this,t,e)};(i["scripts.Roller_g"]=Rc).__name__=["scripts","Roller_g"],Rc.__super__=_,Rc.prototype=s(_.prototype,{__class__:Rc});var Fc=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),Cc.call(this,t,e)};(i["scripts.Shield_sh"]=Fc).__name__=["scripts","Shield_sh"],Fc.__super__=Cc,Fc.prototype=s(Cc.prototype,{damage:function(t,e){this.en-=t;var i=Math.round(this.en/this.en_max*100);if(this.set_alpha(i/100),this.en<=0){var s=Jn.__cast(N.getChild(R.instance,"tank"+this.num),fu);if(s.sh_active=!1,R.instance._t[this.num]=N.getChild(R.instance,"tank"+this.num),s.damage(2*Math.abs(this.en),e),null!=this.parent){var n=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(n,this.__name)}}},disable:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},frame1:function(){this.en=200,this.en_max=200},__class__:Fc});var Bc=function(t,e){this.addEventListener("addedToStage",Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Special"]=Bc).__name__=["scripts","Special"],Bc.__super__=_,Bc.prototype=s(_.prototype,{frame1:function(){R.instance.tank_[R.instance.clona.cur].score>=this.price?(this.w_caption=this.caption,this.w2_caption=""):(this.w2_caption=this.caption,this.w_caption=""),this.w_price=this.price,this.w_count=this.count,this.t_count=R.instance.tank_[R.instance.clona.cur].specials[this.num];var t=this.icon_link,e=1000120+this.num,i=Dt.field(this,"icon");null!=i&&this.removeChild(i);var s=R.swfLite.createMovieClip(t);s.set_name("icon"),this.addChildAtSwfDepthExternal(s,e),this.icon=s,this.icon.set_y(.4),this.icon.set_x(-74);for(var n=0,a=this.__children._length;n<a;){var r=n++,o=this.getChildAt(r);250!=o.symbolId&&(o.mouseEnabled=!1)}},__class__:Bc});var Lc=function(t,e){_.call(this,t,e)};(i["scripts.Sprite_126"]=Lc).__name__=["scripts","Sprite_126"],Lc.__super__=_,Lc.prototype=s(_.prototype,{view_forward:function(){for(var t=!1,e=R.instance.tank_[R.instance.na_rade.tank_number],i=e.cur_gun+1;R.instance.weapons.length>=i;){if(0<e.guns[i]){e.cur_gun=i,t=!0,this.change_icon();break}++i}if(0==t)for(i=0;R.instance.weapons.length>=i;){if(0<e.guns[i]){e.cur_gun=i,this.change_icon();break}++i}},view_backward:function(){for(var t=!1,e=R.instance.tank_[R.instance.na_rade.tank_number],i=e.cur_gun-1;0<=i;){if(0<e.guns[i]){e.cur_gun=i,t=!0,this.change_icon();break}--i}if(0==t)for(i=R.instance.weapons.length;0<=i;){if(0<e.guns[i]){e.cur_gun=i,this.change_icon();break}--i}},change_icon:function(){var t=R.instance.weapons[R.instance.tank_[R.instance.na_rade.tank_number].cur_gun][0],e=Dt.field(this,"gun_ico");null!=e&&this.removeChild(e);var i=R.swfLite.createMovieClip(t);i.set_name("gun_ico"),this.addChildAtSwfDepthExternal(i,1000101),this.gun_ico=i,this.gun_ico.set_x(-55),this.gun_ico.set_y(0),this.playerName=R.instance.weapons[R.instance.tank_[R.instance.na_rade.tank_number].cur_gun][1],this.count=R.instance.tank_[R.instance.na_rade.tank_number].guns[R.instance.tank_[R.instance.na_rade.tank_number].cur_gun]},__class__:Lc});var Nc=function(t,e){_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame)),this.sdrag=!1};(i["scripts.Sprite_135"]=Nc).__name__=["scripts","Sprite_135"],Nc.__super__=_,Nc.prototype=s(_.prototype,{enterFrame:function(){this.sdrag?(R.instance.na_rade.power=100-Math.round(this.pow.__transform.ty),this.pow.__transform.ty<0&&this.pow.set_y(0)):this.pow.set_y(100-R.instance.na_rade.power),this.shadow.set_y(-R.instance.tank_[R.instance.na_rade.tank_number].energy)},__class__:Nc});var Oc=function(t,e){_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_139"]=Oc).__name__=["scripts","Sprite_139"],Oc.__super__=_,Oc.prototype=s(_.prototype,{enterFrame:function(){"tank"==R.instance.na_rade.type&&(this.left&&R.instance.na_rade.left?R.instance.na_rade.move_left():this.right&&R.instance.na_rade.right&&R.instance.na_rade.move_right(),0==R.instance.tank_[R.instance.na_rade.tank_number].fuel&&(this.left=!1,this.right=!1))},__class__:Oc});var Uc=function(t,e){_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_145"]=Uc).__name__=["scripts","Sprite_145"],Uc.__super__=_,Uc.prototype=s(_.prototype,{enterFrame:function(){if(this.sdrag)R.instance.na_rade.rotace=90+Math.round(this.drag.__transform.tx),this.parent.rotation=R.instance.na_rade.rotace,R.instance.tur.play();else{var t=-90+R.instance.na_rade.rotace;2!=R.instance.tur.get_currentFrame()&&(R.instance.tur.gotoAndStop(2),this.drag.set_x(t),this.parent.rotation=R.instance.na_rade.rotace)}},__class__:Uc});var zc=function(t,e){var i=this;this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),_.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_151"]=zc).__name__=["scripts","Sprite_151"],zc.__super__=_,zc.prototype=s(_.prototype,{load:function(){},frame1:function(){this.stop()},frame2:function(){this.stop()},__class__:zc});var Gc=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Sprite_168"]=Gc).__name__=["scripts","Sprite_168"],Gc.__super__=_,Gc.prototype=s(_.prototype,{refresh:function(){R.instance.tank_[R.instance.na_rade.tank_number].energy<R.instance.tank_[R.instance.na_rade.tank_number].max_energy&&0<R.instance.tank_[R.instance.na_rade.tank_number].specials[1]&&"tank"==R.instance.na_rade.type?this.gotoAndStop(1):this.gotoAndStop(2),this.count=R.instance.tank_[R.instance.na_rade.tank_number].specials[1]},frame1:function(){this.stop()},__class__:Gc});var Xc=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Sprite_177"]=Xc).__name__=["scripts","Sprite_177"],Xc.__super__=_,Xc.prototype=s(_.prototype,{refresh:function(){this.count=R.instance.tank_[R.instance.na_rade.tank_number].specials[0],0==this.count&&0==R.instance.na_rade.par_used||"ai"==R.instance.na_rade.type?this.gotoAndStop(3):R.instance.na_rade.par?this.gotoAndStop(2):this.gotoAndStop(1)},frame1:function(){this.stop()},__class__:Xc});var Vc=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Sprite_184"]=Vc).__name__=["scripts","Sprite_184"],Vc.__super__=_,Vc.prototype=s(_.prototype,{refresh:function(){this.count=R.instance.tank_[R.instance.na_rade.tank_number].specials[7],0<this.count&&"tank"==R.instance.na_rade.type?this.gotoAndStop(1):this.gotoAndStop(2)},frame1:function(){this.stop()},__class__:Vc});var Hc=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("addedToStage",function(){i.stage.addEventListener("mouseMove",Gf(i,i.mouseMove))})};(i["scripts.Sprite_190"]=Hc).__name__=["scripts","Sprite_190"],Hc.__super__=_,Hc.prototype=s(_.prototype,{mouseMove:function(){(this.__transform.tx+this.get_width()/2<this.get__xmouse()||this.get__xmouse()<this.__transform.tx-this.get_width()/2||this.__transform.ty+this.get_height()/2<this.get__ymouse()||this.get__ymouse()<this.__transform.ty-this.get_height()/2)&&(lo.current.removeEventListener("mouseMove",Gf(this,this.mouseMove)),null!=this.parent&&this.parent.gotoAndStop(1))},__class__:Hc});var Yc=function(t,e){var i=this;this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),_.call(this,t,e),this.addEventListener("added",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_197"]=Yc).__name__=["scripts","Sprite_197"],Yc.__super__=_,Yc.prototype=s(_.prototype,{refresh:function(){0<R.instance.tank_[R.instance.na_rade.tank_number].specials[3]&&0==R.instance.na_rade.sh_active?this.gotoAndStop(1):this.gotoAndStop(3)},load:function(){},frame1:function(){this.stop(),this.refresh()},frame2:function(){this.count=R.instance.tank_[R.instance.na_rade.tank_number].specials[3]},__class__:Yc});var Wc=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),_.call(this,t,e)};(i["scripts.Sprite_201"]=Wc).__name__=["scripts","Sprite_201"],Wc.__super__=_,Wc.prototype=s(_.prototype,{refresh:function(){0<R.instance.tank_[R.instance.na_rade.tank_number].specials[4]&&0==R.instance.na_rade.sh_active?this.gotoAndStop(1):this.gotoAndStop(3)},frame1:function(){this.stop(),this.refresh()},frame2:function(){this.count=R.instance.tank_[R.instance.na_rade.tank_number].specials[4]},__class__:Wc});var jc=function(t,e){var i=this;this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),_.call(this,t,e),this.addEventListener("added",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_209"]=jc).__name__=["scripts","Sprite_209"],jc.__super__=_,jc.prototype=s(_.prototype,{refresh:function(){0<R.instance.tank_[R.instance.na_rade.tank_number].specials[5]&&0==R.instance.na_rade.sh_active?this.gotoAndStop(1):this.gotoAndStop(3)},load:function(){},frame1:function(){this.stop(),this.refresh()},frame2:function(){this.count=R.instance.tank_[R.instance.na_rade.tank_number].specials[5]},__class__:jc});var Kc=function(t,e){var i=this;this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),_.call(this,t,e),this.addEventListener("added",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_215"]=Kc).__name__=["scripts","Sprite_215"],Kc.__super__=_,Kc.prototype=s(_.prototype,{refresh:function(){0<R.instance.tank_[R.instance.na_rade.tank_number].specials[6]&&0==R.instance.na_rade.sh_active?this.gotoAndStop(1):this.gotoAndStop(3)},load:function(){},frame1:function(){this.stop(),this.refresh()},frame2:function(){this.count=R.instance.tank_[R.instance.na_rade.tank_number].specials[6]},__class__:Kc});var qc=function(t,e){var i=this;this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e),this.addEventListener("added",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_220"]=qc).__name__=["scripts","Sprite_220"],qc.__super__=_,qc.prototype=s(_.prototype,{refresh:function(){R.instance.na_rade.sh_active?this.gotoAndStop(1):this.gotoAndStop(2)},load:function(){},frame1:function(){this.stop(),this.refresh()},__class__:qc});var Jc=function(t,e){this.addEventListener("addedToStage",Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),_.call(this,t,e)};(i["scripts.Sprite_221"]=Jc).__name__=["scripts","Sprite_221"],Jc.__super__=_,Jc.prototype=s(_.prototype,{refresh:function(){"tank"==R.instance.na_rade.type?(null!=this.sh1&&this.sh1.refresh(),null!=this.sh2&&this.sh2.refresh(),null!=this.sh3&&this.sh3.refresh(),null!=this.sh4&&this.sh4.refresh(),null!=this.sh_d&&this.sh_d.refresh()):this.gotoAndStop(3)},frame1:function(){this.stop(),this.parent.sh_active=!1},frame2:function(){this.parent.sh_active=!0},frame3:function(){this.stop()},__class__:Jc});var Zc=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()}),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_232"]=Zc).__name__=["scripts","Sprite_232"],Zc.__super__=_,Zc.prototype=s(_.prototype,{load:function(){this.speed=this.parent.speed,this.first=!0,this.px=this.__transform.tx,this.k=this.parent.k},enterFrame:function(){if(R.instance.clona.projizdi){if(this.speed-=(137.5+Math.abs(this.__transform.tx))/this.k,-137.5<this.__transform.tx&&(this.set_x(-137.5),null!=this.parent.frame&&R.instance.gotoAndStop(this.parent.frame)),this.set_x(this.__transform.tx+this.speed),this.speed<0&&this.__transform.tx<this.px)if(this.parent.stops){var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}else{R.instance.play();var i=this.parent;if(null!=i&&null!=i.parent){var s=i.parent;i.parent.removeChild(i),""!=i.__name&&Dt.deleteField(s,i.__name)}}}else if(this.__transform.tx<-137.5)this.speed-=(137.5+Math.abs(this.__transform.tx))/this.k,this.set_x(this.__transform.tx+this.speed);else{if(this.set_x(-137.5),null!=R.instance.pozadi){var n=R.instance.pozadi;if(null!=n&&null!=n.parent){var a=n.parent;n.parent.removeChild(n),""!=n.__name&&Dt.deleteField(a,n.__name)}}if(null!=R.instance.panel){var r=R.instance.panel;if(null!=r&&null!=r.parent){var o=r.parent;r.parent.removeChild(r),""!=r.__name&&Dt.deleteField(o,r.__name)}}this.parent.purchasing&&this.first&&(this.first=!1,this.parent.purchasing_fc())}},__class__:Zc});var Qc=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("added",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_234"]=Qc).__name__=["scripts","Sprite_234"],Qc.__super__=_,Qc.prototype=s(_.prototype,{load:function(){this.set_visible(!1)},__class__:Qc});var $c=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_236"]=$c).__name__=["scripts","Sprite_236"],$c.__super__=_,$c.prototype=s(_.prototype,{load:function(){this.set_visible(!1)},__class__:$c});var tf=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()}),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_239"]=tf).__name__=["scripts","Sprite_239"],tf.__super__=_,tf.prototype=s(_.prototype,{load:function(){this.speed=this.parent.speed,this.k=this.parent.k},enterFrame:function(){R.instance.clona.projizdi?(this.speed-=(137.5+Math.abs(this.__transform.tx))/this.k,this.set_x(this.__transform.tx-this.speed),this.__transform.tx<137.5&&this.set_x(137.5)):137.5<this.__transform.tx?(this.speed-=(137.5+Math.abs(this.__transform.tx))/this.k,this.set_x(this.__transform.tx-this.speed)):this.set_x(137)},__class__:tf});var ef=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("mouseDown",Gf(this,this.mouseDown)),this.addEventListener("addedToStage",function(){i.parent.addEventListener("mouseDown",Gf(i,i.mouseDown))})};(i["scripts.Sprite_303"]=ef).__name__=["scripts","Sprite_303"],ef.__super__=_,ef.prototype=s(_.prototype,{mouseDown:function(){this.stopDrag(),this.parent.play(),this.parent.tary=this.parent.__transform.ty,this.parent.tarx=this.parent.__transform.tx},__class__:ef});var sf=function(t,e){_.call(this,t,e),this.m4.gotoAndStop(2)};(i["scripts.Sprite_331"]=sf).__name__=["scripts","Sprite_331"],sf.__super__=_,sf.prototype=s(_.prototype,{__class__:sf});var nf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Sprite_344"]=nf).__name__=["scripts","Sprite_344"],nf.__super__=_,nf.prototype=s(_.prototype,{frame1:function(){this.pocet=R.instance.pocet_hracu},__class__:nf});var af=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Sprite_347"]=af).__name__=["scripts","Sprite_347"],af.__super__=_,af.prototype=s(_.prototype,{frame1:function(){this.stop()},__class__:af});var rf=function(t,e){this.addFrameScript(69,Gf(this,this.frame70)),_.call(this,t,e)};(i["scripts.Sprite_361"]=rf).__name__=["scripts","Sprite_361"],rf.__super__=_,rf.prototype=s(_.prototype,{frame70:function(){this.stop()},__class__:rf});var of=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Sprite_365"]=of).__name__=["scripts","Sprite_365"],of.__super__=_,of.prototype=s(_.prototype,{frame1:function(){this.stop()},__class__:of});var hf=function(t,e){this.loaded=!1,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_37"]=hf).__name__=["scripts","Sprite_37"],hf.__super__=_,hf.prototype=s(_.prototype,{load:function(){this.stop(),this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty){R.instance.shot_flying=!1,this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!0,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&this.play(),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&this.play(),++i;!this.hitTestObject(this.owner)&&this.hit&&this.parent.swapDepths(this.depth),this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||1!=this.hit||(this.hit=!1),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-35*r),e.set_y(e.__transform.ty+30*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-30*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+30*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/40)):(h=Math.round(this.get_width()/((u+1)/22)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:hf});var _f=function(t,e){_.call(this,t,e),this.m4.gotoAndStop(2),this.m5.gotoAndStop(1),this.m6.gotoAndStop(1)};(i["scripts.Sprite_377"]=_f).__name__=["scripts","Sprite_377"],_f.__super__=_,_f.prototype=s(_.prototype,{__class__:_f});var lf=function(t,e){_.call(this,t,e),this.m3.gotoAndStop(2),this.m5.gotoAndStop(1),R.instance.dif="normal"};(i["scripts.Sprite_393"]=lf).__name__=["scripts","Sprite_393"],lf.__super__=_,lf.prototype=s(_.prototype,{__class__:lf});var uf=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("added",function(t){t.target==i&&i.load()}),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_394"]=uf).__name__=["scripts","Sprite_394"],uf.__super__=_,uf.prototype=s(_.prototype,{load:function(){this.set_alpha(0),this.speed=2},enterFrame:function(){if("ai"==R.instance.type&&100*this.__colorTransform.alphaMultiplier<100){var t=100*this.__colorTransform.alphaMultiplier+this.speed;this.set_alpha(t/100)}else if("tank"==R.instance.type&&0<100*this.__colorTransform.alphaMultiplier){var e=100*this.__colorTransform.alphaMultiplier-this.speed;this.set_alpha(e/100)}},__class__:uf});var cf=function(t,e){var i=this;_.call(this,t,e),this.addEventListener("added",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_399"]=cf).__name__=["scripts","Sprite_399"],cf.__super__=_,cf.prototype=s(_.prototype,{load:function(){this.loaded||(this.loaded=!0,this.swapDepths(34567))},__class__:cf});var ff=function(t,e){this.loaded=!1,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_40"]=ff).__name__=["scripts","Sprite_40"],ff.__super__=_,ff.prototype=s(_.prototype,{load:function(){this.stop(),this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty){R.instance.shot_flying=!1,this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!0,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&this.play(),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&this.play(),++i;!this.hitTestObject(this.owner)&&this.hit&&this.parent.swapDepths(this.depth),this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||1!=this.hit||(this.hit=!1),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*r),e.set_y(e.__transform.ty+15*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/24)):(h=Math.round(this.get_width()/((u+1)/17)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:ff});var df=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),_.call(this,t,e)};(i["scripts.Sprite_400"]=df).__name__=["scripts","Sprite_400"],df.__super__=_,df.prototype=s(_.prototype,{frame1:function(){this.stop()},__class__:df});var pf=function(t,e){this.loaded=!1,_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_401"]=pf).__name__=["scripts","Sprite_401"],pf.__super__=_,pf.prototype=s(_.prototype,{load:function(){if(this.i=0,R.instance.rand_krajina){var t=O.random(3);R.instance.krajina=t+1}if(1==R.instance.krajina){R.instance.vitrchange=16;for(var e=0;0==e;)e=O.random(3)-1;var i=O.random(50)+30;R.instance.vitr=i*e;var s=R.instance,n=Dt.field(s,"pozadi");null!=n&&s.removeChild(n);var a=R.swfLite.createMovieClip("krajina1");a.set_name("pozadi"),s.addChildAtSwfDepthExternal(a,1),s.pozadi=a,R.instance.pozadi.set_x(274),R.instance.pozadi.set_y(203.4),R.instance.land.set_x(500),this.n2=O.random(200)+100,this.n3=O.random(300)+50,this.n4=O.random(300)+50,this.ran=O.random(500),this.pocet=O.random(5)+2}else if(2==R.instance.krajina){R.instance.vitrchange=12;for(var r=0;0==r;)r=O.random(3)-1;var o=O.random(25)+25;R.instance.vitr=o*r;var h=R.instance,_=Dt.field(h,"pozadi");null!=_&&h.removeChild(_);var l=R.swfLite.createMovieClip("krajina2");l.set_name("pozadi"),h.addChildAtSwfDepthExternal(l,1),h.pozadi=l,R.instance.pozadi.set_x(248.8),R.instance.pozadi.set_y(334.6),R.instance.land.set_y(536),this.n2=O.random(100)+50,this.n3=O.random(200)+50,this.n4=O.random(200)+50,this.ran=O.random(500),this.pocet=O.random(6)+2,this.f=O.random(50)+10}else if(3==R.instance.krajina){R.instance.vitrchange=6;for(var u=0;0==u;)u=O.random(3)-1;var c=O.random(20);R.instance.vitr=c*u;var f=R.instance,d=Dt.field(f,"pozadi");null!=d&&f.removeChild(d);var p=R.swfLite.createMovieClip("krajina3");p.set_name("pozadi"),f.addChildAtSwfDepthExternal(p,1),f.pozadi=p,R.instance.pozadi.set_x(274),R.instance.pozadi.set_y(200.6),R.instance.land.set_y(615),this.i=0,this.rand=O.random(400)/10+1,this.rand2=(O.random(15)+1)/10}},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),4==this.parent.get_currentFrame()){if(this.i<540&&(this.f=this.i+40),1==R.instance.krajina)for(;this.i<this.f;){var t=R.instance.land,e="land"+this.i,i=16384+(this.i+8e3),s=t.getSymbol(),n=mi.createInstance(null==t?null:Jn.getClass(t),[R.swfLite,s]);n.set_name(e),n.set_transform(t.get_transform()),Jn.__cast(t.parent,M).addChildAtSwfDepthExternal(n,i),N.getChild(R.instance,"land"+this.i).set_x(this.i),N.getChild(R.instance,"land"+this.i).set_y(N.getChild(R.instance,"land"+this.i).__transform.ty+Math.sin(3.141592653589793/this.n3*this.i)*Math.cos(3.141592653589793/this.n4*this.i)*(this.ran-this.i)/2),new B(N.getChild(R.instance,"land"+this.i)).setRGB(16777215),this.i++}if(2==R.instance.krajina)for(;this.i<this.f;){var a=R.instance.land,r="land"+this.i,o=16384+(this.i+8e3),h=a.getSymbol(),_=mi.createInstance(null==a?null:Jn.getClass(a),[R.swfLite,h]);_.set_name(r),_.set_transform(a.get_transform()),Jn.__cast(a.parent,M).addChildAtSwfDepthExternal(_,o),N.getChild(R.instance,"land"+this.i).set_x(this.i),N.getChild(R.instance,"land"+this.i).set_y(N.getChild(R.instance,"land"+this.i).__transform.ty+Math.sin(.017453292519943295*this.i)*Math.cos(3.141592653589793/this.n4*this.i)*(this.ran-this.i)/4/2);var l=new B(N.getChild(R.instance,"land"+this.i)),u=N.getChild(R.instance,"land"+this.i).get_height()/12,c=new F;c.set_ra(100),c.set_rb(120),c.set_ga(100),c.set_gb(130+u),c.set_ba(100),c.set_bb(0),c.set_aa(100),c.set_ab(0),l.setTransform(c),this.i++}if(3==R.instance.krajina)for(;this.i<this.f;){var f=R.instance.land,d="land"+this.i,p=16384+(this.i+8e3),g=f.getSymbol(),m=mi.createInstance(null==f?null:Jn.getClass(f),[R.swfLite,g]);m.set_name(d),m.set_transform(f.get_transform()),Jn.__cast(f.parent,M).addChildAtSwfDepthExternal(m,p),N.getChild(R.instance,"land"+this.i).set_x(this.i),N.getChild(R.instance,"land"+this.i).set_y(N.getChild(R.instance,"land"+this.i).__transform.ty+Math.sin(.017453292519943295*this.i*this.rand2)*this.rand/2);var v=new B(N.getChild(R.instance,"land"+this.i)),b=(N.getChild(R.instance,"land"+this.i).get_height(),new F);b.set_ra(100),b.set_rb(234),b.set_ga(100),b.set_gb(221),b.set_ba(100),b.set_bb(181),b.set_aa(100),b.set_ab(0),v.setTransform(b),this.i++}if(550<=this.i){if(1==R.instance.krajina)for(this.i=0;this.i<this.pocet;){var y=R.instance,w="strom"+this.i,x=2e4+this.i,T=Dt.field(y,w);null!=T&&y.removeChild(T);var S=R.swfLite.createMovieClip("strom_1");S.set_name(w),y.addChildAtSwfDepthExternal(S,x),y[w]=S,this.i++}if(2==R.instance.krajina)for(this.f=0,this.i=0;this.i<100;){var C=R.instance,E="strom"+this.i,I=2e4+this.i,P=Dt.field(C,E);null!=P&&C.removeChild(P);var k=R.swfLite.createMovieClip("strom_2");if(k.set_name(E),C.addChildAtSwfDepthExternal(k,I),C[E]=k,N.getChild(R.instance,"strom"+this.i).set_x(this.f),this.f+=O.random(30)+8,550<this.f)break;this.i++}if(null!=R.instance.uv){var D=R.instance.uv;if(null!=D&&null!=D.parent){var A=D.parent;D.parent.removeChild(D),""!=D.__name&&Dt.deleteField(A,D.__name)}}R.instance.gotoAndPlay("hra")}null!=R.instance.uv&&(this.i<=500?(R.instance.uv.percent.set_width(2*Math.round(this.i/550*100)),R.instance.uv.percent.set_x(-95.3+Math.round(this.i/550*100))):(R.instance.uv.percent.set_width(200),R.instance.uv.percent.set_x(4.7)))}},__class__:pf});var gf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(35,Gf(this,this.frame36)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_402"]=gf).__name__=["scripts","Sprite_402"],gf.__super__=_,gf.prototype=s(_.prototype,{enterFrame:function(){if(R.instance.testing){for(var t=!1,e=1;R.instance.pocet_hracu>=e;){if(0!=Jn.__cast(N.getChild(R.instance,"tank"+e),fu).testing&&1==R.instance.tank_[e].live){t=!0;break}++e}if(t||(1<R.instance.hracu&&R.instance.nextplayer(),R.instance.testing=!1),R.instance.hracu<2&&0==R.instance.end&&0==R.instance.testing){R.instance.end=!0,this.play();var i=N.getChild(R.instance,"tank1"),s=N.getChild(R.instance,"tank2");if(i.isBot!=s.isBot){var n=0;n=i.isBot?R.instance.tank_[s.tank_number].total_score:R.instance.tank_[i.tank_number].total_score,Of.client.postScore("score",0|n)}}}},frame1:function(){this.stop()},frame36:function(){for(var t=0;t<=550;){var e=N.getChild(R.instance,"land"+t);if(null!=e&&null!=e.parent){var i=e.parent;e.parent.removeChild(e),""!=e.__name&&Dt.deleteField(i,e.__name)}++t}for(t=0;t<100;)if(null!=N.getChild(R.instance,"strom"+t)){var s=N.getChild(R.instance,"strom"+t);if(null!=s&&null!=s.parent){var n=s.parent;s.parent.removeChild(s),""!=s.__name&&Dt.deleteField(n,s.__name)}++t}else++t;for(t=1;R.instance.pocet_hracu>=t;){if(null!=N.getChild(R.instance,"shield"+t)){var a=N.getChild(R.instance,"shield"+t);if(null!=a&&null!=a.parent){var r=a.parent;a.parent.removeChild(a),""!=a.__name&&Dt.deleteField(r,a.__name)}}if(null!=N.getChild(R.instance,"parachute"+t)){var o=N.getChild(R.instance,"parachute"+t);if(null!=o&&null!=o.parent){var h=o.parent;o.parent.removeChild(o),""!=o.__name&&Dt.deleteField(h,o.__name)}}if(null!=N.getChild(R.instance,"tank"+t)){var _=N.getChild(R.instance,"tank"+t);if(null!=_&&null!=_.parent){var l=_.parent;_.parent.removeChild(_),""!=_.__name&&Dt.deleteField(l,_.__name)}}if(null!=N.getChild(R.instance,"tank"+t+"_hlaven")){var u=N.getChild(R.instance,"tank"+t+"_hlaven");if(null!=u&&null!=u.parent){var c=u.parent;u.parent.removeChild(u),""!=u.__name&&Dt.deleteField(c,u.__name)}}R.instance.tank_[t].fuel=R.instance.tank_[t].specials[2],++t}if(null!=R.instance.strela){var f=R.instance.strela;if(null!=f&&null!=f.parent){var d=f.parent;f.parent.removeChild(f),""!=f.__name&&Dt.deleteField(d,f.__name)}}var p=R.instance,g={purchasing:!0,speed:10,k:2340,ch:!0},m=Dt.field(p,"clona");null!=m&&p.removeChild(m);var v=R.swfLite.createMovieClip("clona");if(v.set_name("clona"),null!=g)for(var b=0,y=Dt.fields(g);b<y.length;){var w=y[b];++b,Dt.setProperty(v,w,Dt.field(g,w))}p.addChildAtSwfDepthExternal(v,1000001),p.clona=v,R.instance.clona.set_x(275),R.instance.clona.set_y(200),R.instance.vitr=0,R.instance.pozadi.slunce.gotoAndStop(1)},__class__:gf});var mf=function(t,e){this.loaded=!1,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),this.addFrameScript(12,Gf(this,this.frame13)),this.addFrameScript(13,Gf(this,this.frame14)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_42"]=mf).__name__=["scripts","Sprite_42"],mf.__super__=_,mf.prototype=s(_.prototype,{load:function(){this.stop(),this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){this.loaded||(this.loaded=!0,this.load()),(this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty)&&this.gotoAndPlay(12),1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var t=1;R.instance.pocet_hracu>=t;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.owner.tank_number&&this.play(),this.hitTestObject(this.owner)&&0==this.hit&&this.play(),++t;this.hitTest(this.owner)||(this.hit=!1),Math.round(10*this.t)/10==3&&(1==this.get_currentFrame()?this.bum2():this.end=!0),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/20)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},bum2:function(){for(var t=0;t<7;){var e=R.instance,i="strela"+t,s=Dt.field(e,i);null!=s&&e.removeChild(s);var n=R.swfLite.createMovieClip("bnuke_c");n.set_name(i),e.addChildAtSwfDepthExternal(n,1001+t),e[i]=n,N.getChild(R.instance,"strela"+t).depth=10041+t,N.getChild(R.instance,"strela"+t).set_rotation(this.parent.__rotation);var a=this.px,r=R.instance.vitr/7;N.getChild(R.instance,"strela"+t).strela.px=a+r,N.getChild(R.instance,"strela"+t).strela.py=this.py;var o=N.getChild(R.instance,"strela"+t).strela;o.t=this.t,o.vox=this.vox,o.voy=this.voy,o.vo=this.vo,o.owner=this.owner,o.st_number=t,o.inc=-3+t,++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){for(var t=!0,e=0;e<7;){if(1!=this["shot"+e]){t=!1;break}++e}(t||this.end)&&(this.__targetFrame=null,this.gotoAndStop(14))},frame13:function(){null!=this.__targetFrame&&13!=this.__targetFrame||this.gotoAndPlay(this.get_currentFrame()-1)},frame14:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:mf});var vf=function(t,e){this.loaded=!1,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),this.addFrameScript(12,Gf(this,this.frame13)),this.addFrameScript(13,Gf(this,this.frame14)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_44"]=vf).__name__=["scripts","Sprite_44"],vf.__super__=_,vf.prototype=s(_.prototype,{load:function(){this.stop(),this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){this.loaded||(this.loaded=!0,this.load()),(this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty)&&this.gotoAndPlay(12),1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var t=1;R.instance.pocet_hracu>=t;)this.hitTestObject(Jn.__cast(N.getChild(R.instance,"tank"+t),fu))&&t!=this.owner.tank_number&&this.play(),this.hitTestObject(this.owner)&&0==this.hit&&this.play(),++t;this.hitTest(this.owner)||(this.hit=!1),Math.round(10*this.t)/10==3&&(1==this.get_currentFrame()?this.bum2():this.end=!0),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/18)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},bum2:function(){for(var t=0;t<5;){var e=R.instance,i="strela"+t,s=Dt.field(e,i);null!=s&&e.removeChild(s);var n=R.swfLite.createMovieClip("missile_funky");n.set_name(i),e.addChildAtSwfDepthExternal(n,1001+t),e[i]=n,N.getChild(R.instance,"strela"+t).depth=10041+t,N.getChild(R.instance,"strela"+t).set_rotation(this.parent.__rotation);var a=N.getChild(R.instance,"strela"+t).strela;a.strela.px=this.px+R.instance.vitr/7,a.strela.py=this.py,a.strela.t=this.t,a.strela.vox=this.vox,a.strela.voy=this.voy,a.strela.vo=this.vo,a.strela.owner=this.owner,a.strela.st_number=t,a.strela.inc=-2+t,++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){for(var t=!0,e=0;e<5;){if(1!=this["shot"+e]){t=!1;break}++e}(t||this.end)&&(this.__targetFrame=null,this.gotoAndStop(14))},frame13:function(){null!=this.__targetFrame&&13!=this.__targetFrame||this.gotoAndPlay(this.get_currentFrame()-1)},frame14:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:vf});var bf=function(t,e){this.loaded=!1,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(3,Gf(this,this.frame4)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),this.addFrameScript(12,Gf(this,this.frame13)),this.addFrameScript(13,Gf(this,this.frame14)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_47"]=bf).__name__=["scripts","Sprite_47"],bf.__super__=_,bf.prototype=s(_.prototype,{load:function(){this.stop(),this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){if(this.loaded||(this.load(),this.loaded=!0),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty){R.instance.shot_flying=!1,this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!0,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&this.play(),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&this.play(),++i;!this.hitTestObject(this.owner)&&this.hit&&this.parent.swapDepths(this.depth),this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||1!=this.hit||(this.hit=!1),this.t+=.1},bum:function(){var t=0;if(null!=this.stage){for(;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/18)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}}},frame1:function(){this.stop()},frame4:function(){for(var t=0;t<5;){var e=R.instance,i="strela"+t,s=Dt.field(e,i);null!=s&&e.removeChild(s);var n=R.swfLite.createMovieClip("missile_funky");n.set_name(i),e.addChildAtSwfDepthExternal(n,1001+t),e[i]=n,N.getChild(R.instance,"strela"+t).depth=10041+t,N.getChild(R.instance,"strela"+t).set_rotation(O.random(90)-45),N.getChild(R.instance,"strela"+t).set_x(this.parent.__transform.tx),N.getChild(R.instance,"strela"+t).set_y(this.parent.__transform.ty-5);var a=N.getChild(R.instance,"strela"+t).strela;a.vo=O.random(30)+15,a.owner=this.owner,a.st_number=t,a.px=N.getChild(R.instance,"strela"+t).__transform.tx,a.py=N.getChild(R.instance,"strela"+t).__transform.ty,a.t=0,++t}},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){for(var t=!0,e=0;e<5;){if(1!=this["shot"+e]){t=!1;break}++e}1==t&&(this.__targetFrame=null,this.gotoAndStop(14))},frame13:function(){null!=this.__targetFrame&&13!=this.__targetFrame||this.gotoAndPlay(this.get_currentFrame()-1)},frame14:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:bf});var yf=function(t,e){this.loaded=!1,this.inc=0,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_49"]=yf).__name__=["scripts","Sprite_49"],yf.__super__=_,yf.prototype=s(_.prototype,{load:function(){this.stop(),this.uhel=90-this.parent.__rotation,this.g=9.81,this.hit=!0,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty){null!=R.instance.strela&&(R.instance.strela.strela["shot"+this.st_number]=!0);var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox=(this.vox+=R.instance.vitr/600)+this.inc/20),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&this.play(),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&this.play(),++i;!this.hitTestObject(this.owner)&&this.hit&&this.parent.swapDepths(this.depth),this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||1!=this.hit||(this.hit=!1),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*r),e.set_y(e.__transform.ty+15*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/24)):(h=Math.round(this.get_width()/((u+1)/17)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){null!=R.instance.strela&&(R.instance.strela.strela["shot"+this.st_number]=!0);var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:yf});var wf=function(t,e){this.loaded=!1,this.inc=0,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_51"]=wf).__name__=["scripts","Sprite_51"],wf.__super__=_,wf.prototype=s(_.prototype,{load:function(){this.stop(),this.py=-50,0==this.uhel?this.px=this.px-120+20*this.num:this.px=this.px+120-20*this.num,this.g=9.81,this.st_number=this.num,this.vo=10,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,this.t=0},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),400<this.parent.__transform.ty){null!=R.instance.strela&&(R.instance.strela.strela["shot"+this.st_number]=!0);var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t))),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&this.play(),++i;this.t+=.12},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/18)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){null!=R.instance.strela&&(R.instance.strela.strela["shot"+this.st_number]=!0);var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:wf});var xf=function(t,e){this.loaded=!1,this.inc=0,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_53"]=xf).__name__=["scripts","Sprite_53"],xf.__super__=_,xf.prototype=s(_.prototype,{load:function(){this.stop(),this.uhel=90-this.parent.__rotation,this.g=9.81,this.hit=!0,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty){null!=R.instance.strela&&(R.instance.strela.strela["shot"+this.st_number]=!0);var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox=(this.vox+=R.instance.vitr/600)+this.inc/20),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&this.play(),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&this.play(),++i;!this.hitTestObject(this.owner)&&this.hit&&this.parent.swapDepths(this.parent.depth),this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||1!=this.hit||(this.hit=!1),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;)if(null!=N.getChild(R.instance,"tank"+t)){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/18)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}else++t},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){null!=R.instance.strela&&(R.instance.strela.strela["shot"+this.st_number]=!0);var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:xf});var Tf=function(t,e){this.loaded=!1,this.inc=0,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_55"]=Tf).__name__=["scripts","Sprite_55"],Tf.__super__=_,Tf.prototype=s(_.prototype,{load:function(){this.stop(),this.first=!0,this.second=!1,this.start=!0,this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.parent.__transform.ty){R.instance.shot_flying=!1,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&(this.play(),this.first=!1,this.second=!1),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&(this.play(),this.first=!1,this.second=!1),++i;if(this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||(this.hit=!1),this.first&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600,this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&(this.first=!1,this.second=!0),this.t+=.1),this.second){var s=Math.round(this.parent.__transform.tx);if(this.start){var n=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),a=n.__transform.ty-n.get_height()/2;this.parent.set_y(a);var r=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)-1)),o=r.__transform.ty-r.get_height()/2,h=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)+1)),_=h.__transform.ty-h.get_height()/2;a<=o||a<=_?a<=o?this.smer="left":a<=_&&(this.smer="right"):(this.second=!1,this.play()),this.start=!1}if("left"==this.smer){var l=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),u=l.__transform.ty-l.get_height()/2;this.parent.set_y(u);var c=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)-1));u<=c.__transform.ty-c.get_height()/2?this.parent.set_x(this.parent.__transform.tx-1):(this.second=!1,this.play())}else if("right"==this.smer){var f=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),d=f.__transform.ty-f.get_height()/2;this.parent.set_y(d);var p=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)+1));d<=p.__transform.ty-p.get_height()/2?this.parent.set_x(this.parent.__transform.tx+1):(this.second=!1,this.play())}Math.round(s)==Math.round(this.parent.__transform.tx)&&(this.owner._x<this.parent.__transform.tx?this.smer="right":this.smer="left")}},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-35*r),e.set_y(e.__transform.ty+30*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-30*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+30*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/36)):(h=Math.round(this.get_width()/((u+1)/19)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:Tf});var Sf=function(t,e){this.loaded=!1,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_58"]=Sf).__name__=["scripts","Sprite_58"],Sf.__super__=_,Sf.prototype=s(_.prototype,{load:function(){this.stop(),this.first=!0,this.second=!1,this.start=!0,this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.parent.__transform.ty){R.instance.shot_flying=!1,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&(this.play(),this.first=!1,this.second=!1),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&(this.play(),this.first=!1,this.second=!1),++i;if(this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||(this.hit=!1),this.first&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600,this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&(this.first=!1,this.second=!0),this.t+=.1),this.second){var s=Math.round(this.parent.__transform.tx);if(this.start){var n=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),a=n.__transform.ty-n.get_height()/2;this.parent.set_y(a);var r=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)-1)),o=r.__transform.ty-r.get_height()/2,h=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)+1)),_=h.__transform.ty-h.get_height()/2;o<=a||_<=a?a<=o?this.smer="right":a<=_&&(this.smer="left"):(this.second=!1,this.play()),this.start=!1}if("left"==this.smer){var l=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),u=l.__transform.ty-l.get_height()/2;this.parent.set_y(u);var c=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)-1));c.__transform.ty-c.get_height()/2<=u?this.parent.set_x(this.parent.__transform.tx-1):(this.second=!1,this.play())}else if("right"==this.smer){var f=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),d=f.__transform.ty-f.get_height()/2;this.parent.set_y(d);var p=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)+1));p.__transform.ty-p.get_height()/2<=d?this.parent.set_x(this.parent.__transform.tx+1):(this.second=!1,this.play())}Math.round(s)==Math.round(this.parent.__transform.tx)&&(this.owner._x<this.parent.__transform.tx?this.smer="right":this.smer="left")}},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-30*r),e.set_y(e.__transform.ty+15*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/18)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:Sf});var Cf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_61"]=Cf).__name__=["scripts","Sprite_61"],Cf.__super__=_,Cf.prototype=s(_.prototype,{load:function(){this.stop(),this.first=!0,this.second=!1,this.start=!0,this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.parent.__transform.ty){R.instance.shot_flying=!1,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&(this.play(),this.first=!1,this.second=!1),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&(this.play(),this.first=!1,this.second=!1),++i;if(this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||(this.hit=!1),this.first&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600,this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&(this.first=!1,this.second=!0),this.t+=.1),this.second){var s=Math.round(this.parent.__transform.tx);if(this.start){var n=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),a=n.__transform.ty-n.get_height()/2;this.parent.set_y(a);var r=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)-1)),o=r.__transform.ty-r.get_height()/2,h=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)+1)),_=h.__transform.ty-h.get_height()/2;a<=o||a<=_?a<=o?this.smer="left":a<=_&&(this.smer="right"):(this.second=!1,this.play()),this.start=!1}if("left"==this.smer){var l=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),u=l.__transform.ty-l.get_height()/2;this.parent.set_y(u);var c=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)-1));u<=c.__transform.ty-c.get_height()/2?this.parent.set_x(this.parent.__transform.tx-1):(this.second=!1,this.play())}else if("right"==this.smer){var f=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)),d=f.__transform.ty-f.get_height()/2;this.parent.set_y(d);var p=N.getChild(R.instance,"land"+(Math.round(this.parent.__transform.tx)+1));d<=p.__transform.ty-p.get_height()/2?this.parent.set_x(this.parent.__transform.tx+1):(this.second=!1,this.play())}Math.round(s)==Math.round(this.parent.__transform.tx)&&(this.owner._x<this.parent.__transform.tx?this.smer="right":this.smer="left")}},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/20)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:Cf});var Ef=function(t,e){var i=this;this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),this.addFrameScript(3,Gf(this,this.frame4)),_.call(this,t,e),this.addEventListener("mouseUp",Gf(this,this.mouseUp));var s=Gf(this,this.keyDown);X.addKeyDownListener(s),this.addEventListener("removedFromStage",function(){X.removeKeyDownListener(s)}),this.addEventListener("added",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_64"]=Ef).__name__=["scripts","Sprite_64"],Ef.__super__=_,Ef.prototype=s(_.prototype,{mouseUp:function(){if(!this.f){this.f=!0,this.stopDrag(),R.instance.cursor.set_x(-20),iu.show();for(var t=R.instance.get__xmouse(),e=0;e<5;){var i=R.instance,s="strela"+e,n=Dt.field(i,s);null!=n&&i.removeChild(n);var a=R.swfLite.createMovieClip("amissile");a.set_name(s),i.addChildAtSwfDepthExternal(a,1001+e),i[s]=a;var r=N.getChild(R.instance,"strela"+e).strela;r.num=e,r.px=t,r.uhel=this.uhel,r.owner=this.owner,++e}this.gotoAndPlay(2)}},keyDown:function(){37==X.getCode()?(this.uhel=0,R.instance.cursor.set_scaleX(1)):39==X.getCode()&&(this.uhel=180,R.instance.cursor.set_scaleX(-1))},load:function(){this.f=!1,N.getChild(R.instance,R.instance.na_rade.__name+"_hlaven").gotoAndStop(1),this.stop(),iu.hide();var t=R.instance,e=Dt.field(t,"cursor");null!=e&&t.removeChild(e);var i=R.swfLite.createMovieClip("astrikecur");i.set_name("cursor"),t.addChildAtSwfDepthExternal(i,11e5),t.cursor=i,R.instance.cursor.startDrag(!0),this.uhel=0},frame1:function(){this.stop()},frame2:function(){for(var t=!0,e=0;e<5;){if(1!=this["shot"+e]){t=!1;break}++e}t&&(this.__targetFrame=null,this.gotoAndStop(4))},frame3:function(){this.gotoAndPlay(this.get_currentFrame()-1)},frame4:function(){R.instance.shot_flying=!1,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:Ef});var If=function(t,e){this.loaded=!1,this.inc=0,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_66"]=If).__name__=["scripts","Sprite_66"],If.__super__=_,If.prototype=s(_.prototype,{load:function(){this.stop(),this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0},enterFrame:function(){if(this.loaded||(this.loaded=!0,this.load()),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty){R.instance.shot_flying=!1,this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!0,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&this.play(),(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&this.play(),++i;!this.hitTestObject(this.owner)&&this.hit&&this.parent.swapDepths(this.depth),this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||1!=this.hit||(this.hit=!1),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/18)):(h=Math.round(this.get_width()/((u+1)/13)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:If});var Pf=function(t,e){this.loaded=!1,this.inc=0,this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(5,Gf(this,this.frame6)),this.addFrameScript(11,Gf(this,this.frame12)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_68"]=Pf).__name__=["scripts","Sprite_68"],Pf.__super__=_,Pf.prototype=s(_.prototype,{load:function(){this.stop(),this.depth=10040,this.uhel=90-this.parent.__rotation,this.g=9.81,this.t=0,this.px=this.parent.__transform.tx,this.hit=!0,this.py=this.parent.__transform.ty,this.vox=Math.cos(.017453292519943295*this.uhel)*this.vo,this.voy=Math.sin(.017*this.uhel)*this.vo,R.instance.shot_flying=!0,this.loaded=!0},enterFrame:function(){if(this.loaded||this.load(),this.parent.__transform.tx<0||550<this.parent.__transform.tx||400<this.__transform.ty){R.instance.shot_flying=!1,this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!0,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}}1==this.get_currentFrame()&&(this.parent.set_x(this.px+this.vox*this.t),this.parent.set_y(this.py-this.voy*this.t+this.g/2*(this.t*this.t)),this.vox+=R.instance.vitr/600),this.hitTestObject(N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx)))&&this.play();for(var i=1;R.instance.pocet_hracu>=i;)this.hitTestObject(R.instance._t[i])&&i!=this.owner.tank_number&&this.play(),++i;(this.hitTestObject(this.owner)||this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number))))&&0==this.hit&&this.play(),!this.hitTestObject(this.owner)&&this.hit&&this.parent.swapDepths(this.depth),this.hitTestObject(this.owner)||0!=this.hitTestObject(N.getChild(R.instance,"shield"+O.string(this.owner.tank_number)))||1!=this.hit||(this.hit=!1),this.t+=.1},bum:function(){for(var t=0;t<this.get_width();){var e=N.getChild(R.instance,"land"+Math.round(this.parent.__transform.tx-this.get_width()/2+t));if(null!=e){var i=this.parent.__transform.tx,s=this.parent.__transform.ty,n=e.__transform.tx,a=(e.__transform.ty,e.__transform.ty-e.get_height()/2);if(this.hitTestPoint(n,a,!0)){var r=Math.cos(Math.sqrt((i-n)*(i-n)+(s-a)*(s-a))*(180/this.get_width())*.017);e.set_height(e.get_height()-15*r),e.set_y(e.__transform.ty+7.5*r)}else this.hitTestObject(N.getChild(R.instance,"land"+Math.round(i-this.get_width()/2+t)))&&(e.set_height(e.get_height()-15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)),e.set_y(e.__transform.ty+15*Math.cos(Math.abs(i-n)*(180/this.get_width())*.017)/2));++t}else++t}for(this.owner.last_shot_x=this.parent.__transform.tx,this.owner.last_shot_y=this.parent.__transform.ty,this.owner.last_shot_out=!1,t=1;R.instance.pocet_hracu>=t;){var o=Jn.__cast(N.getChild(R.instance,"tank"+t),fu);if(this.hitTestObject(o)||this.hitTestObject(N.getChild(R.instance,"shield"+t))){var h,_=this.parent.__transform.tx-o.__transform.tx,l=this.parent.__transform.ty-o.__transform.ty,u=Math.sqrt(_*_+l*l);o.sh_active?h=Math.round(this.get_width()/((u/2+1)/13)):(h=Math.round(this.get_width()/((u+1)/5)),R.instance.tank_[t].energy<h&&(h=R.instance.tank_[t].energy)),o.damage(h,this.owner)}++t}},frame1:function(){this.stop()},frame6:function(){null!=this.__targetFrame&&6!=this.__targetFrame||this.bum()},frame12:function(){R.instance.shot_flying=!1,R.instance.test();var t=this.parent;if(null!=t&&null!=t.parent){var e=t.parent;t.parent.removeChild(t),""!=t.__name&&Dt.deleteField(e,t.__name)}},__class__:Pf});var kf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),_.call(this,t,e)};(i["scripts.Sprite_73"]=kf).__name__=["scripts","Sprite_73"],kf.__super__=_,kf.prototype=s(_.prototype,{frame1:function(){this.set_x(this.__transform.tx+R.instance.vitr/80),360<this.__transform.tx&&this.set_x(-360),this.__transform.tx<-360&&this.set_x(360)},frame2:function(){this.gotoAndPlay(1)},__class__:kf});var Df=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),_.call(this,t,e),this.addEventListener("enterFrame",Gf(this,this.enterFrame))};(i["scripts.Sprite_82"]=Df).__name__=["scripts","Sprite_82"],Df.__super__=_,Df.prototype=s(_.prototype,{enterFrame:function(){this.set_x(this.__transform.tx+.2),460<this.__transform.tx&&this.set_x(-60)},frame1:function(){this.set_x(this.__transform.tx+R.instance.vitr/80),360<this.__transform.tx&&this.set_x(-360),this.__transform.tx<-360&&this.set_x(360)},frame2:function(){this.gotoAndPlay(1)},__class__:Df});var Af=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),_.call(this,t,e)};(i["scripts.Strom_1"]=Af).__name__=["scripts","Strom_1"],Af.__super__=_,Af.prototype=s(_.prototype,{frame1:function(){null!=this.__targetFrame&&1!=this.__targetFrame||(this.set_x(O.random(550)),this.set_y(N.getChild(R.instance,"land"+this.__transform.tx).__transform.ty-N.getChild(R.instance,"land"+this.__transform.tx).get_height()/2),this.fall=0)},frame2:function(){var t=N.getChild(R.instance,"land"+this.__transform.tx);Math.floor(this.__transform.ty)<Math.floor(t.__transform.ty-t.get_height()/2)?(this.set_y(this.__transform.ty+this.fall),this.fall+=1):this.fall=0},frame3:function(){this.gotoAndPlay(2)},__class__:Af});var Mf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(1,Gf(this,this.frame2)),this.addFrameScript(2,Gf(this,this.frame3)),_.call(this,t,e)};(i["scripts.Strom_2"]=Mf).__name__=["scripts","Strom_2"],Mf.__super__=_,Mf.prototype=s(_.prototype,{frame1:function(){null!=this.__targetFrame&&1!=this.__targetFrame||(this.set_y(N.getChild(R.instance,"land"+this.__transform.tx).__transform.ty-N.getChild(R.instance,"land"+this.__transform.tx).get_height()/2),this.fall=0)},frame2:function(){var t=N.getChild(R.instance,"land"+this.__transform.tx);this.__transform.ty<t.__transform.ty-t.get_height()/2?(this.set_y(this.__transform.ty+this.fall),this.fall+=1):this.fall=0},frame3:function(){this.gotoAndPlay(2)},__class__:Mf});var Rf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),Cc.call(this,t,e)};(i["scripts.Strong_sh"]=Rf).__name__=["scripts","Strong_sh"],Rf.__super__=Cc,Rf.prototype=s(Cc.prototype,{damage:function(t,e){this.en-=t;var i=Math.round(this.en/this.en_max*100);if(this.set_alpha(i/100),this.en<=0){var s=Jn.__cast(N.getChild(R.instance,"tank"+this.num),fu);if(s.sh_active=!1,(R.instance["t"+this.num]=s).damage(2*Math.abs(this.en),e),null!=this.parent){var n=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(n,this.__name)}}},disable:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},frame1:function(){this.en_max=400,this.en=400},__class__:Rf});var Ff=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),Cc.call(this,t,e)};(i["scripts.Super_sh"]=Ff).__name__=["scripts","Super_sh"],Ff.__super__=Cc,Ff.prototype=s(Cc.prototype,{damage:function(t,e){this.en-=t;var i=Math.round(this.en/this.en_max*100);if(this.set_alpha(i/100),this.en<=0){var s=Jn.__cast(N.getChild(R.instance,"tank"+this.num),fu);if(s.sh_active=!1,(R.instance["t"+this.num]=s).damage(2*Math.abs(this.en),e),null!=this.parent){var n=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(n,this.__name)}}},disable:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},frame1:function(){this.en=600,this.en_max=600},__class__:Ff});var Bf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),this.addFrameScript(9,Gf(this,this.frame10)),this.addFrameScript(16,Gf(this,this.frame17)),this.addFrameScript(34,Gf(this,this.frame35)),this.addFrameScript(40,Gf(this,this.frame41)),this.addFrameScript(47,Gf(this,this.frame48)),_.call(this,t,e),this.getChildAt(0).set_x(12),this.getChildAt(0).set_y(12),this.getChildAt(1).set_x(12),this.getChildAt(1).set_y(12)};(i["scripts.Teleport_a"]=Bf).__name__=["scripts","Teleport_a"],Bf.__super__=_,Bf.prototype=s(_.prototype,{frame1:function(){this.stop(),R.instance.na_rade.playing=!1},frame10:function(){iu.show(),this.set_x(R.instance.na_rade.__transform.tx),this.set_y(R.instance.na_rade.__transform.ty)},frame17:function(){R.instance.na_rade.set_visible(!1),null!=N.getChild(R.instance,"shield"+R.instance.na_rade.tank_number)&&N.getChild(R.instance,"shield"+R.instance.na_rade.tank_number).set_visible(!1),null!=N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven")&&N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven").set_visible(!1)},frame35:function(){this.set_x(this.tarx),this.set_y(this.tary)},frame41:function(){R.instance.na_rade.set_visible(!0),null!=N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven")&&N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven").set_visible(!0),R.instance.na_rade.set_x(this.__transform.tx),R.instance.na_rade.set_y(this.__transform.ty),null!=N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven")&&N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven").set_x(this.__transform.tx),null!=N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven")&&N.getChild(R.instance,"tank"+R.instance.na_rade.tank_number+"_hlaven").set_y(this.__transform.ty-1),null!=N.getChild(R.instance,"shield"+R.instance.na_rade.tank_number)&&(N.getChild(R.instance,"shield"+R.instance.na_rade.tank_number).set_visible(!0),N.getChild(R.instance,"shield"+R.instance.na_rade.tank_number).set_x(this.__transform.tx),N.getChild(R.instance,"shield"+R.instance.na_rade.tank_number).set_y(this.__transform.ty))},frame48:function(){if(R.instance.test(),null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},__class__:Bf});var Lf=function(t,e){this.addFrameScript(0,Gf(this,this.frame1)),Cc.call(this,t,e)};(i["scripts.Weak_sh"]=Lf).__name__=["scripts","Weak_sh"],Lf.__super__=Cc,Lf.prototype=s(Cc.prototype,{damage:function(t,e){this.en-=t;var i=Math.round(this.en/this.en_max*100);if(this.set_alpha(i/100),this.en<=0){var s=Jn.__cast(N.getChild(R.instance,"tank"+this.num),fu);if(s.sh_active=!1,(R.instance["t"+this.num]=s).damage(2*Math.abs(this.en),e),null!=this.parent){var n=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(n,this.__name)}}},disable:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},frame1:function(){this.en=100,this.en_max=100},__class__:Lf});var Nf=function(t,e){_.call(this,t,e),this.addEventListener("addedToStage",Gf(this,this.frame1))};(i["scripts.Weapon"]=Nf).__name__=["scripts","Weapon"],Nf.__super__=_,Nf.prototype=s(_.prototype,{frame1:function(){R.instance.tank_[R.instance.clona.cur].score>=this.price?(this.w_caption=this.caption,this.w2_caption=""):(this.w2_caption=this.caption,this.w_caption=""),this.w_price=this.price,this.w_count=this.count,this.t_count=R.instance.tank_[R.instance.clona.cur].guns[this.num];var t=this.icon_link,e=1000060+this.num,i=Dt.field(this,"icon");null!=i&&this.removeChild(i);var s=R.swfLite.createMovieClip(t);s.set_name("icon"),this.addChildAtSwfDepthExternal(s,e),this.icon=s,this.icon.set_y(.4),this.icon.set_x(-74);for(var n=0,a=this.__children._length;n<a;){var r=n++,o=this.getChildAt(r);258!=o.symbolId&&(o.mouseEnabled=!1)}},__class__:Nf});var Of=function(){};(i["swagapi.Lib"]=Of).__name__=["swagapi","Lib"],Of.client=null,Of.initialize=function(){try{var t="5cf583a0c79e903a0e65d089";Of.client=SWAGAPI.getInstance({wrapper:window.document.querySelector("#root"),api_key:t,theme:"shockwave",debug:!0}),Of.client.startSession().then(function(t){pn.trace("SWAG API session started.",{fileName:"Lib.hx",lineNumber:19,className:"swagapi.Lib",methodName:"initialize"})}),Of.client.on("DIALOG_CLOSED",function(){Of.dialogIsShown=!1})}catch(t){cn.lastException=t,pn.trace("SWAG API not started.",{fileName:"Lib.hx",lineNumber:26,className:"swagapi.Lib",methodName:"initialize"})}},Of.showDialog=function(t){null==t&&(t="scores");try{Of.client.showDialog(t),Of.dialogIsShown=!0}catch(t){cn.lastException=t,pn.trace("SWAG API error while showDialog.",{fileName:"Lib.hx",lineNumber:35,className:"swagapi.Lib",methodName:"showDialog"})}},Of.isDialogShown=function(){return Of.dialogIsShown};var Uf,zf=0;function Gf(t,e){return null==e?null:(null==e.__id__&&(e.__id__=zf++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&((i=function(){return i.method.apply(i.scope,arguments)}).scope=t,i.method=e,t.hx__closures__[e.__id__]=i),i);var i}i.Math=Math,String.prototype.__class__=i.String=String,String.__name__=["String"],i.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=i.Date=Date,Date.__name__=["Date"];var Xf=i.Int={__name__:["Int"]},Vf=i.Dynamic={__name__:["Dynamic"]},Hf=i.Float=Number;Hf.__name__=["Float"];var Yf=i.Bool=Boolean;Yf.__ename__=["Bool"];var Wf=i.Class={__name__:["Class"]},jf={},Kf={},qf=e.ArrayBuffer||$n;null==qf.prototype.slice&&(qf.prototype.slice=$n.sliceImpl);var Jf=e.DataView||ta,Zf=e.Float32Array||ea._new,Qf=e.Uint8Array||ia._new,$f=new Uint32Array(256);gr.__alpha16=$f;for(var td=0;td<256;){var ed=td++;gr.__alpha16[ed]=Math.ceil(257.00392156862745*ed)}var id=new Qf(510);gr.__clamp=id;for(var sd=0;sd<255;){var nd=sd++;gr.__clamp[nd]=nd}for(var ad,rd,od,hd,_d=255;_d<511;){var ld=_d++;gr.__clamp[ld]=255}wr.available=!1,wr.enabled=!1,W.__worldRenderDirty=0,W.__worldTransformDirty=0,W.__worldBranchDirty=0,W.__cachedBitmapPadding=1,W.NO_MOUSE_LISTENER_BRANCH_DEPTH=9999,W.__lastMouseListenerBranchDepth=9999,W.__parentList=new Array(32),j.__mouseListenerBranchDepthStack=((ad=new zt)._items=[],ad._length=ad._items.length,ad),M.soundCommandTable=[],p.keyCallbackTable=[],p.inserted=!1,se.__registeredFonts=[],E.minDuration=5500,E.introWidth=1440,E.introHeight=900,I.registered=!1,P.playingSoundTable=new yn,P.aliases=new yn,G.Element=0,G.PCData=1,G.CData=2,G.Comment=3,G.DocType=4,G.ProcessingInstruction=5,G.Document=6,X.instance=null,Y.FLOAT16_EXPONENT_BASE=15,Y.MIN_FLOAT_VALUE=Number.MIN_VALUE,Y.MAX_FLOAT_VALUE=Number.MAX_VALUE,q.TIMEOUT=50,q.AUTOBUILD_LAYERS=!1,q.EXTRACT_SOUND_STREAM=!0,at.UID=0,at.SEQ=0,at.SEQ_BITS=8,at.SEQ_MASK=16777215,at.CLASSES=[],at.CL_BYID=null,at.CLIDS=null,rt.__clid=at.registerClass(rt),ot.__clid=at.registerClass(ot),ht.__clid=at.registerClass(ht),ut.__clid=at.registerClass(ut),ft.__clid=at.registerClass(ft),dt.__clid=at.registerClass(dt),pt.__clid=at.registerClass(pt),gt.__clid=at.registerClass(gt),mt.__clid=at.registerClass(mt),vt.__clid=at.registerClass(vt),bt.__clid=at.registerClass(bt),yt.__clid=at.registerClass(yt),wt.__clid=at.registerClass(wt),It.__clid=at.registerClass(It),Pt.TYPE_UNKNOWN=0,Pt.TYPE_END=1,Pt.TYPE_STYLECHANGE=2,Pt.TYPE_STRAIGHTEDGE=3,Pt.TYPE_CURVEDEDGE=4,Pt.__clid=at.registerClass(Pt),kt.__clid=at.registerClass(kt),Mt.__clid=at.registerClass(Mt),Rt.__clid=at.registerClass(Rt),Ft.__clid=at.registerClass(Ft),Bt.__clid=at.registerClass(Bt),jt.CODE=7,Kt.BIT_8=3,Kt.BIT_15=4,Kt.BIT_24=5,qt.JPEG=1,qt.GIF89A=2,qt.PNG=3,Jt.NORMAL_0=0,Jt.NORMAL_1=1,Jt.LAYER=2,Jt.MULTIPLY=3,Jt.SCREEN=4,Jt.LIGHTEN=5,Jt.DARKEN=6,Jt.DIFFERENCE=7,Jt.ADD=8,Jt.SUBTRACT=9,Jt.INVERT=10,Jt.ALPHA=11,Jt.ERASE=12,Jt.OVERLAY=13,Jt.HARDLIGHT=14,he.THIN=0,he.MEDIUM=1,he.THICK=2,_e.NORMAL=0,_e.LINEAR=1,le.PAD=0,le.REFLECT=1,le.REPEAT=2,ue.ROUND=0,ue.NO=1,ue.SQUARE=2,ce.ROUND=0,ce.BEVEL=1,ce.MITER=2,fe.UNCOMPRESSED_NATIVE_ENDIAN=0,fe.ADPCM=1,fe.MP3=2,fe.UNCOMPRESSED_LITTLE_ENDIAN=3,fe.NELLYMOSER_16_KHZ=4,fe.NELLYMOSER_8_KHZ=5,fe.NELLYMOSER=6,fe.SPEEX=11,de.KHZ_5=0,de.KHZ_11=1,de.KHZ_22=2,de.KHZ_44=3,pe.BIT_8=0,pe.BIT_16=1,ge.MONO=0,ge.STEREO=1,me.H263=2,me.SCREEN=3,me.VP6=4,me.VP6ALPHA=5,me.SCREENV2=6,ve.VIDEOPACKET=0,ve.OFF=1,ve.LEVEL1=2,ve.LEVEL2=3,ve.LEVEL3=4,ve.LEVEL4=5,ye.__clid=at.registerClass(ye),xe.__clid=at.registerClass(xe),Te.__clid=at.registerClass(Te),Se.MPEGversion_1_0=0,Se.MPEGversion_2_0=1,Se.MPEGversion_2_5=2,Se.MPEG_LAYER_I=0,Se.MPEG_LAYER_II=1,Se.MPEG_LAYER_III=2,Se.CHANNEL_MODE_STEREO=0,Se.CHANNEL_MODE_JOINT_STEREO=1,Se.CHANNEL_MODE_DUAL=2,Se.CHANNEL_MODE_MONO=3,Se.mpegBitrates=[[[0,32,96,128,160,192,224,256,288,320,352,384,416,448,-1],[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1]],[[0,32,48,56,64,80,96,112,128,144,160,176,192,224,256,-1],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1]]],Se.mpegsamplingrates=[[44100,48e3,32e3],[22050,24e3,16e3],[11025,12e3,8e3]],Ne.ACTIVATE="activate",Ne.ADDED="added",Ne.ADDED_TO_STAGE="addedToStage",Ne.CANCEL="cancel",Ne.CHANGE="change",Ne.CLOSE="close",Ne.COMPLETE="complete",Ne.CONNECT="connect",Ne.CONTEXT3D_CREATE="context3DCreate",Ne.DEACTIVATE="deactivate",Ne.ENTER_FRAME="enterFrame",Ne.ID3="id3",Ne.INIT="init",Ne.MOUSE_LEAVE="mouseLeave",Ne.MOUSE_ENTER="mouseEnter",Ne.OPEN="open",Ne.REMOVED="removed",Ne.REMOVED_FROM_STAGE="removedFromStage",Ne.RENDER="render",Ne.RESIZE="resize",Ne.SCROLL="scroll",Ne.SELECT="select",Ne.SOUND_COMPLETE="soundComplete",Ne.TAB_CHILDREN_CHANGE="tabChildrenChange",Ne.TAB_ENABLED_CHANGE="tabEnabledChange",Ne.TAB_INDEX_CHANGE="tabIndexChange",Ne.UNLOAD="unload",Ne.pool=new Be(function(){return new Ne("")}),Oe.ERROR="error",Oe.REASON_EOF="eof",Ue.PROGRESS="progress",Ue.COMPLETE="complete",ze.WARN_OVERFLOW="overflow",ze.WARN_UNDERFLOW="underflow",Je.__moveDelta=10,Je.__maxScaleDifferenceBetweenRefreshGraphics=.4,si.instances=new Tn,si.fontAliases=new Tn,si.fontAliasesId=new yn,si.__clid=at.registerClass(si),hi.__clid=at.registerClass(hi),_i.__clid=at.registerClass(_i),li.__clid=at.registerClass(li),ui.__clid=at.registerClass(ui),ci.__clid=at.registerClass(ci),fi.defaultCachePrecision=100,fi.__clid=at.registerClass(fi),di.__buffer=new Int32Array(5),Pn.defaultCachePrecision=100,Pn.defaultTranslationCachePrecision=100,Pn.eventIsListened=!1,Pn.shapeSymbolsUsingBitmapCacheMap=new yn,Pn.__clid=at.registerClass(Pn),pi.__buffer=new Int32Array(6),gi.__clid=at.registerClass(gi),vi.__clid=at.registerClass(vi),bi.__clid=at.registerClass(bi),yi.__clid=at.registerClass(yi),wi.__clid=at.registerClass(wi),xi.__clid=at.registerClass(xi),Ti.__clid=at.registerClass(Ti),ki.TYPE=74,Di.TYPE=63,Ai.TYPE=87,Mi.TYPE=6,Ri.TYPE=21,Fi.TYPE=35,Bi.TYPE=90,Li.TYPE=20,Ni.TYPE=36,Oi.TYPE=7,Oi.STATE_UP="up",Oi.STATE_OVER="over",Oi.STATE_DOWN="down",Oi.STATE_HIT="hit",Ui.TYPE=34,zi.TYPE=23,Gi.TYPE=17,Xi.TYPE=37,Vi.TYPE=10,Vi.unitDivisor=1,Hi.TYPE=48,Yi.TYPE=75,Yi.unitDivisor=20,Wi.TYPE=91,ji.TYPE=73,Ki.TYPE=13,qi.TYPE=62,Ji.TYPE=88,Zi.TYPE=46,Qi.TYPE=84,$i.TYPE=78,ts.TYPE=86,es.TYPE=2,is.TYPE=22,ss.TYPE=32,ns.TYPE=83,as.TYPE=14,rs.TYPE=39,os.TYPE=11,hs.TYPE=33,_s.TYPE=60,ls.TYPE=82,us.TYPE=72,cs.TYPE=12,fs.TYPE=59,ds.TYPE=58,ps.TYPE=64,gs.TYPE=93,ms.TYPE=0,vs.TYPE=56,bs.TYPE=69,ys.TYPE=43,ws.TYPE=57,xs.TYPE=71,Ts.TYPE=8,Ss.TYPE=77,Cs.TYPE=40,Es.TYPE=4,Is.TYPE=26,Ps.TYPE=70,ks.TYPE=94,Ds.TYPE=41,As.TYPE=24,Ms.TYPE=5,Rs.TYPE=28,Fs.TYPE=65,Bs.TYPE=9,Ls.TYPE=66,Ns.TYPE=1,Os.TYPE=19,Us.TYPE=18,zs.TYPE=45,Gs.TYPE=15,Xs.TYPE=89,Vs.TYPE=76,Ys.TYPE=61,Ws.TYPE=253,js.TYPE=255,Zs.TYPE_EMPTY=0,Zs.TYPE_SPACER=1,Zs.TYPE_STATIC=2,Zs.TYPE_MOTIONTWEEN=3,Zs.TYPE_SHAPETWEEN=4,ln.i=0,ln.SIGN_UNDEF=0,ln.SIGN_POS=-1,ln.SIGN_NEG=1,wn.count=0,Dn.i64tmp=new dn(0,0),Nn.escapes=(rd=new Tn,null!=Kf.lt?rd.setReserved("lt","<"):rd.h.lt="<",null!=Kf.gt?rd.setReserved("gt",">"):rd.h.gt=">",null!=Kf.amp?rd.setReserved("amp","&"):rd.h.amp="&",null!=Kf.quot?rd.setReserved("quot",'"'):rd.h.quot='"',null!=Kf.apos?rd.setReserved("apos","'"):rd.h.apos="'",rd),Vn.IN_ENUM_SER=!1,Hn.__clid=at.registerClass(Hn),Jn.__toStr={}.toString,ea.BYTES_PER_ELEMENT=4,ia.BYTES_PER_ELEMENT=1,aa.cache=new sa,aa.libraries=new Tn,aa.onChange=new na,aa.initialized=!1,aa.extraSoundOptions=new Tn,ra.stopUpdating=!1,la.windowID=0,Aa.images=new Tn,Aa.loaders=new Tn,Xa.NONE=0,Xa.FALSE=0,Xa.TRUE=1,Xa.SOURCE_RELATIVE=514,Xa.CONE_INNER_ANGLE=4097,Xa.CONE_OUTER_ANGLE=4098,Xa.PITCH=4099,Xa.POSITION=4100,Xa.DIRECTION=4101,Xa.VELOCITY=4102,Xa.LOOPING=4103,Xa.BUFFER=4105,Xa.GAIN=4106,Xa.MIN_GAIN=4109,Xa.MAX_GAIN=4110,Xa.ORIENTATION=4111,Xa.SOURCE_STATE=4112,Xa.INITIAL=4113,Xa.PLAYING=4114,Xa.PAUSED=4115,Xa.STOPPED=4116,Xa.BUFFERS_QUEUED=4117,Xa.BUFFERS_PROCESSED=4118,Xa.REFERENCE_DISTANCE=4128,Xa.ROLLOFF_FACTOR=4129,Xa.CONE_OUTER_GAIN=4130,Xa.MAX_DISTANCE=4131,Xa.SEC_OFFSET=4132,Xa.SAMPLE_OFFSET=4133,Xa.BYTE_OFFSET=4134,Xa.SOURCE_TYPE=4135,Xa.STATIC=4136,Xa.STREAMING=4137,Xa.UNDETERMINED=4144,Xa.FORMAT_MONO8=4352,Xa.FORMAT_MONO16=4353,Xa.FORMAT_STEREO8=4354,Xa.FORMAT_STEREO16=4355,Xa.FREQUENCY=8193,Xa.BITS=8194,Xa.CHANNELS=8195,Xa.SIZE=8196,Xa.NO_ERROR=0,Xa.INVALID_NAME=40961,Xa.INVALID_ENUM=40962,Xa.INVALID_VALUE=40963,Xa.INVALID_OPERATION=40964,Xa.OUT_OF_MEMORY=40965,Xa.VENDOR=45057,Xa.VERSION=45058,Xa.RENDERER=45059,Xa.EXTENSIONS=45060,Xa.DOPPLER_FACTOR=49152,Xa.SPEED_OF_SOUND=49155,Xa.DOPPLER_VELOCITY=49153,Xa.DISTANCE_MODEL=53248,Xa.INVERSE_DISTANCE=53249,Xa.INVERSE_DISTANCE_CLAMPED=53250,Xa.LINEAR_DISTANCE=53251,Xa.LINEAR_DISTANCE_CLAMPED=53252,Xa.EXPONENT_DISTANCE=53253,Xa.EXPONENT_DISTANCE_CLAMPED=53254,Va.FALSE=0,Va.TRUE=1,Va.FREQUENCY=4103,Va.REFRESH=4104,Va.SYNC=4105,Va.MONO_SOURCES=4112,Va.STEREO_SOURCES=4113,Va.NO_ERROR=0,Va.INVALID_DEVICE=40961,Va.INVALID_CONTEXT=40962,Va.INVALID_ENUM=40963,Va.INVALID_VALUE=40964,Va.OUT_OF_MEMORY=40965,Va.ATTRIBUTES_SIZE=4098,Va.ALL_ATTRIBUTES=4099,Va.DEFAULT_DEVICE_SPECIFIER=4100,Va.DEVICE_SPECIFIER=4101,Va.EXTENSIONS=4102,Va.ENUMERATE_ALL_EXT=1,Va.DEFAULT_ALL_DEVICES_SPECIFIER=4114,Va.ALL_DEVICES_SPECIFIER=4115,ja.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nr.DEPTH_BUFFER_BIT=256,nr.STENCIL_BUFFER_BIT=1024,nr.COLOR_BUFFER_BIT=16384,nr.POINTS=0,nr.LINES=1,nr.LINE_LOOP=2,nr.LINE_STRIP=3,nr.TRIANGLES=4,nr.TRIANGLE_STRIP=5,nr.TRIANGLE_FAN=6,nr.ZERO=0,nr.ONE=1,nr.SRC_COLOR=768,nr.ONE_MINUS_SRC_COLOR=769,nr.SRC_ALPHA=770,nr.ONE_MINUS_SRC_ALPHA=771,nr.DST_ALPHA=772,nr.ONE_MINUS_DST_ALPHA=773,nr.DST_COLOR=774,nr.ONE_MINUS_DST_COLOR=775,nr.SRC_ALPHA_SATURATE=776,nr.FUNC_ADD=32774,nr.BLEND_EQUATION=32777,nr.BLEND_EQUATION_RGB=32777,nr.BLEND_EQUATION_ALPHA=34877,nr.FUNC_SUBTRACT=32778,nr.FUNC_REVERSE_SUBTRACT=32779,nr.BLEND_DST_RGB=32968,nr.BLEND_SRC_RGB=32969,nr.BLEND_DST_ALPHA=32970,nr.BLEND_SRC_ALPHA=32971,nr.CONSTANT_COLOR=32769,nr.ONE_MINUS_CONSTANT_COLOR=32770,nr.CONSTANT_ALPHA=32771,nr.ONE_MINUS_CONSTANT_ALPHA=32772,nr.BLEND_COLOR=32773,nr.ARRAY_BUFFER=34962,nr.ELEMENT_ARRAY_BUFFER=34963,nr.ARRAY_BUFFER_BINDING=34964,nr.ELEMENT_ARRAY_BUFFER_BINDING=34965,nr.STREAM_DRAW=35040,nr.STATIC_DRAW=35044,nr.DYNAMIC_DRAW=35048,nr.BUFFER_SIZE=34660,nr.BUFFER_USAGE=34661,nr.CURRENT_VERTEX_ATTRIB=34342,nr.FRONT=1028,nr.BACK=1029,nr.FRONT_AND_BACK=1032,nr.CULL_FACE=2884,nr.BLEND=3042,nr.DITHER=3024,nr.STENCIL_TEST=2960,nr.DEPTH_TEST=2929,nr.SCISSOR_TEST=3089,nr.POLYGON_OFFSET_FILL=32823,nr.SAMPLE_ALPHA_TO_COVERAGE=32926,nr.SAMPLE_COVERAGE=32928,nr.NO_ERROR=0,nr.INVALID_ENUM=1280,nr.INVALID_VALUE=1281,nr.INVALID_OPERATION=1282,nr.OUT_OF_MEMORY=1285,nr.CW=2304,nr.CCW=2305,nr.LINE_WIDTH=2849,nr.ALIASED_POINT_SIZE_RANGE=33901,nr.ALIASED_LINE_WIDTH_RANGE=33902,nr.CULL_FACE_MODE=2885,nr.FRONT_FACE=2886,nr.DEPTH_RANGE=2928,nr.DEPTH_WRITEMASK=2930,nr.DEPTH_CLEAR_VALUE=2931,nr.DEPTH_FUNC=2932,nr.STENCIL_CLEAR_VALUE=2961,nr.STENCIL_FUNC=2962,nr.STENCIL_FAIL=2964,nr.STENCIL_PASS_DEPTH_FAIL=2965,nr.STENCIL_PASS_DEPTH_PASS=2966,nr.STENCIL_REF=2967,nr.STENCIL_VALUE_MASK=2963,nr.STENCIL_WRITEMASK=2968,nr.STENCIL_BACK_FUNC=34816,nr.STENCIL_BACK_FAIL=34817,nr.STENCIL_BACK_PASS_DEPTH_FAIL=34818,nr.STENCIL_BACK_PASS_DEPTH_PASS=34819,nr.STENCIL_BACK_REF=36003,nr.STENCIL_BACK_VALUE_MASK=36004,nr.STENCIL_BACK_WRITEMASK=36005,nr.VIEWPORT=2978,nr.SCISSOR_BOX=3088,nr.COLOR_CLEAR_VALUE=3106,nr.COLOR_WRITEMASK=3107,nr.UNPACK_ALIGNMENT=3317,nr.PACK_ALIGNMENT=3333,nr.MAX_TEXTURE_SIZE=3379,nr.MAX_VIEWPORT_DIMS=3386,nr.SUBPIXEL_BITS=3408,nr.RED_BITS=3410,nr.GREEN_BITS=3411,nr.BLUE_BITS=3412,nr.ALPHA_BITS=3413,nr.DEPTH_BITS=3414,nr.STENCIL_BITS=3415,nr.POLYGON_OFFSET_UNITS=10752,nr.POLYGON_OFFSET_FACTOR=32824,nr.TEXTURE_BINDING_2D=32873,nr.SAMPLE_BUFFERS=32936,nr.SAMPLES=32937,nr.SAMPLE_COVERAGE_VALUE=32938,nr.SAMPLE_COVERAGE_INVERT=32939,nr.COMPRESSED_TEXTURE_FORMATS=34467,nr.DONT_CARE=4352,nr.FASTEST=4353,nr.NICEST=4354,nr.GENERATE_MIPMAP_HINT=33170,nr.BYTE=5120,nr.UNSIGNED_BYTE=5121,nr.SHORT=5122,nr.UNSIGNED_SHORT=5123,nr.INT=5124,nr.UNSIGNED_INT=5125,nr.FLOAT=5126,nr.DEPTH_COMPONENT=6402,nr.ALPHA=6406,nr.RGB=6407,nr.RGBA=6408,nr.BGR_EXT=32992,nr.BGRA_EXT=32993,nr.LUMINANCE=6409,nr.LUMINANCE_ALPHA=6410,nr.UNSIGNED_SHORT_4_4_4_4=32819,nr.UNSIGNED_SHORT_5_5_5_1=32820,nr.UNSIGNED_SHORT_5_6_5=33635,nr.FRAGMENT_SHADER=35632,nr.VERTEX_SHADER=35633,nr.MAX_VERTEX_ATTRIBS=34921,nr.MAX_VERTEX_UNIFORM_VECTORS=36347,nr.MAX_VARYING_VECTORS=36348,nr.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,nr.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,nr.MAX_TEXTURE_IMAGE_UNITS=34930,nr.MAX_FRAGMENT_UNIFORM_VECTORS=36349,nr.SHADER_TYPE=35663,nr.DELETE_STATUS=35712,nr.LINK_STATUS=35714,nr.VALIDATE_STATUS=35715,nr.ATTACHED_SHADERS=35717,nr.ACTIVE_UNIFORMS=35718,nr.ACTIVE_ATTRIBUTES=35721,nr.SHADING_LANGUAGE_VERSION=35724,nr.CURRENT_PROGRAM=35725,nr.NEVER=512,nr.LESS=513,nr.EQUAL=514,nr.LEQUAL=515,nr.GREATER=516,nr.NOTEQUAL=517,nr.GEQUAL=518,nr.ALWAYS=519,nr.KEEP=7680,nr.REPLACE=7681,nr.INCR=7682,nr.DECR=7683,nr.INVERT=5386,nr.INCR_WRAP=34055,nr.DECR_WRAP=34056,nr.VENDOR=7936,nr.RENDERER=7937,nr.VERSION=7938,nr.NEAREST=9728,nr.LINEAR=9729,nr.NEAREST_MIPMAP_NEAREST=9984,nr.LINEAR_MIPMAP_NEAREST=9985,nr.NEAREST_MIPMAP_LINEAR=9986,nr.LINEAR_MIPMAP_LINEAR=9987,nr.TEXTURE_MAG_FILTER=10240,nr.TEXTURE_MIN_FILTER=10241,nr.TEXTURE_WRAP_S=10242,nr.TEXTURE_WRAP_T=10243,nr.TEXTURE_2D=3553,nr.TEXTURE=5890,nr.TEXTURE_CUBE_MAP=34067,nr.TEXTURE_BINDING_CUBE_MAP=34068,nr.TEXTURE_CUBE_MAP_POSITIVE_X=34069,nr.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,nr.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,nr.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,nr.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,nr.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,nr.MAX_CUBE_MAP_TEXTURE_SIZE=34076,nr.TEXTURE0=33984,nr.TEXTURE1=33985,nr.TEXTURE2=33986,nr.TEXTURE3=33987,nr.TEXTURE4=33988,nr.TEXTURE5=33989,nr.TEXTURE6=33990,nr.TEXTURE7=33991,nr.TEXTURE8=33992,nr.TEXTURE9=33993,nr.TEXTURE10=33994,nr.TEXTURE11=33995,nr.TEXTURE12=33996,nr.TEXTURE13=33997,nr.TEXTURE14=33998,nr.TEXTURE15=33999,nr.TEXTURE16=34e3,nr.TEXTURE17=34001,nr.TEXTURE18=34002,nr.TEXTURE19=34003,nr.TEXTURE20=34004,nr.TEXTURE21=34005,nr.TEXTURE22=34006,nr.TEXTURE23=34007,nr.TEXTURE24=34008,nr.TEXTURE25=34009,nr.TEXTURE26=34010,nr.TEXTURE27=34011,nr.TEXTURE28=34012,nr.TEXTURE29=34013,nr.TEXTURE30=34014,nr.TEXTURE31=34015,nr.ACTIVE_TEXTURE=34016,nr.REPEAT=10497,nr.CLAMP_TO_EDGE=33071,nr.MIRRORED_REPEAT=33648,nr.FLOAT_VEC2=35664,nr.FLOAT_VEC3=35665,nr.FLOAT_VEC4=35666,nr.INT_VEC2=35667,nr.INT_VEC3=35668,nr.INT_VEC4=35669,nr.BOOL=35670,nr.BOOL_VEC2=35671,nr.BOOL_VEC3=35672,nr.BOOL_VEC4=35673,nr.FLOAT_MAT2=35674,nr.FLOAT_MAT3=35675,nr.FLOAT_MAT4=35676,nr.SAMPLER_2D=35678,nr.SAMPLER_CUBE=35680,nr.VERTEX_ATTRIB_ARRAY_ENABLED=34338,nr.VERTEX_ATTRIB_ARRAY_SIZE=34339,nr.VERTEX_ATTRIB_ARRAY_STRIDE=34340,nr.VERTEX_ATTRIB_ARRAY_TYPE=34341,nr.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,nr.VERTEX_ATTRIB_ARRAY_POINTER=34373,nr.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,nr.VERTEX_PROGRAM_POINT_SIZE=34370,nr.POINT_SPRITE=34913,nr.COMPILE_STATUS=35713,nr.LOW_FLOAT=36336,nr.MEDIUM_FLOAT=36337,nr.HIGH_FLOAT=36338,nr.LOW_INT=36339,nr.MEDIUM_INT=36340,nr.HIGH_INT=36341,nr.FRAMEBUFFER=36160,nr.RENDERBUFFER=36161,nr.RGBA4=32854,nr.RGB5_A1=32855,nr.RGB565=36194,nr.DEPTH_COMPONENT16=33189,nr.STENCIL_INDEX=6401,nr.STENCIL_INDEX8=36168,nr.DEPTH_STENCIL=34041,nr.RENDERBUFFER_WIDTH=36162,nr.RENDERBUFFER_HEIGHT=36163,nr.RENDERBUFFER_INTERNAL_FORMAT=36164,nr.RENDERBUFFER_RED_SIZE=36176,nr.RENDERBUFFER_GREEN_SIZE=36177,nr.RENDERBUFFER_BLUE_SIZE=36178,nr.RENDERBUFFER_ALPHA_SIZE=36179,nr.RENDERBUFFER_DEPTH_SIZE=36180,nr.RENDERBUFFER_STENCIL_SIZE=36181,nr.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,nr.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,nr.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,nr.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,nr.COLOR_ATTACHMENT0=36064,nr.DEPTH_ATTACHMENT=36096,nr.STENCIL_ATTACHMENT=36128,nr.DEPTH_STENCIL_ATTACHMENT=33306,nr.NONE=0,nr.FRAMEBUFFER_COMPLETE=36053,nr.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,nr.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,nr.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,nr.FRAMEBUFFER_UNSUPPORTED=36061,nr.FRAMEBUFFER_BINDING=36006,nr.RENDERBUFFER_BINDING=36007,nr.MAX_RENDERBUFFER_SIZE=34024,nr.INVALID_FRAMEBUFFER_OPERATION=1286,nr.UNPACK_FLIP_Y_WEBGL=37440,nr.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,nr.CONTEXT_LOST_WEBGL=37442,nr.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,nr.BROWSER_DEFAULT_WEBGL=37444,nr.currentBoundTexture=new Array(8),nr.textureStateCache=new wn,hr.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],_r.__identity=new _r,lr.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],vr.GLOBAL_SSL=1,vr.GLOBAL_WIN32=2,vr.GLOBAL_ALL=3,vr.GLOBAL_NOTHING=0,vr.GLOBAL_DEFAULT=3,vr.GLOBAL_ACK_EINTR=4,yr.MESSAGE_COMPLETE="__COMPLETE__",yr.MESSAGE_ERROR="__ERROR__",wr.__moduleNames=null,Fr.INVALID=0,Fr.LEFT_TO_RIGHT=4,Fr.RIGHT_TO_LEFT=5,Fr.TOP_TO_BOTTOM=6,Fr.BOTTOM_TO_TOP=7,Lr.COMMON="Zyyy",Lr.INHERITED="Zinh",Lr.UNKNOWN="Zzzz",Lr.ARABIC="Arab",Lr.ARMENIAN="Armn",Lr.BENGALI="Beng",Lr.CYRILLIC="Cyrl",Lr.DEVANAGARI="Deva",Lr.GEORGIAN="Geor",Lr.GREEK="Grek",Lr.GUJARATI="Gujr",Lr.GURMUKHI="Guru",Lr.HANGUL="Hang",Lr.HAN="Hani",Lr.HEBREW="Hebr",Lr.HIRAGANA="Hira",Lr.KANNADA="Knda",Lr.KATAKANA="Kana",Lr.LAO="Laoo",Lr.LATIN="Latn",Lr.MALAYALAM="Mlym",Lr.ORIYA="Orya",Lr.TAMIL="Taml",Lr.TELUGA="Telu",Lr.THAI="Thai",Lr.TIBETAN="Tibt",Lr.BOPOMOFO="Bopo",Lr.BRAILLE="Brai",Lr.CANADIAN_SYLLABICS="Cans",Lr.CHEROKEE="Cher",Lr.ETHIOPIC="Ethi",Lr.KHMER="Khmr",Lr.MONGOLIAN="Mong",Lr.MYANMAR="Mymr",Lr.OGHAM="Ogam",Lr.RUNIC="Runr",Lr.SINHALA="Sinh",Lr.SYRIAC="Syrc",Lr.THAANA="Thaa",Lr.YI="Yiii",Lr.DESERET="Dsrt",Lr.GOTHIC="Goth",Lr.OLD_ITALIC="Ital",Lr.BUHID="Buhd",Lr.HANUNOO="Hano",Lr.TAGALOG="Tglg",Lr.TAGBANWA="Tagb",Lr.CYPRIOT="Cprt",Lr.LIMBU="Limb",Lr.LINEAR_B="Linb",Lr.OSMANYA="Osma",Lr.SHAVIAN="Shaw",Lr.TAI_LE="Tale",Lr.UGARITIC="Ugar",Lr.BUGINESE="Bugi",Lr.COPTIC="Copt",Lr.GLAGOLITIC="Glag",Lr.KHAROSHTHI="Khar",Lr.NEW_TAI_LUE="Talu",Lr.OLD_PERSIAN="Xpeo",Lr.SYLOTI_NAGRI="Sylo",Lr.TIFINAGH="Tfng",Lr.BALINESE="Bali",Lr.CUNEIFORM="Xsux",Lr.NKO="Nkoo",Lr.PHAGS_PA="Phag",Lr.PHOENICIAN="Phnx",Lr.CARIAN="Cari",Lr.CHAM="Cham",Lr.KAYAH_LI="Kali",Lr.LEPCHA="Lepc",Lr.LYCIAN="Lyci",Lr.LYDIAN="Lydi",Lr.OL_CHIKI="Olck",Lr.REJANG="Rjng",Lr.SAURASHTRA="Saur",Lr.SUNDANESE="Sund",Lr.VAI="Vaii",Lr.AVESTAN="Avst",Lr.BAMUM="Bamu",Lr.EGYPTIAN_HIEROGLYPHS="Egyp",Lr.IMPERIAL_ARAMAIC="Armi",Lr.INSCRIPTIONAL_PAHLAVI="Phli",Lr.INSCRIPTIONAL_PARTHIAN="Prti",Lr.JAVANESE="Java",Lr.KAITHI="Kthi",Lr.LISU="Lisu",Lr.MEETEI_MAYEK="Mtei",Lr.OLD_SOUTH_ARABIAN="Sarb";Lr.OLD_TURKIC="Orkh",Lr.SAMARITAN="Samr",Lr.TAI_THAM="Lana",Lr.TAI_VIET="Tavt",Lr.BATAK="Batk",Lr.BRAHMI="Brah",Lr.MANDAIC="Mand",Lr.CHAKMA="Cakm",Lr.MEROITIC_CURSIVE="Merc",Lr.MEROITIC_HIEROGLYPHS="Mero",Lr.MIAO="Plrd",Lr.SHARADA="Shrd",Lr.SORA_SOMPENG="Sora",Lr.TAKRI="Takr",Lr.BASSA_VAH="Bass",Lr.CAUCASIAN_ALBANIAN="Aghb",Lr.DUPLOYAN="Dupl",Lr.ELBASAN="Elba",Lr.GRANTHA="Gran",Lr.KHOJKI="Khoj",Lr.KHUDAWADI="Sind",Lr.LINEAR_A="Lina",Lr.MAHAJANI="Mahj",Lr.MANICHAEAN="Mani",Lr.MENDE_KIKAKUI="Mend",Lr.MODI="Modi",Lr.MRO="Mroo",Lr.NABATAEAN="Nbat",Lr.OLD_NORTH_ARABIAN="Narb",Lr.OLD_PERMIC="Perm",Lr.PAHAWH_HMONG="Hmng",Lr.PALMYRENE="Palm",Lr.PAU_CIN_HAU="Pauc",Lr.PSALTER_PAHLAVI="Phlp",Lr.SIDDHAM="Sidd",Lr.TIRHUTA="Tirh",Lr.WARANG_CITI="Wara",Nr.devices=new yn,Nr.onConnect=new Ea,Or.LEFT_X=0,Or.LEFT_Y=1,Or.RIGHT_X=2,Or.RIGHT_Y=3,Or.TRIGGER_LEFT=4,Or.TRIGGER_RIGHT=5,Ur.A=0,Ur.B=1,Ur.X=2,Ur.Y=3,Ur.BACK=4,Ur.GUIDE=5,Ur.START=6,Ur.LEFT_STICK=7,Ur.RIGHT_STICK=8,Ur.LEFT_SHOULDER=9,Ur.RIGHT_SHOULDER=10,Ur.DPAD_UP=11,Ur.DPAD_DOWN=12,Ur.DPAD_LEFT=13,Ur.DPAD_RIGHT=14,zr.devices=new yn,zr.onConnect=new Ia,Gr.CENTER=0,Gr.DOWN=4,Gr.LEFT=8,Gr.RIGHT=2,Gr.UP=1,Gr.DOWN_LEFT=12,Gr.DOWN_RIGHT=6,Gr.UP_LEFT=9,Gr.UP_RIGHT=3,Xr.UNKNOWN=0,Xr.BACKSPACE=8,Xr.TAB=9,Xr.RETURN=13,Xr.ESCAPE=27,Xr.SPACE=32,Xr.EXCLAMATION=33,Xr.QUOTE=34,Xr.HASH=35,Xr.DOLLAR=36,Xr.PERCENT=37,Xr.AMPERSAND=38,Xr.SINGLE_QUOTE=39,Xr.LEFT_PARENTHESIS=40,Xr.RIGHT_PARENTHESIS=41,Xr.ASTERISK=42,Xr.PLUS=43,Xr.COMMA=44,Xr.MINUS=45,Xr.PERIOD=46,Xr.SLASH=47,Xr.NUMBER_0=48,Xr.NUMBER_1=49,Xr.NUMBER_2=50,Xr.NUMBER_3=51,Xr.NUMBER_4=52,Xr.NUMBER_5=53,Xr.NUMBER_6=54,Xr.NUMBER_7=55,Xr.NUMBER_8=56,Xr.NUMBER_9=57,Xr.COLON=58,Xr.SEMICOLON=59,Xr.LESS_THAN=60,Xr.EQUALS=61,Xr.GREATER_THAN=62,Xr.QUESTION=63,Xr.AT=64,Xr.LEFT_BRACKET=91,Xr.BACKSLASH=92,Xr.RIGHT_BRACKET=93,Xr.CARET=94,Xr.UNDERSCORE=95,Xr.GRAVE=96,Xr.A=97,Xr.B=98,Xr.C=99,Xr.D=100,Xr.E=101,Xr.F=102,Xr.G=103,Xr.H=104,Xr.I=105,Xr.J=106,Xr.K=107,Xr.L=108,Xr.M=109,Xr.N=110,Xr.O=111,Xr.P=112,Xr.Q=113,Xr.R=114,Xr.S=115,Xr.T=116,Xr.U=117,Xr.V=118,Xr.W=119,Xr.X=120,Xr.Y=121,Xr.Z=122,Xr.DELETE=127,Xr.CAPS_LOCK=1073741881,Xr.F1=1073741882,Xr.F2=1073741883,Xr.F3=1073741884,Xr.F4=1073741885,Xr.F5=1073741886,Xr.F6=1073741887,Xr.F7=1073741888,Xr.F8=1073741889,Xr.F9=1073741890,Xr.F10=1073741891,Xr.F11=1073741892,Xr.F12=1073741893,Xr.PRINT_SCREEN=1073741894,Xr.SCROLL_LOCK=1073741895,Xr.PAUSE=1073741896,Xr.INSERT=1073741897,Xr.HOME=1073741898,Xr.PAGE_UP=1073741899,Xr.END=1073741901,Xr.PAGE_DOWN=1073741902,Xr.RIGHT=1073741903,Xr.LEFT=1073741904,Xr.DOWN=1073741905,Xr.UP=1073741906,Xr.NUM_LOCK=1073741907,Xr.NUMPAD_DIVIDE=1073741908,Xr.NUMPAD_MULTIPLY=1073741909,Xr.NUMPAD_MINUS=1073741910,Xr.NUMPAD_PLUS=1073741911,Xr.NUMPAD_ENTER=1073741912,Xr.NUMPAD_1=1073741913,Xr.NUMPAD_2=1073741914,Xr.NUMPAD_3=1073741915,Xr.NUMPAD_4=1073741916,Xr.NUMPAD_5=1073741917,Xr.NUMPAD_6=1073741918,Xr.NUMPAD_7=1073741919,Xr.NUMPAD_8=1073741920,Xr.NUMPAD_9=1073741921,Xr.NUMPAD_0=1073741922,Xr.NUMPAD_PERIOD=1073741923,Xr.APPLICATION=1073741925,Xr.POWER=1073741926,Xr.NUMPAD_EQUALS=1073741927,Xr.F13=1073741928,Xr.F14=1073741929,Xr.F15=1073741930,Xr.F16=1073741931,Xr.F17=1073741932,Xr.F18=1073741933,Xr.F19=1073741934,Xr.F20=1073741935,Xr.F21=1073741936,Xr.F22=1073741937,Xr.F23=1073741938,Xr.F24=1073741939,Xr.EXECUTE=1073741940,Xr.HELP=1073741941,Xr.MENU=1073741942,Xr.SELECT=1073741943,Xr.STOP=1073741944,Xr.AGAIN=1073741945,Xr.UNDO=1073741946,Xr.CUT=1073741947,Xr.COPY=1073741948,Xr.PASTE=1073741949,Xr.FIND=1073741950,Xr.MUTE=1073741951,Xr.VOLUME_UP=1073741952,Xr.VOLUME_DOWN=1073741953,Xr.NUMPAD_COMMA=1073741957,Xr.ALT_ERASE=1073741977,Xr.SYSTEM_REQUEST=1073741978,Xr.CANCEL=1073741979,Xr.CLEAR=1073741980,Xr.PRIOR=1073741981,Xr.RETURN2=1073741982,Xr.SEPARATOR=1073741983,Xr.OUT=1073741984,Xr.OPER=1073741985,Xr.CLEAR_AGAIN=1073741986,Xr.CRSEL=1073741987,Xr.EXSEL=1073741988,Xr.NUMPAD_00=1073742e3,Xr.NUMPAD_000=1073742001,Xr.THOUSAND_SEPARATOR=1073742002,Xr.DECIMAL_SEPARATOR=1073742003,Xr.CURRENCY_UNIT=1073742004,Xr.CURRENCY_SUBUNIT=1073742005,Xr.NUMPAD_LEFT_PARENTHESIS=1073742006,Xr.NUMPAD_RIGHT_PARENTHESIS=1073742007,Xr.NUMPAD_LEFT_BRACE=1073742008,Xr.NUMPAD_RIGHT_BRACE=1073742009,Xr.NUMPAD_TAB=1073742010,Xr.NUMPAD_BACKSPACE=1073742011,Xr.NUMPAD_A=1073742012,Xr.NUMPAD_B=1073742013,Xr.NUMPAD_C=1073742014,Xr.NUMPAD_D=1073742015,Xr.NUMPAD_E=1073742016,Xr.NUMPAD_F=1073742017,Xr.NUMPAD_XOR=1073742018,Xr.NUMPAD_POWER=1073742019,Xr.NUMPAD_PERCENT=1073742020,Xr.NUMPAD_LESS_THAN=1073742021,Xr.NUMPAD_GREATER_THAN=1073742022,Xr.NUMPAD_AMPERSAND=1073742023,Xr.NUMPAD_DOUBLE_AMPERSAND=1073742024,Xr.NUMPAD_VERTICAL_BAR=1073742025,Xr.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026,Xr.NUMPAD_COLON=1073742027,Xr.NUMPAD_HASH=1073742028,Xr.NUMPAD_SPACE=1073742029,Xr.NUMPAD_AT=1073742030,Xr.NUMPAD_EXCLAMATION=1073742031,Xr.NUMPAD_MEM_STORE=1073742032,Xr.NUMPAD_MEM_RECALL=1073742033,Xr.NUMPAD_MEM_CLEAR=1073742034,Xr.NUMPAD_MEM_ADD=1073742035,Xr.NUMPAD_MEM_SUBTRACT=1073742036,Xr.NUMPAD_MEM_MULTIPLY=1073742037,Xr.NUMPAD_MEM_DIVIDE=1073742038,Xr.NUMPAD_PLUS_MINUS=1073742039,Xr.NUMPAD_CLEAR=1073742040,Xr.NUMPAD_CLEAR_ENTRY=1073742041,Xr.NUMPAD_BINARY=1073742042,Xr.NUMPAD_OCTAL=1073742043,Xr.NUMPAD_DECIMAL=1073742044,Xr.NUMPAD_HEXADECIMAL=1073742045,Xr.LEFT_CTRL=1073742048,Xr.LEFT_SHIFT=1073742049,Xr.LEFT_ALT=1073742050,Xr.LEFT_META=1073742051,Xr.RIGHT_CTRL=1073742052,Xr.RIGHT_SHIFT=1073742053,Xr.RIGHT_ALT=1073742054,Xr.RIGHT_META=1073742055,Xr.MODE=1073742081,Xr.AUDIO_NEXT=1073742082,Xr.AUDIO_PREVIOUS=1073742083,Xr.AUDIO_STOP=1073742084,Xr.AUDIO_PLAY=1073742085,Xr.AUDIO_MUTE=1073742086,Xr.MEDIA_SELECT=1073742087,Xr.WWW=1073742088,Xr.MAIL=1073742089,Xr.CALCULATOR=1073742090,Xr.COMPUTER=1073742091,Xr.APP_CONTROL_SEARCH=1073742092,Xr.APP_CONTROL_HOME=1073742093,Xr.APP_CONTROL_BACK=1073742094,Xr.APP_CONTROL_FORWARD=1073742095,Xr.APP_CONTROL_STOP=1073742096,Xr.APP_CONTROL_REFRESH=1073742097,Xr.APP_CONTROL_BOOKMARKS=1073742098,Xr.BRIGHTNESS_DOWN=1073742099,Xr.BRIGHTNESS_UP=1073742100,Xr.DISPLAY_SWITCH=1073742101,Xr.BACKLIGHT_TOGGLE=1073742102,Xr.BACKLIGHT_DOWN=1073742103,Xr.BACKLIGHT_UP=1073742104,Xr.EJECT=1073742105,Xr.SLEEP=1073742106,Vr.NONE=0,Vr.LEFT_SHIFT=1,Vr.RIGHT_SHIFT=2,Vr.LEFT_CTRL=64,Vr.RIGHT_CTRL=128,Vr.LEFT_ALT=256,Vr.RIGHT_ALT=512,Vr.LEFT_META=1024,Vr.RIGHT_META=2048,Vr.NUM_LOCK=4096,Vr.CAPS_LOCK=8192,Vr.MODE=16384,Vr.CTRL=192,Vr.SHIFT=3,Vr.ALT=768,Vr.META=3072,Wr.onEnd=new ka,Wr.onMove=new ka,Wr.onStart=new ka,qr.cffi_lime_bytes_from_data_pointer=wr.load("lime","lime_bytes_from_data_pointer",2,!1),qr.cffi_lime_bytes_get_data_pointer=wr.load("lime","lime_bytes_get_data_pointer",1,!1),qr.cffi_lime_bytes_read_file=wr.load("lime","lime_bytes_read_file",1,!1),Jr.BYTES_PER_ELEMENT=4,Qr.BYTES_PER_ELEMENT=2,$r.BYTES_PER_ELEMENT=4,eo.BYTES_PER_ELEMENT=2,io.BYTES_PER_ELEMENT=4,so.BYTES_PER_ELEMENT=1,ro.cache=new ao,ro.dispatcher=new v,oo.pool=new Be(function(){return new oo}),oo.__clid=at.registerClass(oo),ho.pool=new Be(function(){return new ho}),ho.__identity=new ho,ho.__temp=new ho,ho.__clid=at.registerClass(ho),_o.pool=new Be(function(){return new _o}),_o.__clid=at.registerClass(_o),lo.current=new h,lo.__sentWarnings=new Tn,go.__clid=at.registerClass(go),Oo.BEGIN_BITMAP_FILL=0,Oo.BEGIN_FILL=1,Oo.BEGIN_GRADIENT_FILL=2,Oo.CUBIC_CURVE_TO=3,Oo.CURVE_TO=4,Oo.DRAW_CIRCLE=5,Oo.DRAW_ARC=6,Oo.DRAW_ELLIPSE=7,Oo.DRAW_IMAGE=8,Oo.DRAW_PATH=9,Oo.DRAW_RECT=10,Oo.DRAW_ROUND_RECT=11,Oo.DRAW_TILES=12,Oo.DRAW_TRIANGLES=13,Oo.END_FILL=14,Oo.LINE_BITMAP_STYLE=15,Oo.LINE_GRADIENT_STYLE=16,Oo.LINE_STYLE=17,Oo.LINE_TO=18,Oo.MOVE_TO=19,Oo.OVERRIDE_MATRIX=20,Oo.UNKNOWN=21,zo.pool=new Be(function(){return window.document.createElement("canvas")}),zo.SIN45=.7071067811865476,zo.TAN22=.41421356237309503,zo.padding=1,zo.canvasWindingRule="evenodd",zo.positionX=0,zo.positionY=0,zo.closeGap=!1,zo.startX=0,zo.startY=0,zo.currentTransform=new ho,zo.snapCoordinates=!1,zo.drawCommandReaderPool=new Be(function(){return new mo(null)}),zo.glMaxTextureSize=0,Yo.fbDataPool=new Be(function(){return new Ho}),Yo.fbData=[],Yo.dataToClean=new wn,Wo.glContextId=0,Wo.glContexts=[],jo.UID=0,jo.currentVertexArray=null,Ko.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uMaskMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec2 openfl_vMaskTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   openfl_vTexCoord = openfl_aTexCoord0;","   openfl_vMaskTexCoord = (openfl_uMaskMatrix * vec3(openfl_aPosition, 1.0)).xy;","   if(openfl_uUseColorTransform)","   \topenfl_vColor = openfl_aColor;","   else","   \topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],qo.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","\tgl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","\topenfl_vTexCoord = openfl_aTexCoord0;","\tif(openfl_uUseColorTransform)","\t\topenfl_vColor = openfl_aColor;","\telse","\t\topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],nh.glMaxTextureSize=0,ah.compiledShadersCache=new Tn,oh.VERTS_PER_SPRITE=4,uh.UTF8_TAB=9,uh.UTF8_ENDLINE=10,uh.UTF8_SPACE=32,uh.UTF8_HYPHEN=45,uh.OFFSET_START=2,uh.__defaultFonts=new Tn,mh.__isGLES=null,vh.ADD=0,vh.ALPHA=1,vh.DARKEN=2,vh.DIFFERENCE=3,vh.ERASE=4,vh.HARDLIGHT=5,vh.INVERT=6,vh.LAYER=7,vh.LIGHTEN=8,vh.MULTIPLY=9,vh.NORMAL=10,vh.OVERLAY=11,vh.SCREEN=12,vh.SHADER=13,vh.SUBTRACT=14,bh.NONE=0,bh.ROUND=1,bh.SQUARE=2,Th.LINEAR=0,Th.RADIAL=1,Sh.__dirtyGraphicsDelay=2,Sh.TILE_SCALE=1,Sh.TILE_ROTATION=2,Sh.TILE_RGB=4,Sh.TILE_ALPHA=8,Sh.TILE_TRANS_2x2=16,Sh.TILE_RECT=32,Sh.TILE_ORIGIN=64,Sh.TILE_BLEND_NORMAL=0,Sh.TILE_BLEND_ADD=65536,Sh.TILE_BLEND_MULTIPLY=131072,Sh.TILE_BLEND_SCREEN=262144,Sh.TILE_BLEND_SUBTRACT=524288,Sh.TILE_BLEND_DARKEN=1048576,Sh.TILE_BLEND_LIGHTEN=2097152,Sh.TILE_BLEND_OVERLAY=4194304,Sh.TILE_BLEND_HARDLIGHT=8388608,Sh.TILE_BLEND_DIFFERENCE=16777216,Sh.TILE_BLEND_INVERT=33554432,Sh.__clid=at.registerClass(Sh),Bh.pool=new Be(function(){return new Bh}),Oh.LINEAR_RGB=0,Oh.RGB=1,zh.BEVEL=0,zh.MITER=1,zh.ROUND=2,Gh.HORIZONTAL=0,Gh.NONE=1,Gh.NORMAL=2,Gh.VERTICAL=3,Vh.__rootURL=window.document.URL,Hh.CONTEXT_LOST="glcontextlost",Hh.CONTEXT_RESTORED="glcontextrestored",Wh.ALWAYS=0,Wh.AUTO=1,Wh.NEVER=2,Kh.uniformRegex=new b("^\\s*uniform\\s+(sampler(?:2D|Cube)|[bi]?vec[234]|float|int|bool|mat[234])\\s+(\\w+)\\s*(?:\\[(\\d+)\\])?\\s*;.*$","gmi"),Kh.aPosition="openfl_aPosition",Kh.aTexCoord="openfl_aTexCoord0",Kh.aColor="openfl_aColor",Kh.uSampler="openfl_uSampler0",Kh.uProjectionMatrix="openfl_uProjectionMatrix",Kh.uColorMultiplier="openfl_uColorMultiplier",Kh.uColorOffset="openfl_uColorOffset",Kh.uObjectSize="openfl_uObjectSize",Kh.uTextureSize="openfl_uTextureSize",Kh.vTexCoord="openfl_vTexCoord",Kh.vColor="openfl_vColor",Kh.vertexHeader=["attribute vec2 "+Kh.aPosition+";","attribute vec2 "+Kh.aTexCoord+";","attribute vec4 "+Kh.aColor+";","uniform mat3 "+Kh.uProjectionMatrix+";","uniform vec2 "+Kh.uObjectSize+";","uniform vec2 "+Kh.uTextureSize+";","varying vec2 "+Kh.vTexCoord+";","varying vec4 "+Kh.vColor+";"],Kh.fragmentHeader=["uniform sampler2D "+Kh.uSampler+";","uniform vec4 "+Kh.uColorMultiplier+";","uniform vec4 "+Kh.uColorOffset+";","uniform vec2 "+Kh.uObjectSize+";","uniform vec2 "+Kh.uTextureSize+";","varying vec2 "+Kh.vTexCoord+";","varying vec4 "+Kh.vColor+";","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}"],Jh.PAD=0,Jh.REFLECT=1,Jh.REPEAT=2,Zh.__calledOnMouseThisFrame=!1,$h.BOTTOM=0,$h.BOTTOM_LEFT=1,$h.BOTTOM_RIGHT=2,$h.LEFT=3,$h.RIGHT=4,$h.TOP=5,$h.TOP_LEFT=6,$h.TOP_RIGHT=7,t_.FULL_SCREEN=0,t_.FULL_SCREEN_INTERACTIVE=1,t_.NORMAL=2,e_.BEST=0,e_.HIGH=1,e_.LOW=2,e_.MEDIUM=3,i_.EXACT_FIT=0,i_.NO_BORDER=1,i_.NO_SCALE=2,i_.SHOW_ALL=3,s_.NEGATIVE=0,s_.NONE=1,s_.POSITIVE=2,r_.TEXTURE_MAX_ANISOTROPY_EXT=34046,r_.MAX_SAMPLERS=8,r_.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,r_.anisotropySupportTested=!1,r_.supportsAnisotropy=!1,r_.maxSupportedAnisotropy=256,__.ALL=17664,__.COLOR=16384,__.DEPTH=256,__.STENCIL=1024,l_.ALWAYS=519,l_.EQUAL=514,l_.GREATER=516,l_.GREATER_EQUAL=518,l_.LESS=513,l_.LESS_EQUAL=515,l_.NEVER=512,l_.NOT_EQUAL=517,p_.BACK=1028,p_.FRONT=1029,p_.FRONT_AND_BACK=1032,p_.NONE=0,S_.internalFormat=-1,C_.DEFAULT_TO_STRING="Error",A_.ACTIVITY="activity",M_.LINK="link",M_.TEXT_INPUT="textInput",R_.ERROR="error",B_.FOCUS_IN="focusIn",B_.FOCUS_OUT="focusOut",B_.KEY_FOCUS_CHANGE="keyFocusChange",B_.MOUSE_FOCUS_CHANGE="mouseFocusChange",L_.FULL_SCREEN="fullScreen",L_.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",N_.DEVICE_ADDED="deviceAdded",N_.DEVICE_REMOVED="deviceRemoved",N_.DEVICE_UNUSABLE="deviceUnusable",O_.HTTP_RESPONSE_STATUS="httpResponseStatus",O_.HTTP_STATUS="httpStatus",U_.IO_ERROR="ioError",z_.KEY_DOWN="keyDown",z_.KEY_UP="keyUp",G_.pool=new Be(function(){return new G_}),G_.CLICK="click",G_.DOUBLE_CLICK="doubleClick",G_.MIDDLE_CLICK="middleClick",G_.MIDDLE_MOUSE_DOWN="middleMouseDown",G_.MIDDLE_MOUSE_UP="middleMouseUp",G_.MOUSE_DOWN="mouseDown",G_.MOUSE_MOVE="mouseMove",G_.MOUSE_OUT="mouseOut",G_.MOUSE_OVER="mouseOver",G_.MOUSE_UP="mouseUp",G_.MOUSE_WHEEL="mouseWheel",G_.RIGHT_CLICK="rightClick",G_.RIGHT_MOUSE_DOWN="rightMouseDown",G_.RIGHT_MOUSE_UP="rightMouseUp",G_.ROLL_OUT="rollOut",G_.ROLL_OVER="rollOver",X_.PROGRESS="progress",X_.SOCKET_DATA="socketData",V_.SECURITY_ERROR="securityError",H_.TOUCH_BEGIN="touchBegin",H_.TOUCH_END="touchEnd",H_.TOUCH_MOVE="touchMove",H_.TOUCH_OUT="touchOut",H_.TOUCH_OVER="touchOver",H_.TOUCH_ROLL_OUT="touchRollOut",H_.TOUCH_ROLL_OVER="touchRollOver",H_.TOUCH_TAP="touchTap",W_.__inverseAlphaMultipliers=null!=(od=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,-1])?new Zf(od):null,W_.__inverseAlphaOffsets=null!=(hd=[0,0,0,1])?new Zf(hd):null,j_.__textureCacheMap=new yn,J_.FULL=0,J_.INNER=1,J_.OUTER=2,il.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uTexCoordOffset:{noCompletion:null},set_uTexCoordOffset:{noCompletion:null},get_uTexCoordDelta:{noCompletion:null},set_uTexCoordDelta:{noCompletion:null},get_uFetchCount:{noCompletion:null},set_uFetchCount:{noCompletion:null}}},nl.MAXIMUM_FETCH_COUNT=32,nl.__shader=new il,al.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uColorLookupSampler:{noCompletion:null},set_uColorLookupSampler:{noCompletion:null}}},rl.__shader=new al,ol.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uMultipliers:{noCompletion:null},set_uMultipliers:{noCompletion:null},get_uOffsets:{noCompletion:null},set_uOffsets:{noCompletion:null}}},hl.__shader=new ol,_l.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uColor:{noCompletion:null},set_uColor:{noCompletion:null}}},ll.__shader=new _l,ul.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null}}},cl.__shader=new ul,fl.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null}}},dl.__shader=new fl,gl.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uShadowSourceSampler:{noCompletion:null},set_uShadowSourceSampler:{noCompletion:null},get_uStrength:{noCompletion:null},set_uStrength:{noCompletion:null}}},ml.__shader=new gl,vl.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null},get_outer:{noCompletion:null},set_outer:{noCompletion:null}}},bl.__shader=new vl,yl.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uTexCoordOffset:{noCompletion:null},set_uTexCoordOffset:{noCompletion:null},get_uStrength:{noCompletion:null},set_uStrength:{noCompletion:null}}},wl.__shader=new yl,xl.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null},get_allow_transparency:{noCompletion:null},set_allow_transparency:{noCompletion:null}}},Tl.__shader=new xl,Cl.AXIS_ANGLE=0,Cl.EULER_ANGLES=1,Cl.QUATERNION=2,El.pool=new Be(function(){return new El}),El.__temp=new El,El.__clid=at.registerClass(El),Il.pool=new Be(function(){return new Il(null)}),Dl.__registeredSounds=new Tn,Al.pool=new Be(function(){return new Al}),Bl.BINARY=0,Bl.TEXT=1,Bl.VARIABLES=2,Ol.DELETE=0,Ol.GET=1,Ol.HEAD=2,Ol.OPTIONS=3,Ol.POST=4,Ol.PUT=5,zl.currentDomain=new zl(null),Xl.currentDomain=new Xl,Vl.ADVANCED=0,Vl.NORMAL=1,Hl.BOLD=0,Hl.BOLD_ITALIC=1,Hl.ITALIC=2,Hl.REGULAR=3,Yl.DEVICE=0,Yl.EMBEDDED=1,Yl.EMBEDDED_CFF=2,Wl.NONE=0,Wl.PIXEL=1,Wl.SUBPIXEL=2,jl.CENTER=0,jl.LEFT=1,jl.NONE=2,jl.RIGHT=3,Kl.DYNAMIC=0,Kl.INPUT=1,Jl.CENTER=0,Jl.END=1,Jl.JUSTIFY=2,Jl.LEFT=3,Jl.RIGHT=4,Jl.START=5,Ql.isSupported=!0,Ql.numDevices=0,Ql.__deviceList=[],Ql.__devices=new wn,Ql.__instances=[],tu.MAX_BUFFER_SIZE=32e3,eu.NUMBER_0=48,eu.NUMBER_1=49,eu.NUMBER_2=50,eu.NUMBER_3=51,eu.NUMBER_4=52,eu.NUMBER_5=53,eu.NUMBER_6=54,eu.NUMBER_7=55,eu.NUMBER_8=56,eu.NUMBER_9=57,eu.A=65,eu.B=66,eu.C=67,eu.D=68,eu.E=69,eu.F=70,eu.G=71,eu.H=72,eu.I=73,eu.J=74,eu.K=75,eu.L=76,eu.M=77,eu.N=78,eu.O=79,eu.P=80,eu.Q=81,eu.R=82,eu.S=83,eu.T=84,eu.U=85,eu.V=86,eu.W=87,eu.X=88,eu.Y=89,eu.Z=90,eu.NUMPAD_0=96,eu.NUMPAD_1=97,eu.NUMPAD_2=98,eu.NUMPAD_3=99,eu.NUMPAD_4=100,eu.NUMPAD_5=101,eu.NUMPAD_6=102,eu.NUMPAD_7=103,eu.NUMPAD_8=104,eu.NUMPAD_9=105,eu.NUMPAD_MULTIPLY=106,eu.NUMPAD_ADD=107,eu.NUMPAD_ENTER=108,eu.NUMPAD_SUBTRACT=109,eu.NUMPAD_DECIMAL=110,eu.NUMPAD_DIVIDE=111,eu.F1=112,eu.F2=113,eu.F3=114,eu.F4=115,eu.F5=116,eu.F6=117,eu.F7=118,eu.F8=119,eu.F9=120,eu.F10=121,eu.F11=122,eu.F12=123,eu.F13=124,eu.F14=125,eu.F15=126,eu.BACKSPACE=8,eu.TAB=9,eu.ALTERNATE=18,eu.ENTER=13,eu.COMMAND=15,eu.SHIFT=16,eu.CONTROL=17,eu.BREAK=19,eu.CAPS_LOCK=20,eu.NUMPAD=21,eu.ESCAPE=27,eu.SPACE=32,eu.PAGE_UP=33,eu.PAGE_DOWN=34,eu.END=35,eu.HOME=36,eu.LEFT=37,eu.RIGHT=39,eu.UP=38,eu.DOWN=40,eu.INSERT=45,eu.DELETE=46,eu.NUMLOCK=144,eu.SEMICOLON=186,eu.EQUAL=187,eu.COMMA=188,eu.MINUS=189,eu.PERIOD=190,eu.SLASH=191,eu.BACKQUOTE=192,eu.LEFTBRACKET=219,eu.BACKSLASH=220,eu.RIGHTBRACKET=221,eu.QUOTE=222,nu.DEFLATE=0,nu.LZMA=1,nu.ZLIB=2,au.BIG_ENDIAN=0,au.LITTLE_ENDIAN=1,ru.__clid=at.registerClass(ru),Of.dialogIsShown=!1,Zt.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);