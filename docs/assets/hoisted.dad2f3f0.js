import"./Theme.astro_astro_type_script_index_0_lang.84aacc82.js";const y=document.documentElement,o=document.getElementById("player"),i=document.getElementById("game"),l=document.getElementById("obstacle");i.addEventListener("mousedown",d);i.addEventListener("mouseup",p);document.addEventListener("keydown",d);document.addEventListener("keyup",p);document.getElementById("play").addEventListener("click",g);j();let r=0,a=0,m=0,u=0,c=0;function g(){m=performance.now(),r=f(!0)}function j(t=100){let e=[];for(let n=0;n<Math.floor(Math.sqrt(t));n++)e.push((Math.random()+n)*1e3);return console.log(e),e}function d(t){o.classList.contains("squat")||t.key!==" "&&t.key!=="ArrowUp"&&t.key!=="w"&&t.button!==0||(a=performance.now(),o.classList.add("squat"),console.log("squat"))}function p(t){if(o.classList.contains("jump")||t.key!==" "&&t.key!=="ArrowUp"&&t.key!=="w"&&t.button!==0)return;const e=performance.now();console.log(`t: ${e}, start: ${m}`);const n=L(e);h(n);const s=E(e);if(s===null){console.log("forgiven");return}k(s),r=f(e),m=e}function h(t){y.style.setProperty("--jump-y",t+"rem"),o.classList.remove("squat"),o.classList.add("jump"),setTimeout(()=>{o.classList.remove("jump")},500)}function L(t){const e=t-a;let n=Math.min(e,1800)/50;return n=Math.min(n,16),n=Math.max(n,10),n}function E(t){const e=document.getElementById("dt"),n=t-r;if(e.innerText=`dt: ${n}`,n<-500)return null;const s=105<n&&n<365;return console.log(`isGood? ${s}
t: ${t}, tj: ${r}
dt: ${n}`),s}function k(t){const e=document.getElementById("jumps"),n=document.getElementById("best");t?u+=1:u=0,e.innerText=`Score: ${u}`,u>c&&(c=u),n.innerText=`Best: ${c}`}function f(t){let e=Math.random()*2e3+2e3;return console.log(`next jump in ${e}ms`),setTimeout(()=>{l.classList.add("jump")},e),setTimeout(()=>{l.classList.remove("jump")},e+1e3),t+e}
