---
const path = new URL(Astro.request.url).pathname;
const isHome = path === "/";
const isGames = path === "/games"; //path.includes("/games");
---

<div class="links" transition:animate="none">
	<input class="chk" type="checkbox" />
	<div id="menuToggle">
		<span></span>
		<span></span>
		<span></span>
	</div>
	<nav class="menu">
		<a href="/" class={isHome ? "active" : ""}>
			<svg
				version="1.1"
				id="home"
				xmlns="http://www.w3.org/2000/svg"
				xmlns:xlink="http://www.w3.org/1999/xlink"
				viewBox="0 0 330.242 330.242"
				xml:space="preserve"
			>
				<path
					d="M324.442,129.811l-41.321-33.677V42.275c0-6.065-4.935-11-11-11h-26c-6.065,0-11,4.935-11,11v14.737l-55.213-44.999
         c-3.994-3.254-9.258-5.047-14.822-5.047c-5.542,0-10.781,1.782-14.753,5.019L5.8,129.81c-6.567,5.351-6.173,10.012-5.354,12.314
         c0.817,2.297,3.448,6.151,11.884,6.151h19.791v154.947c0,11.058,8.972,20.053,20,20.053h62.5c10.935,0,19.5-8.809,19.5-20.053
         v-63.541c0-5.446,5.005-10.405,10.5-10.405h42c5.238,0,9.5,4.668,9.5,10.405v63.541c0,10.87,9.388,20.053,20.5,20.053h61.5
         c11.028,0,20-8.996,20-20.053V148.275h19.791c8.436,0,11.066-3.854,11.884-6.151C330.615,139.822,331.009,135.161,324.442,129.811z"
				></path>
			</svg>
			 Home
		</a>
		<a href="/portfolio" class={path === "/portfolio" ? "active" : ""}>
			<svg
				version="1.1"
				id="Layer_1"
				xmlns="http://www.w3.org/2000/svg"
				viewBox="0 0 512 512"
			>
				<polygon points="320,12.499 320,127.998 435.499,127.998 			"
				></polygon>
				<path
					d="M298.667,170.667c-11.797,0-21.333-9.536-21.333-21.333V0h-192C73.536,0,64,9.536,64,21.333v469.333
          C64,502.464,73.536,512,85.333,512h341.333c11.797,0,21.333-9.536,21.333-21.333v-320H298.667z M192,85.333
          c11.776,0,21.333,9.557,21.333,21.333S203.776,128,192,128s-21.333-9.557-21.333-21.333S180.224,85.333,192,85.333z M192,149.333
          c23.573,0,42.667,25.003,42.667,42.667h-85.333C149.333,174.336,168.427,149.333,192,149.333z M149.333,256h85.333
          c11.797,0,21.333,9.536,21.333,21.333c0,11.797-9.536,21.333-21.333,21.333h-85.333c-11.797,0-21.333-9.536-21.333-21.333
          C128,265.536,137.536,256,149.333,256z M383.232,368.341c-9.685,48.491-86.784,45.419-126.101,22.443
          c-37.013,25.408-103.595,20.16-126.208-17.344c-14.251-23.595,22.677-45.035,36.821-21.547c9.536,15.787,59.648,16.107,69.845,0
          c6.699-10.603,24.384-15.403,33.493-4.309c7.381,8.981,67.008,29.483,71.019,9.408
          C347.477,330.048,388.587,341.525,383.232,368.341z M362.667,298.667H320c-11.797,0-21.333-9.536-21.333-21.333
          c0-11.797,9.536-21.333,21.333-21.333h42.667c11.797,0,21.333,9.536,21.333,21.333C384,289.131,374.464,298.667,362.667,298.667z
          "
				></path>
			</svg>
			 Portfolio
		</a>
		<a href="/games" class={isGames ? "active" : ""}>
			<svg
				version="1.1"
				id="games"
				xmlns="http://www.w3.org/2000/svg"
				style="transform: scaleX(-1);"
				viewBox="0 0 512.001 512.001"
			>
				<path
					d="M490.667,384h-23.488c-9.92-48.619-53.013-85.333-104.512-85.333h-8.149l43.072-86.123
        c2.603,0.192,5.099,0.789,7.744,0.789c58.816,0,106.667-47.851,106.667-106.667C512,47.852,464.149,0,405.333,0
        S298.666,47.852,298.666,106.667c0,40.853,23.36,76.011,57.195,93.931l-49.045,98.069H256V256
        c0-11.776-9.536-21.333-21.333-21.333H128c-11.797,0-21.333,9.557-21.333,21.333v51.712C75.349,321.451,51.819,349.717,44.821,384
        H21.333C9.536,384,0,393.557,0,405.333v85.333C0,502.443,9.536,512,21.333,512h469.333c11.797,0,21.333-9.557,21.333-21.333
        v-85.333C512,393.557,502.464,384,490.667,384z"
				></path>
			</svg>
			 Games
		</a>
		<a href="/tools" class={path === "/tools" ? "active" : ""}>
			<svg viewBox="0 0 359.211 359.211" xml:space="preserve">
				<path
					d="M352.203,286.132l-78.933-78.933c-3.578-3.578-8.35-5.548-13.436-5.548c-2.151,0-4.238,0.373-6.21,1.05l-18.929-18.929
		   c-2.825-2.826-6.593-4.382-10.607-4.382c-4.014,0-7.781,1.556-10.606,4.381l-4.978,4.978l-8.904-8.904l38.965-39.17
		   c9.105,3.949,19.001,5.837,29.224,5.837c0.002,0,0.004,0,0.007,0c19.618,0,38.064-7.437,51.939-21.312
		   c18.59-18.588,25.842-45.811,18.926-71.207c-0.859-3.159-3.825-5.401-7.053-5.401c-1.389,0-3.453,0.435-5.39,2.372
		   c-0.265,0.262-26.512,26.322-35.186,34.996c-0.955,0.955-2.531,1.104-3.45,1.104c-0.659,0-1.022-0.069-1.022-0.069v0.002
		   l-0.593-0.068c-10.782-0.99-23.716-2.984-26.98-4.489c-1.556-3.289-3.427-16.533-4.427-27.489v-0.147l-0.234-0.308
		   c-0.058-0.485-0.31-2.958,1.863-5.131c9.028-9.029,33.847-34.072,34.083-34.311c2.1-2.099,2.9-4.739,2.232-7.245
		   c-0.801-3.004-3.355-4.686-5.469-5.257C280.772,0.859,274.292,0,267.788,0c-19.62,0-38.068,7.64-51.941,21.512
		   c-21.901,21.901-27.036,54.296-15.446,81.141l-38.996,38.995L94.682,74.927c-0.041-0.041-0.086-0.075-0.128-0.115
		   c0.63-2.567,0.907-5.233,0.791-7.947c-0.329-7.73-3.723-15.2-9.558-21.034L62.041,22.083c-0.519-0.519-3.318-3.109-7.465-3.109
		   c-1.926,0-4.803,0.583-7.58,3.359L20.971,48.359c-3.021,3.021-4.098,6.903-2.954,10.652c0.767,2.512,2.258,4.139,2.697,4.578
		   l23.658,23.658c6.179,6.179,14.084,9.582,22.259,9.582c0,0,0,0,0.001,0c2.287,0,4.539-0.281,6.721-0.818
		   c0.041,0.042,0.075,0.087,0.116,0.128l66.722,66.722l-31.692,31.692c-1.428,1.428-2.669,2.991-3.726,4.654
		   c-9.281-4.133-19.404-6.327-29.869-6.327c-19.623,0-38.071,7.642-51.946,21.517c-18.589,18.589-25.841,45.914-18.926,71.31
		   c0.859,3.158,3.825,5.451,7.052,5.451c0,0,0,0,0.001,0c1.389,0,3.453-0.41,5.39-2.347c0.265-0.262,26.513-26.309,35.187-34.983
		   c0.955-0.955,2.639-1.097,3.557-1.097c0.66,0,1.125,0.072,1.132,0.072h-0.001l0.487,0.069c10.779,0.988,23.813,2.982,27.078,4.489
		   c1.556,3.29,3.575,16.534,4.554,27.49l0.07,0.501c0.006,0.026,0.362,2.771-1.952,5.086c-9.029,9.029-33.888,34.072-34.124,34.311
		   c-2.1,2.099-2.92,4.74-2.252,7.245c0.802,3.004,3.346,4.685,5.459,5.256c6.264,1.694,12.738,2.553,19.243,2.553
		   c19.621,0,38.066-7.64,51.938-21.512c13.876-13.875,21.518-32.324,21.517-51.947c0-10.465-2.193-20.586-6.326-29.868
		   c1.664-1.057,3.227-2.298,4.654-3.726l31.693-31.693l8.904,8.904l-4.979,4.979c-2.826,2.825-4.382,6.592-4.382,10.606
		   c0,4.015,1.556,7.782,4.382,10.607l18.929,18.929c-0.677,1.972-1.05,4.059-1.05,6.209c0,5.086,1.971,9.857,5.549,13.435
		   l78.934,78.934c3.577,3.577,8.349,5.548,13.435,5.548c5.086,0,9.857-1.971,13.435-5.548l40.659-40.66
		   c3.578-3.578,5.549-8.349,5.549-13.435C357.752,294.482,355.782,289.71,352.203,286.132z"
				></path>
			</svg>
			 Tools
		</a>
		<!-- <a href="/works" class={path === "/works" ? "active" : ""}>
			<svg id="lab" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg">
				<path
					d="M1.34 0a.5.5 0 0 0 .16 1h.5v1.41c-.09.17-1.2 2.31-1.66 3.09-.16.26-.34.61-.34 1.06 0 .39.15.77.41 1.03s.64.41 1.03.41h5.13c.38 0 .74-.16 1-.41h.03c.26-.26.41-.64.41-1.03 0-.45-.19-.8-.34-1.06-.46-.78-1.57-2.92-1.66-3.09v-1.41h.5a.5.5 0 1 0 0-1h-5a.5.5 0 0 0-.09 0 .5.5 0 0 0-.06 0zm1.66 1h2v1.63l.06.09s.63 1.23 1.19 2.28h-4.5c.56-1.05 1.19-2.28 1.19-2.28l.06-.09v-1.63z"
				></path>
			</svg>
			Gallery
		</a> -->
		<a href="/lab" class={path === "/lab" ? "active" : ""}>
			<svg id="lab" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg">
				<path
					d="M1.34 0a.5.5 0 0 0 .16 1h.5v1.41c-.09.17-1.2 2.31-1.66 3.09-.16.26-.34.61-.34 1.06 0 .39.15.77.41 1.03s.64.41 1.03.41h5.13c.38 0 .74-.16 1-.41h.03c.26-.26.41-.64.41-1.03 0-.45-.19-.8-.34-1.06-.46-.78-1.57-2.92-1.66-3.09v-1.41h.5a.5.5 0 1 0 0-1h-5a.5.5 0 0 0-.09 0 .5.5 0 0 0-.06 0zm1.66 1h2v1.63l.06.09s.63 1.23 1.19 2.28h-4.5c.56-1.05 1.19-2.28 1.19-2.28l.06-.09v-1.63z"
				></path>
			</svg>
			 Lab
		</a>
	</nav>
</div>

<style>
	.links {
		isolation: isolate;
	}
	.menu {
		display: none;
		flex-direction: column;
		gap: 0.5rem;
		padding: 0.5rem;
		position: absolute;
		top: 3rem;
		left: 0rem;
		border-radius: 0 0 0.5rem;
	}

	svg {
		min-width: 1rem;
		min-height: 1rem;
		max-width: 1.25rem;
		max-height: 1.25rem;
		fill: var(--color-text);
	}

	.chk {
		position: absolute;
		top: 0.75rem;
		left: 0.75rem;
		cursor: pointer;
		scale: 3;
		opacity: 0;
		z-index: 3;
	}

	#menuToggle {
		display: flex;
		flex-direction: column;
		-webkit-user-select: none;
		user-select: none;
		position: absolute;
		top: 1rem;
		left: 0.75rem;
		z-index: -1;
	}

	#menuToggle span {
		display: flex;
		width: 1.75rem;
		height: 3px;
		margin-bottom: 5px;
		position: relative;
		background-color: var(--color-text);
		border-radius: 3px;
		transform-origin: 5px 0px;
		transition:
			transform 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),
			background-color 0.5s cubic-bezier(0.77, 0.2, 0.05, 1),
			opacity 0.55s ease;
		z-index: 5;
	}

	#menuToggle span:first-child {
		transform-origin: 0% 0%;
	}

	#menuToggle span:nth-last-child(2) {
		transform-origin: 0% 100%;
	}

	.chk:hover + #menuToggle span {
		background: var(--color-accent);
	}

	.chk:checked + #menuToggle span:nth-child(1) {
		opacity: 1;
		transform: translateY(-2px) rotate(45deg) translate(0.15rem);
	}

	.chk:checked + #menuToggle span:nth-child(2) {
		opacity: 0;
		transform: rotate(0deg) scale(0.2, 0.2);
	}

	.chk:checked + #menuToggle span:nth-child(3) {
		transform: translateY(-2px) rotate(-45deg) translate(-0.15rem);
	}

	.chk:checked ~ .menu {
		display: flex;
		background-color: var(--color-bg-alt);
	}

	a {
		display: flex;
		text-decoration: none;
		padding: 0.5rem;
		border-radius: 0.25rem;
		color: var(--color-text);
		cursor: pointer;
		gap: 0.5rem;
		border: 1px solid var(--color-text);
	}

	a:hover {
		color: var(--color-accent);
	}

	.menu .active svg {
		fill: var(--color-accent);
	}

	a:hover svg {
		fill: var(--color-accent);
	}
</style>
